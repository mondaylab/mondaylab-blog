<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>React å¿«é€Ÿå…¥é—¨ï¼Œä¸€æ–‡å¼„æ‡‚reactçš„åŸºæœ¬ä½¿ç”¨å’Œé«˜çº§ç‰¹æ€§ | æ˜ŸæœŸä¸€ç ”ç©¶å®¤mondaylab</title>
    <meta name="generator" content="VuePress 1.9.5">
    
    <meta name="description" content="åˆ†äº«å‰æ²¿å­¦ä¹ å¹²è´§ï¼Œä¸æ­¢å‰ç«¯">
    <meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no">
    
    <link rel="preload" href="/mondaylab-blog/assets/css/0.styles.4ac1ff55.css" as="style"><link rel="preload" href="/mondaylab-blog/assets/js/app.14c1c540.js" as="script"><link rel="preload" href="/mondaylab-blog/assets/js/3.88ba4622.js" as="script"><link rel="preload" href="/mondaylab-blog/assets/js/1.4561d677.js" as="script"><link rel="preload" href="/mondaylab-blog/assets/js/47.ded2c0d8.js" as="script"><link rel="prefetch" href="/mondaylab-blog/assets/js/10.f2f3162c.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/100.5c2cd8e7.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/101.05a3c5c0.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/102.05ddd051.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/103.b752b0d0.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/104.12d3d979.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/105.47488fb7.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/106.6f3bf22b.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/107.e5e293b0.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/108.5ae93e12.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/109.a7ed1971.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/11.d9e91fbd.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/110.5f6dd039.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/111.d67bdd3f.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/112.f03f426e.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/113.a9dbae40.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/114.873384e8.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/115.b9a012d8.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/116.9a2a8385.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/117.0c22fc70.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/118.f2a72306.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/119.83e238f6.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/12.4e6f1140.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/120.8e4a8814.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/121.0160af67.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/122.3f96251f.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/123.587aec59.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/124.dc452810.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/125.ac550fd7.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/126.67ed2b14.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/127.aa7edee4.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/128.4fbeaf14.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/129.be7160fa.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/13.a272b995.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/130.bcee290d.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/131.35862de2.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/132.bb4c461b.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/133.e1c478c7.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/134.8de27963.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/135.f079f9b7.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/136.0b7a9b37.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/137.a1c2ddf1.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/138.8f89eb15.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/139.7541018f.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/14.31ea28b7.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/15.b4a94a05.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/16.9ad910ae.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/17.e76fba5e.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/18.c4f15306.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/19.2ab933ac.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/20.06b6e455.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/21.722e1a18.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/22.8b4c7a06.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/23.a7b4fce5.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/24.a1144f5d.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/25.9cc0424c.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/26.ea9b4ec2.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/27.e95d6d00.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/28.62c5ff4b.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/29.336d7380.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/30.e1a43b09.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/31.bc58d6b5.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/32.ff171a84.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/33.e98d205f.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/34.71934082.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/35.d898aa4b.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/36.e82984de.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/37.0149c2d9.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/38.d3060079.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/39.72de5e56.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/4.5fce2cb1.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/40.a8a88bb4.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/41.87897425.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/42.b349f36e.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/43.f5bf7a01.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/44.41a9df24.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/45.bcdbba0d.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/46.fd15b189.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/48.d0dea824.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/49.7e5c8d3e.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/5.41f6904b.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/50.123c3dc4.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/51.7f4bce3c.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/52.e0ac9d17.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/53.6150f1a8.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/54.143dee49.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/55.7379e12b.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/56.fb541ce6.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/57.574effd1.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/58.e2d25ebd.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/59.70a0f6c5.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/6.3b3e9e8b.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/60.66efed65.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/61.a08879bc.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/62.114d64ef.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/63.3f77ed8e.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/64.2ff4cb39.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/65.e43e370f.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/66.3672b66f.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/67.7873099c.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/68.d840221c.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/69.ed4dffcb.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/7.01286607.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/70.74801d94.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/71.eba4546e.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/72.88dc8304.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/73.2a622edc.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/74.76994fcb.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/75.137d7717.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/76.b09b91c4.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/77.4cc46d43.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/78.f7f9fb5b.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/79.36733ea9.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/8.b3bf0af5.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/80.7a43211b.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/81.71120304.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/82.639f79c6.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/83.7a9cc1d0.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/84.34a9e70b.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/85.89691d1e.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/86.10a342ef.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/87.90f568d6.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/88.3f48c920.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/89.8ae0cf13.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/9.27bc3278.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/90.0895b0d8.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/91.e880c439.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/92.de2e3d5a.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/93.4da52e01.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/94.9b83657c.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/95.ddbd7114.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/96.6246550c.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/97.575ed5fe.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/98.4e2f1dde.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/99.03f00d96.js">
    <link rel="stylesheet" href="/mondaylab-blog/assets/css/0.styles.4ac1ff55.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container" data-v-1aefc0b4><div data-v-1aefc0b4><div id="loader-wrapper" class="loading-wrapper" data-v-d48f4d20 data-v-1aefc0b4 data-v-1aefc0b4><div class="loader-main" data-v-d48f4d20><div data-v-d48f4d20></div><div data-v-d48f4d20></div><div data-v-d48f4d20></div><div data-v-d48f4d20></div></div> <!----> <!----></div> <div class="password-shadow password-wrapper-out" style="display:none;" data-v-25ba6db2 data-v-1aefc0b4 data-v-1aefc0b4><h3 class="title" data-v-25ba6db2 data-v-25ba6db2>æ˜ŸæœŸä¸€ç ”ç©¶å®¤mondaylab</h3> <p class="description" data-v-25ba6db2 data-v-25ba6db2>åˆ†äº«å‰æ²¿å­¦ä¹ å¹²è´§ï¼Œä¸æ­¢å‰ç«¯</p> <label id="box" class="inputBox" data-v-25ba6db2 data-v-25ba6db2><input type="password" value="" data-v-25ba6db2> <span data-v-25ba6db2>Konck! Knock!</span> <button data-v-25ba6db2>OK</button></label> <div class="footer" data-v-25ba6db2 data-v-25ba6db2><span data-v-25ba6db2><i class="iconfont reco-theme" data-v-25ba6db2></i> <a target="blank" href="https://vuepress-theme-reco.recoluan.com" data-v-25ba6db2>vuePress-theme-reco</a></span> <span data-v-25ba6db2><i class="iconfont reco-copyright" data-v-25ba6db2></i> <a data-v-25ba6db2><span data-v-25ba6db2>SyllableCheng</span>
          Â Â 
          <!---->
          2022
        </a></span></div></div> <div class="hide" data-v-1aefc0b4><header class="navbar" data-v-1aefc0b4><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/mondaylab-blog/" class="home-link router-link-active"><img src="/mondaylab-blog/avatar.png" alt="æ˜ŸæœŸä¸€ç ”ç©¶å®¤mondaylab" class="logo"> <span class="site-name">æ˜ŸæœŸä¸€ç ”ç©¶å®¤mondaylab</span></a> <div class="links"><div class="color-picker"><a class="color-button"><i class="iconfont reco-color"></i></a> <div class="color-picker-menu" style="display:none;"><div class="mode-options"><h4 class="title">Choose mode</h4> <ul class="color-mode-options"><li class="dark">dark</li><li class="auto active">auto</li><li class="light">light</li></ul></div></div></div> <div class="search-box"><i class="iconfont reco-search"></i> <input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/mondaylab-blog/" class="nav-link"><i class="iconfont reco-home"></i>
  é¦–é¡µ
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-tag"></i>
      ç²¾é€‰ä¸“æ 
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/mondaylab-blog/column/Algorithm/" class="nav-link"><i class="undefined"></i>
  æ•°æ„ä¸å‰ç«¯
</a></li><li class="dropdown-item"><!----> <a href="/mondaylab-blog/column/Interview/" class="nav-link"><i class="undefined"></i>
  offeræ¥äº†
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-eye"></i>
      å¹²è´§ç¤¾åŒº
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/mondaylab-blog/column/Learning/" class="nav-link"><i class="undefined"></i>
  å¿«æ·é”®
</a></li><li class="dropdown-item"><!----> <a href="/mondaylab-blog/column/Learning/" class="nav-link"><i class="undefined"></i>
  Notionæ¨¡æ¿
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-category"></i>
      åˆ†ç±»ç´¢å¼•
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/mondaylab-blog/column/Product/" class="nav-link"><i class="undefined"></i>
  äº§å“æ±ª
</a></li><li class="dropdown-item"><!----> <a href="/mondaylab-blog/column/FrontEnd/" class="nav-link router-link-active"><i class="undefined"></i>
  å‰ç«¯å¼€å‘
</a></li><li class="dropdown-item"><!----> <a href="/mondaylab-blog/column/OtherLang/" class="nav-link"><i class="undefined"></i>
  å…¶ä»–è¯­è¨€
</a></li><li class="dropdown-item"><!----> <a href="/mondaylab-blog/column/BackEnd/" class="nav-link"><i class="undefined"></i>
  æœåŠ¡ç«¯å¼€å‘
</a></li><li class="dropdown-item"><!----> <a href="/mondaylab-blog/column/ComputerKnowledge/" class="nav-link"><i class="undefined"></i>
  è®¡ç®—æœºåŸºç¡€çŸ¥è¯†
</a></li><li class="dropdown-item"><!----> <a href="/mondaylab-blog/column/Growing/" class="nav-link"><i class="undefined"></i>
  ç¢ç¢å¿µä¸ªäººæˆé•¿
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-account"></i>
      å…³äºæˆ‘
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://github.com/Jacqueline712" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="undefined"></i>
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://juejin.cn/user/3131845139247960/posts" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="undefined"></i>
  æ˜é‡‘
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://blog.csdn.net/weixin_44803753" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="undefined"></i>
  CSDN
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://www.infoq.cn/profile/3AC1A95FEC468A/publish" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="undefined"></i>
  InfoQ
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://www.zhihu.com/people/zheng-zi-ji-67-89/posts" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="undefined"></i>
  çŸ¥ä¹
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask" data-v-1aefc0b4></div> <aside class="sidebar" data-v-1aefc0b4><div class="personal-info-wrapper" data-v-39576ba9 data-v-1aefc0b4><img src="/mondaylab-blog/avatar.png" alt="author-avatar" class="personal-img" data-v-39576ba9> <h3 class="name" data-v-39576ba9>
    SyllableCheng
  </h3> <div class="num" data-v-39576ba9><div data-v-39576ba9><h3 data-v-39576ba9>128</h3> <h6 data-v-39576ba9>Articles</h6></div> <div data-v-39576ba9><h3 data-v-39576ba9>25</h3> <h6 data-v-39576ba9>Tags</h6></div></div> <ul class="social-links" data-v-39576ba9></ul> <hr data-v-39576ba9></div> <nav class="nav-links"><div class="nav-item"><a href="/mondaylab-blog/" class="nav-link"><i class="iconfont reco-home"></i>
  é¦–é¡µ
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-tag"></i>
      ç²¾é€‰ä¸“æ 
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/mondaylab-blog/column/Algorithm/" class="nav-link"><i class="undefined"></i>
  æ•°æ„ä¸å‰ç«¯
</a></li><li class="dropdown-item"><!----> <a href="/mondaylab-blog/column/Interview/" class="nav-link"><i class="undefined"></i>
  offeræ¥äº†
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-eye"></i>
      å¹²è´§ç¤¾åŒº
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/mondaylab-blog/column/Learning/" class="nav-link"><i class="undefined"></i>
  å¿«æ·é”®
</a></li><li class="dropdown-item"><!----> <a href="/mondaylab-blog/column/Learning/" class="nav-link"><i class="undefined"></i>
  Notionæ¨¡æ¿
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-category"></i>
      åˆ†ç±»ç´¢å¼•
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/mondaylab-blog/column/Product/" class="nav-link"><i class="undefined"></i>
  äº§å“æ±ª
</a></li><li class="dropdown-item"><!----> <a href="/mondaylab-blog/column/FrontEnd/" class="nav-link router-link-active"><i class="undefined"></i>
  å‰ç«¯å¼€å‘
</a></li><li class="dropdown-item"><!----> <a href="/mondaylab-blog/column/OtherLang/" class="nav-link"><i class="undefined"></i>
  å…¶ä»–è¯­è¨€
</a></li><li class="dropdown-item"><!----> <a href="/mondaylab-blog/column/BackEnd/" class="nav-link"><i class="undefined"></i>
  æœåŠ¡ç«¯å¼€å‘
</a></li><li class="dropdown-item"><!----> <a href="/mondaylab-blog/column/ComputerKnowledge/" class="nav-link"><i class="undefined"></i>
  è®¡ç®—æœºåŸºç¡€çŸ¥è¯†
</a></li><li class="dropdown-item"><!----> <a href="/mondaylab-blog/column/Growing/" class="nav-link"><i class="undefined"></i>
  ç¢ç¢å¿µä¸ªäººæˆé•¿
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-account"></i>
      å…³äºæˆ‘
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://github.com/Jacqueline712" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="undefined"></i>
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://juejin.cn/user/3131845139247960/posts" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="undefined"></i>
  æ˜é‡‘
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://blog.csdn.net/weixin_44803753" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="undefined"></i>
  CSDN
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://www.infoq.cn/profile/3AC1A95FEC468A/publish" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="undefined"></i>
  InfoQ
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://www.zhihu.com/people/zheng-zi-ji-67-89/posts" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="undefined"></i>
  çŸ¥ä¹
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <!----></nav> <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>CSS</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>JavaScript</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>vue.js</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>react.js</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/mondaylab-blog/column/FrontEnd/React/001.html" class="sidebar-link">001-åˆæ¢react</a></li><li><a href="/mondaylab-blog/column/FrontEnd/React/002.html" class="sidebar-link">002-reactè¿›é˜¶çŸ¥è¯†</a></li><li><a href="/mondaylab-blog/column/FrontEnd/React/003.html" class="sidebar-link">003-Reduxä»å…¥é—¨åˆ°è¿›é˜¶</a></li><li><a href="/mondaylab-blog/column/FrontEnd/React/004.html" aria-current="page" class="active sidebar-link">004-reactçš„åŸºæœ¬ä½¿ç”¨å’Œé«˜çº§ç‰¹æ€§</a></li><li><a href="/mondaylab-blog/column/FrontEnd/React/005.html" class="sidebar-link">005-React hooks</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>vue.jsåŸç†è§£æ</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>TypeScript</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Webpack</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>vue3+tsç»„ä»¶åº“å¼€å‘</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>å®æˆ˜ç±»</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>é’è®­è¥YouthCamp</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>æ˜é‡‘ç¿»è¯‘è®¡åˆ’</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <div class="password-shadow password-wrapper-in" style="display:none;" data-v-25ba6db2 data-v-1aefc0b4><h3 class="title" data-v-25ba6db2 data-v-25ba6db2>React å¿«é€Ÿå…¥é—¨ï¼Œä¸€æ–‡å¼„æ‡‚reactçš„åŸºæœ¬ä½¿ç”¨å’Œé«˜çº§ç‰¹æ€§</h3> <!----> <label id="box" class="inputBox" data-v-25ba6db2 data-v-25ba6db2><input type="password" value="" data-v-25ba6db2> <span data-v-25ba6db2>Konck! Knock!</span> <button data-v-25ba6db2>OK</button></label> <div class="footer" data-v-25ba6db2 data-v-25ba6db2><span data-v-25ba6db2><i class="iconfont reco-theme" data-v-25ba6db2></i> <a target="blank" href="https://vuepress-theme-reco.recoluan.com" data-v-25ba6db2>vuePress-theme-reco</a></span> <span data-v-25ba6db2><i class="iconfont reco-copyright" data-v-25ba6db2></i> <a data-v-25ba6db2><span data-v-25ba6db2>SyllableCheng</span>
          Â Â 
          <!---->
          2022
        </a></span></div></div> <div data-v-1aefc0b4><main class="page"><section><div class="page-title"><h1 class="title">React å¿«é€Ÿå…¥é—¨ï¼Œä¸€æ–‡å¼„æ‡‚reactçš„åŸºæœ¬ä½¿ç”¨å’Œé«˜çº§ç‰¹æ€§</h1> <div data-v-f875f3fc><i class="iconfont reco-account" data-v-f875f3fc><span data-v-f875f3fc>å‘¨ä¸€</span></i> <i class="iconfont reco-date" data-v-f875f3fc><span data-v-f875f3fc>1/5/2022</span></i> <!----> <i class="tags iconfont reco-tag" data-v-f875f3fc><span class="tag-item" data-v-f875f3fc>React.js</span></i></div></div> <div class="theme-reco-content content__default"><h1 id="â°-åºè¨€"><a href="#â°-åºè¨€" class="header-anchor">#</a> â° åºè¨€</h1> <p>å¯¹äºåˆšå­¦ä¹  <code>react</code> çš„å°ä¼™ä¼´æ¥è¯´ï¼Œæ€»æ˜¯ä»åŸºç¡€å¼€å§‹å­¦ä¹ ï¼Œå‘¨ä¸€è‡ªç„¶ä¹Ÿä¸ä¾‹å¤–æã€‚é‚£åœ¨ä¸‹é¢çš„æ–‡ç« ä¸­ï¼Œå°†è®²è§£ <code>react</code> çš„åŸºæœ¬ä½¿ç”¨å’Œé«˜çº§ç‰¹æ€§ï¼Œæ›´æœ‰å‘¨è¾¹æ’ä»¶ <code>Redux</code> å’Œ <code>React-router</code> å¾…ä½ æ¥æ¢å¯»ã€‚</p> <p>åœ¨æœ¬æ–‡ä¸­ï¼Œèåˆå¤§é‡æ¡ˆä¾‹ ğŸŒ° å’ŒåŠ¨å›¾ ğŸ•¹ï¸ è¿›è¡Œå±•ç¤ºã€‚å¯ä»¥æŠŠå®ƒå½“æˆæ˜¯ <code>react</code> çš„å…¥é—¨å®åº“ï¼Œæœ‰ä¸æ‡‚çš„è¯­æ³•çŸ¥è¯†ç‚¹æ—¶æˆ–è®¸åœ¨è¿™é‡Œå¯ä»¥å¯»æ‰¾åˆ°ä½ çš„ç­”æ¡ˆå¹¶ä¸”é€šè¿‡ä¾‹å­è¿ç”¨èµ·æ¥ã€‚</p> <p>å®ï¼ŒåºŸè¯ä¸å¤šè¯´ï¼Œä¸‹é¢æ¥å¼€å§‹æ¢ç´¢ <code>react</code> çš„å¥¥ç§˜å§ ğŸ‘</p> <h1 id="ğŸ“-ä¸€ã€react-çš„åŸºæœ¬ä½¿ç”¨"><a href="#ğŸ“-ä¸€ã€react-çš„åŸºæœ¬ä½¿ç”¨" class="header-anchor">#</a> ğŸ“ ä¸€ã€React çš„åŸºæœ¬ä½¿ç”¨</h1> <h2 id="_1ã€jsx-åŸºæœ¬ä½¿ç”¨"><a href="#_1ã€jsx-åŸºæœ¬ä½¿ç”¨" class="header-anchor">#</a> 1ã€JSX åŸºæœ¬ä½¿ç”¨</h2> <h3 id="_1-å˜é‡ã€è¡¨è¾¾å¼"><a href="#_1-å˜é‡ã€è¡¨è¾¾å¼" class="header-anchor">#</a> ï¼ˆ1ï¼‰å˜é‡ã€è¡¨è¾¾å¼</h3> <p>åœ¨ <code>react</code> ä¸­ï¼Œæœ€åŸºç¡€çš„å†…å®¹ä¾¿æ˜¯å˜é‡å’Œè¡¨è¾¾å¼ï¼Œ<strong>å…·ä½“å½¢å¼å¦‚ä¸‹ï¼š</strong></p> <p>ç¬¬ä¸€ç§ç±»å‹ï¼šè·å–å˜é‡ã€æ’å€¼</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">'react'</span><span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">JSXBaseDemo</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">super</span><span class="token punctuation">(</span>props<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>state <span class="token operator">=</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'æ˜é‡‘ï¼šæ˜ŸæœŸä¸€ç ”ç©¶å®¤'</span><span class="token punctuation">,</span>
      <span class="token literal-property property">imgUrl</span><span class="token operator">:</span>
        <span class="token string">'https://p3-passport.byteacctimg.com/img/user-avatar/cc88f43a329099d65898aff670ea1171~300x300.image'</span><span class="token punctuation">,</span>
      <span class="token literal-property property">flag</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// è·å–å˜é‡ æ’å€¼</span>
    <span class="token keyword">const</span> pElem <span class="token operator">=</span> <span class="token operator">&lt;</span>p<span class="token operator">&gt;</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>name<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">&gt;</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> pElem<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> JSXBaseDemo<span class="token punctuation">;</span>
</code></pre></div><p>æ³¨æ„ï¼Œ <code>react</code> ä¸­æ’å€¼çš„å½¢å¼æ˜¯å•ä¸ªèŠ±æ‹¬å· <code>{}</code> çš„å½¢å¼ã€‚æœ€ç»ˆæµè§ˆå™¨æ˜¾ç¤ºçš„æ•ˆæœå¦‚ä¸‹ï¼š</p> <p><img src="https://img-blog.csdnimg.cn/c2d538a24e9b45ce927f3a51469e62bf.png#pic_center" alt="è·å–å˜é‡ã€æ’å€¼"></p> <p><strong>ç¬¬äºŒç§ç±»å‹ï¼šè¡¨è¾¾å¼</strong></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">'react'</span><span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">JSXBaseDemo</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">super</span><span class="token punctuation">(</span>props<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>state <span class="token operator">=</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'æ˜é‡‘ï¼šæ˜ŸæœŸä¸€ç ”ç©¶å®¤'</span><span class="token punctuation">,</span>
      <span class="token literal-property property">imgUrl</span><span class="token operator">:</span>
        <span class="token string">'https://p3-passport.byteacctimg.com/img/user-avatar/cc88f43a329099d65898aff670ea1171~300x300.image'</span><span class="token punctuation">,</span>
      <span class="token literal-property property">flag</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// è¡¨è¾¾å¼</span>
    <span class="token keyword">const</span> exprElem <span class="token operator">=</span> <span class="token operator">&lt;</span>p<span class="token operator">&gt;</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>flag <span class="token operator">?</span> <span class="token string">'yes'</span> <span class="token operator">:</span> <span class="token string">'no'</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">&gt;</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> exprElem<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> JSXBaseDemo<span class="token punctuation">;</span>
</code></pre></div><p><code>react</code> ä¸­ä¹Ÿæ”¯æŒç›´æ¥åœ¨æ’å€¼é‡Œé¢ä½¿ç”¨è¡¨è¾¾å¼ï¼Œå¦‚ä¸Šè¿°ä»£ç ä¸­çš„ <code>this.state.flag ? 'yes' : 'no'</code> ã€‚æœ€ç»ˆæµè§ˆå™¨çš„æ˜¾ç¤ºæ•ˆæœå¦‚ä¸‹ï¼š</p> <p><img src="https://img-blog.csdnimg.cn/cab2c444b91e46969b25f08423186c38.png#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p> <h3 id="_2-class-å’Œ-style"><a href="#_2-class-å’Œ-style" class="header-anchor">#</a> ï¼ˆ2ï¼‰class å’Œ style</h3> <p>é€šå¸¸æƒ…å†µä¸‹ï¼Œå¦‚æœæˆ‘ä»¬è¦ç»™æŸä¸€ä¸ªæ ‡ç­¾è®¾ç½®ç±»åï¼Œé‚£ä¹ˆä¼šç»™è¯¥æ ‡ç­¾åŠ ä¸Šä¸€ä¸ª <code>class</code> ã€‚è€Œåœ¨ <code>react</code> ä¸­ï¼Œå¦‚æœæƒ³è¦ç»™ä¸€ä¸ªæ ‡ç­¾åŠ ä¸Šä¸€ä¸ªç±»ï¼Œé‚£ä¹ˆéœ€è¦ç»™å…¶åŠ ä¸Š <code>className</code> ã€‚<strong>å…·ä½“ä»£ç å¦‚ä¸‹ï¼š</strong></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">'react'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token string">'./style.css'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> List <span class="token keyword">from</span> <span class="token string">'../List'</span><span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">JSXBaseDemo</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">{</span>
  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// class</span>
    <span class="token keyword">const</span> classElem <span class="token operator">=</span> <span class="token operator">&lt;</span>p className<span class="token operator">=</span><span class="token string">'title'</span><span class="token operator">&gt;</span>è®¾ç½® css <span class="token keyword">class</span><span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">&gt;</span><span class="token punctuation">;</span>

    <span class="token comment">// style</span>
    <span class="token keyword">const</span> styleData <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token literal-property property">fontSize</span><span class="token operator">:</span> <span class="token string">'30px'</span><span class="token punctuation">,</span> <span class="token literal-property property">color</span><span class="token operator">:</span> <span class="token string">'blue'</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> styleElem1 <span class="token operator">=</span> <span class="token operator">&lt;</span>p style<span class="token operator">=</span><span class="token punctuation">{</span>styleData<span class="token punctuation">}</span><span class="token operator">&gt;</span>è®¾ç½® style<span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">&gt;</span><span class="token punctuation">;</span>
    <span class="token comment">// å†…è”å†™æ³•ï¼Œæ³¨æ„ {{ å’Œ }}</span>
    <span class="token keyword">const</span> styleElem2 <span class="token operator">=</span> <span class="token punctuation">(</span>
      <span class="token operator">&lt;</span>p style<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span> <span class="token literal-property property">fontSize</span><span class="token operator">:</span> <span class="token string">'30px'</span><span class="token punctuation">,</span> <span class="token literal-property property">color</span><span class="token operator">:</span> <span class="token string">'blue'</span> <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&gt;</span>è®¾ç½® style<span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">&gt;</span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// è¿”å›ç»“æœ</span>
    <span class="token keyword">return</span> <span class="token punctuation">[</span>classElem<span class="token punctuation">,</span> styleElem1<span class="token punctuation">,</span> styleElem2<span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> JSXBaseDemo<span class="token punctuation">;</span>
</code></pre></div><p><strong>æ­¤æ—¶æµè§ˆå™¨çš„æ˜¾ç¤ºæ•ˆæœä¸ºï¼š</strong></p> <p><img src="https://img-blog.csdnimg.cn/05a9ced4154b4358b5ab8c66726242b9.png#pic_center" alt="classå’Œstyle"></p> <p>åŒæ—¶éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œåœ¨ <code>react</code> ä¸­ï¼Œå¦‚æœè¦åœ¨æ ‡ç­¾é‡Œé¢å†™<strong>å†…è”æ ·å¼</strong>ï¼Œé‚£ä¹ˆéœ€è¦ä½¿ç”¨<strong>åŒèŠ±æ‹¬å·</strong> <code>{{}}</code> æ¥è¡¨ç¤ºã€‚</p> <h3 id="_3-å­å…ƒç´ å’Œç»„ä»¶"><a href="#_3-å­å…ƒç´ å’Œç»„ä»¶" class="header-anchor">#</a> ï¼ˆ3ï¼‰å­å…ƒç´ å’Œç»„ä»¶</h3> <p><strong>ç¬¬ä¸€ç§ç±»å‹ï¼šå­å…ƒç´ </strong></p> <p>å¯¹äºå­å…ƒç´ æ¥è¯´ï¼Œå®ƒå¯ä»¥åœ¨<strong>æ ‡ç­¾</strong>é‡Œé¢è¿›è¡Œä½¿ç”¨ã€‚<strong>å¦‚ä¸‹ä»£ç æ‰€ç¤ºï¼š</strong></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">'react'</span><span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">JSXBaseDemo</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">super</span><span class="token punctuation">(</span>props<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>state <span class="token operator">=</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'æ˜é‡‘ï¼šæ˜ŸæœŸä¸€ç ”ç©¶å®¤'</span><span class="token punctuation">,</span>
      <span class="token literal-property property">imgUrl</span><span class="token operator">:</span>
        <span class="token string">'https://p3-passport.byteacctimg.com/img/user-avatar/cc88f43a329099d65898aff670ea1171~300x300.image'</span><span class="token punctuation">,</span>
      <span class="token literal-property property">flag</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// å­å…ƒç´ </span>
    <span class="token keyword">const</span> imgElem <span class="token operator">=</span> <span class="token punctuation">(</span>
      <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>p<span class="token operator">&gt;</span>æˆ‘çš„å¤´åƒ<span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>img src<span class="token operator">=</span><span class="token string">'xxxx.png'</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>img src<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>imgUrl<span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> imgElem<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> JSXBaseDemo<span class="token punctuation">;</span>
</code></pre></div><p>æœ€ç»ˆï¼Œ<strong>æµè§ˆå™¨çš„æ˜¾ç¤ºæ•ˆæœä¸ºï¼š</strong></p> <p><img src="https://img-blog.csdnimg.cn/2680ae37d77f44a79495ad3ef878d470.png#pic_center" alt="å­å…ƒç´ "></p> <p><strong>ç¬¬äºŒç§ç±»å‹ï¼šåŠ è½½ç»„ä»¶</strong></p> <p>å¦‚æœè¦åœ¨ <code>React</code> ä¸­åŠ è½½ä¸€ä¸ªç»„ä»¶ï¼Œé‚£ä¹ˆæˆ‘ä»¬å¯ä»¥è¿™ä¹ˆå¤„ç†ã€‚<strong>å…·ä½“ä»£ç å¦‚ä¸‹ï¼š</strong></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">'react'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token string">'./style.css'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> List <span class="token keyword">from</span> <span class="token string">'../List'</span><span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">JSXBaseDemo</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">super</span><span class="token punctuation">(</span>props<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>state <span class="token operator">=</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'æ˜é‡‘ï¼šæ˜ŸæœŸä¸€ç ”ç©¶å®¤'</span><span class="token punctuation">,</span>
      <span class="token literal-property property">imgUrl</span><span class="token operator">:</span>
        <span class="token string">'https://p3-passport.byteacctimg.com/img/user-avatar/cc88f43a329099d65898aff670ea1171~300x300.image'</span><span class="token punctuation">,</span>
      <span class="token literal-property property">flag</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// åŠ è½½ç»„ä»¶</span>
    <span class="token keyword">const</span> componentElem <span class="token operator">=</span> <span class="token punctuation">(</span>
      <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>p<span class="token operator">&gt;</span><span class="token constant">JSX</span> ä¸­åŠ è½½ä¸€ä¸ªç»„ä»¶<span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>hr <span class="token operator">/</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>List <span class="token operator">/</span><span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> componentElem<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> JSXBaseDemo<span class="token punctuation">;</span>
</code></pre></div><p><strong>List.js ç»„ä»¶çš„ä»£ç å¦‚ä¸‹ï¼š</strong></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">'react'</span><span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">List</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">super</span><span class="token punctuation">(</span>props<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>state <span class="token operator">=</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'React'</span><span class="token punctuation">,</span>
      <span class="token literal-property property">list</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'a'</span><span class="token punctuation">,</span> <span class="token string">'b'</span><span class="token punctuation">,</span> <span class="token string">'c'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span>
      <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>p onClick<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">changeName</span><span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token operator">&gt;</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>name<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>ul<span class="token operator">&gt;</span>
          <span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>list<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">item<span class="token punctuation">,</span> index</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> <span class="token operator">&lt;</span>li key<span class="token operator">=</span><span class="token punctuation">{</span>index<span class="token punctuation">}</span><span class="token operator">&gt;</span><span class="token punctuation">{</span>item<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>li<span class="token operator">&gt;</span><span class="token punctuation">;</span>
          <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">}</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>ul<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>button onClick<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">addItem</span><span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token operator">&gt;</span>æ·»åŠ ä¸€é¡¹<span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token function">changeName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'æ˜ŸæœŸä¸€ç ”ç©¶å®¤'</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token function">addItem</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token literal-property property">list</span><span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>list<span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>Date<span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment">// ä½¿ç”¨ä¸å¯å˜å€¼</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> List<span class="token punctuation">;</span>
</code></pre></div><p><strong>æ­¤æ—¶æµè§ˆå™¨çš„æ˜¾ç¤ºæ•ˆæœå¦‚ä¸‹ï¼š</strong></p> <p><img src="https://img-blog.csdnimg.cn/fe564ba03ff141d6a09cdf90e27c5eee.gif#pic_center" alt="å­å…ƒç´ å’Œç»„ä»¶"></p> <p>ç”±æ­¤ï¼Œæˆ‘ä»¬å°±å°†ä¸€ä¸ª<strong>ç»„ä»¶</strong>æ³¨å…¥åˆ°ç»„ä»¶å½“ä¸­ã€‚</p> <h3 id="_4-åŸç”Ÿ-html"><a href="#_4-åŸç”Ÿ-html" class="header-anchor">#</a> ï¼ˆ4ï¼‰åŸç”Ÿ html</h3> <p>ç»§ç»­ï¼Œæˆ‘ä»¬æ¥çœ‹åŸç”Ÿ <code>html</code> åœ¨ <code>react</code> ä¸­æ˜¯å¦‚ä½•ä½¿ç”¨çš„ã€‚<strong>å…ˆçœ‹ä»¥ä¸‹ä»£ç ï¼š</strong></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">'react'</span><span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">JSXBaseDemo</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">{</span>
  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// åŸç”Ÿ html</span>
    <span class="token keyword">const</span> rawHtml <span class="token operator">=</span> <span class="token string">'&lt;span&gt;å¯Œæ–‡æœ¬å†…å®¹&lt;i&gt;æ–œä½“&lt;/i&gt;&lt;b&gt;åŠ ç²—&lt;/b&gt;&lt;/span&gt;'</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> rawHtmlData <span class="token operator">=</span> <span class="token punctuation">{</span>
      <span class="token comment">// æŠŠ rawHtml èµ‹å€¼ç»™ __html</span>
      <span class="token literal-property property">__html</span><span class="token operator">:</span> rawHtml<span class="token punctuation">,</span> <span class="token comment">// æ³¨æ„ï¼Œå¿…é¡»æ˜¯è¿™ç§æ ¼å¼</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> rawHtmlElem <span class="token operator">=</span> <span class="token punctuation">(</span>
      <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>p dangerouslySetInnerHTML<span class="token operator">=</span><span class="token punctuation">{</span>rawHtmlData<span class="token punctuation">}</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>p<span class="token operator">&gt;</span><span class="token punctuation">{</span>rawHtml<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> rawHtmlElem<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> JSXBaseDemo<span class="token punctuation">;</span>
</code></pre></div><p><strong>æ­¤æ—¶æµè§ˆå™¨çš„æ˜¾ç¤ºæ•ˆæœå¦‚ä¸‹ï¼š</strong></p> <p><img src="https://img-blog.csdnimg.cn/f03b7cb9b47940ceab7cfbf25a0efb20.png#pic_center" alt="åŸç”Ÿhtml"></p> <p>å¤§å®¶å¯ä»¥çœ‹åˆ°ï¼Œå¦‚æœè¦åœ¨ <code>react</code> ä¸­ä½¿ç”¨åŸç”Ÿ <code>html</code> ï¼Œé‚£ä¹ˆå¿…é¡»ä½¿ç”¨ <code>const rawHtmlData = { __html: rawHtml }</code> è¿™ç§å½¢å¼ï¼Œæ‰èƒ½å°†åŸç”Ÿ <code>html</code> ä»£ç ç»™è§£æå‡ºæ¥ã€‚å¦åˆ™çš„è¯ï¼Œ <code>react</code> æ˜¯æ— æ³•æ­£å¸¸å°†åŸç”Ÿ <code>html</code> è§£æå‡ºæ¥çš„ã€‚</p> <h2 id="_2ã€æ¡ä»¶åˆ¤æ–­"><a href="#_2ã€æ¡ä»¶åˆ¤æ–­" class="header-anchor">#</a> 2ã€æ¡ä»¶åˆ¤æ–­</h2> <h3 id="_1-if-else"><a href="#_1-if-else" class="header-anchor">#</a> ï¼ˆ1ï¼‰if else</h3> <p><strong>å…ˆçœ‹ä¸‹é¢è¿™æ®µä»£ç ï¼š</strong></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">'react'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token string">'./style.css'</span><span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">ConditionDemo</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">super</span><span class="token punctuation">(</span>props<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>state <span class="token operator">=</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">theme</span><span class="token operator">:</span> <span class="token string">'black'</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> blackBtn <span class="token operator">=</span> <span class="token operator">&lt;</span>button className<span class="token operator">=</span><span class="token string">'btn-black'</span><span class="token operator">&gt;</span>black btn<span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> whiteBtn <span class="token operator">=</span> <span class="token operator">&lt;</span>button className<span class="token operator">=</span><span class="token string">'btn-white'</span><span class="token operator">&gt;</span>white btn<span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span><span class="token punctuation">;</span>

    <span class="token comment">// if else</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>theme <span class="token operator">===</span> <span class="token string">'black'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> blackBtn<span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> whiteBtn<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> ConditionDemo<span class="token punctuation">;</span>
</code></pre></div><p><strong>style.css çš„ä»£ç å¦‚ä¸‹ï¼š</strong></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token punctuation">.</span>title <span class="token punctuation">{</span>
    font<span class="token operator">-</span>size<span class="token operator">:</span> 30px<span class="token punctuation">;</span>
    <span class="token literal-property property">color</span><span class="token operator">:</span> red<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token punctuation">.</span>btn<span class="token operator">-</span>white <span class="token punctuation">{</span>
    <span class="token literal-property property">color</span><span class="token operator">:</span> #<span class="token number">333</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token punctuation">.</span>btn<span class="token operator">-</span>black <span class="token punctuation">{</span>
    background<span class="token operator">-</span>color<span class="token operator">:</span> #<span class="token number">666</span><span class="token punctuation">;</span>
    <span class="token literal-property property">color</span><span class="token operator">:</span> #fff<span class="token punctuation">;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

</code></pre></div><p><strong>æ­¤æ—¶æµè§ˆå™¨çš„æ˜¾ç¤ºæ•ˆæœä¸ºï¼š</strong></p> <p><img src="https://img-blog.csdnimg.cn/791baf06fd334bf7997db865cf629879.png#pic_center" alt="if else"></p> <p>å¤§å®¶å¯ä»¥çœ‹åˆ°ï¼Œå½“æˆ‘ä»¬ <code>theme</code> è®¾ç½®ä¸º <code>black</code> æ—¶ï¼Œæœ€ç»ˆæ˜¾ç¤ºçš„æ•ˆæœå°±æ˜¯<strong>é»‘è‰²</strong>ã€‚å¦‚æœæˆ‘ä»¬æŠŠ <code>theme</code> è®¾ç½®ä¸ºå…¶ä»–çŠ¶æ€ï¼Œé‚£ä¹ˆæœ€ç»ˆæ˜¾ç¤ºçš„æ•ˆæœå°±æ˜¯<strong>ç™½è‰²</strong>ã€‚</p> <h3 id="_2-ä¸‰å…ƒè¡¨è¾¾å¼"><a href="#_2-ä¸‰å…ƒè¡¨è¾¾å¼" class="header-anchor">#</a> ï¼ˆ2ï¼‰ä¸‰å…ƒè¡¨è¾¾å¼</h3> <p><strong>å…ˆæ¥çœ‹ä¸€æ®µä»£ç ï¼š</strong></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">'react'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token string">'./style.css'</span><span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">ConditionDemo</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">super</span><span class="token punctuation">(</span>props<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>state <span class="token operator">=</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">theme</span><span class="token operator">:</span> <span class="token string">'black'</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> blackBtn <span class="token operator">=</span> <span class="token operator">&lt;</span>button className<span class="token operator">=</span><span class="token string">'btn-black'</span><span class="token operator">&gt;</span>black btn<span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> whiteBtn <span class="token operator">=</span> <span class="token operator">&lt;</span>button className<span class="token operator">=</span><span class="token string">'btn-white'</span><span class="token operator">&gt;</span>white btn<span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span><span class="token punctuation">;</span>

    <span class="token comment">// ä¸‰å…ƒè¿ç®—ç¬¦</span>
    <span class="token keyword">return</span> <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>theme <span class="token operator">===</span> <span class="token string">'black'</span> <span class="token operator">?</span> blackBtn <span class="token operator">:</span> whiteBtn<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> ConditionDemo<span class="token punctuation">;</span>
</code></pre></div><p><strong>æ­¤æ—¶æµè§ˆå™¨çš„æ˜¾ç¤ºæ•ˆæœä¸ºï¼š</strong></p> <p><img src="https://img-blog.csdnimg.cn/17721f46345d49d5b9d44967280ab191.png#pic_center" alt="ä¸‰å…ƒè¡¨è¾¾å¼"></p> <p>å¤§å®¶å¯ä»¥çœ‹åˆ°ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥é€šè¿‡ä¸‰å…ƒè¡¨è¾¾å¼ <code>this.state.theme === 'black' ? blackBtn : whiteBtn</code> çš„æ–¹å¼æ¥å¯¹ä¸€äº›æ¡ä»¶è¿›è¡Œåˆ¤æ–­ã€‚</p> <h3 id="_3-é€»è¾‘è¿ç®—ç¬¦"><a href="#_3-é€»è¾‘è¿ç®—ç¬¦" class="header-anchor">#</a> ï¼ˆ3ï¼‰é€»è¾‘è¿ç®—ç¬¦ &amp;&amp; ||</h3> <p><strong>å…ˆæ¥çœ‹ä¸€æ®µä»£ç ï¼š</strong></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">'react'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token string">'./style.css'</span><span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">ConditionDemo</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">super</span><span class="token punctuation">(</span>props<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>state <span class="token operator">=</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">theme</span><span class="token operator">:</span> <span class="token string">'black'</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> blackBtn <span class="token operator">=</span> <span class="token operator">&lt;</span>button className<span class="token operator">=</span><span class="token string">'btn-black'</span><span class="token operator">&gt;</span>black btn<span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> whiteBtn <span class="token operator">=</span> <span class="token operator">&lt;</span>button className<span class="token operator">=</span><span class="token string">'btn-white'</span><span class="token operator">&gt;</span>white btn<span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span><span class="token punctuation">;</span>

    <span class="token comment">// &amp;&amp;</span>
    <span class="token keyword">return</span> <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>theme <span class="token operator">===</span> <span class="token string">'black'</span> <span class="token operator">&amp;&amp;</span> blackBtn<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> ConditionDemo<span class="token punctuation">;</span>
</code></pre></div><p>æ­¤æ—¶æµè§ˆå™¨çš„æ˜¾ç¤ºç»“æœä¹Ÿæ˜¯å’Œä¸Šè¿°ä¸€æ ·çš„ã€‚<strong>å…·ä½“å¦‚ä¸‹ï¼š</strong></p> <p><img src="https://img-blog.csdnimg.cn/fd8430b48547497e9f5052810cbcc514.png#pic_center" alt="é€»è¾‘è¿ç®—ç¬¦"></p> <p><code>this.state.theme === 'black' &amp;&amp; blackBtn</code> è¿™å¥è¯çš„æ„æ€ä¸ºï¼Œå¦‚æœ <code>this.state.theme</code> çš„å€¼ä¸º <code>black</code> æ—¶ï¼Œé‚£ä¹ˆè¿”å› <code>backBtn</code> çš„ç»“æœã€‚</p> <h2 id="_3ã€æ¸²æŸ“åˆ—è¡¨"><a href="#_3ã€æ¸²æŸ“åˆ—è¡¨" class="header-anchor">#</a> 3ã€æ¸²æŸ“åˆ—è¡¨</h2> <h3 id="_1-map-å’Œ-key"><a href="#_1-map-å’Œ-key" class="header-anchor">#</a> ï¼ˆ1ï¼‰map å’Œ key</h3> <p><strong>å…ˆæ¥çœ‹ä¸€æ®µä»£ç ï¼š</strong></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">'react'</span><span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">ListDemo</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">super</span><span class="token punctuation">(</span>props<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>state <span class="token operator">=</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">list</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
          <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token string">'id-1'</span><span class="token punctuation">,</span>
          <span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token string">'æ ‡é¢˜1'</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>
          <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token string">'id-2'</span><span class="token punctuation">,</span>
          <span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token string">'æ ‡é¢˜2'</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>
          <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token string">'id-3'</span><span class="token punctuation">,</span>
          <span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token string">'æ ‡é¢˜3'</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span>
      <span class="token operator">&lt;</span>ul<span class="token operator">&gt;</span>
        <span class="token punctuation">{</span>
          <span class="token comment">/* ç±»ä¼¼äºvueä¸­çš„v-for */</span>
          <span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>list<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">item<span class="token punctuation">,</span> index</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
            <span class="token comment">// è¿™é‡Œçš„ key å’Œ Vue çš„ key ç±»ä¼¼ï¼Œå¿…å¡«ï¼Œä¸èƒ½æ˜¯ index æˆ– random</span>
            <span class="token keyword">return</span> <span class="token punctuation">(</span>
              <span class="token operator">&lt;</span>li key<span class="token operator">=</span><span class="token punctuation">{</span>item<span class="token punctuation">.</span>id<span class="token punctuation">}</span><span class="token operator">&gt;</span>
                index <span class="token punctuation">{</span>index<span class="token punctuation">}</span><span class="token punctuation">;</span> id <span class="token punctuation">{</span>item<span class="token punctuation">.</span>id<span class="token punctuation">}</span><span class="token punctuation">;</span> title <span class="token punctuation">{</span>item<span class="token punctuation">.</span>title<span class="token punctuation">}</span>
              <span class="token operator">&lt;</span><span class="token operator">/</span>li<span class="token operator">&gt;</span>
            <span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token punctuation">}</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>ul<span class="token operator">&gt;</span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> ListDemo<span class="token punctuation">;</span>
</code></pre></div><p><strong>æ­¤æ—¶æµè§ˆå™¨çš„æ˜¾ç¤ºæ•ˆæœå¦‚ä¸‹ï¼š</strong></p> <p><img src="https://img-blog.csdnimg.cn/5836efc973064656bf22dbe3ed6e7e6c.png#pic_center" alt="æ¸²æŸ“åˆ—è¡¨"></p> <p>åœ¨ <code>react</code> ä¸­ï¼Œä½¿ç”¨çš„æ˜¯ <code>list.map</code> æ¥æ¸²æŸ“åˆ—è¡¨ã€‚å…¶ä¸­ï¼Œ éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œ <code>list.map()</code> æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œé‚£ç°åœ¨æˆ‘ä»¬å‡è®¾è¿™ä¸ªå‡½æ•°é‡Œé¢è¦éµå¾ªä¸€å¥—è§„åˆ™ <code>list.map( item =&gt; item.id )</code> ã€‚</p> <p>è¿™ä¸ªæ—¶å€™ï¼Œæˆ‘ä»¬è§† <code>.map</code> ä¸ºä¸€ä¸ªæ•°ç»„çš„<strong>é‡ç»„</strong>ï¼Œé‚£ä¹ˆé‡ç»„çš„è§„åˆ™å°±æ˜¯ <code>item =&gt; item.id</code> ã€‚åŒæ—¶ï¼Œ <code>list.map</code> è¿”å›çš„æ˜¯ä¸€ä¸ª<strong>æ•°ç»„</strong>ã€‚</p> <h2 id="_4ã€react-çš„äº‹ä»¶"><a href="#_4ã€react-çš„äº‹ä»¶" class="header-anchor">#</a> 4ã€React çš„äº‹ä»¶</h2> <h3 id="_1-bind-this"><a href="#_1-bind-this" class="header-anchor">#</a> ï¼ˆ1ï¼‰bind this</h3> <p>å…ˆæ¥çœ‹ä¸€æ®µä»£ç ï¼š</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">'react'</span><span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">EventDemo</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">super</span><span class="token punctuation">(</span>props<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>state <span class="token operator">=</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'zhangsan'</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>

    <span class="token comment">// ä¿®æ”¹æ–¹æ³•çš„ this æŒ‡å‘</span>
    <span class="token comment">// ä½¿ç”¨è¿™ä¸ªå†™æ³•ï¼Œç»„ä»¶åˆå§‹åŒ–æ—¶ï¼Œåªæ‰§è¡Œä¸€æ¬¡bind</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>clickHandler1 <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">clickHandler1</span><span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// this - ä½¿ç”¨ bind</span>
    <span class="token keyword">return</span> <span class="token operator">&lt;</span>p onClick<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>clickHandler1<span class="token punctuation">}</span><span class="token operator">&gt;</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>name<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">&gt;</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token function">clickHandler1</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// console.log('this....', this) // this é»˜è®¤æ˜¯ undefined</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'lisi'</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> EventDemo<span class="token punctuation">;</span>
</code></pre></div><p><strong>æœ€ç»ˆæµè§ˆå™¨æ˜¾ç¤ºçš„æ•ˆæœä¸ºï¼š</strong></p> <p><img src="https://img-blog.csdnimg.cn/a6effbcdf9c74d9b92189e64f25492d3.png#" alt="bind this(1"></p> <p>åœ¨è¿™æ®µä»£ç ä¸­ï¼Œæˆ‘ä»¬é€šè¿‡ <code>this.clickHandler1 = this.clickHandler1.bind(this)</code> æ¥å¯¹ <code>clickHandler1</code> è¿›è¡Œç»‘å®šã€‚</p> <hr> <p>è¿˜æœ‰å¦å¤–ä¸€ç§å…³äº <code>this</code> çš„ç»‘å®šæ–¹æ³•ã€‚<strong>å…ˆæ¥çœ‹ä¸€æ®µä»£ç ï¼š</strong></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">'react'</span><span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">EventDemo</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">super</span><span class="token punctuation">(</span>props<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>state <span class="token operator">=</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'zhangsan'</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// this - ä½¿ç”¨é™æ€æ–¹æ³•</span>
    <span class="token keyword">return</span> <span class="token operator">&lt;</span>p onClick<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>clickHandler2<span class="token punctuation">}</span><span class="token operator">&gt;</span>clickHandler2 <span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>name<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">&gt;</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token comment">// é™æ€æ–¹æ³•ï¼Œthis æŒ‡å‘å½“å‰å®ä¾‹</span>
  <span class="token function-variable function">clickHandler2</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'lisi'</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> EventDemo<span class="token punctuation">;</span>
</code></pre></div><p><strong>æ­¤æ—¶æµè§ˆå™¨çš„æ˜¾ç¤ºæ•ˆæœä¸ºï¼š</strong></p> <p><img src="https://img-blog.csdnimg.cn/2342f2993983478084092daf5c9182ba.png#" alt="bind this"></p> <p>å¯¹äºä¸Šé¢çš„è¿™ç§æ–¹å¼æ¥è¯´ï¼Œ <code>clickHandler2</code> æ˜¯ä¸€ä¸ªé™æ€æ–¹æ³•ï¼Œæ­¤æ—¶å®ƒçš„ <code>this</code> ä¼šæŒ‡å‘å½“å‰çš„å®ä¾‹ã€‚</p> <h3 id="_2-å…³äº-event-å‚æ•°"><a href="#_2-å…³äº-event-å‚æ•°" class="header-anchor">#</a> ï¼ˆ2ï¼‰å…³äº event å‚æ•°</h3> <p><strong>å…ˆæ¥çœ‹ä¸€æ®µä»£ç ï¼š</strong></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">'react'</span><span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">EventDemo</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">super</span><span class="token punctuation">(</span>props<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>state <span class="token operator">=</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'zhangsan'</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// event</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span>
      <span class="token operator">&lt;</span>a href<span class="token operator">=</span><span class="token string">'https://imooc.com/'</span> onClick<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>clickHandler3<span class="token punctuation">}</span><span class="token operator">&gt;</span>
        click me
      <span class="token operator">&lt;</span><span class="token operator">/</span>a<span class="token operator">&gt;</span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token comment">// è·å– event ï¼ˆé‡ç‚¹ï¼‰</span>
  <span class="token function-variable function">clickHandler3</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    event<span class="token punctuation">.</span><span class="token function">preventDefault</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// é˜»æ­¢é»˜è®¤è¡Œä¸º</span>
    event<span class="token punctuation">.</span><span class="token function">stopPropagation</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// é˜»æ­¢å†’æ³¡</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'target'</span><span class="token punctuation">,</span> event<span class="token punctuation">.</span>target<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// æŒ‡å‘å½“å‰å…ƒç´ ï¼Œå³å½“å‰å…ƒç´ è§¦å‘</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'current target'</span><span class="token punctuation">,</span> event<span class="token punctuation">.</span>currentTarget<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// æŒ‡å‘å½“å‰å…ƒç´ ï¼Œå‡è±¡ï¼ï¼ï¼</span>

    <span class="token comment">// æ³¨æ„ï¼Œevent å…¶å®æ˜¯ React å°è£…çš„ã€‚å¯ä»¥æŠŠ __proto__.constructor çœ‹æˆæ˜¯ SyntheticEvent ç»„åˆäº‹ä»¶</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'event'</span><span class="token punctuation">,</span> event<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ä¸æ˜¯åŸç”Ÿçš„ Event ï¼ŒåŸç”Ÿçš„æ˜¯ MouseEvent</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'event.__proto__.constructor'</span><span class="token punctuation">,</span> event<span class="token punctuation">.</span><span class="token class-name">__proto__</span><span class="token punctuation">.</span>constructor<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// åŸç”Ÿ event å¦‚ä¸‹ã€‚å…¶ __proto__.constructor æ˜¯ MouseEvent</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'nativeEvent'</span><span class="token punctuation">,</span> event<span class="token punctuation">.</span>nativeEvent<span class="token punctuation">)</span><span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'nativeEvent target'</span><span class="token punctuation">,</span> event<span class="token punctuation">.</span>nativeEvent<span class="token punctuation">.</span>target<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// æŒ‡å‘å½“å‰å…ƒç´ ï¼Œå³å½“å‰å…ƒç´ è§¦å‘</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'nativeEvent current target'</span><span class="token punctuation">,</span> event<span class="token punctuation">.</span>nativeEvent<span class="token punctuation">.</span>currentTarget<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// æŒ‡å‘ document ï¼ï¼ï¼</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> EventDemo<span class="token punctuation">;</span>
</code></pre></div><p><strong>æ­¤æ—¶æµè§ˆå™¨çš„æ˜¾ç¤ºæ•ˆæœå¦‚ä¸‹ï¼š</strong></p> <p><img src="https://img-blog.csdnimg.cn/50535e7617da4e9996e9ad8221acdf32.gif#pic_center" alt="event"></p> <p>ä¾æ®ä»¥ä¸Šå†…å®¹ï¼Œéœ€è¦æ³¨æ„çš„ç‚¹æ˜¯ï¼š</p> <ul><li><code>event</code> æ˜¯åˆæˆäº‹ä»¶ <code>SyntheticEvent</code> ï¼Œå®ƒèƒ½å¤Ÿæ¨¡æ‹Ÿå‡ºæ¥ <code>DOM</code> äº‹ä»¶æ‰€æœ‰çš„èƒ½åŠ›ï¼›</li> <li><code>event</code> æ˜¯<code>React</code> å°è£…å‡ºæ¥çš„ï¼Œè€Œ <code>event.nativeEvent</code> æ˜¯åŸç”Ÿäº‹ä»¶å¯¹è±¡ï¼›</li> <li>æ‰€æœ‰çš„äº‹ä»¶ï¼Œéƒ½ä¼šè¢«æŒ‚è½½åˆ° <code>document</code> ä¸Šï¼›</li> <li><code>React</code> ä¸­çš„äº‹ä»¶ï¼Œå’Œ <code>DOM</code> äº‹ä»¶ä¸ä¸€æ ·ï¼Œå’Œ <code>Vue</code> äº‹ä»¶ä¹Ÿä¸ä¸€æ ·ã€‚</li></ul> <h3 id="_3-ä¼ é€’è‡ªå®šä¹‰å‚æ•°"><a href="#_3-ä¼ é€’è‡ªå®šä¹‰å‚æ•°" class="header-anchor">#</a> ï¼ˆ3ï¼‰ä¼ é€’è‡ªå®šä¹‰å‚æ•°</h3> <p><strong>å…ˆæ¥çœ‹ä¸€æ®µä»£ç ï¼š</strong></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">'react'</span><span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">EventDemo</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">super</span><span class="token punctuation">(</span>props<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>state <span class="token operator">=</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'zhangsan'</span><span class="token punctuation">,</span>
      <span class="token literal-property property">list</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
          <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token string">'id-1'</span><span class="token punctuation">,</span>
          <span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token string">'æ ‡é¢˜1'</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>
          <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token string">'id-2'</span><span class="token punctuation">,</span>
          <span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token string">'æ ‡é¢˜2'</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>
          <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token string">'id-3'</span><span class="token punctuation">,</span>
          <span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token string">'æ ‡é¢˜3'</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// ä¼ é€’å‚æ•° - ç”¨ bind(this, a, b)</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span>
      <span class="token operator">&lt;</span>ul<span class="token operator">&gt;</span>
        <span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>list<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">item<span class="token punctuation">,</span> index</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
          <span class="token keyword">return</span> <span class="token punctuation">(</span>
            <span class="token operator">&lt;</span>li
              key<span class="token operator">=</span><span class="token punctuation">{</span>item<span class="token punctuation">.</span>id<span class="token punctuation">}</span>
              onClick<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">clickHandler4</span><span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> item<span class="token punctuation">.</span>id<span class="token punctuation">,</span> item<span class="token punctuation">.</span>title<span class="token punctuation">)</span><span class="token punctuation">}</span>
            <span class="token operator">&gt;</span>
              index <span class="token punctuation">{</span>index<span class="token punctuation">}</span><span class="token punctuation">;</span> title <span class="token punctuation">{</span>item<span class="token punctuation">.</span>title<span class="token punctuation">}</span>
            <span class="token operator">&lt;</span><span class="token operator">/</span>li<span class="token operator">&gt;</span>
          <span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">}</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>ul<span class="token operator">&gt;</span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token comment">// ä¼ é€’å‚æ•°</span>
  <span class="token function">clickHandler4</span><span class="token punctuation">(</span><span class="token parameter">id<span class="token punctuation">,</span> title<span class="token punctuation">,</span> event</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>id<span class="token punctuation">,</span> title<span class="token punctuation">)</span><span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'event'</span><span class="token punctuation">,</span> event<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// æœ€åè¿½åŠ ä¸€ä¸ªå‚æ•°ï¼Œå³å¯æ¥æ”¶ event</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> EventDemo<span class="token punctuation">;</span>
</code></pre></div><p>æ­¤æ—¶ï¼Œ<strong>æµè§ˆå™¨çš„æ˜¾ç¤ºæ•ˆæœä¸ºï¼š</strong></p> <p><img src="https://img-blog.csdnimg.cn/e61951374ede46f881217184c8cb0ea4.png#pic_center" alt="ä¼ é€’å‚æ•°"></p> <p>å¤§å®¶å¯ä»¥çœ‹åˆ°ï¼Œæˆ‘ä»¬é€šè¿‡ä½¿ç”¨ <code>this.clickHandler4.bind(this, item.id, item.title)</code> è¿™ç§å½¢å¼æ¥å¯¹ <code>react</code> ä¸­çš„äº‹ä»¶è¿›è¡Œå‚æ•°ä¼ é€’ã€‚</p> <h3 id="_4-æ³¨æ„ç‚¹"><a href="#_4-æ³¨æ„ç‚¹" class="header-anchor">#</a> ï¼ˆ4ï¼‰æ³¨æ„ç‚¹</h3> <ul><li><code>React 16</code> å°†äº‹ä»¶ç»‘å®šåˆ° <code>document</code> ä¸Šï¼›</li> <li><code>React 17</code> å°†äº‹ä»¶ç»‘å®šåˆ° <code>root</code> ç»„ä»¶ä¸Šï¼›</li> <li>è¿™æ ·åšçš„å¥½å¤„åœ¨äºï¼šæœ‰åˆ©äºå¤šä¸ª <code>React</code> ç‰ˆæœ¬å¹¶å­˜ï¼Œä¾‹å¦‚<strong>å¾®å‰ç«¯</strong>ã€‚</li></ul> <p><strong>å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</strong></p> <p><img src="https://img-blog.csdnimg.cn/7a7454902b2c412cac412300d8892ced.png#pic_center" alt="react16å’Œ17ä¸­äº‹ä»¶çš„ä¸åŒ"></p> <h2 id="_5ã€è¡¨å•"><a href="#_5ã€è¡¨å•" class="header-anchor">#</a> 5ã€è¡¨å•</h2> <h3 id="_1-å—æ§ç»„ä»¶"><a href="#_1-å—æ§ç»„ä»¶" class="header-anchor">#</a> ï¼ˆ1ï¼‰å—æ§ç»„ä»¶</h3> <p>å…ˆæ¥çœ‹ä¸€æ®µä»£ç ï¼š</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">'react'</span><span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">FormDemo</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">super</span><span class="token punctuation">(</span>props<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>state <span class="token operator">=</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'æ˜ŸæœŸä¸€ç ”ç©¶å®¤'</span><span class="token punctuation">,</span>
      <span class="token literal-property property">info</span><span class="token operator">:</span> <span class="token string">'ä¸ªäººä¿¡æ¯'</span><span class="token punctuation">,</span>
      <span class="token literal-property property">city</span><span class="token operator">:</span> <span class="token string">'GuangDong'</span><span class="token punctuation">,</span>
      <span class="token literal-property property">flag</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
      <span class="token literal-property property">gender</span><span class="token operator">:</span> <span class="token string">'female'</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// å—æ§ç»„ä»¶</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span>
      <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>p<span class="token operator">&gt;</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>name<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>label htmlFor<span class="token operator">=</span><span class="token string">'inputName'</span><span class="token operator">&gt;</span>å§“åï¼š<span class="token operator">&lt;</span><span class="token operator">/</span>label<span class="token operator">&gt;</span> <span class="token punctuation">{</span><span class="token comment">/* ç”¨ htmlFor ä»£æ›¿ for */</span><span class="token punctuation">}</span>
        <span class="token operator">&lt;</span>input
          id<span class="token operator">=</span><span class="token string">'inputName'</span>
          value<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>name<span class="token punctuation">}</span>
          onChange<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>onInputChange<span class="token punctuation">}</span>
        <span class="token operator">/</span><span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token function-variable function">onInputChange</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token literal-property property">name</span><span class="token operator">:</span> e<span class="token punctuation">.</span>target<span class="token punctuation">.</span>value<span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> FormDemo<span class="token punctuation">;</span>
</code></pre></div><p><strong>æ­¤æ—¶æµè§ˆå™¨çš„æ˜¾ç¤ºæ•ˆæœå¦‚ä¸‹ï¼š</strong></p> <p><img src="https://img-blog.csdnimg.cn/ce9074944ceb41dc98c90b877a09145e.gif#pic_center" alt="å—æ§ç»„ä»¶"></p> <p>åœ¨ <code>react</code> ä¸­ï¼Œé€šè¿‡ä½¿ç”¨ <code>onChange</code> äº‹ä»¶æ¥æ‰‹åŠ¨ä¿®æ”¹ <code>state</code> é‡Œé¢çš„å€¼ã€‚</p> <h3 id="_2-input-textarea-select-ç”¨-value"><a href="#_2-input-textarea-select-ç”¨-value" class="header-anchor">#</a> ï¼ˆ2ï¼‰input textarea select ç”¨ value</h3> <p>ä¸Šé¢æˆ‘ä»¬å·²ç»è®²è§£äº† <code>input</code> ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬æ¥çœ‹ <code>textarea</code> å’Œ <code>select</code> ã€‚</p> <p>å…ˆæ¥çœ‹ <code>textarea</code> ç›¸å…³çš„ä»£ç ï¼š</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">'react'</span><span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">FormDemo</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">super</span><span class="token punctuation">(</span>props<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>state <span class="token operator">=</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'æ˜ŸæœŸä¸€ç ”ç©¶å®¤'</span><span class="token punctuation">,</span>
      <span class="token literal-property property">info</span><span class="token operator">:</span> <span class="token string">'ä¸ªäººä¿¡æ¯'</span><span class="token punctuation">,</span>
      <span class="token literal-property property">city</span><span class="token operator">:</span> <span class="token string">'GuangDong'</span><span class="token punctuation">,</span>
      <span class="token literal-property property">flag</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
      <span class="token literal-property property">gender</span><span class="token operator">:</span> <span class="token string">'female'</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// textarea - ä½¿ç”¨ value</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span>
      <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>textarea value<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>info<span class="token punctuation">}</span> onChange<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>onTextareaChange<span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>p<span class="token operator">&gt;</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>info<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token function-variable function">onTextareaChange</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token literal-property property">info</span><span class="token operator">:</span> e<span class="token punctuation">.</span>target<span class="token punctuation">.</span>value<span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> FormDemo<span class="token punctuation">;</span>
</code></pre></div><p><strong>æ­¤æ—¶æµè§ˆå™¨çš„æ‰“å°æ•ˆæœæ˜¯ï¼š</strong></p> <p><img src="https://img-blog.csdnimg.cn/167aca33cccb4e87a341514d5cc53fd8.gif#" alt="textarea"></p> <p>åŒæ ·åœ°ï¼Œ <code>textarea</code> ä¹Ÿæ˜¯ç”¨ <code>value</code> å’Œ <code>onChange</code> æ¥å¯¹<strong>å€¼</strong>è¿›è¡Œç»‘å®šã€‚</p> <hr> <p>ç»§ç»­æ¥çœ‹ <code>select</code> ã€‚<strong>å…·ä½“ä»£ç å¦‚ä¸‹ï¼š</strong></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">'react'</span><span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">FormDemo</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">super</span><span class="token punctuation">(</span>props<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>state <span class="token operator">=</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'æ˜ŸæœŸä¸€ç ”ç©¶å®¤'</span><span class="token punctuation">,</span>
      <span class="token literal-property property">info</span><span class="token operator">:</span> <span class="token string">'ä¸ªäººä¿¡æ¯'</span><span class="token punctuation">,</span>
      <span class="token literal-property property">city</span><span class="token operator">:</span> <span class="token string">'GuangDong'</span><span class="token punctuation">,</span>
      <span class="token literal-property property">flag</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
      <span class="token literal-property property">gender</span><span class="token operator">:</span> <span class="token string">'female'</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// textarea - ä½¿ç”¨ value</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span>
      <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>textarea value<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>info<span class="token punctuation">}</span> onChange<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>onTextareaChange<span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>p<span class="token operator">&gt;</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>info<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token function-variable function">onSelectChange</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token literal-property property">city</span><span class="token operator">:</span> e<span class="token punctuation">.</span>target<span class="token punctuation">.</span>value<span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> FormDemo<span class="token punctuation">;</span>
</code></pre></div><p>æ­¤æ—¶ï¼Œ<strong>æµè§ˆå™¨çš„æ˜¾ç¤ºæ•ˆæœä¸ºï¼š</strong></p> <p><img src="https://img-blog.csdnimg.cn/af6a0cf9f0354c478f1fd5be00a6dc12.gif#" alt="select"></p> <p>ä¸ <code>input</code> å’Œ <code>textarea</code> ä¸€æ ·ï¼Œä¹Ÿæ˜¯é€šè¿‡æ“ä½œ <code>value</code> å’Œ <code>onChange</code> ï¼Œæ¥æ”¹å˜æœ€ç»ˆçš„å€¼ã€‚</p> <h3 id="_3-checkbox-radio-ç”¨-checked"><a href="#_3-checkbox-radio-ç”¨-checked" class="header-anchor">#</a> ï¼ˆ3ï¼‰checkbox radio ç”¨ checked</h3> <p>å…ˆæ¥çœ‹ <code>ckeckbox</code> ã€‚<strong>ä»£ç å¦‚ä¸‹ï¼š</strong></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">'react'</span><span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">FormDemo</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">super</span><span class="token punctuation">(</span>props<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>state <span class="token operator">=</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'æ˜ŸæœŸä¸€ç ”ç©¶å®¤'</span><span class="token punctuation">,</span>
      <span class="token literal-property property">info</span><span class="token operator">:</span> <span class="token string">'ä¸ªäººä¿¡æ¯'</span><span class="token punctuation">,</span>
      <span class="token literal-property property">city</span><span class="token operator">:</span> <span class="token string">'GuangDong'</span><span class="token punctuation">,</span>
      <span class="token literal-property property">flag</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
      <span class="token literal-property property">gender</span><span class="token operator">:</span> <span class="token string">'female'</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// checkbox</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span>
      <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>input
          type<span class="token operator">=</span><span class="token string">'checkbox'</span>
          checked<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>flag<span class="token punctuation">}</span>
          onChange<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>onCheckboxChange<span class="token punctuation">}</span>
        <span class="token operator">/</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>p<span class="token operator">&gt;</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>flag<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token function-variable function">onCheckboxChange</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token literal-property property">flag</span><span class="token operator">:</span> <span class="token operator">!</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>flag<span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> FormDemo<span class="token punctuation">;</span>
</code></pre></div><p><strong>æ­¤æ—¶æµè§ˆå™¨çš„æ˜¾ç¤ºæ•ˆæœä¸ºï¼š</strong></p> <p><img src="https://img-blog.csdnimg.cn/1e01bedc3b4042ac9cf587f3506d2336.gif#" alt="checkbox"></p> <p>åœ¨ä¸Šé¢çš„ä»£ç ä¸­ï¼Œ <code>checkbox</code> é€šè¿‡æ“ä½œ <code>checked</code> å’Œ <code>onChange</code> ï¼Œæ¥æ”¹å˜ <code>state</code> çš„å€¼ã€‚</p> <hr> <p><code>radio</code> ä¹Ÿæ˜¯ç±»ä¼¼ï¼Œ<strong>å¦‚ä¸‹ä»£ç æ‰€ç¤ºï¼š</strong></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">'react'</span><span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">FormDemo</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">super</span><span class="token punctuation">(</span>props<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>state <span class="token operator">=</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'æ˜ŸæœŸä¸€ç ”ç©¶å®¤'</span><span class="token punctuation">,</span>
      <span class="token literal-property property">info</span><span class="token operator">:</span> <span class="token string">'ä¸ªäººä¿¡æ¯'</span><span class="token punctuation">,</span>
      <span class="token literal-property property">city</span><span class="token operator">:</span> <span class="token string">'GuangDong'</span><span class="token punctuation">,</span>
      <span class="token literal-property property">flag</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
      <span class="token literal-property property">gender</span><span class="token operator">:</span> <span class="token string">'female'</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// radio</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span>
      <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
        male<span class="token punctuation">{</span><span class="token string">' '</span><span class="token punctuation">}</span>
        <span class="token operator">&lt;</span>input
          type<span class="token operator">=</span><span class="token string">'radio'</span>
          name<span class="token operator">=</span><span class="token string">'gender'</span>
          value<span class="token operator">=</span><span class="token string">'male'</span>
          checked<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>gender <span class="token operator">===</span> <span class="token string">'male'</span><span class="token punctuation">}</span>
          onChange<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>onRadioChange<span class="token punctuation">}</span>
        <span class="token operator">/</span><span class="token operator">&gt;</span>
        female <span class="token operator">&lt;</span>input
          type<span class="token operator">=</span><span class="token string">'radio'</span>
          name<span class="token operator">=</span><span class="token string">'gender'</span>
          value<span class="token operator">=</span><span class="token string">'female'</span>
          checked<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>gender <span class="token operator">===</span> <span class="token string">'female'</span><span class="token punctuation">}</span>
          onChange<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>onRadioChange<span class="token punctuation">}</span>
        <span class="token operator">/</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>p<span class="token operator">&gt;</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>gender<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token function-variable function">onRadioChange</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token literal-property property">gender</span><span class="token operator">:</span> e<span class="token punctuation">.</span>target<span class="token punctuation">.</span>value<span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> FormDemo<span class="token punctuation">;</span>
</code></pre></div><p><strong>æ­¤æ—¶æµè§ˆå™¨çš„æ˜¾ç¤ºæ•ˆæœæ˜¯ï¼š</strong></p> <p><img src="https://img-blog.csdnimg.cn/8d5488b0bbe442e197ac40acda1091ce.gif#" alt="radio"></p> <h2 id="_6ã€ç»„ä»¶ä½¿ç”¨"><a href="#_6ã€ç»„ä»¶ä½¿ç”¨" class="header-anchor">#</a> 6ã€ç»„ä»¶ä½¿ç”¨</h2> <p>å¯¹äºçˆ¶å­ç»„ä»¶çš„ä½¿ç”¨æ¥è¯´ï¼Œæˆ‘ä»¬éœ€è¦æ˜ç™½ä¸‰ä¸ªçŸ¥è¯†ç‚¹ï¼š<code>props</code> ä¼ é€’æ•°æ®ã€<code>props</code> ä¼ é€’å‡½æ•°å’Œ <code>props</code> ç±»å‹æ£€æŸ¥ã€‚</p> <p><strong>å…ˆæ¥çœ‹ä¸€æ®µä»£ç ï¼š</strong></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">'react'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> PropTypes <span class="token keyword">from</span> <span class="token string">'prop-types'</span><span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">Input</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">super</span><span class="token punctuation">(</span>props<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>state <span class="token operator">=</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token string">''</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span>
      <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>input value<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>title<span class="token punctuation">}</span> onChange<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>onTitleChange<span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>button onClick<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>onSubmit<span class="token punctuation">}</span><span class="token operator">&gt;</span>æäº¤<span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token function-variable function">onTitleChange</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token literal-property property">title</span><span class="token operator">:</span> e<span class="token punctuation">.</span>target<span class="token punctuation">.</span>value<span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token function-variable function">onSubmit</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> <span class="token punctuation">{</span> submitTitle <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">;</span>
    <span class="token function">submitTitle</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>title<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token string">''</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">// props ç±»å‹æ£€æŸ¥</span>
Input<span class="token punctuation">.</span>propTypes <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">submitTitle</span><span class="token operator">:</span> PropTypes<span class="token punctuation">.</span>func<span class="token punctuation">.</span>isRequired<span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">List</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">super</span><span class="token punctuation">(</span>props<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> <span class="token punctuation">{</span> list <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">;</span>

    <span class="token keyword">return</span> <span class="token punctuation">(</span>
      <span class="token operator">&lt;</span>ul<span class="token operator">&gt;</span>
        <span class="token punctuation">{</span>list<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">item<span class="token punctuation">,</span> index</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
          <span class="token keyword">return</span> <span class="token punctuation">(</span>
            <span class="token operator">&lt;</span>li key<span class="token operator">=</span><span class="token punctuation">{</span>item<span class="token punctuation">.</span>id<span class="token punctuation">}</span><span class="token operator">&gt;</span>
              <span class="token operator">&lt;</span>span<span class="token operator">&gt;</span><span class="token punctuation">{</span>item<span class="token punctuation">.</span>title<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>span<span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span><span class="token operator">/</span>li<span class="token operator">&gt;</span>
          <span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">}</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>ul<span class="token operator">&gt;</span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">// props ç±»å‹æ£€æŸ¥</span>
<span class="token comment">// é€šè¿‡propTypeså¯ä»¥æ¸…æ¥šåœ°çŸ¥é“listéœ€è¦ä¸€ä¸ªä»€ä¹ˆç±»å‹çš„æ•°æ®</span>
List<span class="token punctuation">.</span>propTypes <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">list</span><span class="token operator">:</span> PropTypes<span class="token punctuation">.</span><span class="token function">arrayOf</span><span class="token punctuation">(</span>PropTypes<span class="token punctuation">.</span>object<span class="token punctuation">)</span><span class="token punctuation">.</span>isRequired<span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">Footer</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">super</span><span class="token punctuation">(</span>props<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span>
      <span class="token operator">&lt;</span>p<span class="token operator">&gt;</span>
        <span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span>text<span class="token punctuation">}</span>
        <span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span>length<span class="token punctuation">}</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">&gt;</span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token function">componentDidUpdate</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'footer did update'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token function">shouldComponentUpdate</span><span class="token punctuation">(</span><span class="token parameter">nextProps<span class="token punctuation">,</span> nextState</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>
      nextProps<span class="token punctuation">.</span>text <span class="token operator">!==</span> <span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span>text <span class="token operator">||</span>
      nextProps<span class="token punctuation">.</span>length <span class="token operator">!==</span> <span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span>length
    <span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span> <span class="token comment">// å¯ä»¥æ¸²æŸ“</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span> <span class="token comment">// ä¸é‡å¤æ¸²æŸ“</span>
  <span class="token punctuation">}</span>

  <span class="token comment">// React é»˜è®¤ï¼šçˆ¶ç»„ä»¶æœ‰æ›´æ–°ï¼Œå­ç»„ä»¶åˆ™æ— æ¡ä»¶ä¹Ÿæ›´æ–°ï¼ï¼ï¼</span>
  <span class="token comment">// æ€§èƒ½ä¼˜åŒ–å¯¹äº React æ›´åŠ é‡è¦ï¼</span>
  <span class="token comment">// SCU ä¸€å®šè¦æ¯æ¬¡éƒ½ç”¨å—ï¼Ÿâ€”â€” éœ€è¦çš„æ—¶å€™æ‰ä¼˜åŒ–ï¼ˆSCUå³shouldComponentUpdateï¼‰</span>
<span class="token punctuation">}</span>

<span class="token comment">// çˆ¶ç»„ä»¶</span>
<span class="token keyword">class</span> <span class="token class-name">TodoListDemo</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">super</span><span class="token punctuation">(</span>props<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// çŠ¶æ€ï¼ˆæ•°æ®ï¼‰æå‡</span>
    <span class="token comment">// listçš„æ•°æ®éœ€è¦æ”¾åœ¨çˆ¶ç»„ä»¶</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>state <span class="token operator">=</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">list</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
          <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token string">'id-1'</span><span class="token punctuation">,</span>
          <span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token string">'æ ‡é¢˜1'</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>
          <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token string">'id-2'</span><span class="token punctuation">,</span>
          <span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token string">'æ ‡é¢˜2'</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>
          <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token string">'id-3'</span><span class="token punctuation">,</span>
          <span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token string">'æ ‡é¢˜3'</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token literal-property property">footerInfo</span><span class="token operator">:</span> <span class="token string">'åº•éƒ¨æ–‡å­—'</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span>
      <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>Input submitTitle<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>onSubmitTitle<span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>List list<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>list<span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>Footer text<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>footerInfo<span class="token punctuation">}</span> length<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>list<span class="token punctuation">.</span>length<span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token function-variable function">onSubmitTitle</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">title</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token literal-property property">list</span><span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>list<span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">id-</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>Date<span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span>
        title<span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> TodoListDemo<span class="token punctuation">;</span>
</code></pre></div><p><strong>æ­¤æ—¶æµè§ˆå™¨çš„æ˜¾ç¤ºæ•ˆæœå¦‚ä¸‹ï¼š</strong></p> <p><img src="https://img-blog.csdnimg.cn/4b4396f40246469193064dee43314bc7.gif#" alt="ç»„ä»¶ä½¿ç”¨-props"></p> <p>ä¾æ®ä»¥ä¸Šä»£ç ï¼Œæˆ‘ä»¬æ¥å¯¹ <code>props</code> çš„å„ä¸ªç±»å‹è¿›è¡Œä»‹ç»ã€‚</p> <h3 id="_1-props-ä¼ é€’æ•°æ®"><a href="#_1-props-ä¼ é€’æ•°æ®" class="header-anchor">#</a> ï¼ˆ1ï¼‰props ä¼ é€’æ•°æ®</h3> <p>æœ€åä¸€ä¸ª <code>TodoListDemo</code> æ˜¯çˆ¶ç»„ä»¶ï¼Œå…¶ä»–éƒ½æ˜¯å­ç»„ä»¶ã€‚åœ¨ <code>Input</code> ç»„ä»¶å’Œ <code>List</code> ç»„ä»¶ä¸­ï¼Œæˆ‘ä»¬å°† <code>props</code> å±æ€§çš„å†…å®¹ï¼Œä»¥ <code>this.props.xxx</code> çš„æ–¹å¼ï¼Œä¼ é€’ç»™<strong>çˆ¶ç»„ä»¶</strong>ã€‚</p> <h3 id="_2-props-ä¼ é€’å‡½æ•°"><a href="#_2-props-ä¼ é€’å‡½æ•°" class="header-anchor">#</a> ï¼ˆ2ï¼‰props ä¼ é€’å‡½æ•°</h3> <p><code>React</code> åœ¨ä¼ é€’å‡½æ•°è¿™ä¸€éƒ¨åˆ†å’Œ <code>vue</code> æ˜¯ä¸ä¸€æ ·çš„ã€‚å¯¹äº <code>vue</code> æ¥è¯´ï¼Œå¦‚æœæœ‰ä¸€ä¸ªçˆ¶ç»„ä»¶è¦ä¼ é€’å‡½æ•°ç»™å­ç»„ä»¶ï¼Œå­ç»„ä»¶å¦‚æœæƒ³è¦è§¦å‘è¿™ä¸ªå‡½æ•°ï¼Œé‚£ä¹ˆéœ€è¦ä½¿ç”¨äº‹ä»¶ä¼ é€’å’Œ <code>$emit</code> çš„æ–¹å¼æ¥è§£å†³ã€‚</p> <p>å¤§å®¶å®šä½åˆ° <code>Input</code> ç»„ä»¶ä¸­ï¼Œåœ¨è¿™é‡Œï¼Œæˆ‘ä»¬å°† <code>submitTitle</code> ä»¥å‡½æ•°çš„å½¢å¼ï¼Œä¼ é€’ç»™çˆ¶ç»„ä»¶ä¸­çš„ <code>onSubmitTitle</code> ã€‚</p> <h3 id="_3-props-ç±»å‹æ£€æŸ¥"><a href="#_3-props-ç±»å‹æ£€æŸ¥" class="header-anchor">#</a> ï¼ˆ3ï¼‰props ç±»å‹æ£€æŸ¥</h3> <p>å¤§å®¶å®šä½åˆ°ä¸¤å¤„ <code>props</code> ç±»å‹æ£€æŸ¥çš„åœ°æ–¹ã€‚ä½¿ç”¨ <code>react</code> ä¸­çš„ <code>PropTypes</code> ï¼Œæˆ‘ä»¬å¯ä»¥å¯¹å½“å‰æ‰€ä½¿ç”¨çš„å±æ€§è¿›è¡Œä¸€ä¸ªç±»å‹æ£€æŸ¥ã€‚æ¯”å¦‚è¯´ï¼š <code>submitTitle: PropTypes.func.isRequired</code> è¡¨æ˜çš„æ˜¯ï¼Œ <code>submitTitle</code> æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œå¹¶ä¸”æ˜¯ä¸€ä¸ªå¿…å¡«é¡¹ã€‚</p> <p>å°±è¿™æ ·ï¼Œé€šè¿‡ä¸Šé¢çš„ä¾‹å­ï¼Œæˆ‘ä»¬å­¦ä¹ äº†<strong>å±æ€§ä¼ é€’</strong>ã€<strong>å±æ€§éªŒè¯</strong>ä»¥åŠ<strong>çˆ¶ç»„ä»¶å’Œå­ç»„ä»¶ä¹‹é—´æ€ä¹ˆé€šè¿‡ä¼ äº‹ä»¶çš„å½¢å¼æ¥è¿›è¡Œé€šä¿¡</strong>ã€‚</p> <h2 id="_7ã€setstate"><a href="#_7ã€setstate" class="header-anchor">#</a> 7ã€setState</h2> <h3 id="_1-ä¸å¯å˜å€¼"><a href="#_1-ä¸å¯å˜å€¼" class="header-anchor">#</a> ï¼ˆ1ï¼‰ä¸å¯å˜å€¼</h3> <p>æ‰€è°“ä¸å¯å˜å€¼ï¼Œå³æ‰€è®¾ç½®çš„å€¼æ°¸ä¸æ”¹å˜ã€‚é‚£è¿™ä¸ªæ—¶å€™ï¼Œæˆ‘ä»¬å°±éœ€è¦å»åˆ›å»ºä¸€ä¸ªå‰¯æœ¬ï¼Œæ¥è®¾ç½® <code>state</code> çš„å€¼ã€‚</p> <p>æ¥çœ‹å‡ ä¸ªè¦ç‚¹ï¼š</p> <p>ç¬¬ä¸€ç‚¹ï¼š<strong>state</strong> è¦åœ¨æ„é€ å‡½æ•°ä¸­å®šä¹‰ã€‚<strong>å¦‚ä¸‹ä»£ç æ‰€ç¤ºï¼š</strong></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">'react'</span><span class="token punctuation">;</span>

<span class="token comment">// å‡½æ•°ç»„ä»¶ï¼Œé»˜è®¤æ²¡æœ‰ state</span>
<span class="token keyword">class</span> <span class="token class-name">StateDemo</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">super</span><span class="token punctuation">(</span>props<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// ç¬¬ä¸€ï¼Œstate è¦åœ¨æ„é€ å‡½æ•°ä¸­å®šä¹‰</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>state <span class="token operator">=</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">count</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span>
      <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>p<span class="token operator">&gt;</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>count<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> StateDemo<span class="token punctuation">;</span>
</code></pre></div><p>ç¬¬äºŒç‚¹ï¼Œä¸è¦ç›´æ¥ä¿®æ”¹ <strong>state</strong> ï¼Œè¦ä½¿ç”¨ä¸å¯å˜å€¼ã€‚<strong>å¦‚ä¸‹ä»£ç æ‰€ç¤ºï¼š</strong></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">'react'</span><span class="token punctuation">;</span>

<span class="token comment">// å‡½æ•°ç»„ä»¶ï¼Œé»˜è®¤æ²¡æœ‰ state</span>
<span class="token keyword">class</span> <span class="token class-name">StateDemo</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">super</span><span class="token punctuation">(</span>props<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// ç¬¬ä¸€ï¼Œstate è¦åœ¨æ„é€ å‡½æ•°ä¸­å®šä¹‰</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>state <span class="token operator">=</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">count</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span>
      <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>p<span class="token operator">&gt;</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>count<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>button onClick<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>increase<span class="token punctuation">}</span><span class="token operator">&gt;</span>ç´¯åŠ <span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token function-variable function">increase</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token comment">// ç¬¬äºŒï¼Œä¸è¦ç›´æ¥ä¿®æ”¹ stateï¼Œä½¿ç”¨ä¸å¯å˜å€¼</span>
    <span class="token comment">// this.state.count++ // é”™è¯¯å†™æ³•ï¼Œä¼šç›´æ¥ä¿®æ”¹åŸæ¥çš„å€¼</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token literal-property property">count</span><span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>count <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token comment">// ShouldComponentUpdate â†’ SCU</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> StateDemo<span class="token punctuation">;</span>
</code></pre></div><p>å¤§å®¶å¯ä»¥çœ‹åˆ°ï¼Œåœ¨ä¸Šé¢çš„ä»£ç ä¸­ï¼Œæˆ‘ä»¬é€šè¿‡ <code>this.state({})</code> è¿™ç§å½¢å¼ï¼Œæ¥ä¿®æ”¹ <code>state</code> çš„å€¼ã€‚å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œå¾ˆå¤šå°ä¼™ä¼´ä¼šç›´æ¥ä½¿ç”¨ <code>this.state.count++</code> æ¥ä¿®æ”¹ <code>state</code> çš„å€¼ï¼Œè¿™åœ¨ <code>react</code> ä¸­æ˜¯éå¸¸ä¸å…è®¸çš„ã€‚å› æ­¤ï¼Œè¦æ³¨æ„è¿™ä¸ªè¦ç‚¹ã€‚</p> <p>ç¬¬ä¸‰ç‚¹ï¼Œåœ¨ <code>react</code> ä¸­æ“ä½œ<strong>æ•°ç»„</strong>çš„å€¼ã€‚<strong>å¦‚ä¸‹ä»£ç æ‰€ç¤ºï¼š</strong></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// ä¸å¯å˜å€¼ï¼ˆå‡½æ•°å¼ç¼–ç¨‹ï¼Œçº¯å‡½æ•°ï¼‰ - æ•°ç»„</span>
<span class="token keyword">const</span> list5Copy <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>list5<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
list5Copy<span class="token punctuation">.</span><span class="token function">splice</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token string">'a'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ä¸­é—´æ’å…¥/åˆ é™¤</span>
<span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token literal-property property">list1</span><span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>list1<span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment">// è¿½åŠ </span>
  <span class="token literal-property property">list2</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token operator">...</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>list2<span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token comment">// è¿½åŠ </span>
  <span class="token literal-property property">list3</span><span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>list3<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment">// æˆªå–</span>
  <span class="token literal-property property">list4</span><span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>list4<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">item</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> item <span class="token operator">&gt;</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment">// ç­›é€‰</span>
  <span class="token literal-property property">list5</span><span class="token operator">:</span> list5Copy<span class="token punctuation">,</span> <span class="token comment">// å…¶ä»–æ“ä½œ</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// æ³¨æ„ï¼Œä¸èƒ½ç›´æ¥å¯¹ this.state.list è¿›è¡Œ push pop splice ç­‰ï¼Œè¿™æ ·è¿åä¸å¯å˜å€¼</span>
</code></pre></div><p>ç¬¬å››ç‚¹ï¼Œåœ¨ <code>react</code> ä¸­æ“ä½œ<strong>å¯¹è±¡</strong>çš„å€¼ã€‚<strong>å¦‚ä¸‹ä»£ç æ‰€ç¤ºï¼š</strong></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// ä¸å¯å˜å€¼ - å¯¹è±¡</span>
<span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token literal-property property">obj1</span><span class="token operator">:</span> Object<span class="token punctuation">.</span><span class="token function">assign</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>obj1<span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token literal-property property">a</span><span class="token operator">:</span> <span class="token number">100</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token literal-property property">obj2</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token operator">...</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>obj2<span class="token punctuation">,</span> <span class="token literal-property property">a</span><span class="token operator">:</span> <span class="token number">100</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// æ³¨æ„ï¼Œä¸èƒ½ç›´æ¥å¯¹ this.state.obj è¿›è¡Œå±æ€§è®¾ç½®ï¼Œå³ this.state.obj.xxx è¿™æ ·çš„å½¢å¼ï¼Œè¿™ç§å½¢å¼ä¼šè¿åä¸å¯å˜å€¼</span>
</code></pre></div><h3 id="_2-å¯èƒ½æ˜¯å¼‚æ­¥æ›´æ–°"><a href="#_2-å¯èƒ½æ˜¯å¼‚æ­¥æ›´æ–°" class="header-anchor">#</a> ï¼ˆ2ï¼‰å¯èƒ½æ˜¯å¼‚æ­¥æ›´æ–°</h3> <p><code>react</code> ä¸­çš„ <code>state</code> ï¼Œæœ‰å¯èƒ½æ˜¯å¼‚æ­¥æ›´æ–°ã€‚<strong>æ¥çœ‹ä¸€æ®µä»£ç ï¼š</strong></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">'react'</span><span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">StateDemo</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">super</span><span class="token punctuation">(</span>props<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">this</span><span class="token punctuation">.</span>state <span class="token operator">=</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">count</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span>
      <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>p<span class="token operator">&gt;</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>count<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>button onClick<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>increase<span class="token punctuation">}</span><span class="token operator">&gt;</span>ç´¯åŠ <span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token function-variable function">increase</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token comment">// setState å¯èƒ½æ˜¯å¼‚æ­¥æ›´æ–°ï¼ˆä¹Ÿæœ‰å¯èƒ½æ˜¯åŒæ­¥æ›´æ–°ï¼‰</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span>
      <span class="token punctuation">{</span>
        <span class="token literal-property property">count</span><span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>count <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token comment">// è”æƒ³ Vue $nextTick - DOM</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'count by callback'</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>count<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// å›è°ƒå‡½æ•°ä¸­å¯ä»¥æ‹¿åˆ°æœ€æ–°çš„ state</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'count'</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>count<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// å¼‚æ­¥çš„ï¼Œæ‹¿ä¸åˆ°æœ€æ–°å€¼</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> StateDemo<span class="token punctuation">;</span>
</code></pre></div><p><strong>æ­¤æ—¶æµè§ˆå™¨çš„æ˜¾ç¤ºæ•ˆæœä¸ºï¼š</strong></p> <p><img src="https://img-blog.csdnimg.cn/f5d75ad5f1c24c6587b7d953d111e123.gif#pic_center" alt="å¼‚æ­¥æ›´æ–°â‘ "></p> <p>å¤§å®¶å¯ä»¥çœ‹åˆ°ï¼Œ<code>this.state</code> å‰åŠéƒ¨åˆ†å¹¶ä¸èƒ½åŒä¸€æ—¶é—´å¾—åˆ°æ›´æ–°ï¼Œæ‰€ä»¥å®ƒæ˜¯å¼‚æ­¥æ“ä½œã€‚è€Œåé¢çš„ç®­å¤´å‡½æ•°ä¸­çš„å†…å®¹å¯ä»¥å¾—åˆ°<strong>åŒæ­¥æ›´æ–°</strong>ï¼Œæ‰€ä»¥åé¢å‡½æ•°çš„éƒ¨åˆ†æ˜¯<strong>åŒæ­¥æ“ä½œ</strong>ã€‚</p> <hr> <p>å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œ <code>setTimeout</code> åœ¨ <code>setState</code> ä¸­æ˜¯<strong>åŒæ­¥çš„</strong>ã€‚<strong>æ¥çœ‹ä¸€æ®µä»£ç ï¼š</strong></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">'react'</span><span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">StateDemo</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">super</span><span class="token punctuation">(</span>props<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">this</span><span class="token punctuation">.</span>state <span class="token operator">=</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">count</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span>
      <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>p<span class="token operator">&gt;</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>count<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>button onClick<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>increase<span class="token punctuation">}</span><span class="token operator">&gt;</span>ç´¯åŠ <span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token function-variable function">increase</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token comment">// setTimeout ä¸­ setState æ˜¯åŒæ­¥çš„</span>
    <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        <span class="token literal-property property">count</span><span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>count <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'count in setTimeout'</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>count<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> StateDemo<span class="token punctuation">;</span>
</code></pre></div><p>æ­¤æ—¶ï¼Œ<strong>æµè§ˆå™¨çš„æ˜¾ç¤ºæ•ˆæœä¸ºï¼š</strong></p> <p><img src="https://img-blog.csdnimg.cn/120804caad314254962f8d3d4458704c.gif#pic_center" alt="å¼‚æ­¥æ›´æ–°â‘¡"></p> <hr> <p>è¿˜æœ‰ä¸€ä¸ªè¦æ³¨æ„çš„ç‚¹æ˜¯ï¼Œå¦‚æœæ˜¯è‡ªå·±å®šä¹‰çš„ <code>DOM</code> äº‹ä»¶ï¼Œé‚£ä¹ˆåœ¨ <code>setState</code> ä¸­æ˜¯åŒæ­¥çš„ï¼Œç”¨åœ¨ <code>componentDidMount</code> ä¸­ã€‚</p> <p>å¦‚æœæ˜¯é”€æ¯äº‹ä»¶ï¼Œé‚£ä¹ˆç”¨åœ¨ <code>componentWillMount</code> ç”Ÿå‘½å‘¨æœŸä¸­ã€‚<strong>ä»£ç å¦‚ä¸‹ï¼š</strong></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">'react'</span><span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">StateDemo</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">super</span><span class="token punctuation">(</span>props<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">this</span><span class="token punctuation">.</span>state <span class="token operator">=</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">count</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span>
      <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>p<span class="token operator">&gt;</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>count<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>button onClick<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>increase<span class="token punctuation">}</span><span class="token operator">&gt;</span>ç´¯åŠ <span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token function-variable function">bodyClickHandler</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token literal-property property">count</span><span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>count <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'count in body event'</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>count<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token function">componentDidMount</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// è‡ªå·±å®šä¹‰çš„ DOM äº‹ä»¶ï¼ŒsetState æ˜¯åŒæ­¥çš„</span>
    document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>bodyClickHandler<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token function">componentWillUnmount</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// åŠæ—¶é”€æ¯è‡ªå®šä¹‰ DOM äº‹ä»¶</span>
    document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">removeEventListener</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>bodyClickHandler<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// clearTimeout</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> StateDemo<span class="token punctuation">;</span>
</code></pre></div><p><strong>æ­¤æ—¶æµè§ˆå™¨çš„æ˜¾ç¤ºæ•ˆæœä¸ºï¼š</strong></p> <p><img src="https://img-blog.csdnimg.cn/a9bc6dc997da49459476a288c0eae005.gif#pic_center" alt="å¼‚æ­¥æ›´æ–°â‘¢"></p> <h3 id="_3-å¯èƒ½ä¼šè¢«åˆå¹¶"><a href="#_3-å¯èƒ½ä¼šè¢«åˆå¹¶" class="header-anchor">#</a> ï¼ˆ3ï¼‰å¯èƒ½ä¼šè¢«åˆå¹¶</h3> <p><code>setState</code> åœ¨ä¼ å…¥å¯¹è±¡æ—¶ï¼Œ<strong>æ›´æ–°å‰</strong>ä¼šè¢«åˆå¹¶ã€‚<strong>æ¥çœ‹ä¸€æ®µä»£ç ï¼š</strong></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">'react'</span><span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">StateDemo</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">super</span><span class="token punctuation">(</span>props<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">this</span><span class="token punctuation">.</span>state <span class="token operator">=</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">count</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span>
      <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>p<span class="token operator">&gt;</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>count<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>button onClick<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>increase<span class="token punctuation">}</span><span class="token operator">&gt;</span>ç´¯åŠ <span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token function-variable function">increase</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token comment">// ä¼ å…¥å¯¹è±¡ï¼Œä¼šè¢«åˆå¹¶ï¼ˆç±»ä¼¼ Object.assign ï¼‰ã€‚æ‰§è¡Œç»“æœåªä¸€æ¬¡ +1</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token literal-property property">count</span><span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>count <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token literal-property property">count</span><span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>count <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token literal-property property">count</span><span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>count <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> StateDemo<span class="token punctuation">;</span>
</code></pre></div><p><strong>æ­¤æ—¶æµè§ˆå™¨çš„æ˜¾ç¤ºæ•ˆæœä¸ºï¼š</strong></p> <p><img src="https://img-blog.csdnimg.cn/8b0101fd34af407aa0f42be1b37b35b4.gif#pic_center" alt="ä¼ å…¥å¯¹è±¡ï¼Œä¼šè¢«åˆå¹¶"></p> <p>æœ‰å°ä¼™ä¼´å¯èƒ½ä¼šè§‰å¾—ï¼Œä¸€ä¸‹å­å¤šä¸ªä¸‰ä¸ª <code>setState</code> ï¼Œé‚£ç»“æœåº”è¯¥æ˜¯ <code>+3</code> æ‰æ˜¯ã€‚ä½†å…¶å®ï¼Œå¦‚æœä¼ å…¥çš„æ˜¯å¯¹è±¡ï¼Œé‚£ä¹ˆç»“æœä¼šæŠŠä¸‰ä¸ªåˆå¹¶ä¸ºä¸€ä¸ªï¼Œæœ€ç»ˆ<strong>åªæ‰§è¡Œä¸€æ¬¡</strong>ã€‚</p> <hr> <p>è¿˜æœ‰å¦å¤–ä¸€ç§æƒ…å†µï¼Œå¦‚æœä¼ å…¥çš„æ˜¯<strong>å‡½</strong>æ•°ï¼Œé‚£ä¹ˆç»“æœä¸ä¼šè¢«åˆå¹¶ã€‚<strong>æ¥çœ‹ä¸€æ®µä»£ç ï¼š</strong></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">'react'</span><span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">StateDemo</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">super</span><span class="token punctuation">(</span>props<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">this</span><span class="token punctuation">.</span>state <span class="token operator">=</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">count</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span>
      <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>p<span class="token operator">&gt;</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>count<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>button onClick<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>increase<span class="token punctuation">}</span><span class="token operator">&gt;</span>ç´¯åŠ <span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token function-variable function">increase</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token comment">// ä¼ å…¥å‡½æ•°ï¼Œä¸ä¼šè¢«åˆå¹¶ã€‚æ‰§è¡Œç»“æœæ˜¯ +3</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">prevState<span class="token punctuation">,</span> props</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">count</span><span class="token operator">:</span> prevState<span class="token punctuation">.</span>count <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">prevState<span class="token punctuation">,</span> props</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">count</span><span class="token operator">:</span> prevState<span class="token punctuation">.</span>count <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">prevState<span class="token punctuation">,</span> props</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">count</span><span class="token operator">:</span> prevState<span class="token punctuation">.</span>count <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> StateDemo<span class="token punctuation">;</span>
</code></pre></div><p><strong>æ­¤æ—¶æµè§ˆå™¨çš„æ˜¾ç¤ºæ•ˆæœä¸ºï¼š</strong></p> <p><img src="https://img-blog.csdnimg.cn/253f42fb656a47c0a7a42519f1482e58.gif#pic_center" alt="ä¼ å…¥å‡½æ•°ï¼Œç»“æœä¸ä¼šè¢«åˆå¹¶"></p> <p>å¤§å®¶å¯ä»¥çœ‹åˆ°ï¼Œå¦‚æœä¼ å…¥çš„æ˜¯<strong>å‡½æ•°</strong>ï¼Œé‚£ä¹ˆç»“æœä¸€ä¸‹å­å°±<strong>æ‰§è¡Œä¸‰æ¬¡</strong>äº†ã€‚</p> <h2 id="_8ã€ç»„ä»¶ç”Ÿå‘½å‘¨æœŸ"><a href="#_8ã€ç»„ä»¶ç”Ÿå‘½å‘¨æœŸ" class="header-anchor">#</a> 8ã€ç»„ä»¶ç”Ÿå‘½å‘¨æœŸ</h2> <p><code>react</code> çš„ç»„ä»¶ç”Ÿå‘½å‘¨æœŸï¼Œæœ‰<strong>å•ç»„ä»¶å£°æ˜å‘¨æœŸ</strong>å’Œ<strong>çˆ¶å­ç»„ä»¶å£°æ˜å‘¨æœŸ</strong>ã€‚å…¶ä¸­ï¼Œ<strong>çˆ¶å­ç»„ä»¶ç”Ÿå‘½å‘¨æœŸ</strong>ä¸ <code>Vue</code> ç±»ä¼¼ã€‚</p> <p>è¿™é‡Œé™„ä¸Šä¸€ä¸ªç”Ÿå‘½å‘¨æœŸç›¸å…³çš„ç½‘ç«™ï¼šhttps://projects.wojtekmaj.pl/react-lifecycle-methods-diagram/</p> <p><strong>ä¸‹é¢é™„ä¸Šç”Ÿå‘½å‘¨æœŸçš„å›¾ï¼š</strong></p> <p><img src="https://img-blog.csdnimg.cn/3475e5e45db54146978e5ba33b96df66.png#pic_center" alt="reactçš„ç”Ÿå‘½å‘¨æœŸ"></p> <h1 id="ğŸ“–-äºŒã€react-é«˜çº§ç‰¹æ€§"><a href="#ğŸ“–-äºŒã€react-é«˜çº§ç‰¹æ€§" class="header-anchor">#</a> ğŸ“– äºŒã€React é«˜çº§ç‰¹æ€§</h1> <h2 id="_1ã€å‡½æ•°ç»„ä»¶"><a href="#_1ã€å‡½æ•°ç»„ä»¶" class="header-anchor">#</a> 1ã€å‡½æ•°ç»„ä»¶</h2> <p>æˆ‘ä»¬å…ˆæ¥äº†è§£ <code>class</code> ç»„ä»¶å’Œå‡½æ•°ç»„ä»¶åˆ†åˆ«æ˜¯ä»€ä¹ˆæ ·çš„ã€‚å…ˆçœ‹ <code>class</code> ç»„ä»¶ï¼Œ<strong>ä»£ç å¦‚ä¸‹ï¼š</strong></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// class ç»„ä»¶</span>
<span class="token keyword">class</span> <span class="token class-name">List</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">super</span><span class="token punctuation">(</span>props<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token function">redner</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> <span class="token punctuation">{</span> list <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">;</span>

    <span class="token keyword">return</span> <span class="token punctuation">(</span>
      <span class="token operator">&lt;</span>ul<span class="token operator">&gt;</span>
        <span class="token punctuation">{</span>list<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">item<span class="token punctuation">,</span> index</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
          <span class="token keyword">return</span> <span class="token punctuation">(</span>
            <span class="token operator">&lt;</span>li key<span class="token operator">=</span><span class="token punctuation">{</span>item<span class="token punctuation">.</span>id<span class="token punctuation">}</span><span class="token operator">&gt;</span>
              <span class="token operator">&lt;</span>span<span class="token operator">&gt;</span><span class="token punctuation">{</span>item<span class="token punctuation">.</span>title<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>span<span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span><span class="token operator">/</span>li<span class="token operator">&gt;</span>
          <span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">}</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>ul<span class="token operator">&gt;</span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p><strong>å‡½æ•°ç»„ä»¶</strong>çš„å½¢å¼å¦‚ä¸‹ï¼š</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// å‡½æ•°ç»„ä»¶</span>
<span class="token keyword">function</span> <span class="token function">List</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">{</span> list <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">;</span>

  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&lt;</span>ul<span class="token operator">&gt;</span>
      <span class="token punctuation">{</span>list<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">item<span class="token punctuation">,</span> idnex</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token punctuation">(</span>
          <span class="token operator">&lt;</span>li key<span class="token operator">=</span><span class="token punctuation">{</span>item<span class="token punctuation">.</span>id<span class="token punctuation">}</span><span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>span<span class="token operator">&gt;</span><span class="token punctuation">{</span>item<span class="token punctuation">.</span>title<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>span<span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span><span class="token operator">/</span>li<span class="token operator">&gt;</span>
        <span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">}</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>ul<span class="token operator">&gt;</span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>ç°åœ¨æˆ‘ä»¬æ¥æ¢³ç†ä»¥ä¸‹ï¼Œ <code>class</code> ç»„ä»¶å’Œå‡½æ•°ç»„ä»¶ä¸¤è€…ä¹‹é—´çš„åŒºåˆ«ã€‚æ‰€è°“å‡½æ•°ç»„ä»¶ï¼Œ<strong>å…·æœ‰ä»¥ä¸‹ç‰¹ç‚¹ï¼š</strong></p> <ul><li>åªæ˜¯ä¸€ä¸ª<strong>çº¯å‡½æ•°</strong>ï¼Œå®ƒè¾“å…¥çš„æ˜¯ <code>props</code> ï¼Œè¾“å‡ºçš„æ˜¯ <code>JSX</code> ï¼›</li> <li>å‡½æ•°ç»„ä»¶<strong>æ²¡æœ‰å®ä¾‹</strong>ï¼Œ<strong>æ²¡æœ‰ç”Ÿå‘½å‘¨æœŸ</strong>ï¼Œä¹Ÿ<strong>æ²¡æœ‰ state</strong> ï¼›</li> <li>å‡½æ•°ç»„ä»¶<strong>ä¸èƒ½æ‰©å±•å…¶ä»–æ–¹æ³•</strong>ã€‚</li></ul> <p>ç›¸ååœ°ï¼Œ <code>class</code> ç»„ä»¶å°±æ‹¥æœ‰å‡½æ•°ç»„ä»¶ç›¸å¼‚çš„ç‰¹ç‚¹ã€‚</p> <h2 id="_2ã€éå—æ§ç»„ä»¶"><a href="#_2ã€éå—æ§ç»„ä»¶" class="header-anchor">#</a> 2ã€éå—æ§ç»„ä»¶</h2> <p>åœ¨ä¸Šè¿°è¡¨å•æ¨¡å—ï¼Œæˆ‘ä»¬è°ˆè®ºåˆ°äº†å—æ§ç»„ä»¶ï¼Œé‚£æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å°±æ¥è°ˆè®º<strong>éå—æ§ç»„ä»¶</strong>ã€‚</p> <p>æ‰€è°“<strong>éå—æ§ç»„ä»¶</strong>ï¼Œå°±æ˜¯ <code>input</code> é‡Œé¢çš„å€¼ï¼Œä¸å—åˆ° <code>state</code> çš„æ§åˆ¶ã€‚ä¸‹é¢æˆ‘ä»¬å…ˆæ¥çœ‹å‡ ç§åœºæ™¯ã€‚</p> <h3 id="_1-input"><a href="#_1-input" class="header-anchor">#</a> ï¼ˆ1ï¼‰input</h3> <p><strong>å…ˆæ¥çœ‹ä¸€æ®µä»£ç ï¼š</strong></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">'react'</span><span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">App</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">super</span><span class="token punctuation">(</span>props<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>state <span class="token operator">=</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'æ˜ŸæœŸä¸€ç ”ç©¶å®¤'</span><span class="token punctuation">,</span>
      <span class="token literal-property property">flag</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>nameInputRef <span class="token operator">=</span> React<span class="token punctuation">.</span><span class="token function">createRef</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// åˆ›å»º ref</span>
  <span class="token punctuation">}</span>
  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// input defaultValue</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span>
      <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
        <span class="token punctuation">{</span><span class="token comment">/* ä½¿ç”¨ defaultValue è€Œä¸æ˜¯ value ï¼Œä½¿ç”¨ ref */</span><span class="token punctuation">}</span>
        <span class="token operator">&lt;</span>input defaultValue<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>name<span class="token punctuation">}</span> ref<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>nameInputRef<span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
        <span class="token punctuation">{</span><span class="token comment">/* state å¹¶ä¸ä¼šéšç€æ”¹å˜ */</span><span class="token punctuation">}</span>
        <span class="token operator">&lt;</span>span<span class="token operator">&gt;</span>state<span class="token punctuation">.</span>name<span class="token operator">:</span> <span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>name<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>span<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>br <span class="token operator">/</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>button onClick<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>alertName<span class="token punctuation">}</span><span class="token operator">&gt;</span>alert name<span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token function-variable function">alertName</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> elem <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>nameInputRef<span class="token punctuation">.</span>current<span class="token punctuation">;</span> <span class="token comment">// é€šè¿‡ ref è·å– DOM èŠ‚ç‚¹</span>
    <span class="token function">alert</span><span class="token punctuation">(</span>elem<span class="token punctuation">.</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ä¸æ˜¯ this.state.name</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> App<span class="token punctuation">;</span>
</code></pre></div><p><strong>æ­¤æ—¶æµè§ˆå™¨çš„æ˜¾ç¤ºæ•ˆæœä¸ºï¼š</strong></p> <p><img src="https://img-blog.csdnimg.cn/4061ca8e070b46c0ad5bf8185eb48e54.gif#pic_center" alt="inputValue"></p> <p>å¤§å®¶å¯ä»¥çœ‹åˆ°ï¼Œå¦‚æœ<strong>æ˜¯éå—æ§ç»„ä»¶</strong>ï¼Œé‚£ä¹ˆéœ€è¦ä½¿ç”¨ <code>defaultValue</code> å»æ§åˆ¶ç»„ä»¶çš„å€¼ã€‚ä¸”æœ€ç»ˆ <code>input</code> æ¡†é‡Œé¢çš„å†…å®¹ä¸è®ºæˆ‘ä»¬æ€ä¹ˆæ”¹å˜ï¼Œéƒ½ä¸ä¼šå½±å“åˆ° <code>state</code> çš„å€¼ã€‚</p> <h3 id="_2-checkbox"><a href="#_2-checkbox" class="header-anchor">#</a> ï¼ˆ2ï¼‰checkbox</h3> <p>å¯¹äºå¤é€‰æ¡† <code>checkbox</code> æ¥è¯´ï¼Œ<strong>å…ˆçœ‹ä»¥ä¸‹ä»£ç ï¼š</strong></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">'react'</span><span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">App</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">super</span><span class="token punctuation">(</span>props<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>state <span class="token operator">=</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'æ˜ŸæœŸä¸€ç ”ç©¶å®¤'</span><span class="token punctuation">,</span>
      <span class="token literal-property property">flag</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// checkbox defaultChecked</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span>
      <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>input type<span class="token operator">=</span><span class="token string">'checkbox'</span> defaultChecked<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>flag<span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>p<span class="token operator">&gt;</span>state<span class="token punctuation">.</span>name<span class="token operator">:</span> <span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>flag <span class="token operator">===</span> <span class="token boolean">true</span> <span class="token operator">?</span> <span class="token string">'true'</span> <span class="token operator">:</span> <span class="token string">'false'</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> App<span class="token punctuation">;</span>
</code></pre></div><p><strong>æ­¤æ—¶æµè§ˆå™¨çš„æ˜¾ç¤ºæ•ˆæœå¦‚ä¸‹ï¼š</strong></p> <p><img src="https://img-blog.csdnimg.cn/eaaf263c779c4ed7a554945989ffbe8e.gif#pic_center" alt="checkbox"></p> <p>å¤§å®¶å¯ä»¥çœ‹åˆ°ï¼Œå¤é€‰æ¡†å¦‚æœå½“éå—æ§ç»„ä»¶æ¥ä½¿ç”¨çš„ä½¿ç”¨ï¼Œé‚£ä¹ˆä½¿ç”¨ <code>defaultCkecked</code> æ¥å¯¹å€¼è¿›è¡Œæ§åˆ¶ã€‚åŒæ—¶ï¼Œæˆ‘ä»¬ä¹Ÿçœ‹åˆ°äº†ï¼Œæœ€ç»ˆä¸ç®¡ <code>checked</code> çš„å€¼å¦‚ä½•æ”¹å˜ï¼Œ <code>state</code> çš„å€¼éƒ½ä¸å—å½±å“ã€‚</p> <h3 id="_3-file"><a href="#_3-file" class="header-anchor">#</a> ï¼ˆ3ï¼‰file</h3> <p><strong>å…ˆæ¥çœ‹ä¸€æ®µä»£ç ï¼š</strong></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">'react'</span><span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">App</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">super</span><span class="token punctuation">(</span>props<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>state <span class="token operator">=</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'æ˜ŸæœŸä¸€ç ”ç©¶å®¤'</span><span class="token punctuation">,</span>
      <span class="token literal-property property">flag</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>fileInputRef <span class="token operator">=</span> React<span class="token punctuation">.</span><span class="token function">createRef</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// file</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span>
      <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>input type<span class="token operator">=</span><span class="token string">'file'</span> ref<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>fileInputRef<span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>button onClick<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>alertFile<span class="token punctuation">}</span><span class="token operator">&gt;</span>alert file<span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token function-variable function">alertFile</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> elem <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>fileInputRef<span class="token punctuation">.</span>current<span class="token punctuation">;</span> <span class="token comment">// é€šè¿‡ ref è·å– DOM èŠ‚ç‚¹</span>
    <span class="token function">alert</span><span class="token punctuation">(</span>elem<span class="token punctuation">.</span>files<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> App<span class="token punctuation">;</span>
</code></pre></div><p><strong>æ­¤æ—¶æµè§ˆå™¨çš„æ˜¾ç¤ºæ•ˆæœä¸ºï¼š</strong></p> <p><img src="https://img-blog.csdnimg.cn/1ba7144a7cfe48f5a42868731a84ffe2.gif#pic_center" alt="file"></p> <p>åœ¨ä¸Šé¢çš„ä»£ç ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨é€šè¿‡ <code>ref</code> å»è·å– <code>DOM</code> èŠ‚ç‚¹ï¼Œæ¥ç€å»è·å–åˆ°æ–‡ä»¶çš„åå­—ã€‚åƒ <code>file</code> è¿™ç§ç±»å‹çš„å›ºå®šï¼Œå€¼å¹¶ä¸ä¼šä¸€ç›´å›ºå®šçš„ï¼Œæ‰€ä»¥ä¹Ÿæ˜¯ä¸€ä¸ª<strong>éå—æ§ç»„ä»¶</strong>ã€‚</p> <h3 id="_4-æ€»ç»“æ¢³ç†"><a href="#_4-æ€»ç»“æ¢³ç†" class="header-anchor">#</a> ï¼ˆ4ï¼‰æ€»ç»“æ¢³ç†</h3> <p><code>setState</code> åªèƒ½å¤„ç†ç±»ä¼¼äºå‰ç«¯çš„æ˜¾ç¤ºå’Œæ¸²æŸ“ç›¸å…³çš„ï¼Œåƒæ–‡ä»¶ä¸Šä¼ è¿™ç§äº¤äº’ç±»å‹çš„å°±å¤„ç†ä¸äº†ã€‚ä¸‹é¢æˆ‘ä»¬æ¥æ¢³ç†ä¸‹<strong>éå—æ§ç»„ä»¶çš„å‡ å¤§ä½¿ç”¨åœºæ™¯</strong>ã€‚<strong>å…·ä½“å¦‚ä¸‹ï¼š</strong></p> <ul><li>å¿…é¡»æ‰‹åŠ¨æ“ä½œ <code>DOM</code> å…ƒç´ ï¼Œ <code>setState</code> å¹¶æ— æ³•æ‰‹åŠ¨æ“ä½œ <code>DOM</code> å…ƒç´ ï¼›</li> <li>æ–‡ä»¶ä¸Šä¼ ç±»å‹ <code>&lt;input type=file&gt;</code> ï¼›</li> <li>æŸäº›å¯Œæ–‡æœ¬ç¼–è¾‘å™¨ï¼Œéœ€è¦ä¼ å…¥ <code>DOM</code> å…ƒç´ ã€‚</li></ul> <p>å—æ§ç»„ä»¶ vs éå—æ§ç»„ä»¶çš„<strong>åŒºåˆ«å¦‚ä¸‹ï¼š</strong></p> <ul><li>ä¼˜å…ˆä½¿ç”¨<strong>å—æ§ç»„ä»¶</strong>ï¼Œç¬¦åˆ <code>React</code> è®¾è®¡åŸåˆ™ï¼›</li> <li>å¿…é¡»æ“ä½œ <code>DOM</code> æ—¶ï¼Œå†ä½¿ç”¨<strong>éå—æ§ç»„ä»¶</strong>ã€‚</li></ul> <h2 id="_3ã€protals"><a href="#_3ã€protals" class="header-anchor">#</a> 3ã€Protals</h2> <h3 id="_1-ä¸ºä»€ä¹ˆè¦ç”¨-protals"><a href="#_1-ä¸ºä»€ä¹ˆè¦ç”¨-protals" class="header-anchor">#</a> ï¼ˆ1ï¼‰ä¸ºä»€ä¹ˆè¦ç”¨ Protals ï¼Ÿ</h3> <p>ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œç»„ä»¶é»˜è®¤ä¼šæŒ‰ç…§<strong>æ—¢å®šå±‚æ¬¡</strong>åµŒå¥—æ¸²æŸ“ã€‚<strong>ç±»ä¼¼ä¸‹é¢è¿™æ ·ï¼š</strong></p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>root<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>model<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>Modalå†…å®¹<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>å¤§å®¶å¯ä»¥çœ‹åˆ°ï¼Œè¿™æ ·ä¸æ–­åµŒå¥—ï¼Œä½†é‡Œé¢å´åªæœ‰ä¸€å±‚åŒºåŸŸçš„å†…å®¹æ˜¯æœ‰ç”¨çš„ã€‚ä»æŸç§ç¨‹åº¦ä¸Šæ¥è¯´ï¼Œæ˜¯éå¸¸ä¸å¥½çš„ã€‚é‚£æˆ‘ä»¬æƒ³åšçš„äº‹æƒ…æ˜¯ï¼Œ<strong>å¦‚ä½•è®©ç»„ä»¶æ¸²æŸ“åˆ°çˆ¶ç»„ä»¶ä»¥å¤–</strong>å‘¢ï¼Ÿ</p> <p>è¿™ä¸ªæ—¶å€™å°±éœ€è¦ç”¨åˆ° <code>Protals</code> ã€‚</p> <h3 id="_2-å¦‚ä½•ä½¿ç”¨"><a href="#_2-å¦‚ä½•ä½¿ç”¨" class="header-anchor">#</a> ï¼ˆ2ï¼‰å¦‚ä½•ä½¿ç”¨</h3> <p><strong>å…ˆæ¥çœ‹ä¸€æ®µä»£ç ï¼š</strong></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">'react'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> ReactDOM <span class="token keyword">from</span> <span class="token string">'react-dom'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token string">'./style.css'</span><span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">App</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">super</span><span class="token punctuation">(</span>props<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>state <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// æ­£å¸¸æ¸²æŸ“</span>
    <span class="token comment">// return &lt;div className=&quot;modal&quot;&gt;</span>
    <span class="token comment">//     {this.props.children} {/* vue slot */}</span>
    <span class="token comment">// &lt;/div&gt;</span>

    <span class="token comment">// ä½¿ç”¨ Portals æ¸²æŸ“åˆ° body ä¸Šã€‚</span>
    <span class="token comment">// fixed å…ƒç´ è¦æ”¾åœ¨ body ä¸Šï¼Œæœ‰æ›´å¥½çš„æµè§ˆå™¨å…¼å®¹æ€§ã€‚</span>
    <span class="token keyword">return</span> ReactDOM<span class="token punctuation">.</span><span class="token function">createPortal</span><span class="token punctuation">(</span>
      <span class="token operator">&lt;</span>div className<span class="token operator">=</span><span class="token string">'modal'</span><span class="token operator">&gt;</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span>children<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span><span class="token punctuation">,</span>
      document<span class="token punctuation">.</span>body <span class="token comment">// DOM èŠ‚ç‚¹</span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> App<span class="token punctuation">;</span>
</code></pre></div><p><strong>style.css ä»£ç å¦‚ä¸‹ï¼š</strong></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token punctuation">.</span>modal <span class="token punctuation">{</span>
    <span class="token literal-property property">position</span><span class="token operator">:</span> fixed<span class="token punctuation">;</span>
    <span class="token literal-property property">width</span><span class="token operator">:</span> 300px<span class="token punctuation">;</span>
    <span class="token literal-property property">height</span><span class="token operator">:</span> 100px<span class="token punctuation">;</span>
    <span class="token literal-property property">top</span><span class="token operator">:</span> 100px<span class="token punctuation">;</span>
    <span class="token literal-property property">left</span><span class="token operator">:</span> <span class="token number">50</span><span class="token operator">%</span><span class="token punctuation">;</span>
    margin<span class="token operator">-</span>left<span class="token operator">:</span> <span class="token operator">-</span>150px<span class="token punctuation">;</span>
    background<span class="token operator">-</span>color<span class="token operator">:</span> #<span class="token number">000</span><span class="token punctuation">;</span>
    <span class="token comment">/* opacity: .2; */</span>
    <span class="token literal-property property">color</span><span class="token operator">:</span> #fff<span class="token punctuation">;</span>
    text<span class="token operator">-</span>align<span class="token operator">:</span> center<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>æ­¤æ—¶ï¼Œæˆ‘ä»¬æ¥çœ‹ä¸‹æµè§ˆå™¨èŠ‚ç‚¹çš„æ¸²æŸ“æ•ˆæœã€‚<strong>å…·ä½“å¦‚ä¸‹ï¼š</strong></p> <p><img src="https://img-blog.csdnimg.cn/dfd9a88d62b14d59ab4a02666741dea9.png#pic_center" alt="Protals"></p> <p>å¤§å®¶å¯ä»¥çœ‹åˆ°ï¼Œé€šè¿‡ä½¿ç”¨ <code>ReactDOM.createPortal()</code> ï¼Œæ¥åˆ›å»º <code>Portals</code> ã€‚æœ€ç»ˆ <code>modals</code> èŠ‚ç‚¹æˆåŠŸè„±ç¦»å¼€<strong>çˆ¶ç»„ä»¶</strong>ï¼Œå¹¶æ¸²æŸ“åˆ°ç»„ä»¶å¤–éƒ¨ã€‚</p> <h3 id="_3-ä½¿ç”¨åœºæ™¯"><a href="#_3-ä½¿ç”¨åœºæ™¯" class="header-anchor">#</a> ï¼ˆ3ï¼‰ä½¿ç”¨åœºæ™¯</h3> <p>ç°åœ¨ï¼Œæˆ‘ä»¬æ¥æ¢³ç†ä¸€äº› <code>Protals</code> å¸¸è§çš„åœºæ™¯ã€‚</p> <p><code>protals</code> å¸¸ç”¨äºè§£å†³ä¸€äº› <code>css</code> å…¼å®¹æ€§é—®é¢˜ã€‚é€šå¸¸ä½¿ç”¨åœºæ™¯æœ‰ï¼š</p> <ul><li><code>overflow:hidden;</code> è§¦å‘ <code>bfc</code> ï¼›</li> <li>çˆ¶ç»„ä»¶ <code>z-index</code> å€¼å¤ªå°ï¼›</li> <li><code>position:fixed</code> éœ€è¦æ”¾åœ¨ <code>body</code> ç¬¬ä¸€å±‚çº§ã€‚</li></ul> <h2 id="_4ã€context"><a href="#_4ã€context" class="header-anchor">#</a> 4ã€context</h2> <h3 id="_1-ä½¿ç”¨åœºæ™¯"><a href="#_1-ä½¿ç”¨åœºæ™¯" class="header-anchor">#</a> ï¼ˆ1ï¼‰ä½¿ç”¨åœºæ™¯</h3> <p>æœ‰æ—¶å€™æˆ‘ä»¬ç»å¸¸ä¼šæœ‰ä¸€äº›åœºæ™¯å‡ºç°åˆ‡æ¢çš„é¢‘ç‡å¾ˆé¢‘ç¹ï¼Œæ¯”å¦‚<strong>è¯­è¨€åˆ‡æ¢</strong>ã€æˆ–è€…æ˜¯<strong>ä¸»é¢˜åˆ‡æ¢</strong>ï¼Œé‚£å¦‚ä½•æŠŠå¯¹åº”çš„åˆ‡æ¢ä¿¡æ¯ç»™æœ‰æ•ˆåœ°ä¼ é€’ç»™æ¯ä¸ªç»„ä»¶å‘¢ï¼Ÿ</p> <p>ä½¿ç”¨ <code>props</code> ï¼Œåˆæœ‰ç‚¹ç¹çï¼›ä½¿ç”¨ <code>redux</code> ï¼Œåˆå¤ªå°é¢˜å¤§åšäº†ã€‚</p> <p>å› æ­¤ï¼Œè¿™ä¸ªéœ€è¦æˆ‘ä»¬å¯ä»¥ç”¨ <code>react</code> ä¸­çš„ <code>context</code> ã€‚</p> <h3 id="_2-ä¸¾ä¾‹é˜è¿°"><a href="#_2-ä¸¾ä¾‹é˜è¿°" class="header-anchor">#</a> ï¼ˆ2ï¼‰ä¸¾ä¾‹é˜è¿°</h3> <p><strong>å…ˆæ¥çœ‹ä¸€æ®µä»£ç ï¼š</strong></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">'react'</span><span class="token punctuation">;</span>

<span class="token comment">// åˆ›å»º Context å¡«å…¥é»˜è®¤å€¼ï¼ˆä»»ä½•ä¸€ä¸ª js å˜é‡ï¼‰</span>
<span class="token keyword">const</span> ThemeContext <span class="token operator">=</span> React<span class="token punctuation">.</span><span class="token function">createContext</span><span class="token punctuation">(</span><span class="token string">'light'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// åº•å±‚ç»„ä»¶ - å‡½æ•°æ˜¯ç»„ä»¶</span>
<span class="token keyword">function</span> <span class="token function">ThemeLink</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// const theme = this.context // ä¼šæŠ¥é”™ã€‚å‡½æ•°å¼ç»„ä»¶æ²¡æœ‰å®ä¾‹ï¼Œå³æ²¡æœ‰ this</span>

  <span class="token comment">// å‡½æ•°å¼ç»„ä»¶å¯ä»¥ä½¿ç”¨ Consumer</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&lt;</span>ThemeContext<span class="token punctuation">.</span>Consumer<span class="token operator">&gt;</span>
      <span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token parameter">value</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token operator">&lt;</span>p<span class="token operator">&gt;</span>link's theme is <span class="token punctuation">{</span>value<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">&gt;</span><span class="token punctuation">}</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>ThemeContext<span class="token punctuation">.</span>Consumer<span class="token operator">&gt;</span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// åº•å±‚ç»„ä»¶ - class ç»„ä»¶</span>
<span class="token keyword">class</span> <span class="token class-name">ThemedButton</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">{</span>
  <span class="token comment">// æŒ‡å®š contextType è¯»å–å½“å‰çš„ theme contextã€‚</span>
  <span class="token comment">// static contextType = ThemeContext // ä¹Ÿå¯ä»¥ç”¨ ThemedButton.contextType = ThemeContext</span>
  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> theme <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>context<span class="token punctuation">;</span> <span class="token comment">// React ä¼šå¾€ä¸Šæ‰¾åˆ°æœ€è¿‘çš„ theme Providerï¼Œç„¶åä½¿ç”¨å®ƒçš„å€¼ã€‚</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span>
      <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>p<span class="token operator">&gt;</span>button's theme is <span class="token punctuation">{</span>theme<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
ThemedButton<span class="token punctuation">.</span>contextType <span class="token operator">=</span> ThemeContext<span class="token punctuation">;</span> <span class="token comment">// æŒ‡å®š contextType è¯»å–å½“å‰çš„ theme contextã€‚</span>

<span class="token comment">// ä¸­é—´çš„ç»„ä»¶å†ä¹Ÿä¸å¿…æŒ‡æ˜å¾€ä¸‹ä¼ é€’ theme äº†ã€‚</span>
<span class="token keyword">function</span> <span class="token function">Toolbar</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>ThemedButton <span class="token operator">/</span><span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>ThemeLink <span class="token operator">/</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">App</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">super</span><span class="token punctuation">(</span>props<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>state <span class="token operator">=</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">theme</span><span class="token operator">:</span> <span class="token string">'light'</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span>
      <span class="token operator">&lt;</span>ThemeContext<span class="token punctuation">.</span>Provider value<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>theme<span class="token punctuation">}</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>Toolbar <span class="token operator">/</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>hr <span class="token operator">/</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>button onClick<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>changeTheme<span class="token punctuation">}</span><span class="token operator">&gt;</span>change theme<span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>ThemeContext<span class="token punctuation">.</span>Provider<span class="token operator">&gt;</span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token function-variable function">changeTheme</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token literal-property property">theme</span><span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>theme <span class="token operator">===</span> <span class="token string">'light'</span> <span class="token operator">?</span> <span class="token string">'dark'</span> <span class="token operator">:</span> <span class="token string">'light'</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> App<span class="token punctuation">;</span>
</code></pre></div><p><strong>æ­¤æ—¶æµè§ˆå™¨çš„æ˜¾ç¤ºæ•ˆæœä¸ºï¼š</strong></p> <p><img src="https://img-blog.csdnimg.cn/cb4ed720010e44f78ac88a2f0be8d547.gif#pic_center" alt="Context"></p> <p>åœ¨ä¸Šå›¾ä¸­ï¼Œæˆ‘ä»¬åšåˆ°äº†ä¸»é¢˜çš„åˆ‡æ¢ã€‚ç°åœ¨ï¼Œæˆ‘ä»¬æ¥åˆ†æä¸‹ä¸Šè¿°çš„ä»£ç ã€‚</p> <p>é¦–å…ˆï¼Œæˆ‘ä»¬åˆ›å»ºäº†ä¸€ä¸ª <code>Context</code> ï¼Œä¹Ÿå°±æ˜¯ <code>ThemeContext</code> ï¼Œå¹¶ä¼ å…¥äº† <code>light</code> å€¼ã€‚</p> <p>å…¶æ¬¡ï¼Œæ ¸å¿ƒåœ¨ <code>&lt;Toolbar /&gt;</code> ç»„ä»¶ã€‚ <code>Toolbar</code> ç°æœ‰ç»„ä»¶ä¸º <code>ThemedButton</code> å’Œ <code>ThemeLink</code> ã€‚å…¶ä¸­ï¼Œæˆ‘ä»¬å…ˆæŒ‡å®š <code>ThemedButton</code> çš„ <code>contextType</code> å»è¯»å–å½“å‰çš„ <code>ThemeContext</code> ï¼Œé‚£ä¹ˆå°±å–åˆ°äº†é»˜è®¤å€¼ <code>light</code> ã€‚</p> <p>æ¥ç€ï¼Œæ¥åˆ°äº† <code>ThemeLink</code> ç»„ä»¶ã€‚ <code>ThemeLink</code> æ˜¯ä¸€ä¸ª<strong>å‡½æ•°å¼ç»„ä»¶</strong>ï¼Œå› æ­¤ï¼Œæˆ‘ä»¬å¯ä»¥ç›´æ¥ä½¿ç”¨ <code>ThemeContext.Consumer</code> æ¥å¯¹å…¶è¿›è¡Œä¼ å€¼ã€‚</p> <p>ä¸Šé¢ä¸¤ä¸ªç»„ä»¶çš„å€¼éƒ½å–åˆ°äº†ï¼Œä½†é‚£åªæ˜¯ <code>ThemeContext</code> çš„åˆå§‹å€¼ã€‚å–åˆ°å€¼äº†ä¹‹åå‘¢ï¼Œæˆ‘ä»¬è¿˜è¦ä¿®æ”¹å€¼ï¼Œ <code>React</code> ä¼šå¾€ä¸Šæ‰¾åˆ°æœ€è¿‘çš„ <code>ThemeContext.Provider</code> ï¼Œé€šè¿‡ <code>value={this.state.theme}</code> è¿™ç§æ–¹å¼ï¼Œå»ä¿®æ”¹å’Œä½¿ç”¨ <code>ThemeContext</code> æœ€ç»ˆä½¿ç”¨çš„å€¼ ã€‚</p> <h2 id="_5ã€å¼‚æ­¥ç»„ä»¶-æ‡’åŠ è½½"><a href="#_5ã€å¼‚æ­¥ç»„ä»¶-æ‡’åŠ è½½" class="header-anchor">#</a> 5ã€å¼‚æ­¥ç»„ä»¶ï¼ˆæ‡’åŠ è½½ï¼‰</h2> <p>åœ¨é¡¹ç›®å¼€å‘æ—¶ï¼Œæˆ‘ä»¬æ€»æ˜¯ä¼šä¸å¯é¿å…çš„å»åŠ è½½ä¸€äº›å¤§ç»„ä»¶ï¼Œè¿™ä¸ªæ—¶å€™å°±éœ€è¦ç”¨åˆ°<strong>å¼‚æ­¥åŠ è½½</strong>ã€‚åœ¨ <code>vue</code> ä¸­ï¼Œæˆ‘ä»¬é€šå¸¸ä½¿ç”¨ <code>import()</code> æ¥åŠ è½½å¼‚æ­¥ç»„ä»¶ï¼Œä½†åœ¨ <code>react</code> å°±ä¸è¿™ä¹ˆä½¿ç”¨äº†ã€‚</p> <p><code>React</code> é€šå¸¸ä½¿ç”¨ <code>React.lazy</code> å’Œ <code>React.Suspense</code> æ¥åŠ è½½å¤§ç»„ä»¶ã€‚</p> <p><strong>å¦‚ä¸‹ä»£ç æ‰€ç¤ºï¼š</strong></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">'react'</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> ContextDemo <span class="token operator">=</span> React<span class="token punctuation">.</span><span class="token function">lazy</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">'./ContextDemo'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">App</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">super</span><span class="token punctuation">(</span>props<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span>
      <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>p<span class="token operator">&gt;</span>å¼•å…¥ä¸€ä¸ªåŠ¨æ€ç»„ä»¶<span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>hr <span class="token operator">/</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>React<span class="token punctuation">.</span>Suspense fallback<span class="token operator">=</span><span class="token punctuation">{</span><span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>Loading<span class="token operator">...</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span><span class="token punctuation">}</span><span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span>ContextDemo <span class="token operator">/</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>React<span class="token punctuation">.</span>Suspense<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// 1. å¼ºåˆ¶åˆ·æ–°ï¼Œå¯çœ‹åˆ° loading ï¼ˆçœ‹ä¸åˆ°å°±é™åˆ¶ä¸€ä¸‹ chrome çš„ç½‘é€Ÿï¼ŒPerformanceçš„networkï¼‰</span>
    <span class="token comment">// 2. çœ‹ network çš„ js åŠ è½½</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> App<span class="token punctuation">;</span>
</code></pre></div><p>é¦–å…ˆæˆ‘ä»¬ä½¿ç”¨ <code>import</code> å»å¯¼å…¥æˆ‘ä»¬è¦åŠ è½½çš„ç»„ä»¶ã€‚ä¹‹åä½¿ç”¨ <code>React.lazy</code> å»å°†è¿™ä¸ªç»„ä»¶ç»™è¿›è¡Œæ³¨å†Œï¼Œä¹Ÿå°±æ˜¯ <code>ContextDemo</code> ã€‚æœ€åä½¿ç”¨ <code>React.Suspense</code> æ¥åŠ è½½ <code>ContextDemo</code> ã€‚è‡³æ­¤ï¼Œæˆ‘ä»¬å®Œæˆäº†è¯¥å¼‚æ­¥ç»„ä»¶çš„åŠ è½½ã€‚</p> <h2 id="_6ã€æ€§èƒ½ä¼˜åŒ–"><a href="#_6ã€æ€§èƒ½ä¼˜åŒ–" class="header-anchor">#</a> 6ã€æ€§èƒ½ä¼˜åŒ–</h2> <h3 id="_1-shouldcomponentupdate-ç®€ç§°-scu"><a href="#_1-shouldcomponentupdate-ç®€ç§°-scu" class="header-anchor">#</a> ï¼ˆ1ï¼‰shouldComponentUpdateï¼ˆç®€ç§° SCUï¼‰</h3> <p><strong>å…ˆæ¥çœ‹ä¸‹é¢è¿™ä¸€æ®µä»£ç ï¼š</strong></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token function">shouldComponentUpdate</span><span class="token punctuation">(</span><span class="token parameter">nextProps<span class="token punctuation">,</span> nextState</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>nextState<span class="token punctuation">.</span>count <span class="token operator">!==</span> <span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>count
       	<span class="token operator">||</span> nextProps<span class="token punctuation">.</span>text <span class="token operator">!==</span> <span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span>length<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token boolean">true</span> <span class="token comment">// å¯ä»¥æ¸²æŸ“</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> <span class="token boolean">false</span> <span class="token comment">// ä¸é‡å¤æ¸²æŸ“</span>
<span class="token punctuation">}</span>
</code></pre></div><p>åœ¨ <code>React</code> ä¸­ï¼Œé»˜è®¤çš„æ˜¯ï¼Œå½“çˆ¶ç»„ä»¶æœ‰æ›´æ–°ï¼Œå­ç»„ä»¶ä¹Ÿæ— æ¡ä»¶æ›´æ–°ã€‚é‚£å¦‚æœæ¯å›éƒ½è§¦å‘æ›´æ–°ï¼Œè‚¯å®šä¸å¤ªå¥½ã€‚</p> <p>å› æ­¤ï¼Œè¿™ä¸ªæ—¶å€™æˆ‘ä»¬éœ€è¦ç”¨åˆ° <code>shouldComponentUpdate</code> ï¼Œåˆ¤æ–­å½“å±æ€§æœ‰å‘ç”Ÿæ”¹å˜æ—¶ï¼Œå¯ä»¥è§¦å‘æ¸²æŸ“ã€‚å½“å±æ€§ä¸å‘ç”Ÿæ”¹å˜æ—¶ï¼Œä¹Ÿå°±æ˜¯å‰åä¸¤æ¬¡çš„å€¼ç›¸åŒæ—¶ï¼Œå°±ä¸è§¦å‘æ¸²æŸ“ã€‚</p> <p>é‚£è¿™ä¸ªæ—¶å€™æˆ‘ä»¬ éœ€è¦<strong>æ€è€ƒä¸€ä¸ªé—®é¢˜</strong>ï¼š <code>SCU</code> ä¸€å®šè¦æ¯æ¬¡éƒ½ç”¨å—ï¼Ÿç­”æ¡ˆå…¶å®<strong>ä¸æ˜¯è‚¯å®šçš„</strong>ã€‚</p> <p>æˆ‘ä»¬ä¼šå»ç”¨ <code>SCU</code> ï¼Œä»æŸç§å±‚é¢ä¸Šæ¥è®²å°±æ˜¯<strong>ä¸ºäº†ä¼˜åŒ–</strong>ã€‚å› æ­¤ï¼Œæˆ‘ä»¬éœ€è¦ä¾æ®å½“å‰çš„å¼€å‘åœºæ™¯ï¼Œæœ‰éœ€è¦çš„æ—¶å€™å†å»ä¼˜åŒ–ã€‚</p> <p>ç°åœ¨ï¼Œæˆ‘ä»¬æ¥æ€»ç»“ä¸€ä¸‹ <code>SCU</code> çš„ä½¿ç”¨æ–¹å¼ï¼Œ<strong>å…·ä½“å¦‚ä¸‹ï¼š</strong></p> <ul><li><code>SCU</code> <strong>é»˜è®¤</strong>è¿”å› <code>true</code> ï¼Œå³ <code>React</code> é»˜è®¤é‡æ–°æ¸²æŸ“æ‰€æœ‰å­ç»„ä»¶ï¼›</li> <li>å¿…é¡»é…åˆ <strong>â€œä¸å¯å˜å€¼â€</strong> ä¸€èµ·ä½¿ç”¨ï¼›</li> <li>å¯å…ˆä¸ç”¨ <code>SCU</code> ï¼Œæœ‰æ€§èƒ½é—®é¢˜æ—¶å†è€ƒè™‘ä½¿ç”¨ã€‚</li></ul> <h3 id="_2-purecomponent-å’Œ-react-memo"><a href="#_2-purecomponent-å’Œ-react-memo" class="header-anchor">#</a> ï¼ˆ2ï¼‰PureComponent å’Œ React.memo</h3> <p><code>PureComponent</code> åœ¨ <code>react</code> ä¸­çš„ä½¿ç”¨å½¢å¼å¦‚ä¸‹ï¼š</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">class</span> <span class="token class-name">List</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>PureComponent</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">super</span><span class="token punctuation">(</span>props<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> <span class="token punctuation">{</span> list <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">;</span>

    <span class="token keyword">return</span> <span class="token punctuation">(</span>
      <span class="token operator">&lt;</span>ul<span class="token operator">&gt;</span>
        <span class="token punctuation">{</span>list<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">item<span class="token punctuation">,</span> index</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
          <span class="token keyword">return</span> <span class="token punctuation">(</span>
            <span class="token operator">&lt;</span>li key<span class="token operator">=</span><span class="token punctuation">{</span>item<span class="token punctuation">.</span>id<span class="token punctuation">}</span><span class="token operator">&gt;</span>
              <span class="token operator">&lt;</span>span<span class="token operator">&gt;</span><span class="token punctuation">{</span>item<span class="token punctuation">.</span>title<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>span<span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span><span class="token operator">/</span>li<span class="token operator">&gt;</span>
          <span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">}</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>ul<span class="token operator">&gt;</span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token function">shouldComponentUpdate</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">/*æµ…æ¯”è¾ƒ*/</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>å¦‚æœæˆ‘ä»¬ä½¿ç”¨äº† <code>PureComponent</code> ï¼Œé‚£ä¹ˆ <code>SCU</code> ä¼šè¿›è¡Œ<strong>æµ…å±‚æ¯”è¾ƒ</strong>ï¼Œä¹Ÿå°±æ˜¯ä¸€å±‚ä¸€å±‚çš„æ¯”è¾ƒä¸‹å»ã€‚</p> <hr> <p>ä¸‹é¢æˆ‘ä»¬æ¥çœ‹ <code>memo</code> ã€‚ <code>memo</code> ï¼Œé¡¾åæ€ä¹‰æ˜¯<strong>å¤‡å¿˜å½•</strong>çš„æ„æ€ã€‚åœ¨ <code>React</code> ä¸­çš„<strong>ä½¿ç”¨å½¢å¼å¦‚ä¸‹ï¼š</strong></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">MyComponent</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">/* ä½¿ç”¨props æ¸²æŸ“ */</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">areEqual</span><span class="token punctuation">(</span><span class="token parameter">prevProps<span class="token punctuation">,</span> nextProps</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">/*
    å¦‚æœæŠŠ nextPropsä¼ å…¥renderæ–¹æ³•çš„è¿”å›ç»“æœ ä¸
     prePropsä¼ å…¥renderæ–¹æ³•çš„è¿”å›ç»“æœ ä¸€è‡´çš„è¯ï¼Œåˆ™è¿”å›trueï¼Œ
    å¦åˆ™è¿”å›false
    */</span>
<span class="token punctuation">}</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> React<span class="token punctuation">.</span><span class="token function">memo</span><span class="token punctuation">(</span>MyComponent<span class="token punctuation">,</span> areEqual<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><code>memo</code> ï¼Œå¯ä»¥è¯´æ˜¯å‡½æ•°ç»„ä»¶ä¸­çš„ <code>PureComponent</code> ã€‚åŒæ—¶ï¼Œä½¿ç”¨ <code>React.memo()</code> çš„å½¢å¼ï¼Œå°†æˆ‘ä»¬çš„<strong>å‡½æ•°ç»„ä»¶</strong>å’Œ <code>areEqual</code> çš„å€¼è¿›è¡Œæ¯”è¾ƒï¼Œæœ€åè¿”å›ä¸€ä¸ª<strong>æ–°çš„å‡½æ•°</strong>ã€‚</p> <p>å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œåœ¨ <code>React</code> ä¸­ï¼Œ<strong>æµ…æ¯”è¾ƒå·²ç»ä½¿ç”¨äºå¤§éƒ¨åˆ†æƒ…å†µ</strong>ï¼Œä¸€èˆ¬æƒ…å†µä¸‹ï¼Œ<strong>å°½é‡ä¸è¦åšæ·±åº¦æ¯”è¾ƒ</strong>ã€‚</p> <h3 id="_3-ä¸å¯å˜å€¼"><a href="#_3-ä¸å¯å˜å€¼" class="header-anchor">#</a> ï¼ˆ3ï¼‰ä¸å¯å˜å€¼</h3> <p>åœ¨ <code>React</code> ä¸­ï¼Œç”¨äºåšä¸å¯å˜å€¼çš„æœ‰ä¸€ä¸ªåº“ï¼š <code>Immutable.js</code> ã€‚è¿™ä¸ªåº“<strong>æœ‰ä»¥ä¸‹å‡ å¤§ç‰¹ç‚¹ï¼š</strong></p> <ul><li><p>å½»åº•æ‹¥æŠ±â€œä¸å¯å˜å€¼â€</p></li> <li><p>åŸºäºå…±äº«æ•°æ®ï¼ˆä¸æ˜¯æ·±æ‹·è´ï¼‰ï¼Œé€Ÿåº¦å¥½</p></li> <li><p>æœ‰ä¸€å®šçš„å­¦ä¹ å’Œè¿ç§»æˆæœ¬ï¼ŒæŒ‰éœ€ä½¿ç”¨</p></li></ul> <p><strong>ä¸‹é¢æ¥çœ‹ä¸€ä¸ªä½¿ç”¨ä¾‹å­ï¼š</strong></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> map1 <span class="token operator">=</span> Immutable<span class="token punctuation">.</span><span class="token function">Map</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">a</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token literal-property property">b</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token literal-property property">c</span><span class="token operator">:</span> <span class="token number">3</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> map2 <span class="token operator">=</span> map1<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">'b'</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
map1<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'b'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 2</span>
map2<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'b'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 50</span>
</code></pre></div><p>åŸºæœ¬ä¸Šç°åœ¨åœ¨å¼€å‘ä¸­éƒ½ç”¨è¿™ä¸ªåº“æ¥å¤„ç†<strong>ä¸å¯å˜å€¼</strong>çš„é—®é¢˜ã€‚åœ¨å®é™…ä½¿ç”¨ä¸­ï¼Œå¯ä»¥çœ‹å®˜æ–¹æ–‡æ¡£<strong>æŒ‰éœ€ä½¿ç”¨</strong>å³å¯ã€‚</p> <h2 id="_7ã€å…³äºç»„ä»¶å…¬å…±é€»è¾‘çš„æŠ½ç¦»"><a href="#_7ã€å…³äºç»„ä»¶å…¬å…±é€»è¾‘çš„æŠ½ç¦»" class="header-anchor">#</a> 7ã€å…³äºç»„ä»¶å…¬å…±é€»è¾‘çš„æŠ½ç¦»</h2> <p>åœ¨ <code>React</code> ä¸­ï¼Œå¯¹äºç»„ä»¶å…¬å…±é€»è¾‘çš„æŠ½ç¦»ä¸»è¦æœ‰ä¸‰ç§æ–¹å¼è¦äº†è§£ã€‚<strong>å…·ä½“å¦‚ä¸‹ï¼š</strong></p> <ul><li><code>mixin</code> ï¼Œå·²è¢« <code>React</code> å¼ƒç”¨</li> <li>é«˜é˜¶ç»„ä»¶ <code>HOC</code></li> <li>Render Props</li></ul> <p>ä¸‹é¢å°†è®²è§£é«˜é˜¶ç»„ä»¶ <code>HOC</code> å’Œ <code>Render Props</code> ã€‚</p> <h3 id="_1-é«˜é˜¶ç»„ä»¶-hoc"><a href="#_1-é«˜é˜¶ç»„ä»¶-hoc" class="header-anchor">#</a> ï¼ˆ1ï¼‰é«˜é˜¶ç»„ä»¶ HOC</h3> <p><strong>å…ˆçœ‹ä¸€æ®µä»£ç ï¼š</strong></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// é«˜é˜¶ç»„ä»¶ä¸æ˜¯ä¸€ç§åŠŸèƒ½ï¼Œè€Œæ˜¯ä¸€ç§è®¾è®¡æ¨¡å¼</span>
<span class="token comment">// 1.ä¼ å…¥ä¸€ä¸ªç»„ä»¶ Component</span>
<span class="token keyword">const</span> <span class="token function-variable function">HOCFactory</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">Component</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">class</span> <span class="token class-name">HOC</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">{</span>
        <span class="token comment">// åœ¨æ­¤å®šä¹‰å¤šä¸ªç»„ä»¶çš„å…¬å…±é€»è¾‘</span>
        <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token comment">// 2.è¿”å›æ‹¼æ¥çš„ç»“æœ</span>
            <span class="token keyword">return</span> <span class="token operator">&lt;</span>Component <span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> <span class="token constant">HOC</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> EnhancedComponent1 <span class="token operator">=</span> <span class="token function">HOCFactory</span><span class="token punctuation">(</span>WrappedComponent1<span class="token punctuation">)</span>
<span class="token keyword">const</span> EnhancedComponent2 <span class="token operator">=</span> <span class="token function">HOCFactory</span><span class="token punctuation">(</span>WrappedComponent2<span class="token punctuation">)</span>
</code></pre></div><p>é«˜é˜¶ç»„ä»¶ <code>HOC</code> æ˜¯<strong>ä¼ å…¥</strong>ä¸€ä¸ªç»„ä»¶ï¼Œ<strong>è¿”å›</strong>ä¸€ä¸ªæ–°çš„ç»„ä»¶ï¼Œè§ä¸Šæ–¹ä»£ç çš„ <code>1å’Œ2</code> ã€‚</p> <hr> <p>ä¸‹é¢æ¥çœ‹ä¸€ä¸ªä¾‹å­ï¼Œ<strong>å¦‚ä¸‹ä»£ç æ‰€ç¤ºï¼š</strong></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">'react'</span><span class="token punctuation">;</span>

<span class="token comment">// é«˜é˜¶ç»„ä»¶</span>
<span class="token keyword">const</span> <span class="token function-variable function">withMouse</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">Component</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">class</span> <span class="token class-name">withMouseComponent</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">{</span>
    <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">super</span><span class="token punctuation">(</span>props<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>state <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token literal-property property">x</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token literal-property property">y</span><span class="token operator">:</span> <span class="token number">0</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token function-variable function">handleMouseMove</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        <span class="token literal-property property">x</span><span class="token operator">:</span> event<span class="token punctuation">.</span>clientX<span class="token punctuation">,</span>
        <span class="token literal-property property">y</span><span class="token operator">:</span> event<span class="token punctuation">.</span>clientY<span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>

    <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token punctuation">(</span>
        <span class="token operator">&lt;</span>div style<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span> <span class="token literal-property property">height</span><span class="token operator">:</span> <span class="token string">'500px'</span> <span class="token punctuation">}</span><span class="token punctuation">}</span> onMouseMove<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>handleMouseMove<span class="token punctuation">}</span><span class="token operator">&gt;</span>
          <span class="token punctuation">{</span><span class="token comment">/* 1. é€ä¼ æ‰€æœ‰ props 2. å¢åŠ  mouse å±æ€§ */</span><span class="token punctuation">}</span>
          <span class="token operator">&lt;</span>Component <span class="token punctuation">{</span><span class="token operator">...</span><span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">}</span> mouse<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
      <span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> withMouseComponent<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> <span class="token function-variable function">App</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">{</span> x<span class="token punctuation">,</span> y <span class="token punctuation">}</span> <span class="token operator">=</span> props<span class="token punctuation">.</span>mouse<span class="token punctuation">;</span> <span class="token comment">// æ¥æ”¶ mouse å±æ€§</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&lt;</span>div style<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span> <span class="token literal-property property">height</span><span class="token operator">:</span> <span class="token string">'500px'</span> <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>h1<span class="token operator">&gt;</span>
        The mouse position <span class="token function">is</span> <span class="token punctuation">(</span><span class="token punctuation">{</span>x<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>y<span class="token punctuation">}</span><span class="token punctuation">)</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>h1<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">withMouse</span><span class="token punctuation">(</span>App<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// è¿”å›é«˜é˜¶å‡½æ•°</span>
</code></pre></div><p><strong>æ­¤æ—¶æµè§ˆå™¨çš„æ˜¾ç¤ºç»“æœä¸ºï¼š</strong></p> <p><img src="https://img-blog.csdnimg.cn/276b1f2d1e8443bb966d4f879b069e38.gif#pic_center" alt="é«˜é˜¶ç»„ä»¶HOC"></p> <p>åœ¨ä¸Šé¢çš„ä»£ç ä¸­ï¼Œæˆ‘ä»¬ç”¨ å®šä¹‰äº†é«˜é˜¶ç»„ä»¶ <code>withMouse</code> ï¼Œä¹‹åå®ƒé€šè¿‡ <code>&lt;Component {...this.props} mouse={this.state}/&gt;</code> è¿™ç§å½¢å¼ï¼Œå°†å‚æ•° <strong>props</strong> å’Œ <strong>props çš„ mouse å±æ€§</strong>ç»™é€ä¼ å‡ºæ¥ï¼Œä¾›å­ç»„ä»¶ <code>App</code> ä½¿ç”¨ã€‚</p> <hr> <p>å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œåœ¨ <code>react</code> ä¸­ï¼Œè¿˜æœ‰ä¸€ä¸ªæ¯”è¾ƒå¸¸è§çš„é«˜é˜¶ç»„ä»¶æ˜¯ <code>redux connect</code> ã€‚<strong>ç”¨ä¸€æ®µä»£ç æ¥æ¼”ç¤ºï¼š</strong></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> connect <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'react-redux'</span><span class="token punctuation">;</span>

<span class="token comment">// connect æ˜¯é«˜é˜¶ç»„ä»¶</span>
<span class="token keyword">const</span> VisibleTodoList <span class="token operator">=</span> <span class="token function">connect</span><span class="token punctuation">(</span>mapStateToProps<span class="token punctuation">,</span> mapDispatchToProps<span class="token punctuation">)</span><span class="token punctuation">(</span>TodoList<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> VisibleTodoList<span class="token punctuation">;</span>
</code></pre></div><p>ç°åœ¨ï¼Œæˆ‘ä»¬æ¥çœ‹ä¸‹ <code>connect</code> çš„æºç ï¼Œ<strong>å…·ä½“å¦‚ä¸‹ï¼š</strong></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function-variable function">connect</span> <span class="token operator">=</span>
  <span class="token punctuation">(</span><span class="token parameter">mapStateToProps<span class="token punctuation">,</span> mapDispatchToProps</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span><span class="token parameter">WrappedComponent</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">class</span> <span class="token class-name">Connect</span> <span class="token keyword">extends</span> <span class="token class-name">Component</span> <span class="token punctuation">{</span>
      <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">super</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>state <span class="token operator">=</span> <span class="token punctuation">{</span>
          <span class="token literal-property property">allProps</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
      <span class="token comment">/* ä¸­é—´çœç•¥ N è¡Œä»£ç  */</span>
      <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token operator">&lt;</span>WrappedComponent <span class="token punctuation">{</span><span class="token operator">...</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>allProps<span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">&gt;</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> Connect<span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><p>å¤§å®¶å¯ä»¥çœ‹åˆ°ï¼Œ <code>Connect</code> ä¹Ÿæ˜¯åŒæ ·åœ°ï¼Œä¼ å…¥ä¸€ä¸ªç»„ä»¶ï¼Œå¹¶è¿”å›ä¸€ä¸ªç»„ä»¶ã€‚</p> <h3 id="_2-render-props"><a href="#_2-render-props" class="header-anchor">#</a> ï¼ˆ2ï¼‰Render Props</h3> <p><strong>å…ˆæ¥çœ‹ä¸€æ®µä»£ç ï¼š</strong></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// Render Props çš„æ ¸å¿ƒæ€æƒ³</span>
<span class="token comment">// 1.é€šè¿‡ä¸€ä¸ªå‡½æ•°ï¼Œå°†classç»„ä»¶çš„stateä½œä¸ºpropsï¼Œä¼ é€’ç»™çº¯å‡½æ•°ç»„ä»¶</span>
<span class="token keyword">class</span> <span class="token class-name">Factory</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    tihs<span class="token punctuation">.</span>state <span class="token operator">=</span> <span class="token punctuation">{</span>
      <span class="token comment">/* state å³å¤šä¸ªç»„ä»¶çš„å…¬å…±é€»è¾‘çš„æ•°æ® */</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token comment">/* 2.ä¿®æ”¹ state */</span>
  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> <span class="token function-variable function">App</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token comment">// 3.åœ¨è¿™é‡Œä½¿ç”¨é«˜é˜¶ç»„ä»¶ï¼ŒåŒæ—¶å°†é«˜é˜¶ç»„ä»¶ä¸­çš„renderå±æ€§ä¼ é€’è¿›æ¥</span>
  <span class="token operator">&lt;</span>Factory
    render<span class="token operator">=</span><span class="token punctuation">{</span>
      <span class="token comment">/* render æ˜¯ä¸€ä¸ªå‡½æ•°ç»„ä»¶ */</span>
      <span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span>
        <span class="token operator">&lt;</span>p<span class="token operator">&gt;</span>
          <span class="token punctuation">{</span>props<span class="token punctuation">.</span>a<span class="token punctuation">}</span>
          <span class="token punctuation">{</span>props<span class="token punctuation">.</span>b<span class="token punctuation">}</span> â€¦
        <span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">&gt;</span>
      <span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token operator">/</span><span class="token operator">&gt;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> App<span class="token punctuation">;</span>
</code></pre></div><p>åœ¨ä¸Šé¢çš„é«˜é˜¶ç»„ä»¶ <code>HOC</code> ä¸­ï¼Œæœ€ç»ˆè¿”å›çš„ç»“æœä¹Ÿæ˜¯ä¸€ä¸ªé«˜é˜¶ç»„ä»¶ã€‚ä½†åœ¨ <code>Render Props</code> ä¸­ï¼Œæˆ‘ä»¬æŠŠ <code>Factory</code> åŒ…è£¹åœ¨å®šä¹‰çš„ <code>App</code> ç»„ä»¶ä¸­ï¼Œæœ€ç»ˆå†æŠŠ <code>App</code> è¿”å›ã€‚</p> <p>å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œåœ¨ <code>Vue</code> ä¸­æœ‰ç±»ä¼¼äºé«˜é˜¶ç»„ä»¶çš„ç”¨æ³•ï¼Œä½†æ²¡æœ‰åƒ <code>Render Props</code> ç±»ä¼¼çš„ç”¨æ³•ï¼Œè¿™ä¸€ç‚¹éœ€è¦ç¨å¾®ç•™æ„ä¸€ä¸‹ã€‚</p> <hr> <p>ä¸‹é¢æ¥çœ‹ä¸€ä¸ªä¾‹å­ï¼Œ<strong>å…·ä½“ä»£ç å¦‚ä¸‹ï¼š</strong></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">'react'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> PropTypes <span class="token keyword">from</span> <span class="token string">'prop-types'</span><span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">Mouse</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">super</span><span class="token punctuation">(</span>props<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>state <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token literal-property property">x</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token literal-property property">y</span><span class="token operator">:</span> <span class="token number">0</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token function-variable function">handleMouseMove</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token literal-property property">x</span><span class="token operator">:</span> event<span class="token punctuation">.</span>clientX<span class="token punctuation">,</span>
      <span class="token literal-property property">y</span><span class="token operator">:</span> event<span class="token punctuation">.</span>clientY<span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>

  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span>
      <span class="token operator">&lt;</span>div style<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span> <span class="token literal-property property">height</span><span class="token operator">:</span> <span class="token string">'500px'</span> <span class="token punctuation">}</span><span class="token punctuation">}</span> onMouseMove<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>handleMouseMove<span class="token punctuation">}</span><span class="token operator">&gt;</span>
        <span class="token punctuation">{</span><span class="token comment">/* å°†å½“å‰ state ä½œä¸º props ï¼Œä¼ é€’ç»™ render ï¼ˆrender æ˜¯ä¸€ä¸ªå‡½æ•°ç»„ä»¶ï¼‰ */</span><span class="token punctuation">}</span>
        <span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">)</span><span class="token punctuation">}</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
Mouse<span class="token punctuation">.</span>propTypes <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">render</span><span class="token operator">:</span> PropTypes<span class="token punctuation">.</span>func<span class="token punctuation">.</span>isRequired<span class="token punctuation">,</span> <span class="token comment">// å¿…é¡»æ¥æ”¶ä¸€ä¸ª render å±æ€§ï¼Œè€Œä¸”æ˜¯å‡½æ•°</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> <span class="token function-variable function">App</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span>
  <span class="token operator">&lt;</span>div style<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span> <span class="token literal-property property">height</span><span class="token operator">:</span> <span class="token string">'500px'</span> <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>Mouse
      render<span class="token operator">=</span><span class="token punctuation">{</span>
        <span class="token comment">/* render æ˜¯ä¸€ä¸ªå‡½æ•°ç»„ä»¶ */</span>
        <span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> x<span class="token punctuation">,</span> y <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span>
          <span class="token operator">&lt;</span>h1<span class="token operator">&gt;</span>
            The mouse position <span class="token function">is</span> <span class="token punctuation">(</span><span class="token punctuation">{</span>x<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>y<span class="token punctuation">}</span><span class="token punctuation">)</span>
          <span class="token operator">&lt;</span><span class="token operator">/</span>h1<span class="token operator">&gt;</span>
        <span class="token punctuation">)</span>
      <span class="token punctuation">}</span>
    <span class="token operator">/</span><span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">/**
 * å³ï¼Œå®šä¹‰äº† Mouse ç»„ä»¶ï¼Œåªæœ‰è·å– x y çš„èƒ½åŠ›ã€‚
 * è‡³äº Mouse ç»„ä»¶å¦‚ä½•æ¸²æŸ“ï¼ŒApp è¯´äº†ç®—ï¼Œé€šè¿‡ render prop çš„æ–¹å¼å‘Šè¯‰ Mouse ã€‚
 */</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> App<span class="token punctuation">;</span>
</code></pre></div><p>æ­¤æ—¶ï¼Œæµè§ˆå™¨çš„<strong>æ˜¾ç¤ºæ•ˆæœå¦‚ä¸‹ï¼š</strong></p> <p><img src="https://img-blog.csdnimg.cn/5f63b736f6784c8a8c50b9258e95bada.gif#pic_center" alt="Render Props"></p> <p>åœ¨ä¸Šé¢çš„ä»£ç ä¸­ï¼Œé€šè¿‡ <code>this.props.render(this.state)</code> è¿™ç§å½¢å¼ï¼Œå°† <code>Mouse</code> ç»„ä»¶ä¸­çš„å±æ€§ä¼ é€’ç»™ <code>App</code> ï¼Œå¹¶è®© <code>App</code> æˆåŠŸä½¿ç”¨åˆ° <code>Mouse</code> çš„å±æ€§å€¼ã€‚</p> <h3 id="_3-hoc-vs-render-props"><a href="#_3-hoc-vs-render-props" class="header-anchor">#</a> ï¼ˆ3ï¼‰HOC vs Render Props</h3> <p>ç°åœ¨ï¼Œæˆ‘ä»¬æ¥æ¢³ç†ä¸‹ <code>HOC</code> å’Œ <code>Render Props</code> çš„åŒºåˆ«ï¼Œ<strong>å…·ä½“å¦‚ä¸‹ï¼š</strong></p> <ul><li><strong>HOC</strong>ï¼šæ¨¡å¼ç®€å•ï¼Œä½†ä¼šå¢åŠ <strong>ç»„ä»¶å±‚çº§</strong></li> <li><strong>Render Props</strong>ï¼šä»£ç ç®€æ´ï¼Œå­¦ä¹ æˆæœ¬è¾ƒé«˜</li> <li>å„æœ‰å„çš„ä¼˜ç¼ºç‚¹ï¼Œæ ¹æ®å®é™…åœºæ™¯<strong>æŒ‰éœ€ä½¿ç”¨</strong>å³å¯</li></ul> <h1 id="ğŸ“š-ä¸‰ã€redux-å’Œ-react-router"><a href="#ğŸ“š-ä¸‰ã€redux-å’Œ-react-router" class="header-anchor">#</a> ğŸ“š ä¸‰ã€Redux å’Œ React-router</h1> <h2 id="_1ã€redux"><a href="#_1ã€redux" class="header-anchor">#</a> 1ã€Redux</h2> <h3 id="_1-redux-æ¦‚å¿µç®€è¿°"><a href="#_1-redux-æ¦‚å¿µç®€è¿°" class="header-anchor">#</a> ï¼ˆ1ï¼‰Redux æ¦‚å¿µç®€è¿°</h3> <p>å¯¹äº <code>react</code> æ¥è¯´ï¼Œå®ƒæ˜¯ä¸€ä¸ªéè§†å›¾å±‚çš„è½»é‡çº§æ¡†æ¶ï¼Œå¦‚æœè¦ç”¨å®ƒæ¥ä¼ é€’æ•°æ®çš„è¯ï¼Œåˆ™è¦å…ˆçˆ¶ä¼ å­ï¼Œç„¶åå†æ…¢æ…¢åœ°ä¸€å±‚ä¸€å±‚å¾€ä¸Šä¼ é€’ã€‚</p> <p>ä½†å¦‚æœç”¨ <code>redux</code> çš„è¯ï¼Œå‡è®¾æˆ‘ä»¬æƒ³è¦<strong>æŸä¸ªç»„ä»¶çš„æ•°æ®</strong>ï¼Œé‚£è¿™ä¸ªç»„ä»¶çš„æ•°æ®åˆ™ä¼šé€šè¿‡ <code>redux</code> æ¥å­˜æ”¾åˆ° <code>store</code> ä¸­è¿›è¡Œç®¡ç†ã€‚ä¹‹åå‘¢ï¼Œé€šè¿‡ <code>store</code> ï¼Œå†æ¥å°†æ•°æ®ä¸€æ­¥æ­¥åœ°å¾€ä¸‹é¢çš„ç»„ä»¶è¿›è¡Œä¼ é€’ã€‚</p> <p>å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œæˆ‘ä»¬å¯ä»¥è§† <code>Redux</code> ä¸º <code>Reducer</code> å’Œ <code>Flux</code> çš„ç»“åˆã€‚</p> <h3 id="_2-redux-çš„å·¥ä½œæµç¨‹"><a href="#_2-redux-çš„å·¥ä½œæµç¨‹" class="header-anchor">#</a> ï¼ˆ2ï¼‰Redux çš„å·¥ä½œæµç¨‹</h3> <p><code>Redux</code> ï¼Œå®é™…ä¸Šå°±æ˜¯ä¸€ä¸ª<strong>æ•°æ®å±‚</strong>çš„æ¡†æ¶ï¼Œå®ƒæŠŠæ‰€æœ‰çš„æ•°æ®éƒ½æ”¾åœ¨äº† <code>store</code> ä¹‹ä¸­ã€‚<strong>æˆ‘ä»¬å…ˆæ¥çœ‹ä¸€å¼ å›¾ï¼š</strong></p> <p><img src="https://img-blog.csdnimg.cn/img_convert/d85d3ecf4dbdfcedae11f70378161b06.png" alt="Reduxçš„å·¥ä½œæµç¨‹"></p> <p>å¤§å®¶å¯ä»¥çœ‹åˆ°ä¸­é—´çš„ <code>store</code> ï¼Œå®ƒé‡Œé¢å°±å­˜æ”¾ç€<strong>æ‰€æœ‰çš„æ•°æ®</strong>ã€‚ç»§ç»­çœ‹ <code>store</code> å‘ä¸‹çš„ç®­å¤´ï¼Œç„¶åå‘¢ï¼Œæ¯ä¸ªç»„ä»¶éƒ½è¦å‘ <code>store</code> é‡Œé¢å»æ‹¿æ•°æ®ã€‚</p> <p>æˆ‘ä»¬ç”¨ä¸€ä¸ªä¾‹å­æ¥æ¢³ç†æ•´å¼ å›¾ï¼Œ<strong>å…·ä½“å¦‚ä¸‹ï¼š</strong></p> <ul><li>â‘  æ•´å¼ å›¾ä¸Šæœ‰ä¸€ä¸ª <code>store</code> ï¼Œå®ƒå­˜æ”¾ç€æ‰€æœ‰çš„æ•°æ®ï¼Œä¹Ÿå°±æ˜¯<strong>å­˜å‚¨æ•°æ®çš„å…¬å…±åŒºåŸŸ</strong>ï¼›</li> <li>â‘¡ æ¯ä¸ªç»„ä»¶ï¼Œéƒ½è¦ä» <code>store</code> é‡Œé¢æ‹¿æ•°æ®ï¼›</li> <li>â‘¢ å‡è®¾ç°åœ¨æœ‰ä¸€ä¸ªåœºæ™¯ï¼Œæ¨¡æ‹Ÿæˆ‘ä»¬è¦åœ¨å›¾ä¹¦é¦†é‡Œé¢å€Ÿä¹¦ã€‚é‚£ä¹ˆæˆ‘ä»¬å¯ä»¥æŠŠ <code>react Component</code> ç†è§£ä¸ºå€Ÿä¹¦äººï¼Œä¹‹åå‘¢ï¼Œå€Ÿä¹¦äººè¦å»æ‰¾å›¾ä¹¦é¦†ç®¡ç†å‘˜æ‰èƒ½å€Ÿåˆ°è¿™æœ¬ä¹¦ã€‚è€Œå€Ÿä¹¦è¿™ä¸ªè¿‡ç¨‹ä¸­æ•°æ®çš„ä¼ é€’ï¼Œå°±å¯ä»¥æŠŠå®ƒè§†ä¸ºæ˜¯ <code>Action Creators</code> ï¼Œå¯ä»¥ç†è§£ä¸º <strong>â€œä½ æƒ³è¦å€Ÿä»€ä¹ˆä¹¦â€</strong> è¿™å¥è¯ã€‚</li> <li>â‘£ <code>Action Creatures</code> å»åˆ° <code>store</code> ã€‚è¿™ä¸ªæ—¶å€™æˆ‘ä»¬æŠŠ <code>store</code> å½“åšæ˜¯<strong>å›¾ä¹¦é¦†ç®¡ç†å‘˜</strong>ï¼Œä½†æ˜¯ï¼Œå›¾ä¹¦é¦†ç®¡ç†å‘˜æ˜¯æ²¡æœ‰åŠæ³•è®°ä½æ‰€æœ‰å›¾ä¹¦çš„æ•°æ®æƒ…å†µçš„ã€‚ä¸€èˆ¬æ¥è¯´ï¼Œå®ƒéƒ½éœ€è¦ä¸€ä¸ªè®°å½•æœ¬ï¼Œä½ æƒ³è¦å€Ÿä»€ä¹ˆæ ·çš„ä¹¦ï¼Œé‚£ä¹ˆå¥¹å°±å…ˆæŸ¥ä¸€ä¸‹ï¼›åˆæˆ–è€…ä½ æƒ³è¦è¿˜ä»€ä¹ˆä¹¦ï¼Œå¥¹ä¹Ÿè¦æŸ¥ä¸€ä¸‹ï¼Œéœ€è¦æ”¾å›ä»€ä¹ˆä½ç½®ä¸Šã€‚</li> <li>â‘¤ è¿™ä¸ªæ—¶å€™å°±éœ€è¦è·Ÿ <code>reducers</code> å»é€šä¿¡ï¼Œæˆ‘ä»¬å¯ä»¥æŠŠ <code>reducers</code> è§†ä¸ºæ˜¯ä¸€ä¸ª<strong>è®°å½•æœ¬</strong>ï¼Œå›¾ä¹¦é¦†ç®¡ç†å‘˜ç”¨è¿™ä¸ª<strong>è®°å½•æœ¬</strong>æ¥è®°å½•éœ€è¦çš„æ•°æ®ã€‚ç®¡ç†å‘˜ <code>store</code> é€šè¿‡ <code>reducer</code> çŸ¥é“äº†åº”è¯¥ç»™å€Ÿä¹¦äºº <code>Components</code> ä»€ä¹ˆæ ·çš„æ•°æ®ã€‚</li></ul> <h3 id="_2-react-redux"><a href="#_2-react-redux" class="header-anchor">#</a> ï¼ˆ2ï¼‰react-redux</h3> <p><code>React-redux</code> ä¸­è¦äº†è§£çš„å‡ ä¸ªç‚¹æ˜¯ <code>Provider</code> ã€ <code>Connect</code> ã€ <code>mapStateToProps</code> å’Œ <code>mapDisptchToProps</code> ã€‚</p> <p><strong>æ¥çœ‹ä»¥ä¸‹ä»£ç ï¼š</strong></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">'react'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> Provider <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'react-redux'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> createStore <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'redux'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> todoApp <span class="token keyword">from</span> <span class="token string">'./reducers'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> App <span class="token keyword">from</span> <span class="token string">'./components/App'</span><span class="token punctuation">;</span>

<span class="token keyword">let</span> store <span class="token operator">=</span> <span class="token function">createStore</span><span class="token punctuation">(</span>todoApp<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&lt;</span>Provider store<span class="token operator">=</span><span class="token punctuation">{</span>store<span class="token punctuation">}</span><span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>App <span class="token operator">/</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>Provider<span class="token operator">&gt;</span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p><code>react-redux</code> æä¾›äº† <code>Provider</code> çš„èƒ½åŠ›ï¼Œå¤§å®¶å¯ä»¥çœ‹åˆ°æœ€åéƒ¨åˆ†çš„ä»£ç ï¼Œ <code>Provider</code> å°† <code>&lt;App /&gt;</code> åŒ…è£¹èµ·æ¥ï¼Œå…¶å®ä¹Ÿå°±æ˜¯è¯´ä¸ºå®ƒåŒ…è£¹çš„æ‰€æœ‰ç»„ä»¶æä¾› <code>store</code> èƒ½åŠ›ï¼Œè¿™ä¹Ÿæ˜¯ <code>Provider</code> å‘æŒ¥çš„ä½œç”¨ã€‚</p> <p><strong>å†æ¥çœ‹ä¸€æ®µä»£ç ï¼š</strong></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> connect <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'react-redux'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> toggleTodo <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'../actions'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> TodoList <span class="token keyword">from</span> <span class="token string">'../components/TodoList'</span><span class="token punctuation">;</span>

<span class="token comment">// ä¸åŒç±»å‹çš„ todo åˆ—è¡¨</span>
<span class="token keyword">const</span> <span class="token function-variable function">getVisibleTodos</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">todos<span class="token punctuation">,</span> filter</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">switch</span> <span class="token punctuation">(</span>filter<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">case</span> <span class="token string">'SHOW_ALL'</span><span class="token operator">:</span>
      <span class="token keyword">return</span> todos<span class="token punctuation">;</span>
    <span class="token keyword">case</span> <span class="token string">'SHOW_COMPLETED'</span><span class="token operator">:</span>
      <span class="token keyword">return</span> todos<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">t</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> t<span class="token punctuation">.</span>completed<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">case</span> <span class="token string">'SHOW_ACTIVE'</span><span class="token operator">:</span>
      <span class="token keyword">return</span> todos<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">t</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token operator">!</span>t<span class="token punctuation">.</span>completed<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> <span class="token function-variable function">mapStateToProps</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">state</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token comment">// state å³ vuex çš„æ€»çŠ¶æ€ï¼Œåœ¨ reducer/index.js ä¸­å®šä¹‰</span>
  <span class="token keyword">return</span> <span class="token punctuation">{</span>
    <span class="token comment">// æ ¹æ®å®ŒæˆçŠ¶æ€ï¼Œç­›é€‰æ•°æ®</span>
    <span class="token literal-property property">todos</span><span class="token operator">:</span> <span class="token function">getVisibleTodos</span><span class="token punctuation">(</span>state<span class="token punctuation">.</span>todos<span class="token punctuation">,</span> state<span class="token punctuation">.</span>visibilityFilter<span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> <span class="token function-variable function">mapDispatchToProps</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">dispatch</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">{</span>
    <span class="token comment">// åˆ‡æ¢å®ŒæˆçŠ¶æ€</span>
    <span class="token function-variable function">onTodoClick</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">id</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token function">dispatch</span><span class="token punctuation">(</span><span class="token function">toggleTodo</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">// connect é«˜é˜¶ç»„ä»¶ï¼Œå°† state å’Œ dispatch æ³¨å…¥åˆ°ç»„ä»¶ props ä¸­</span>
<span class="token keyword">const</span> VisibleTodoList <span class="token operator">=</span> <span class="token function">connect</span><span class="token punctuation">(</span>mapStateToProps<span class="token punctuation">,</span> mapDispatchToProps<span class="token punctuation">)</span><span class="token punctuation">(</span>TodoList<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> VisibleTodoList<span class="token punctuation">;</span>
</code></pre></div><p>åœ¨ä¸Šé¢çš„ä»£ç ä¸­ï¼Œ <code>connect</code> å°† <code>state</code> å’Œ <code>dispatch</code> ç»™æ³¨å…¥åˆ°ç»„ä»¶çš„ <code>props</code> ä¸­ï¼Œå°†å±æ€§ä¼ é€’ç»™åˆ° <code>TodoList</code> ç»„ä»¶ã€‚</p> <h3 id="_3-å¼‚æ­¥-action"><a href="#_3-å¼‚æ­¥-action" class="header-anchor">#</a> ï¼ˆ3ï¼‰å¼‚æ­¥ action</h3> <p><code>redux</code> ä¸­çš„<strong>åŒæ­¥</strong> <code>action</code> å¦‚ä¸‹ä»£ç æ‰€ç¤ºï¼š</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// åŒæ­¥ action</span>
<span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function-variable function">addTodo</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">text</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token comment">// è¿”å› action å¯¹è±¡</span>
  <span class="token keyword">return</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">'ADD_TODO'</span><span class="token punctuation">,</span>
    <span class="token literal-property property">id</span><span class="token operator">:</span> nextTodoId<span class="token operator">++</span><span class="token punctuation">,</span>
    text<span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><p><code>redux</code> ä¸­çš„<strong>å¼‚æ­¥</strong> <code>action</code> å¦‚ä¸‹ä»£ç æ‰€ç¤ºï¼š</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// å¼‚æ­¥ action</span>
<span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function-variable function">addTodoAsync</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">text</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token comment">// è¿”å›å‡½æ•°ï¼Œå…¶ä¸­æœ‰ dispatch å‚æ•°</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token parameter">dispatch</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token comment">// ajax å¼‚æ­¥è·å–æ•°æ®</span>
    <span class="token function">fetch</span><span class="token punctuation">(</span>url<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">thne</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">res</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token comment">// æ‰§è¡Œå¼‚æ­¥ action</span>
      <span class="token function">dispatch</span><span class="token punctuation">(</span><span class="token function">addTodo</span><span class="token punctuation">(</span>res<span class="token punctuation">.</span>text<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="_4-redux-æ•°æ®æµå›¾"><a href="#_4-redux-æ•°æ®æµå›¾" class="header-anchor">#</a> ï¼ˆ4ï¼‰Redux æ•°æ®æµå›¾</h3> <p><code>Redux</code> çš„å•é¡¹æ•°æ®æµå›¾å¦‚ä¸‹æ‰€ç¤ºï¼š</p> <p><img src="https://img-blog.csdnimg.cn/7df2d40cde164f41999e588ddd15e8fa.png#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p> <p>å…³äº <code>Redux</code> æ›´è¯¦ç»†å†…å®¹ï¼Œå¯æŸ¥çœ‹è¿™ç¯‡æ–‡ç« ï¼š<a href="https://juejin.cn/post/7023236065620131876" target="_blank" rel="noopener noreferrer">Redux ä»å…¥é—¨åˆ°è¿›é˜¶ï¼Œçœ‹è¿™ä¸€ç¯‡å°±å¤Ÿäº†ï¼<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h2 id="_2ã€react-router"><a href="#_2ã€react-router" class="header-anchor">#</a> 2ã€React-router</h2> <h3 id="_1-è·¯ç”±æ¨¡å¼"><a href="#_1-è·¯ç”±æ¨¡å¼" class="header-anchor">#</a> ï¼ˆ1ï¼‰è·¯ç”±æ¨¡å¼</h3> <p><code>React-router</code> å’Œ <code>vue-router</code> ä¸€æ ·ï¼Œéƒ½æ˜¯<strong>ä¸¤ç§æ¨¡å¼</strong>ã€‚<strong>å…·ä½“å¦‚ä¸‹ï¼š</strong></p> <ul><li><code>hash</code> æ¨¡å¼ï¼ˆé»˜è®¤ï¼‰ï¼Œå¦‚ <code>http://abc.com/#/user/10</code></li> <li><code>H5 history</code> æ¨¡å¼ï¼Œå¦‚ <code>http://abc.com/user/20</code></li> <li>åè€…éœ€è¦ <code>server</code> ç«¯æ”¯æŒï¼Œå› æ­¤æ— ç‰¹æ®Šéœ€æ±‚å¯é€‰æ‹©å‰è€…</li></ul> <p><strong>hash æ¨¡å¼çš„è·¯ç”±é…ç½®å¦‚ä¸‹ä»£ç æ‰€ç¤ºï¼š</strong></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">'react'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> HashRouter <span class="token keyword">as</span> Router<span class="token punctuation">,</span> Switch<span class="token punctuation">,</span> Route <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'react-router-dom'</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">RouterComponent</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&lt;</span>Router<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>Switch<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>Route exact path<span class="token operator">=</span><span class="token string">'/'</span><span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span>Home <span class="token operator">/</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>Route<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>Route exact path<span class="token operator">=</span><span class="token string">'/project/:id'</span><span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span>Project <span class="token operator">/</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>Route<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>Route path<span class="token operator">=</span><span class="token string">'*'</span><span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span>NotFound <span class="token operator">/</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>Route<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>Switch<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>Router<span class="token operator">&gt;</span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p><strong>History æ¨¡å¼çš„è·¯ç”±é…ç½®å¦‚ä¸‹ï¼š</strong></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">'react'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> BrowserRouter <span class="token keyword">as</span> Router<span class="token punctuation">,</span> Switch<span class="token punctuation">,</span> Route <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'react-router-dom'</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">RouterComponent</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&lt;</span>Router<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>Switch<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>Route exact path<span class="token operator">=</span><span class="token string">'/'</span><span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span>Home <span class="token operator">/</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>Route<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>Route exact path<span class="token operator">=</span><span class="token string">'/project/:id'</span><span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span>Project <span class="token operator">/</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>Route<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>Route path<span class="token operator">=</span><span class="token string">'*'</span><span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span>NotFound <span class="token operator">/</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>Route<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>Switch<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>Router<span class="token operator">&gt;</span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>æ³¨æ„ï¼Œ<code>hash</code> å’Œ <code>history</code> çš„åŒºåˆ«åœ¨äº <strong>import</strong> ä¸­çš„ <code>HashRouter</code> å’Œ <code>BrowserRouter</code> ã€‚</p> <p>å…³äº <code>hash</code> å’Œ <code>history</code> ç›¸å…³çš„å†…å®¹ï¼Œè¿›ä¸€æ­¥äº†è§£å¯æŸ¥çœ‹è¿™ç¯‡æ–‡ç« ï¼š<a href="https://juejin.cn/post/6993840419041706014" target="_blank" rel="noopener noreferrer">æµ…è°ˆå‰ç«¯è·¯ç”±åŸç† hash å’Œ history<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h3 id="_2-è·¯ç”±é…ç½®"><a href="#_2-è·¯ç”±é…ç½®" class="header-anchor">#</a> ï¼ˆ2ï¼‰è·¯ç”±é…ç½®</h3> <h4 id="i-åŠ¨æ€è·¯ç”±"><a href="#i-åŠ¨æ€è·¯ç”±" class="header-anchor">#</a> â… . åŠ¨æ€è·¯ç”±</h4> <p>å‡è®¾ç°åœ¨æœ‰çˆ¶ç»„ä»¶ <code>RouterComponent</code> ï¼Œ<strong>å…·ä½“ä»£ç å¦‚ä¸‹ï¼š</strong></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">RouterComponent</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&lt;</span>Router<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>Switch<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>Route exact path<span class="token operator">=</span><span class="token string">'/'</span><span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span>Home <span class="token operator">/</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>Route<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>Route exact path<span class="token operator">=</span><span class="token string">'/project/:id'</span><span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span>Project <span class="token operator">/</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>Route<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>Route path<span class="token operator">=</span><span class="token string">'*'</span><span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span>NotFound <span class="token operator">/</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>Route<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>Switch<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>Router<span class="token operator">&gt;</span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>å…¶ä¸­ï¼Œåœ¨è¿™ä¸ªç»„ä»¶ä¸­è¿˜æœ‰ä¸€ä¸ª <code>Project</code> ç»„ä»¶ï¼Œéœ€è¦è¿›è¡ŒåŠ¨æ€ä¼ å‚ã€‚</p> <hr> <p>ç»§ç»­ï¼Œæˆ‘ä»¬æ¥çœ‹ä¸‹å­ç»„ä»¶ <code>Project</code> ç»„ä»¶æ—¶å¦‚ä½•è¿›è¡Œ<strong>åŠ¨æ€ä¼ å‚</strong>çš„ã€‚<strong>å…·ä½“ä»£ç å¦‚ä¸‹ï¼š</strong></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">'react'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> Link<span class="token punctuation">,</span> useParams <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'react-router-dom'</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">Project</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// è·å– url å‚æ•°ï¼Œå¦‚ '/project/100'</span>
  <span class="token keyword">const</span> <span class="token punctuation">{</span> id <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">useParams</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'url param id'</span><span class="token punctuation">,</span> id<span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>Link to<span class="token operator">=</span><span class="token string">'/'</span><span class="token operator">&gt;</span>é¦–é¡µ<span class="token operator">&lt;</span><span class="token operator">/</span>Link<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>å¤§å®¶å¯ä»¥çœ‹åˆ°ï¼Œåœ¨ <code>React</code> ä¸­ï¼Œé€šè¿‡ <code>const { id } = useParams()</code> è¿™æ ·çš„å½¢å¼ï¼Œæ¥è¿›è¡ŒåŠ¨æ€ä¼ å‚ã€‚</p> <hr> <p>è¿˜æœ‰å¦å¤–ä¸€ç§æƒ…å†µæ˜¯<strong>è·³è½¬è·¯ç”±</strong>ã€‚<strong>è¯·çœ‹ä»¥ä¸‹ä»£ç ï¼š</strong></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">'react'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> useHistory <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'react-router-dom'</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">Trash</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> history <span class="token operator">=</span> <span class="token function">useHistory</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">function</span> <span class="token function">handleClick</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    history<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token string">'/'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>Button type<span class="token operator">=</span><span class="token string">'primary'</span> onClick<span class="token operator">=</span><span class="token punctuation">{</span>handleClick<span class="token punctuation">}</span><span class="token operator">&gt;</span>
        å›åˆ°é¦–é¡µ
      <span class="token operator">&lt;</span><span class="token operator">/</span>Button<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>å¤§å®¶å¯ä»¥çœ‹åˆ°ï¼Œé€šè¿‡ä½¿ç”¨ <code>useHistory</code> ï¼Œè®©ç‚¹å‡»äº‹ä»¶è·³è½¬åˆ°é¦–é¡µä¸­ã€‚</p> <h4 id="ii-æ‡’åŠ è½½"><a href="#ii-æ‡’åŠ è½½" class="header-anchor">#</a> â…¡. æ‡’åŠ è½½</h4> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> BrowserRouter <span class="token keyword">as</span> Router<span class="token punctuation">,</span> Route<span class="token punctuation">,</span> Switch <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'react-router-dom'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> React<span class="token punctuation">,</span> <span class="token punctuation">{</span> Suspence<span class="token punctuation">,</span> lazy <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'react'</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> Home <span class="token operator">=</span> <span class="token function">lazy</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">'./routes/Home'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> About <span class="token function">lazy</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">'./routes/About'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> <span class="token function-variable function">App</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token operator">&lt;</span>Router<span class="token operator">&gt;</span>
    	<span class="token operator">&lt;</span>Suspense fallback<span class="token operator">=</span><span class="token punctuation">{</span><span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>Loadingâ€¦â€¦<span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span><span class="token punctuation">}</span><span class="token operator">&gt;</span>
        	<span class="token operator">&lt;</span>Switch<span class="token operator">&gt;</span>
        		<span class="token operator">&lt;</span>Route exact path<span class="token operator">=</span><span class="token string">&quot;/&quot;</span> component<span class="token operator">=</span><span class="token punctuation">{</span>Home<span class="token punctuation">}</span><span class="token operator">/</span><span class="token operator">&gt;</span>
                 <span class="token operator">&lt;</span>Route path<span class="token operator">=</span><span class="token string">&quot;/about&quot;</span> component<span class="token operator">=</span><span class="token punctuation">{</span>About<span class="token punctuation">}</span><span class="token operator">/</span><span class="token operator">&gt;</span>
        	<span class="token operator">&lt;</span><span class="token operator">/</span>Switch<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>Suspense<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>Router<span class="token operator">&gt;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>åœ¨ <code>React</code> ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥ç›´æ¥ç”¨ <code>lazy()</code> åŒ…è£¹ï¼Œå¯¹é¡µé¢çš„å†…å®¹è¿›è¡Œæ‡’åŠ è½½ã€‚å½“ç„¶ï¼Œè¿˜æœ‰å¦å¤–ä¸€ç§æƒ…å†µæ˜¯ï¼ŒåŠ è½½ç±»ä¼¼äºé¦–é¡µåˆæ¬¡åŠ è½½é¡µé¢ <code>Loading</code> çš„é‚£ç§æ•ˆæœï¼Œåœ¨ <code>react</code> ä¸­å¯ä»¥ä½¿ç”¨ <code>&lt;Suspense&gt;</code> æ¥è§£å†³ã€‚</p> <h1 id="ğŸ—ï¸-å››ã€ç»“æŸè¯­"><a href="#ğŸ—ï¸-å››ã€ç»“æŸè¯­" class="header-anchor">#</a> ğŸ—ï¸ å››ã€ç»“æŸè¯­</h1> <p>åœ¨ä¸Šé¢çš„æ–‡ç« ä¸­ï¼Œæˆ‘ä»¬è®²è§£äº† <code>react</code> çš„åŸºæœ¬ä½¿ç”¨ä»¥åŠé«˜çº§ç‰¹æ€§ã€‚åŒæ—¶ï¼Œè¿˜è®²è§£äº† <code>react</code> çš„å‘¨è¾¹æ’ä»¶ï¼Œ <code>Redux</code> å’Œ <code>React-router</code> ã€‚</p> <p>å‰ç«¯åœ¨åš <code>react</code> çš„é¡¹ç›®æ—¶ï¼Œæ€»æ˜¯è„±ç¦»ä¸å¼€ä»¥ä¸Šæ–‡ç« æ‰€æ¶‰åŠåˆ°çš„çŸ¥è¯†ç‚¹ï¼Œå”¯ä¸€çš„åŒºåˆ«åœ¨äºåŸºæœ¬ä½¿ç”¨çš„å†…å®¹ç”¨çš„è¾ƒå¤šï¼Œè€Œé«˜çº§ç‰¹æ€§çš„ä½¿ç”¨åœºæ™¯ç›¸å¯¹ä¼šå°‘ä¸€äº›ã€‚</p> <p>å¸Œæœ›é€šè¿‡ä¸Šæ–‡çš„è®²è§£ï¼Œå°ä¼™ä¼´ä»¬æœ‰æ‰€æ”¶è· ğŸ¥‚</p> <blockquote><ul><li>å…³æ³¨å…¬ä¼—å· <strong>æ˜ŸæœŸä¸€ç ”ç©¶å®¤</strong> ï¼Œç¬¬ä¸€æ—¶é—´å…³æ³¨å­¦ä¹ å¹²è´§ï¼Œæ›´å¤š <strong>ã€Œoffer æ¥äº†ã€</strong> é¢è¯•ä¸“æ å¾…ä½ è§£é”~</li> <li>å¦‚æœè¿™ç¯‡æ–‡ç« å¯¹ä½ æœ‰ç”¨ï¼Œè®°å¾—<strong>ç•™ä¸ªè„šå° jio</strong>å†èµ°å“Ÿ~</li> <li>æˆ‘ä»¬ä¸‹æœŸè§ï¼ğŸ”‘ğŸ”‘ğŸ”‘</li></ul></blockquote></div></section> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated: </span> <span class="time">2/15/2022, 10:15:00 AM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev"><a href="/mondaylab-blog/column/FrontEnd/React/003.html" class="prev">
            003-Reduxä»å…¥é—¨åˆ°è¿›é˜¶
          </a></span> <span class="next"><a href="/mondaylab-blog/column/FrontEnd/React/005.html">
            005-React hooks
          </a></span></p></div> <div class="comments-wrapper"><!----></div> <ul class="side-bar sub-sidebar-wrapper" style="width:12rem;" data-v-cb1513f6><li class="level-1" data-v-cb1513f6><a href="/mondaylab-blog/column/FrontEnd/React/004.html#â°-åºè¨€" class="sidebar-link reco-side-â°-åºè¨€" data-v-cb1513f6>â° åºè¨€</a></li><li class="level-1" data-v-cb1513f6><a href="/mondaylab-blog/column/FrontEnd/React/004.html#ğŸ“-ä¸€ã€react-çš„åŸºæœ¬ä½¿ç”¨" class="sidebar-link reco-side-ğŸ“-ä¸€ã€react-çš„åŸºæœ¬ä½¿ç”¨" data-v-cb1513f6>ğŸ“ ä¸€ã€React çš„åŸºæœ¬ä½¿ç”¨</a></li><li class="level-2" data-v-cb1513f6><a href="/mondaylab-blog/column/FrontEnd/React/004.html#_1ã€jsx-åŸºæœ¬ä½¿ç”¨" class="sidebar-link reco-side-_1ã€jsx-åŸºæœ¬ä½¿ç”¨" data-v-cb1513f6>1ã€JSX åŸºæœ¬ä½¿ç”¨</a></li><li class="level-3" data-v-cb1513f6><a href="/mondaylab-blog/column/FrontEnd/React/004.html#_1-å˜é‡ã€è¡¨è¾¾å¼" class="sidebar-link reco-side-_1-å˜é‡ã€è¡¨è¾¾å¼" data-v-cb1513f6>ï¼ˆ1ï¼‰å˜é‡ã€è¡¨è¾¾å¼</a></li><li class="level-3" data-v-cb1513f6><a href="/mondaylab-blog/column/FrontEnd/React/004.html#_2-class-å’Œ-style" class="sidebar-link reco-side-_2-class-å’Œ-style" data-v-cb1513f6>ï¼ˆ2ï¼‰class å’Œ style</a></li><li class="level-3" data-v-cb1513f6><a href="/mondaylab-blog/column/FrontEnd/React/004.html#_3-å­å…ƒç´ å’Œç»„ä»¶" class="sidebar-link reco-side-_3-å­å…ƒç´ å’Œç»„ä»¶" data-v-cb1513f6>ï¼ˆ3ï¼‰å­å…ƒç´ å’Œç»„ä»¶</a></li><li class="level-3" data-v-cb1513f6><a href="/mondaylab-blog/column/FrontEnd/React/004.html#_4-åŸç”Ÿ-html" class="sidebar-link reco-side-_4-åŸç”Ÿ-html" data-v-cb1513f6>ï¼ˆ4ï¼‰åŸç”Ÿ html</a></li><li class="level-2" data-v-cb1513f6><a href="/mondaylab-blog/column/FrontEnd/React/004.html#_2ã€æ¡ä»¶åˆ¤æ–­" class="sidebar-link reco-side-_2ã€æ¡ä»¶åˆ¤æ–­" data-v-cb1513f6>2ã€æ¡ä»¶åˆ¤æ–­</a></li><li class="level-3" data-v-cb1513f6><a href="/mondaylab-blog/column/FrontEnd/React/004.html#_1-if-else" class="sidebar-link reco-side-_1-if-else" data-v-cb1513f6>ï¼ˆ1ï¼‰if else</a></li><li class="level-3" data-v-cb1513f6><a href="/mondaylab-blog/column/FrontEnd/React/004.html#_2-ä¸‰å…ƒè¡¨è¾¾å¼" class="sidebar-link reco-side-_2-ä¸‰å…ƒè¡¨è¾¾å¼" data-v-cb1513f6>ï¼ˆ2ï¼‰ä¸‰å…ƒè¡¨è¾¾å¼</a></li><li class="level-3" data-v-cb1513f6><a href="/mondaylab-blog/column/FrontEnd/React/004.html#_3-é€»è¾‘è¿ç®—ç¬¦" class="sidebar-link reco-side-_3-é€»è¾‘è¿ç®—ç¬¦" data-v-cb1513f6>ï¼ˆ3ï¼‰é€»è¾‘è¿ç®—ç¬¦ &amp;&amp; ||</a></li><li class="level-2" data-v-cb1513f6><a href="/mondaylab-blog/column/FrontEnd/React/004.html#_3ã€æ¸²æŸ“åˆ—è¡¨" class="sidebar-link reco-side-_3ã€æ¸²æŸ“åˆ—è¡¨" data-v-cb1513f6>3ã€æ¸²æŸ“åˆ—è¡¨</a></li><li class="level-3" data-v-cb1513f6><a href="/mondaylab-blog/column/FrontEnd/React/004.html#_1-map-å’Œ-key" class="sidebar-link reco-side-_1-map-å’Œ-key" data-v-cb1513f6>ï¼ˆ1ï¼‰map å’Œ key</a></li><li class="level-2" data-v-cb1513f6><a href="/mondaylab-blog/column/FrontEnd/React/004.html#_4ã€react-çš„äº‹ä»¶" class="sidebar-link reco-side-_4ã€react-çš„äº‹ä»¶" data-v-cb1513f6>4ã€React çš„äº‹ä»¶</a></li><li class="level-3" data-v-cb1513f6><a href="/mondaylab-blog/column/FrontEnd/React/004.html#_1-bind-this" class="sidebar-link reco-side-_1-bind-this" data-v-cb1513f6>ï¼ˆ1ï¼‰bind this</a></li><li class="level-3" data-v-cb1513f6><a href="/mondaylab-blog/column/FrontEnd/React/004.html#_2-å…³äº-event-å‚æ•°" class="sidebar-link reco-side-_2-å…³äº-event-å‚æ•°" data-v-cb1513f6>ï¼ˆ2ï¼‰å…³äº event å‚æ•°</a></li><li class="level-3" data-v-cb1513f6><a href="/mondaylab-blog/column/FrontEnd/React/004.html#_3-ä¼ é€’è‡ªå®šä¹‰å‚æ•°" class="sidebar-link reco-side-_3-ä¼ é€’è‡ªå®šä¹‰å‚æ•°" data-v-cb1513f6>ï¼ˆ3ï¼‰ä¼ é€’è‡ªå®šä¹‰å‚æ•°</a></li><li class="level-3" data-v-cb1513f6><a href="/mondaylab-blog/column/FrontEnd/React/004.html#_4-æ³¨æ„ç‚¹" class="sidebar-link reco-side-_4-æ³¨æ„ç‚¹" data-v-cb1513f6>ï¼ˆ4ï¼‰æ³¨æ„ç‚¹</a></li><li class="level-2" data-v-cb1513f6><a href="/mondaylab-blog/column/FrontEnd/React/004.html#_5ã€è¡¨å•" class="sidebar-link reco-side-_5ã€è¡¨å•" data-v-cb1513f6>5ã€è¡¨å•</a></li><li class="level-3" data-v-cb1513f6><a href="/mondaylab-blog/column/FrontEnd/React/004.html#_1-å—æ§ç»„ä»¶" class="sidebar-link reco-side-_1-å—æ§ç»„ä»¶" data-v-cb1513f6>ï¼ˆ1ï¼‰å—æ§ç»„ä»¶</a></li><li class="level-3" data-v-cb1513f6><a href="/mondaylab-blog/column/FrontEnd/React/004.html#_2-input-textarea-select-ç”¨-value" class="sidebar-link reco-side-_2-input-textarea-select-ç”¨-value" data-v-cb1513f6>ï¼ˆ2ï¼‰input textarea select ç”¨ value</a></li><li class="level-3" data-v-cb1513f6><a href="/mondaylab-blog/column/FrontEnd/React/004.html#_3-checkbox-radio-ç”¨-checked" class="sidebar-link reco-side-_3-checkbox-radio-ç”¨-checked" data-v-cb1513f6>ï¼ˆ3ï¼‰checkbox radio ç”¨ checked</a></li><li class="level-2" data-v-cb1513f6><a href="/mondaylab-blog/column/FrontEnd/React/004.html#_6ã€ç»„ä»¶ä½¿ç”¨" class="sidebar-link reco-side-_6ã€ç»„ä»¶ä½¿ç”¨" data-v-cb1513f6>6ã€ç»„ä»¶ä½¿ç”¨</a></li><li class="level-3" data-v-cb1513f6><a href="/mondaylab-blog/column/FrontEnd/React/004.html#_1-props-ä¼ é€’æ•°æ®" class="sidebar-link reco-side-_1-props-ä¼ é€’æ•°æ®" data-v-cb1513f6>ï¼ˆ1ï¼‰props ä¼ é€’æ•°æ®</a></li><li class="level-3" data-v-cb1513f6><a href="/mondaylab-blog/column/FrontEnd/React/004.html#_2-props-ä¼ é€’å‡½æ•°" class="sidebar-link reco-side-_2-props-ä¼ é€’å‡½æ•°" data-v-cb1513f6>ï¼ˆ2ï¼‰props ä¼ é€’å‡½æ•°</a></li><li class="level-3" data-v-cb1513f6><a href="/mondaylab-blog/column/FrontEnd/React/004.html#_3-props-ç±»å‹æ£€æŸ¥" class="sidebar-link reco-side-_3-props-ç±»å‹æ£€æŸ¥" data-v-cb1513f6>ï¼ˆ3ï¼‰props ç±»å‹æ£€æŸ¥</a></li><li class="level-2" data-v-cb1513f6><a href="/mondaylab-blog/column/FrontEnd/React/004.html#_7ã€setstate" class="sidebar-link reco-side-_7ã€setstate" data-v-cb1513f6>7ã€setState</a></li><li class="level-3" data-v-cb1513f6><a href="/mondaylab-blog/column/FrontEnd/React/004.html#_1-ä¸å¯å˜å€¼" class="sidebar-link reco-side-_1-ä¸å¯å˜å€¼" data-v-cb1513f6>ï¼ˆ1ï¼‰ä¸å¯å˜å€¼</a></li><li class="level-3" data-v-cb1513f6><a href="/mondaylab-blog/column/FrontEnd/React/004.html#_2-å¯èƒ½æ˜¯å¼‚æ­¥æ›´æ–°" class="sidebar-link reco-side-_2-å¯èƒ½æ˜¯å¼‚æ­¥æ›´æ–°" data-v-cb1513f6>ï¼ˆ2ï¼‰å¯èƒ½æ˜¯å¼‚æ­¥æ›´æ–°</a></li><li class="level-3" data-v-cb1513f6><a href="/mondaylab-blog/column/FrontEnd/React/004.html#_3-å¯èƒ½ä¼šè¢«åˆå¹¶" class="sidebar-link reco-side-_3-å¯èƒ½ä¼šè¢«åˆå¹¶" data-v-cb1513f6>ï¼ˆ3ï¼‰å¯èƒ½ä¼šè¢«åˆå¹¶</a></li><li class="level-2" data-v-cb1513f6><a href="/mondaylab-blog/column/FrontEnd/React/004.html#_8ã€ç»„ä»¶ç”Ÿå‘½å‘¨æœŸ" class="sidebar-link reco-side-_8ã€ç»„ä»¶ç”Ÿå‘½å‘¨æœŸ" data-v-cb1513f6>8ã€ç»„ä»¶ç”Ÿå‘½å‘¨æœŸ</a></li><li class="level-1" data-v-cb1513f6><a href="/mondaylab-blog/column/FrontEnd/React/004.html#ğŸ“–-äºŒã€react-é«˜çº§ç‰¹æ€§" class="sidebar-link reco-side-ğŸ“–-äºŒã€react-é«˜çº§ç‰¹æ€§" data-v-cb1513f6>ğŸ“– äºŒã€React é«˜çº§ç‰¹æ€§</a></li><li class="level-2" data-v-cb1513f6><a href="/mondaylab-blog/column/FrontEnd/React/004.html#_1ã€å‡½æ•°ç»„ä»¶" class="sidebar-link reco-side-_1ã€å‡½æ•°ç»„ä»¶" data-v-cb1513f6>1ã€å‡½æ•°ç»„ä»¶</a></li><li class="level-2" data-v-cb1513f6><a href="/mondaylab-blog/column/FrontEnd/React/004.html#_2ã€éå—æ§ç»„ä»¶" class="sidebar-link reco-side-_2ã€éå—æ§ç»„ä»¶" data-v-cb1513f6>2ã€éå—æ§ç»„ä»¶</a></li><li class="level-3" data-v-cb1513f6><a href="/mondaylab-blog/column/FrontEnd/React/004.html#_1-input" class="sidebar-link reco-side-_1-input" data-v-cb1513f6>ï¼ˆ1ï¼‰input</a></li><li class="level-3" data-v-cb1513f6><a href="/mondaylab-blog/column/FrontEnd/React/004.html#_2-checkbox" class="sidebar-link reco-side-_2-checkbox" data-v-cb1513f6>ï¼ˆ2ï¼‰checkbox</a></li><li class="level-3" data-v-cb1513f6><a href="/mondaylab-blog/column/FrontEnd/React/004.html#_3-file" class="sidebar-link reco-side-_3-file" data-v-cb1513f6>ï¼ˆ3ï¼‰file</a></li><li class="level-3" data-v-cb1513f6><a href="/mondaylab-blog/column/FrontEnd/React/004.html#_4-æ€»ç»“æ¢³ç†" class="sidebar-link reco-side-_4-æ€»ç»“æ¢³ç†" data-v-cb1513f6>ï¼ˆ4ï¼‰æ€»ç»“æ¢³ç†</a></li><li class="level-2" data-v-cb1513f6><a href="/mondaylab-blog/column/FrontEnd/React/004.html#_3ã€protals" class="sidebar-link reco-side-_3ã€protals" data-v-cb1513f6>3ã€Protals</a></li><li class="level-3" data-v-cb1513f6><a href="/mondaylab-blog/column/FrontEnd/React/004.html#_1-ä¸ºä»€ä¹ˆè¦ç”¨-protals" class="sidebar-link reco-side-_1-ä¸ºä»€ä¹ˆè¦ç”¨-protals" data-v-cb1513f6>ï¼ˆ1ï¼‰ä¸ºä»€ä¹ˆè¦ç”¨ Protals ï¼Ÿ</a></li><li class="level-3" data-v-cb1513f6><a href="/mondaylab-blog/column/FrontEnd/React/004.html#_2-å¦‚ä½•ä½¿ç”¨" class="sidebar-link reco-side-_2-å¦‚ä½•ä½¿ç”¨" data-v-cb1513f6>ï¼ˆ2ï¼‰å¦‚ä½•ä½¿ç”¨</a></li><li class="level-3" data-v-cb1513f6><a href="/mondaylab-blog/column/FrontEnd/React/004.html#_3-ä½¿ç”¨åœºæ™¯" class="sidebar-link reco-side-_3-ä½¿ç”¨åœºæ™¯" data-v-cb1513f6>ï¼ˆ3ï¼‰ä½¿ç”¨åœºæ™¯</a></li><li class="level-2" data-v-cb1513f6><a href="/mondaylab-blog/column/FrontEnd/React/004.html#_4ã€context" class="sidebar-link reco-side-_4ã€context" data-v-cb1513f6>4ã€context</a></li><li class="level-3" data-v-cb1513f6><a href="/mondaylab-blog/column/FrontEnd/React/004.html#_1-ä½¿ç”¨åœºæ™¯" class="sidebar-link reco-side-_1-ä½¿ç”¨åœºæ™¯" data-v-cb1513f6>ï¼ˆ1ï¼‰ä½¿ç”¨åœºæ™¯</a></li><li class="level-3" data-v-cb1513f6><a href="/mondaylab-blog/column/FrontEnd/React/004.html#_2-ä¸¾ä¾‹é˜è¿°" class="sidebar-link reco-side-_2-ä¸¾ä¾‹é˜è¿°" data-v-cb1513f6>ï¼ˆ2ï¼‰ä¸¾ä¾‹é˜è¿°</a></li><li class="level-2" data-v-cb1513f6><a href="/mondaylab-blog/column/FrontEnd/React/004.html#_5ã€å¼‚æ­¥ç»„ä»¶-æ‡’åŠ è½½" class="sidebar-link reco-side-_5ã€å¼‚æ­¥ç»„ä»¶-æ‡’åŠ è½½" data-v-cb1513f6>5ã€å¼‚æ­¥ç»„ä»¶ï¼ˆæ‡’åŠ è½½ï¼‰</a></li><li class="level-2" data-v-cb1513f6><a href="/mondaylab-blog/column/FrontEnd/React/004.html#_6ã€æ€§èƒ½ä¼˜åŒ–" class="sidebar-link reco-side-_6ã€æ€§èƒ½ä¼˜åŒ–" data-v-cb1513f6>6ã€æ€§èƒ½ä¼˜åŒ–</a></li><li class="level-3" data-v-cb1513f6><a href="/mondaylab-blog/column/FrontEnd/React/004.html#_1-shouldcomponentupdate-ç®€ç§°-scu" class="sidebar-link reco-side-_1-shouldcomponentupdate-ç®€ç§°-scu" data-v-cb1513f6>ï¼ˆ1ï¼‰shouldComponentUpdateï¼ˆç®€ç§° SCUï¼‰</a></li><li class="level-3" data-v-cb1513f6><a href="/mondaylab-blog/column/FrontEnd/React/004.html#_2-purecomponent-å’Œ-react-memo" class="sidebar-link reco-side-_2-purecomponent-å’Œ-react-memo" data-v-cb1513f6>ï¼ˆ2ï¼‰PureComponent å’Œ React.memo</a></li><li class="level-3" data-v-cb1513f6><a href="/mondaylab-blog/column/FrontEnd/React/004.html#_3-ä¸å¯å˜å€¼" class="sidebar-link reco-side-_3-ä¸å¯å˜å€¼" data-v-cb1513f6>ï¼ˆ3ï¼‰ä¸å¯å˜å€¼</a></li><li class="level-2" data-v-cb1513f6><a href="/mondaylab-blog/column/FrontEnd/React/004.html#_7ã€å…³äºç»„ä»¶å…¬å…±é€»è¾‘çš„æŠ½ç¦»" class="sidebar-link reco-side-_7ã€å…³äºç»„ä»¶å…¬å…±é€»è¾‘çš„æŠ½ç¦»" data-v-cb1513f6>7ã€å…³äºç»„ä»¶å…¬å…±é€»è¾‘çš„æŠ½ç¦»</a></li><li class="level-3" data-v-cb1513f6><a href="/mondaylab-blog/column/FrontEnd/React/004.html#_1-é«˜é˜¶ç»„ä»¶-hoc" class="sidebar-link reco-side-_1-é«˜é˜¶ç»„ä»¶-hoc" data-v-cb1513f6>ï¼ˆ1ï¼‰é«˜é˜¶ç»„ä»¶ HOC</a></li><li class="level-3" data-v-cb1513f6><a href="/mondaylab-blog/column/FrontEnd/React/004.html#_2-render-props" class="sidebar-link reco-side-_2-render-props" data-v-cb1513f6>ï¼ˆ2ï¼‰Render Props</a></li><li class="level-3" data-v-cb1513f6><a href="/mondaylab-blog/column/FrontEnd/React/004.html#_3-hoc-vs-render-props" class="sidebar-link reco-side-_3-hoc-vs-render-props" data-v-cb1513f6>ï¼ˆ3ï¼‰HOC vs Render Props</a></li><li class="level-1" data-v-cb1513f6><a href="/mondaylab-blog/column/FrontEnd/React/004.html#ğŸ“š-ä¸‰ã€redux-å’Œ-react-router" class="sidebar-link reco-side-ğŸ“š-ä¸‰ã€redux-å’Œ-react-router" data-v-cb1513f6>ğŸ“š ä¸‰ã€Redux å’Œ React-router</a></li><li class="level-2" data-v-cb1513f6><a href="/mondaylab-blog/column/FrontEnd/React/004.html#_1ã€redux" class="sidebar-link reco-side-_1ã€redux" data-v-cb1513f6>1ã€Redux</a></li><li class="level-3" data-v-cb1513f6><a href="/mondaylab-blog/column/FrontEnd/React/004.html#_1-redux-æ¦‚å¿µç®€è¿°" class="sidebar-link reco-side-_1-redux-æ¦‚å¿µç®€è¿°" data-v-cb1513f6>ï¼ˆ1ï¼‰Redux æ¦‚å¿µç®€è¿°</a></li><li class="level-3" data-v-cb1513f6><a href="/mondaylab-blog/column/FrontEnd/React/004.html#_2-redux-çš„å·¥ä½œæµç¨‹" class="sidebar-link reco-side-_2-redux-çš„å·¥ä½œæµç¨‹" data-v-cb1513f6>ï¼ˆ2ï¼‰Redux çš„å·¥ä½œæµç¨‹</a></li><li class="level-3" data-v-cb1513f6><a href="/mondaylab-blog/column/FrontEnd/React/004.html#_2-react-redux" class="sidebar-link reco-side-_2-react-redux" data-v-cb1513f6>ï¼ˆ2ï¼‰react-redux</a></li><li class="level-3" data-v-cb1513f6><a href="/mondaylab-blog/column/FrontEnd/React/004.html#_3-å¼‚æ­¥-action" class="sidebar-link reco-side-_3-å¼‚æ­¥-action" data-v-cb1513f6>ï¼ˆ3ï¼‰å¼‚æ­¥ action</a></li><li class="level-3" data-v-cb1513f6><a href="/mondaylab-blog/column/FrontEnd/React/004.html#_4-redux-æ•°æ®æµå›¾" class="sidebar-link reco-side-_4-redux-æ•°æ®æµå›¾" data-v-cb1513f6>ï¼ˆ4ï¼‰Redux æ•°æ®æµå›¾</a></li><li class="level-2" data-v-cb1513f6><a href="/mondaylab-blog/column/FrontEnd/React/004.html#_2ã€react-router" class="sidebar-link reco-side-_2ã€react-router" data-v-cb1513f6>2ã€React-router</a></li><li class="level-3" data-v-cb1513f6><a href="/mondaylab-blog/column/FrontEnd/React/004.html#_1-è·¯ç”±æ¨¡å¼" class="sidebar-link reco-side-_1-è·¯ç”±æ¨¡å¼" data-v-cb1513f6>ï¼ˆ1ï¼‰è·¯ç”±æ¨¡å¼</a></li><li class="level-3" data-v-cb1513f6><a href="/mondaylab-blog/column/FrontEnd/React/004.html#_2-è·¯ç”±é…ç½®" class="sidebar-link reco-side-_2-è·¯ç”±é…ç½®" data-v-cb1513f6>ï¼ˆ2ï¼‰è·¯ç”±é…ç½®</a></li><li class="level-4" data-v-cb1513f6><a href="/mondaylab-blog/column/FrontEnd/React/004.html#i-åŠ¨æ€è·¯ç”±" class="sidebar-link reco-side-i-åŠ¨æ€è·¯ç”±" data-v-cb1513f6>â… . åŠ¨æ€è·¯ç”±</a></li><li class="level-4" data-v-cb1513f6><a href="/mondaylab-blog/column/FrontEnd/React/004.html#ii-æ‡’åŠ è½½" class="sidebar-link reco-side-ii-æ‡’åŠ è½½" data-v-cb1513f6>â…¡. æ‡’åŠ è½½</a></li><li class="level-1" data-v-cb1513f6><a href="/mondaylab-blog/column/FrontEnd/React/004.html#ğŸ—ï¸-å››ã€ç»“æŸè¯­" class="sidebar-link reco-side-ğŸ—ï¸-å››ã€ç»“æŸè¯­" data-v-cb1513f6>ğŸ—ï¸ å››ã€ç»“æŸè¯­</a></li></ul></main> <!----></div></div></div></div><div class="global-ui"><div class="back-to-ceiling" style="right:1rem;bottom:6rem;width:2.5rem;height:2.5rem;border-radius:.25rem;line-height:2.5rem;display:none;" data-v-c6073ba8 data-v-c6073ba8><svg t="1574745035067" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="5404" class="icon" data-v-c6073ba8><path d="M526.60727968 10.90185116a27.675 27.675 0 0 0-29.21455937 0c-131.36607665 82.28402758-218.69155461 228.01873535-218.69155402 394.07834331a462.20625001 462.20625001 0 0 0 5.36959153 69.94390903c1.00431239 6.55289093-0.34802892 13.13561351-3.76865779 18.80351572-32.63518765 54.11355614-51.75690182 118.55860487-51.7569018 187.94566865a371.06718723 371.06718723 0 0 0 11.50484808 91.98906777c6.53300375 25.50556257 41.68394495 28.14064038 52.69160883 4.22606766 17.37162448-37.73630017 42.14135425-72.50938081 72.80769204-103.21549295 2.18761121 3.04276886 4.15646224 6.24463696 6.40373557 9.22774369a1871.4375 1871.4375 0 0 0 140.04691725 5.34970492 1866.36093723 1866.36093723 0 0 0 140.04691723-5.34970492c2.24727335-2.98310674 4.21612437-6.18497483 6.3937923-9.2178004 30.66633723 30.70611158 55.4360664 65.4791928 72.80769147 103.21549355 11.00766384 23.91457269 46.15860503 21.27949489 52.69160879-4.22606768a371.15156223 371.15156223 0 0 0 11.514792-91.99901164c0-69.36717486-19.13165746-133.82216804-51.75690182-187.92578088-3.42062944-5.66790279-4.76302748-12.26056868-3.76865837-18.80351632a462.20625001 462.20625001 0 0 0 5.36959269-69.943909c-0.00994388-166.08943902-87.32547796-311.81420293-218.6915546-394.09823051zM605.93803103 357.87693858a93.93749974 93.93749974 0 1 1-187.89594924 6.1e-7 93.93749974 93.93749974 0 0 1 187.89594924-6.1e-7z" p-id="5405" data-v-c6073ba8></path><path d="M429.50777625 765.63860547C429.50777625 803.39355007 466.44236686 1000.39046097 512.00932183 1000.39046097c45.56695499 0 82.4922232-197.00623328 82.5015456-234.7518555 0-37.75494459-36.9345906-68.35043303-82.4922232-68.34111062-45.57627738-0.00932239-82.52019037 30.59548842-82.51086798 68.34111062z" p-id="5406" data-v-c6073ba8></path></svg></div></div></div>
    <script src="/mondaylab-blog/assets/js/app.14c1c540.js" defer></script><script src="/mondaylab-blog/assets/js/3.88ba4622.js" defer></script><script src="/mondaylab-blog/assets/js/1.4561d677.js" defer></script><script src="/mondaylab-blog/assets/js/47.ded2c0d8.js" defer></script>
  </body>
</html>
