<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>ä½¿ç”¨React hooksï¼Œäº›è®¸åˆå¤šäº†ä¸å°‘æ‘¸é±¼æ—¶é—´ | æ˜ŸæœŸä¸€ç ”ç©¶å®¤mondaylab</title>
    <meta name="generator" content="VuePress 1.9.5">
    
    <meta name="description" content="åˆ†äº«å‰æ²¿å­¦ä¹ å¹²è´§ï¼Œä¸æ­¢å‰ç«¯">
    <meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no">
    
    <link rel="preload" href="/mondaylab-blog/assets/css/0.styles.4ac1ff55.css" as="style"><link rel="preload" href="/mondaylab-blog/assets/js/app.c88a0deb.js" as="script"><link rel="preload" href="/mondaylab-blog/assets/js/3.88ba4622.js" as="script"><link rel="preload" href="/mondaylab-blog/assets/js/1.4561d677.js" as="script"><link rel="preload" href="/mondaylab-blog/assets/js/48.74e8cab9.js" as="script"><link rel="prefetch" href="/mondaylab-blog/assets/js/10.034a7746.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/100.10819cfc.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/101.08435226.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/102.3c743ae4.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/103.0899af72.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/104.9740a7b0.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/105.354ffeca.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/106.f96e9c97.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/107.fdaf8145.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/108.873b7b71.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/109.a7ed1971.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/11.cd4ede8c.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/110.595203fe.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/111.0592463f.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/112.d589d41f.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/113.a515fec2.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/114.b24422e9.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/115.ca926b85.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/116.f37030bd.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/117.0ffabc20.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/118.a6d0c7be.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/119.98f6dc2b.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/12.ce83912b.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/120.6eacd5bb.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/121.fa7b4ea6.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/122.7d46ca50.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/123.1cd24964.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/124.1d531d04.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/125.6a6cb385.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/126.6b264559.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/127.5a899da7.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/128.8a78b191.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/129.6aae946e.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/13.2d9d90c3.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/130.1a926e98.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/131.84f62c2a.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/132.bb4c461b.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/133.6903387d.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/134.cdc38ea8.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/135.9b4487ab.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/136.0b7a9b37.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/137.637569aa.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/138.07e50d9c.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/139.7541018f.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/14.d89e9816.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/15.dfc52afe.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/16.00a7eb7f.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/17.e68c0c14.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/18.53ca7f65.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/19.a0a92c25.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/20.ffb14e53.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/21.c1febef9.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/22.8b4c7a06.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/23.83c451b0.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/24.f4252c0c.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/25.9cc0424c.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/26.ea9b4ec2.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/27.e95d6d00.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/28.cc7aa797.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/29.eccf6e0c.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/30.e1a43b09.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/31.a3ee8c6b.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/32.ff171a84.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/33.b77f11f2.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/34.19d1bb45.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/35.d898aa4b.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/36.fd540d6c.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/37.689cfa17.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/38.ab0fe1d2.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/39.4982c373.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/4.5fce2cb1.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/40.fbd23895.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/41.1ee65302.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/42.e4e1fd1b.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/43.16cc67bf.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/44.339c086a.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/45.23e9054d.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/46.0ba554df.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/47.a1b4f174.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/49.28b640a2.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/5.41f6904b.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/50.123c3dc4.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/51.0786fa45.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/52.e0ac9d17.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/53.6150f1a8.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/54.5805fae7.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/55.edaacdd5.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/56.22dc82a1.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/57.e6a3430a.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/58.947b40de.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/59.fa5bf342.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/6.3b3e9e8b.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/60.1eb9a904.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/61.be086da9.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/62.4f171d5c.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/63.636b8f33.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/64.5185410c.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/65.05ea22b8.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/66.7ea55611.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/67.3d6ec0cb.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/68.428e4a59.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/69.b963a919.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/7.01286607.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/70.7de5c8c1.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/71.21ac06d2.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/72.edfbec65.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/73.a1aff9ec.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/74.636c5d41.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/75.d7b9a479.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/76.f4beadf1.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/77.400e1f1d.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/78.051119d3.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/79.f5cab9df.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/8.b3bf0af5.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/80.4ca8a547.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/81.3bdf1a92.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/82.40488883.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/83.27be1ce9.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/84.34a9e70b.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/85.c2797db6.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/86.6627a121.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/87.23aa101d.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/88.4ec547cf.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/89.07aa035b.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/9.27bc3278.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/90.dbbcb0e3.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/91.1fd63f6c.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/92.f84e54e2.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/93.14a0f0ce.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/94.978c1d5b.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/95.a8c6646d.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/96.701c6066.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/97.2553a7ef.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/98.f49acaf7.js"><link rel="prefetch" href="/mondaylab-blog/assets/js/99.ca2475c7.js">
    <link rel="stylesheet" href="/mondaylab-blog/assets/css/0.styles.4ac1ff55.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container" data-v-1aefc0b4><div data-v-1aefc0b4><div id="loader-wrapper" class="loading-wrapper" data-v-d48f4d20 data-v-1aefc0b4 data-v-1aefc0b4><div class="loader-main" data-v-d48f4d20><div data-v-d48f4d20></div><div data-v-d48f4d20></div><div data-v-d48f4d20></div><div data-v-d48f4d20></div></div> <!----> <!----></div> <div class="password-shadow password-wrapper-out" style="display:none;" data-v-25ba6db2 data-v-1aefc0b4 data-v-1aefc0b4><h3 class="title" data-v-25ba6db2 data-v-25ba6db2>æ˜ŸæœŸä¸€ç ”ç©¶å®¤mondaylab</h3> <p class="description" data-v-25ba6db2 data-v-25ba6db2>åˆ†äº«å‰æ²¿å­¦ä¹ å¹²è´§ï¼Œä¸æ­¢å‰ç«¯</p> <label id="box" class="inputBox" data-v-25ba6db2 data-v-25ba6db2><input type="password" value="" data-v-25ba6db2> <span data-v-25ba6db2>Konck! Knock!</span> <button data-v-25ba6db2>OK</button></label> <div class="footer" data-v-25ba6db2 data-v-25ba6db2><span data-v-25ba6db2><i class="iconfont reco-theme" data-v-25ba6db2></i> <a target="blank" href="https://vuepress-theme-reco.recoluan.com" data-v-25ba6db2>vuePress-theme-reco</a></span> <span data-v-25ba6db2><i class="iconfont reco-copyright" data-v-25ba6db2></i> <a data-v-25ba6db2><span data-v-25ba6db2>SyllableCheng</span>
          Â Â 
          <!---->
          2022
        </a></span></div></div> <div class="hide" data-v-1aefc0b4><header class="navbar" data-v-1aefc0b4><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/mondaylab-blog/" class="home-link router-link-active"><img src="/mondaylab-blog/avatar.png" alt="æ˜ŸæœŸä¸€ç ”ç©¶å®¤mondaylab" class="logo"> <span class="site-name">æ˜ŸæœŸä¸€ç ”ç©¶å®¤mondaylab</span></a> <div class="links"><div class="color-picker"><a class="color-button"><i class="iconfont reco-color"></i></a> <div class="color-picker-menu" style="display:none;"><div class="mode-options"><h4 class="title">Choose mode</h4> <ul class="color-mode-options"><li class="dark">dark</li><li class="auto active">auto</li><li class="light">light</li></ul></div></div></div> <div class="search-box"><i class="iconfont reco-search"></i> <input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/mondaylab-blog/" class="nav-link"><i class="iconfont reco-home"></i>
  é¦–é¡µ
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-tag"></i>
      ç²¾é€‰ä¸“æ 
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/mondaylab-blog/column/Algorithm/" class="nav-link"><i class="undefined"></i>
  æ•°æ„ä¸å‰ç«¯
</a></li><li class="dropdown-item"><!----> <a href="/mondaylab-blog/column/Interview/" class="nav-link"><i class="undefined"></i>
  offeræ¥äº†
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-eye"></i>
      å¹²è´§ç¤¾åŒº
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/mondaylab-blog/column/Learning/" class="nav-link"><i class="undefined"></i>
  å¿«æ·é”®
</a></li><li class="dropdown-item"><!----> <a href="/mondaylab-blog/column/Learning/" class="nav-link"><i class="undefined"></i>
  Notionæ¨¡æ¿
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-category"></i>
      åˆ†ç±»ç´¢å¼•
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/mondaylab-blog/column/Product/" class="nav-link"><i class="undefined"></i>
  äº§å“æ±ª
</a></li><li class="dropdown-item"><!----> <a href="/mondaylab-blog/column/FrontEnd/" class="nav-link router-link-active"><i class="undefined"></i>
  å‰ç«¯å¼€å‘
</a></li><li class="dropdown-item"><!----> <a href="/mondaylab-blog/column/OtherLang/" class="nav-link"><i class="undefined"></i>
  å…¶ä»–è¯­è¨€
</a></li><li class="dropdown-item"><!----> <a href="/mondaylab-blog/column/BackEnd/" class="nav-link"><i class="undefined"></i>
  æœåŠ¡ç«¯å¼€å‘
</a></li><li class="dropdown-item"><!----> <a href="/mondaylab-blog/column/ComputerKnowledge/" class="nav-link"><i class="undefined"></i>
  è®¡ç®—æœºåŸºç¡€çŸ¥è¯†
</a></li><li class="dropdown-item"><!----> <a href="/mondaylab-blog/column/Growing/" class="nav-link"><i class="undefined"></i>
  ç¢ç¢å¿µä¸ªäººæˆé•¿
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-account"></i>
      å…³äºæˆ‘
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://github.com/Jacqueline712" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="undefined"></i>
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://juejin.cn/user/3131845139247960/posts" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="undefined"></i>
  æ˜é‡‘
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://blog.csdn.net/weixin_44803753" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="undefined"></i>
  CSDN
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://www.infoq.cn/profile/3AC1A95FEC468A/publish" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="undefined"></i>
  InfoQ
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://www.zhihu.com/people/zheng-zi-ji-67-89/posts" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="undefined"></i>
  çŸ¥ä¹
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask" data-v-1aefc0b4></div> <aside class="sidebar" data-v-1aefc0b4><div class="personal-info-wrapper" data-v-39576ba9 data-v-1aefc0b4><img src="/mondaylab-blog/avatar.png" alt="author-avatar" class="personal-img" data-v-39576ba9> <h3 class="name" data-v-39576ba9>
    SyllableCheng
  </h3> <div class="num" data-v-39576ba9><div data-v-39576ba9><h3 data-v-39576ba9>128</h3> <h6 data-v-39576ba9>Articles</h6></div> <div data-v-39576ba9><h3 data-v-39576ba9>25</h3> <h6 data-v-39576ba9>Tags</h6></div></div> <ul class="social-links" data-v-39576ba9></ul> <hr data-v-39576ba9></div> <nav class="nav-links"><div class="nav-item"><a href="/mondaylab-blog/" class="nav-link"><i class="iconfont reco-home"></i>
  é¦–é¡µ
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-tag"></i>
      ç²¾é€‰ä¸“æ 
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/mondaylab-blog/column/Algorithm/" class="nav-link"><i class="undefined"></i>
  æ•°æ„ä¸å‰ç«¯
</a></li><li class="dropdown-item"><!----> <a href="/mondaylab-blog/column/Interview/" class="nav-link"><i class="undefined"></i>
  offeræ¥äº†
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-eye"></i>
      å¹²è´§ç¤¾åŒº
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/mondaylab-blog/column/Learning/" class="nav-link"><i class="undefined"></i>
  å¿«æ·é”®
</a></li><li class="dropdown-item"><!----> <a href="/mondaylab-blog/column/Learning/" class="nav-link"><i class="undefined"></i>
  Notionæ¨¡æ¿
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-category"></i>
      åˆ†ç±»ç´¢å¼•
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/mondaylab-blog/column/Product/" class="nav-link"><i class="undefined"></i>
  äº§å“æ±ª
</a></li><li class="dropdown-item"><!----> <a href="/mondaylab-blog/column/FrontEnd/" class="nav-link router-link-active"><i class="undefined"></i>
  å‰ç«¯å¼€å‘
</a></li><li class="dropdown-item"><!----> <a href="/mondaylab-blog/column/OtherLang/" class="nav-link"><i class="undefined"></i>
  å…¶ä»–è¯­è¨€
</a></li><li class="dropdown-item"><!----> <a href="/mondaylab-blog/column/BackEnd/" class="nav-link"><i class="undefined"></i>
  æœåŠ¡ç«¯å¼€å‘
</a></li><li class="dropdown-item"><!----> <a href="/mondaylab-blog/column/ComputerKnowledge/" class="nav-link"><i class="undefined"></i>
  è®¡ç®—æœºåŸºç¡€çŸ¥è¯†
</a></li><li class="dropdown-item"><!----> <a href="/mondaylab-blog/column/Growing/" class="nav-link"><i class="undefined"></i>
  ç¢ç¢å¿µä¸ªäººæˆé•¿
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-account"></i>
      å…³äºæˆ‘
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://github.com/Jacqueline712" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="undefined"></i>
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://juejin.cn/user/3131845139247960/posts" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="undefined"></i>
  æ˜é‡‘
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://blog.csdn.net/weixin_44803753" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="undefined"></i>
  CSDN
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://www.infoq.cn/profile/3AC1A95FEC468A/publish" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="undefined"></i>
  InfoQ
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://www.zhihu.com/people/zheng-zi-ji-67-89/posts" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="undefined"></i>
  çŸ¥ä¹
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <!----></nav> <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>CSS</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>JavaScript</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>vue.js</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>react.js</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/mondaylab-blog/column/FrontEnd/React/001.html" class="sidebar-link">001-åˆæ¢react</a></li><li><a href="/mondaylab-blog/column/FrontEnd/React/002.html" class="sidebar-link">002-reactè¿›é˜¶çŸ¥è¯†</a></li><li><a href="/mondaylab-blog/column/FrontEnd/React/003.html" class="sidebar-link">003-Reduxä»å…¥é—¨åˆ°è¿›é˜¶</a></li><li><a href="/mondaylab-blog/column/FrontEnd/React/004.html" class="sidebar-link">004-reactçš„åŸºæœ¬ä½¿ç”¨å’Œé«˜çº§ç‰¹æ€§</a></li><li><a href="/mondaylab-blog/column/FrontEnd/React/005.html" aria-current="page" class="active sidebar-link">005-React hooks</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>vue.jsåŸç†è§£æ</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>TypeScript</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Webpack</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>vue3+tsç»„ä»¶åº“å¼€å‘</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>å®æˆ˜ç±»</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>é’è®­è¥YouthCamp</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>æ˜é‡‘ç¿»è¯‘è®¡åˆ’</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <div class="password-shadow password-wrapper-in" style="display:none;" data-v-25ba6db2 data-v-1aefc0b4><h3 class="title" data-v-25ba6db2 data-v-25ba6db2>ä½¿ç”¨React hooksï¼Œäº›è®¸åˆå¤šäº†ä¸å°‘æ‘¸é±¼æ—¶é—´</h3> <!----> <label id="box" class="inputBox" data-v-25ba6db2 data-v-25ba6db2><input type="password" value="" data-v-25ba6db2> <span data-v-25ba6db2>Konck! Knock!</span> <button data-v-25ba6db2>OK</button></label> <div class="footer" data-v-25ba6db2 data-v-25ba6db2><span data-v-25ba6db2><i class="iconfont reco-theme" data-v-25ba6db2></i> <a target="blank" href="https://vuepress-theme-reco.recoluan.com" data-v-25ba6db2>vuePress-theme-reco</a></span> <span data-v-25ba6db2><i class="iconfont reco-copyright" data-v-25ba6db2></i> <a data-v-25ba6db2><span data-v-25ba6db2>SyllableCheng</span>
          Â Â 
          <!---->
          2022
        </a></span></div></div> <div data-v-1aefc0b4><main class="page"><section><div class="page-title"><h1 class="title">ä½¿ç”¨React hooksï¼Œäº›è®¸åˆå¤šäº†ä¸å°‘æ‘¸é±¼æ—¶é—´</h1> <div data-v-f875f3fc><i class="iconfont reco-account" data-v-f875f3fc><span data-v-f875f3fc>å‘¨ä¸€</span></i> <i class="iconfont reco-date" data-v-f875f3fc><span data-v-f875f3fc>2/9/2022</span></i> <!----> <i class="tags iconfont reco-tag" data-v-f875f3fc><span class="tag-item" data-v-f875f3fc>React.js</span></i></div></div> <div class="theme-reco-content content__default"><h1 id="ğŸ™ï¸-å‰è¨€"><a href="#ğŸ™ï¸-å‰è¨€" class="header-anchor">#</a> ğŸ™ï¸ å‰è¨€</h1> <p>ç›¸ä¼ ï¼Œ <code>react 17</code> å‡ºäº†ä¸€ä¸ªå¾ˆå¼ºå¤§çš„åŠŸèƒ½ï¼Œ ä¹Ÿå°±æ˜¯ <code>react hooks</code> ã€‚å®é™…ä¸Šï¼Œ <code>react hooks</code> æœ‰ç‚¹ç±»ä¼¼ä¸ <code>vue3</code> çš„ <code>composition API</code> ï¼Œéƒ½æ˜¯ä¸ºäº†æå‡å¼€å‘æ•ˆç‡è€Œå‡ºç°ã€‚</p> <p>é‚£ä¹ˆï¼Œåœ¨ä¸‹é¢çš„æ–‡ç« ä¸­ï¼Œå°†ä» <code>0åˆ°1</code> å¼€å§‹ï¼Œå¸¦å¤§å®¶äº†è§£ <code>react hooks</code> ï¼Œä»¥åŠä¸€äº›å¸¸ç”¨çš„ <code>API</code> ã€‚</p> <p>åºŸè¯ä¸å¤šè¯´ï¼Œå¼€å§‹ <code>react-hook</code> ä¹‹æ—…å­~</p> <h1 id="ä¸€ã€ğŸ“»-æ¦‚è¿°"><a href="#ä¸€ã€ğŸ“»-æ¦‚è¿°" class="header-anchor">#</a> ä¸€ã€ğŸ“» æ¦‚è¿°</h1> <h2 id="_1ã€å…³äº-react-hooks"><a href="#_1ã€å…³äº-react-hooks" class="header-anchor">#</a> 1ã€å…³äº React Hooks</h2> <ul><li><code>React Hooks</code> æ˜¯ä¸€ä¸ªå¯é€‰åŠŸèƒ½ï¼Œé€šå¸¸ç”¨ <code>class</code> ç»„ä»¶ æ¥å’Œå®ƒåšæ¯”è¾ƒï¼›</li> <li><code>100%</code> å‘åå…¼å®¹ï¼Œæ²¡æœ‰<strong>ç ´åæ€§æ”¹åŠ¨</strong>ï¼›</li> <li>ä¸ä¼šå–ä»£ <code>class</code> ç»„ä»¶ï¼Œå°šæ— è®¡åˆ’è¦ç§»é™¤ <code>class</code> ç»„ä»¶ã€‚</li></ul> <h2 id="_2ã€è®¤è¯†-react-hooks"><a href="#_2ã€è®¤è¯†-react-hooks" class="header-anchor">#</a> 2ã€è®¤è¯† React Hooks</h2> <h3 id="_1-å›é¡¾-react-å‡½æ•°å¼ç»„ä»¶"><a href="#_1-å›é¡¾-react-å‡½æ•°å¼ç»„ä»¶" class="header-anchor">#</a> ï¼ˆ1ï¼‰å›é¡¾ React å‡½æ•°å¼ç»„ä»¶</h3> <p>æˆ‘ä»¬å…ˆæ¥å›é¡¾ä¸‹ <strong>class ç»„ä»¶</strong> å’Œ <strong>å‡½æ•°ç»„ä»¶</strong>ï¼Œå…·ä½“å¦‚ä¸‹ï¼š</p> <p><strong>class ç»„ä»¶ï¼š</strong></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// classç»„ä»¶</span>
<span class="token keyword">class</span> <span class="token class-name">List</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">super</span><span class="token punctuation">(</span>props<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> <span class="token punctuation">{</span> List <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">;</span>

    <span class="token keyword">return</span> <span class="token punctuation">(</span>
      <span class="token operator">&lt;</span>ul<span class="token operator">&gt;</span>
        <span class="token punctuation">{</span>list<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">item<span class="token punctuation">,</span> index</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
          <span class="token keyword">return</span> <span class="token punctuation">(</span>
            <span class="token operator">&lt;</span>li key<span class="token operator">=</span><span class="token punctuation">{</span>item<span class="token punctuation">.</span>id<span class="token punctuation">}</span><span class="token operator">&gt;</span>
              <span class="token operator">&lt;</span>span<span class="token operator">&gt;</span><span class="token punctuation">{</span>item<span class="token punctuation">.</span>title<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>span<span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span><span class="token operator">/</span>li<span class="token operator">&gt;</span>
          <span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">}</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>ul<span class="token operator">&gt;</span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p><strong>å‡½æ•°ç»„ä»¶ï¼š</strong></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// å‡½æ•°ç»„ä»¶</span>
<span class="token keyword">function</span> <span class="token function">List</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">{</span> list <span class="token punctuation">}</span> <span class="token operator">=</span> props<span class="token punctuation">;</span>

  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&lt;</span>ul<span class="token operator">&gt;</span>
      <span class="token punctuation">{</span>list<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">item<span class="token punctuation">,</span> index</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token punctuation">(</span>
          <span class="token operator">&lt;</span>li key<span class="token operator">=</span><span class="token punctuation">{</span>item<span class="token punctuation">.</span>id<span class="token punctuation">}</span><span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>span<span class="token operator">&gt;</span><span class="token punctuation">{</span>item<span class="token punctuation">.</span>title<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>span<span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span><span class="token operator">/</span>li<span class="token operator">&gt;</span>
        <span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">}</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>ul<span class="token operator">&gt;</span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="_2-å‡½æ•°ç»„ä»¶çš„ç‰¹ç‚¹"><a href="#_2-å‡½æ•°ç»„ä»¶çš„ç‰¹ç‚¹" class="header-anchor">#</a> ï¼ˆ2ï¼‰å‡½æ•°ç»„ä»¶çš„ç‰¹ç‚¹</h3> <p><strong>å‡½æ•°ç»„ä»¶çš„ç‰¹ç‚¹æ˜¯ï¼š</strong></p> <ul><li>æ²¡æœ‰ç»„ä»¶å®ä¾‹ï¼›</li> <li>æ²¡æœ‰ç”Ÿå‘½å‘¨æœŸï¼›</li> <li>æ²¡æœ‰ <code>state</code> å’Œ <code>setState</code> ï¼Œåªèƒ½æ¥æ”¶ <code>props</code> ã€‚</li></ul> <h3 id="_3-class-ç»„ä»¶çš„é—®é¢˜"><a href="#_3-class-ç»„ä»¶çš„é—®é¢˜" class="header-anchor">#</a> ï¼ˆ3ï¼‰class ç»„ä»¶çš„é—®é¢˜</h3> <p>ä¸Šé¢æˆ‘ä»¬è¯´åˆ°äº†å‡½æ•°ç»„ä»¶æ˜¯ä¸€ä¸ªçº¯å‡½æ•°ï¼Œåªèƒ½æ¥æ”¶ <code>props</code> ï¼Œæ²¡æœ‰ä»»ä½•å…¶ä»–åŠŸèƒ½ã€‚è€Œ <code>class</code> ç»„ä»¶æ‹¥æœ‰ä»¥ä¸ŠåŠŸèƒ½ï¼Œä½†æ˜¯å‘¢ï¼Œ<code>class</code> ç»„ä»¶ä¼šå­˜åœ¨ä»¥ä¸‹é—®é¢˜ï¼š</p> <ul><li>å¤§å‹ç»„ä»¶å¾ˆéš¾æ‹†åˆ†å’Œé‡æ„ï¼Œå¾ˆéš¾æµ‹è¯•ï¼ˆå³ <code>class</code> ä¸æ˜“æ‹†åˆ†ï¼‰ï¼›</li> <li>ç›¸åŒä¸šåŠ¡é€»è¾‘ï¼Œåˆ†æ•£åˆ°å„ä¸ªæ–¹æ³•ä¸­ï¼Œé€»è¾‘æ··ä¹±ï¼›</li> <li>å¤ç”¨é€»è¾‘å˜å¾—å¤æ‚ï¼Œå¦‚ <code>Mixins</code> ã€ <code>HOC</code> ã€ <code>Render Props</code> ã€‚</li></ul> <p>å› æ­¤ï¼Œæœ‰äº†ä»¥ä¸Šé—®é¢˜çš„å‡ºç°ï¼Œä¹Ÿå°±æœ‰äº† <code>React Hooks</code> ã€‚</p> <h3 id="_4-react-ç»„ä»¶"><a href="#_4-react-ç»„ä»¶" class="header-anchor">#</a> ï¼ˆ4ï¼‰React ç»„ä»¶</h3> <ul><li><p><code>React</code> ç»„ä»¶æ›´æ˜“äºç”¨<strong>å‡½æ•°</strong>æ¥è¡¨è¾¾ï¼š</p></li> <li><p><code>React</code> æå€¡å‡½æ•°å¼ç¼–ç¨‹ï¼Œå³ <code>view=fn(props)</code> ï¼›</p></li> <li><p>å‡½æ•°æ›´<strong>çµæ´»</strong>ï¼Œæ›´æ˜“<strong>æ‹†åˆ†</strong>ï¼Œæ›´æ˜“<strong>æµ‹è¯•</strong>ï¼›</p></li> <li><p>ä½†<strong>å‡½æ•°ç»„ä»¶</strong>å¤ªç®€å•ï¼Œéœ€è¦å¢å¼ºèƒ½åŠ› â€”â€”å› æ­¤ï¼Œæœ‰äº† <code>React Hooks</code> ã€‚</p></li></ul> <h1 id="äºŒã€ğŸª•-å‡ ç§-hooks"><a href="#äºŒã€ğŸª•-å‡ ç§-hooks" class="header-anchor">#</a> äºŒã€ğŸª• å‡ ç§ Hooks</h1> <h2 id="_1ã€state-hookğŸ—ï¸"><a href="#_1ã€state-hookğŸ—ï¸" class="header-anchor">#</a> 1ã€State HookğŸ—ï¸</h2> <h3 id="_1-è®©å‡½æ•°ç»„ä»¶å®ç°-state-å’Œ-setstate"><a href="#_1-è®©å‡½æ•°ç»„ä»¶å®ç°-state-å’Œ-setstate" class="header-anchor">#</a> ï¼ˆ1ï¼‰è®©å‡½æ•°ç»„ä»¶å®ç° state å’Œ setState</h3> <ul><li>é»˜è®¤å‡½æ•°ç»„ä»¶æ˜¯æ²¡æœ‰ <code>state</code> çš„ï¼›</li> <li>å‡½æ•°ç»„ä»¶æ˜¯ä¸€ä¸ªçº¯å‡½æ•°ï¼Œæ‰§è¡Œå®Œå³é”€æ¯ï¼Œæ— æ³•å­˜å‚¨ <code>store</code> ï¼›</li> <li>éœ€è¦ <code>State Hook</code> ï¼Œå³æŠŠ <code>store</code> åŠŸèƒ½ &quot;é’©&quot; åˆ°çº¯å‡½æ•°ä¸­ã€‚</li></ul> <h3 id="_2-ä¸¾ä¾‹é˜è¿°"><a href="#_2-ä¸¾ä¾‹é˜è¿°" class="header-anchor">#</a> ï¼ˆ2ï¼‰ä¸¾ä¾‹é˜è¿°</h3> <p>å‡è®¾æˆ‘ä»¬ç°åœ¨è¦é€šè¿‡ç‚¹å‡»æŒ‰é’®ï¼Œæ¥ä¿®æ”¹è®¾å®šçš„æŸä¸ªå€¼ã€‚ç°åœ¨æˆ‘ä»¬ç”¨ <code>hooks</code> ä¸­çš„ <code>useState</code> æ¥å¤„ç†ã€‚<strong>å…·ä½“ä»£ç å¦‚ä¸‹ï¼š</strong></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> React<span class="token punctuation">,</span> <span class="token punctuation">{</span> useState <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'react'</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">ClickCounter</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// æ•°ç»„çš„è§£æ„</span>
  <span class="token comment">// useState å°±æ˜¯ä¸€ä¸ª Hook â€œé’©â€ï¼Œæœ€åŸºæœ¬çš„ä¸€ä¸ª Hook</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>count<span class="token punctuation">,</span> setCount<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ä¼ å…¥ä¸€ä¸ªåˆå§‹å€¼ï¼Œåˆå§‹å€¼å¯ä»¥æ˜¯æ•°å€¼/å­—ç¬¦ä¸²/æ•°ç»„/å¯¹è±¡ç­‰ç±»å‹</span>

  <span class="token keyword">const</span> <span class="token punctuation">[</span>name<span class="token punctuation">,</span> setName<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token string">'æ˜ŸæœŸä¸€ç ”ç©¶å®¤'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token comment">// const arr = useState(0)</span>
  <span class="token comment">// const count = arr[0]</span>
  <span class="token comment">// const setCount = arr[1]</span>

  <span class="token keyword">function</span> <span class="token function">clickHandler</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">setCount</span><span class="token punctuation">(</span>count <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">setName</span><span class="token punctuation">(</span>name <span class="token operator">+</span> <span class="token string">'2021'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>p<span class="token operator">&gt;</span>
        ä½ ç‚¹å‡»äº† <span class="token punctuation">{</span>count<span class="token punctuation">}</span> æ¬¡ <span class="token punctuation">{</span>name<span class="token punctuation">}</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>button onClick<span class="token operator">=</span><span class="token punctuation">{</span>clickHandler<span class="token punctuation">}</span><span class="token operator">&gt;</span>ç‚¹å‡»<span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> ClickCounter<span class="token punctuation">;</span>
</code></pre></div><p>æ­¤æ—¶æµè§ˆå™¨çš„æ˜¾ç¤ºæ•ˆæœå¦‚ä¸‹ï¼š</p> <p><img src="https://img-blog.csdnimg.cn/e740acee99d0458989d671fbb0ac4082.gif#pic_center" alt="useState"></p> <p>åœ¨ä¸Šé¢çš„ä»£ç ä¸­ï¼Œ <code>count</code> æ˜¯ä¸€ä¸ª <code>state</code> çš„å€¼ï¼Œ <code>setCount</code> æ˜¯ä¿®æ”¹ <code>state</code> çš„ä¸€ä¸ªå‡½æ•°ã€‚åŒç†ï¼Œ <code>name</code> ä¹Ÿæ˜¯ä¸€ä¸ª <code>state</code> çš„å€¼ï¼Œ <code>setName</code> æ˜¯ä¿®æ”¹ <code>name</code> å€¼å¾—ä¸€ä¸ªå‡½æ•°ã€‚</p> <p>å¦‚æœä½¿ç”¨ <code>hooks</code> æ¥ä¿®æ”¹ <code>state</code> å€¼çš„è¯ï¼Œé‚£ä¹ˆæˆ‘ä»¬åªéœ€è¦ä»¥ <code>const [count, setCount] = useState(0)</code> è¿™ç§å½¢å¼å»è¿›è¡Œï¼Œä¾¿å¯ä¿®æ”¹æœ€åçš„å€¼ï¼Œè€Œä¸éœ€è¦åƒ <code>class</code> ç»„ä»¶é‚£ä¹ˆå¤æ‚çš„å»ä½¿ç”¨ã€‚</p> <hr> <p>å¯¹äºä¸Šé¢è¿™ä¸ªåŠŸèƒ½æ¥è¯´ï¼Œå¦‚æœä½¿ç”¨ <code>class</code> ç»„ä»¶æ¥å®ç°çš„è¯ï¼Œ<strong>å…·ä½“ä»£ç å¦‚ä¸‹ï¼š</strong></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">'react'</span><span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">ClickCounter</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">super</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// å®šä¹‰ state</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>state <span class="token operator">=</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">count</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
      <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'æ˜ŸæœŸä¸€ç ”ç©¶å®¤'</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>

    <span class="token keyword">this</span><span class="token punctuation">.</span>clickHandler <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">clickHandler</span><span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span>
      <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>p<span class="token operator">&gt;</span>
          ä½ ç‚¹å‡»äº† <span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>count<span class="token punctuation">}</span> æ¬¡ <span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>name<span class="token punctuation">}</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>button onClick<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>clickHandler<span class="token punctuation">}</span><span class="token operator">&gt;</span>ç‚¹å‡»<span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token function">clickHandler</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// ä¿®æ”¹ state</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token literal-property property">count</span><span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>count <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span>
      <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>name <span class="token operator">+</span> <span class="token string">'2021'</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> ClickCounter<span class="token punctuation">;</span>
</code></pre></div><p>å¤§å®¶å¯ä»¥çœ‹åˆ°ï¼Œå¦‚æœä½¿ç”¨ <code>class</code> ç»„ä»¶æ¥è§£å†³çš„è¯ï¼Œé‚£ä¹ˆéœ€è¦å…ˆå®šä¹‰ <code>state</code> ï¼Œç„¶åå†å®šä¹‰ä¸€ä¸ªå‡½æ•°ï¼Œå†ä½¿ç”¨ <code>setState</code> æ‰èƒ½å»ä¿®æ”¹å€¼ï¼Œè¿™æ ·ä¼¼ä¹è¿˜éº»çƒ¦äº†ç‚¹ã€‚</p> <p>ç›¸ä¿¡åˆ°è¿™é‡Œï¼Œå¤§å®¶å·²ç»æ„Ÿå—åˆ° <code>hooks</code> çš„å¿«ä¹ä¹‹å¤„äº†ã€‚</p> <p>ä¸‹é¢ï¼Œæˆ‘ä»¬æ¥æ€»ç»“å…³äº <code>useState</code> çš„ä¸€äº›çŸ¥è¯†ç‚¹ã€‚</p> <h3 id="_3-usestate-ä½¿ç”¨æ€»ç»“"><a href="#_3-usestate-ä½¿ç”¨æ€»ç»“" class="header-anchor">#</a> ï¼ˆ3ï¼‰useState ä½¿ç”¨æ€»ç»“</h3> <ul><li><code>useState(xxx)</code> ä¼ å…¥åˆå§‹å€¼ï¼Œè¿”å›æ•°ç»„ <code>[state, setState]</code> ï¼›</li> <li>é€šè¿‡ <code>state</code> è·å–å€¼ï¼›</li> <li>é€šè¿‡ <code>setState(xxx)</code> ä¿®æ”¹å€¼ã€‚</li></ul> <h3 id="_4-hooks-å‘½åè§„èŒƒ"><a href="#_4-hooks-å‘½åè§„èŒƒ" class="header-anchor">#</a> ï¼ˆ4ï¼‰Hooks å‘½åè§„èŒƒ</h3> <ul><li>è§„å®šæ‰€æœ‰çš„ <code>Hooks</code> éƒ½è¦ä½¿ç”¨ <code>use</code> å¼€å¤´ï¼Œå¦‚ <code>useXxx</code> ï¼›</li> <li>è‡ªå®šä¹‰ <code>Hook</code> ä¹Ÿè¦ä»¥ <code>use</code> å¼€å¤´ï¼›</li> <li>é <code>Hooks</code> çš„åœ°æ–¹ï¼Œå°½é‡ä¸è¦ä½¿ç”¨ <code>useXxx</code> å†™æ³•ï¼Œä¸ç„¶å®¹æ˜“é€ æˆè¯¯è§£ã€‚</li></ul> <h2 id="_2ã€effect-hookğŸ—ï¸"><a href="#_2ã€effect-hookğŸ—ï¸" class="header-anchor">#</a> 2ã€Effect HookğŸ—ï¸</h2> <h3 id="_1-è®©å‡½æ•°ç»„ä»¶æ¨¡æ‹Ÿç”Ÿå‘½å‘¨æœŸ"><a href="#_1-è®©å‡½æ•°ç»„ä»¶æ¨¡æ‹Ÿç”Ÿå‘½å‘¨æœŸ" class="header-anchor">#</a> ï¼ˆ1ï¼‰è®©å‡½æ•°ç»„ä»¶æ¨¡æ‹Ÿç”Ÿå‘½å‘¨æœŸ</h3> <ul><li>é»˜è®¤å‡½æ•°ç»„ä»¶<strong>æ²¡æœ‰ç”Ÿå‘½å‘¨æœŸ</strong>ï¼›</li> <li>å‡½æ•°ç»„ä»¶æ˜¯ä¸€ä¸ª<strong>çº¯å‡½æ•°</strong>ï¼Œæ‰§è¡Œå®Œå³é”€æ¯ï¼Œè‡ªå·±æ— æ³•å®ç°ç”Ÿå‘½å‘¨æœŸï¼›</li> <li>ä½¿ç”¨ <code>Effect Hook</code> æŠŠç”Ÿå‘½å‘¨æœŸ â€œé’©â€ åˆ°çº¯å‡½æ•°ä¸­ã€‚</li></ul> <h3 id="_2-ä¸¾ä¾‹é˜è¿°-2"><a href="#_2-ä¸¾ä¾‹é˜è¿°-2" class="header-anchor">#</a> ï¼ˆ2ï¼‰ä¸¾ä¾‹é˜è¿°</h3> <p>åŒæ ·åœ°ï¼Œæˆ‘ä»¬ç”¨äº <code>useState</code> ç›¸åŒçš„ä¾‹å­ï¼Œæ¥ä½“éªŒä¸‹ <code>useEffect</code> ã€‚</p> <p>æˆ‘ä»¬å…ˆåœ¨ <code>src|components</code> ä¸‹å»ºç«‹ä¸€ä¸ªæ–‡ä»¶ï¼Œå‘½åä¸º <code>LiftCycles.js</code> ã€‚ <strong>å…·ä½“ä»£ç å¦‚ä¸‹ï¼š</strong></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> React<span class="token punctuation">,</span> <span class="token punctuation">{</span> useState<span class="token punctuation">,</span> useEffect <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'react'</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">LifeCycles</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>count<span class="token punctuation">,</span> setCount<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>name<span class="token punctuation">,</span> setName<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token string">'æ˜ŸæœŸä¸€ç ”ç©¶å®¤'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token comment">// æ¨¡æ‹Ÿ class ç»„ä»¶çš„ DidMount å’Œ DidUpdate</span>
  <span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'åœ¨æ­¤å‘é€ä¸€ä¸ª ajax è¯·æ±‚'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">function</span> <span class="token function">clickHandler</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">setCount</span><span class="token punctuation">(</span>count <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">setName</span><span class="token punctuation">(</span>name <span class="token operator">+</span> <span class="token string">'2020'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>p<span class="token operator">&gt;</span>
        ä½ ç‚¹å‡»äº† <span class="token punctuation">{</span>count<span class="token punctuation">}</span> æ¬¡ <span class="token punctuation">{</span>name<span class="token punctuation">}</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>button onClick<span class="token operator">=</span><span class="token punctuation">{</span>clickHandler<span class="token punctuation">}</span><span class="token operator">&gt;</span>ç‚¹å‡»<span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> LifeCycles<span class="token punctuation">;</span>
</code></pre></div><p>ç°åœ¨ï¼Œæˆ‘ä»¬åœ¨ <code>App.js</code> ä¸­æ³¨å†Œè¯¥ç»„ä»¶ã€‚<strong>å…·ä½“ä»£ç å¦‚ä¸‹ï¼š</strong></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> React<span class="token punctuation">,</span> <span class="token punctuation">{</span> useState <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'react'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> LifeCycles <span class="token keyword">from</span> <span class="token string">'./components/LifeCycles'</span>

<span class="token keyword">function</span> <span class="token function">App</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>flag<span class="token punctuation">,</span> setFlag<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span>

  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&lt;</span>div
      <span class="token punctuation">{</span>flag <span class="token operator">&amp;&amp;</span> <span class="token operator">&lt;</span>LifeCycles<span class="token operator">/</span><span class="token operator">&gt;</span><span class="token punctuation">}</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> App<span class="token punctuation">;</span>

</code></pre></div><p>æ­¤æ—¶ï¼Œ<strong>æµè§ˆå™¨çš„æ˜¾ç¤ºæ•ˆæœå¦‚ä¸‹ï¼š</strong></p> <p><img src="https://img-blog.csdnimg.cn/fd64f75912774d10ba449f57a1e26298.gif#pic_center" alt="useEffectâ‘ "></p> <p>å¤§å®¶å¯ä»¥çœ‹åˆ°ï¼Œ <code>useEffect</code> å¦‚æœåªä¼ å…¥ä¸€ä¸ªå‡½æ•°çš„è¯ï¼Œé‚£ä¹ˆå®ƒæ¨¡æ‹Ÿçš„æ˜¯ <code>DidMount</code> å’Œ <code>DidUpdate</code> è¿™ä¸¤ä¸ªç”Ÿå‘½å‘¨æœŸçš„åŠŸèƒ½ã€‚æ¯å½“æˆ‘ä»¬ç‚¹å‡»ä¸€æ¬¡çš„æ—¶å€™ï¼Œæµè§ˆå™¨å°±ä¼šæ‰“å°ä¸€æ¬¡ï¼Œä¹Ÿå°±æ˜¯ç»„ä»¶åŠ è½½å’Œç»„ä»¶æ›´æ–°æ˜¯åœ¨ä¸€èµ·è¿›è¡Œçš„ã€‚</p> <hr> <p>é‚£å¦‚æœæˆ‘ä»¬æƒ³è¦è®©ç»„ä»¶åŠ è½½å’Œç»„ä»¶æ›´æ–°åˆ†å¼€å®ç°å‘¢ï¼ŒåŒæ ·æœ‰åŠæ³•ã€‚æˆ‘ä»¬æ¥æ”¹é€ ä¸‹ <code>LiftCycles.js</code> çš„ä»£ç ã€‚<strong>å…·ä½“ä»£ç å¦‚ä¸‹ï¼š</strong></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> React<span class="token punctuation">,</span> <span class="token punctuation">{</span> useState<span class="token punctuation">,</span> useEffect <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'react'</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">LifeCycles</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>count<span class="token punctuation">,</span> setCount<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>name<span class="token punctuation">,</span> setName<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token string">'æ˜ŸæœŸä¸€ç ”ç©¶å®¤'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token comment">// æ¨¡æ‹Ÿ class ç»„ä»¶çš„ DidMount</span>
  <span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'åŠ è½½å®Œäº†'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ç¬¬äºŒä¸ªå‚æ•°æ˜¯ [] ï¼ˆä¸ä¾èµ–äºä»»ä½• stateï¼‰</span>

  <span class="token comment">// æ¨¡æ‹Ÿ class ç»„ä»¶çš„ DidUpdate</span>
  <span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'æ›´æ–°äº†'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>count<span class="token punctuation">,</span> name<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ç¬¬äºŒä¸ªå‚æ•°å°±æ˜¯ä¾èµ–çš„ state</span>

  <span class="token keyword">function</span> <span class="token function">clickHandler</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">setCount</span><span class="token punctuation">(</span>count <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">setName</span><span class="token punctuation">(</span>name <span class="token operator">+</span> <span class="token string">'2020'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>p<span class="token operator">&gt;</span>
        ä½ ç‚¹å‡»äº† <span class="token punctuation">{</span>count<span class="token punctuation">}</span> æ¬¡ <span class="token punctuation">{</span>name<span class="token punctuation">}</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>button onClick<span class="token operator">=</span><span class="token punctuation">{</span>clickHandler<span class="token punctuation">}</span><span class="token operator">&gt;</span>ç‚¹å‡»<span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> LifeCycles<span class="token punctuation">;</span>
</code></pre></div><p>æ­¤æ—¶æµè§ˆå™¨çš„<strong>æ˜¾ç¤ºæ•ˆæœå¦‚ä¸‹ï¼š</strong></p> <p><img src="https://img-blog.csdnimg.cn/6e5423f19b5147ab802be0e365f773fa.gif#pic_center" alt="useEffectâ‘¡"></p> <p>å¤§å®¶å¯ä»¥çœ‹åˆ°ï¼Œç¬¬ä¸€æ¬¡çš„æ—¶å€™åˆ†åˆ«åŠ è½½å’Œæ›´æ–°äº† <code>1</code> æ¬¡ã€‚ç­‰åˆ°æˆ‘ä»¬å»ç‚¹å‡»çš„æ—¶å€™ï¼Œå› ä¸ºå·²ç»åŠ è½½å®Œäº†ï¼Œæ‰€ä»¥è¿™ä¸ªæ—¶å€™å°±æ˜¯æ›´æ–°äº†ã€‚</p> <p>é‚£æˆ‘ä»¬æ¥æ¢³ç†ä¸€ä¸‹ï¼Œ <code>useEffect</code> åœ¨åŠ è½½å’Œæ›´æ–°çš„æ—¶å€™ï¼Œåˆ†åˆ«æ˜¯æ€ä¹ˆè¿›è¡Œå¤„ç†çš„ï¼Ÿ</p> <p>çœ‹ä¸Šé¢çš„ä»£ç ä¸­æˆ‘ä»¬å¯ä»¥å‘ç°ï¼Œ<code>useEffect</code> è¿˜å¯ä»¥æ¥æ”¶ç¬¬äºŒä¸ªå‚æ•°ï¼Œç¬¬äºŒä¸ªå‚æ•°å¦‚æœç©ºå€¼ï¼Œé‚£ä¹ˆå®ƒä¸ä¾èµ–äºä»»ä½• <code>state</code> ï¼Œè¡¨ç¤º <code>componentDidMount</code> è¿™ä¸ªç”Ÿå‘½å‘¨æœŸã€‚ç›¸åï¼Œå¦‚æœç¬¬äºŒä¸ªå‚æ•°<strong>æ²¡æœ‰ä¾èµ–å€¼</strong>æˆ–è€…<strong>æ¥æ”¶ä¾èµ–äº state çš„å€¼</strong>è¿™ä¸¤ç§æƒ…å†µæ—¶ï¼Œé‚£ä¹ˆå®ƒæ¨¡æ‹Ÿ <code>componentDidUpdate</code> è¿™ä¸ªç”Ÿå‘½å‘¨æœŸã€‚</p> <hr> <p>è¯´åˆ°è¿™é‡Œï¼Œå¯èƒ½æœ‰çš„å°ä¼™ä¼´è¿˜æƒ³é—®ï¼Œé‚£è·Ÿ<strong>é”€æ¯</strong>ç›¸å…³çš„ç”Ÿå‘½å‘¨æœŸï¼Œåˆæ€ä¹ˆå¤„ç†å‘¢ï¼Ÿæˆ‘ä»¬ç»§ç»­æ¥å¯¹ <code>LiftCycles.js</code> çš„ä»£ç è¿›è¡Œæ”¹é€ ã€‚<strong>å…·ä½“å¦‚ä¸‹ï¼š</strong></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> React<span class="token punctuation">,</span> <span class="token punctuation">{</span> useState<span class="token punctuation">,</span> useEffect <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'react'</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">LifeCycles</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>count<span class="token punctuation">,</span> setCount<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>name<span class="token punctuation">,</span> setName<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token string">'æ˜ŸæœŸä¸€ç ”ç©¶å®¤'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token comment">// æ¨¡æ‹Ÿ class ç»„ä»¶çš„ DidMount</span>
  <span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> timerId <span class="token operator">=</span> window<span class="token punctuation">.</span><span class="token function">setInterval</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Date<span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// è¿”å›ä¸€ä¸ªå‡½æ•°</span>
    <span class="token comment">// æ¨¡æ‹Ÿ WillUnMount</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      window<span class="token punctuation">.</span><span class="token function">clearInterval</span><span class="token punctuation">(</span>timerId<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">function</span> <span class="token function">clickHandler</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">setCount</span><span class="token punctuation">(</span>count <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">setName</span><span class="token punctuation">(</span>name <span class="token operator">+</span> <span class="token string">'2020'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>p<span class="token operator">&gt;</span>
        ä½ ç‚¹å‡»äº† <span class="token punctuation">{</span>count<span class="token punctuation">}</span> æ¬¡ <span class="token punctuation">{</span>name<span class="token punctuation">}</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>button onClick<span class="token operator">=</span><span class="token punctuation">{</span>clickHandler<span class="token punctuation">}</span><span class="token operator">&gt;</span>ç‚¹å‡»<span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> LifeCycles<span class="token punctuation">;</span>
</code></pre></div><p>å¤§å®¶å¯ä»¥çœ‹ä»¥ä¸Šä»£ç ï¼Œåœ¨è¿™é‡Œï¼Œæˆ‘ä»¬é€šè¿‡ <code>return</code> ä¸€ä¸ªå‡½æ•°ï¼Œå»æ¨¡æ‹Ÿ <code>componentWillUnMount</code> è¿™ä¸ªç”Ÿå‘½å‘¨æœŸï¼Œæ¥é”€æ¯æ¯ä¸€æ¬¡å®šæ—¶å™¨ä¸­æ‰§è¡Œçš„ä»»åŠ¡ã€‚</p> <p>åˆ°è¿™é‡Œï¼Œç›¸ä¿¡å¤§å®¶å¯¹ <code>useEffect</code> å·²ç»æœ‰äº†ä¸€å®šçš„äº†è§£ã€‚ç°åœ¨ï¼Œæˆ‘ä»¬æ¥å¯¹ <code>useEffect</code> åšä¸ªå°ç»“ã€‚</p> <h3 id="_3-useeffect-ä½¿ç”¨æ€»ç»“"><a href="#_3-useeffect-ä½¿ç”¨æ€»ç»“" class="header-anchor">#</a> ï¼ˆ3ï¼‰useEffect ä½¿ç”¨æ€»ç»“</h3> <ul><li>æ¨¡æ‹Ÿ <code>componentDidMount - useEffect</code> ä¾èµ– <code>[]</code> ï¼›</li> <li>æ¨¡æ‹Ÿ <code>componentDidUpdate - useEffect</code> æ— ä¾èµ–ï¼Œæˆ–è€…ä¾èµ– <code>[a, b]</code> ï¼›</li> <li>æ¨¡æ‹Ÿ <code>componentWillUnMount - useEffect</code> ä¸­<strong>è¿”å›ä¸€ä¸ªå‡½æ•°</strong>ã€‚</li></ul> <h3 id="_4-useeffect-è®©çº¯å‡½æ•°æœ‰äº†å‰¯ä½œç”¨"><a href="#_4-useeffect-è®©çº¯å‡½æ•°æœ‰äº†å‰¯ä½œç”¨" class="header-anchor">#</a> ï¼ˆ4ï¼‰useEffect è®©çº¯å‡½æ•°æœ‰äº†å‰¯ä½œç”¨</h3> <ul><li>é»˜è®¤æƒ…å†µä¸‹ï¼Œæ‰§è¡Œçº¯å‡½æ•°çš„æ—¶å€™ï¼Œåªéœ€è¦è¾“å…¥å‚æ•°å¹¶è¿”å›ç»“æœå³å¯ï¼Œæ˜¯æ²¡æœ‰ä»»ä½•å‰¯ä½œç”¨çš„ï¼›</li> <li>æ‰€è°“å‰¯ä½œç”¨ï¼Œå°±æ˜¯å¯¹å‡½æ•°ä¹‹å¤–é€ æˆå½±å“ï¼Œå¦‚<strong>è®¾ç½®å…¨å±€å®šæ—¶ä»»åŠ¡</strong>ï¼›</li> <li>è€Œç»„ä»¶éœ€è¦å‰¯ä½œç”¨ï¼Œæ‰€ä»¥éœ€è¦ <code>useEffect</code> â€œé’©â€ åˆ°çº¯å‡½æ•°ä¸­ï¼›</li> <li>å› æ­¤ï¼Œ <code>useEffect</code> è¿™ä¸ªå‰¯ä½œç”¨å¹¶ä¸æ˜¯ä¸€ä»¶åäº‹ã€‚</li></ul> <h3 id="_5-useeffect-ä¸­è¿”å›å‡½æ•°-fn"><a href="#_5-useeffect-ä¸­è¿”å›å‡½æ•°-fn" class="header-anchor">#</a> ï¼ˆ5ï¼‰useEffect ä¸­è¿”å›å‡½æ•° fn</h3> <p>æœ‰ä¸€ç§å€¼å¾—æ³¨æ„çš„æƒ…å†µæ˜¯ï¼Œåœ¨ä¸Šé¢æˆ‘ä»¬é€šè¿‡è¿”å›ä¸€ä¸ªå‡½æ•°æ¥æ¨¡æ‹Ÿ <code>WillUnMount</code> ï¼Œä½†è¿™ä¸ªæ¨¡æ‹Ÿåçš„ç»“æœè¿˜<strong>ä¸å®Œå…¨ç­‰äº</strong> <code>WillUnMount</code> ã€‚ç°åœ¨ï¼Œæˆ‘ä»¬åœ¨ <code>src|components</code> ä¸‹å»ºç«‹ä¸€ä¸ªæ–‡ä»¶ï¼Œå‘½åä¸º <code>FriendStatus.js</code> ã€‚<strong>å…·ä½“ä»£ç å¦‚ä¸‹ï¼š</strong></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> React<span class="token punctuation">,</span> <span class="token punctuation">{</span> useState<span class="token punctuation">,</span> useEffect <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'react'</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">FriendStatus</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> friendId <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>status<span class="token punctuation">,</span> setStatus<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token comment">// DidMount å’Œ DidUpdate</span>
  <span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">å¼€å§‹ç›‘å¬ </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>friendId<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> åœ¨çº¿çŠ¶æ€</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// ã€ç‰¹åˆ«æ³¨æ„ã€‘</span>
    <span class="token comment">// æ­¤å¤„å¹¶ä¸å®Œå…¨ç­‰åŒäº WillUnMount</span>
    <span class="token comment">// props å‘ç”Ÿå˜åŒ–ï¼Œå³æ›´æ–°ï¼Œä¹Ÿä¼šæ‰§è¡Œç»“æŸç›‘å¬</span>
    <span class="token comment">// å‡†ç¡®çš„è¯´ï¼šè¿”å›çš„å‡½æ•°ï¼Œä¼šåœ¨ä¸‹ä¸€æ¬¡ effect æ‰§è¡Œä¹‹å‰ï¼Œè¢«æ‰§è¡Œ</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">ç»“æŸç›‘å¬ </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>friendId<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> åœ¨çº¿çŠ¶æ€</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
      å¥½å‹ <span class="token punctuation">{</span>friendId<span class="token punctuation">}</span> åœ¨çº¿çŠ¶æ€ï¼š<span class="token punctuation">{</span>status<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> FriendStatus<span class="token punctuation">;</span>
</code></pre></div><p><code>App.js</code> çš„ä»£ç å¦‚ä¸‹ï¼š</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> React<span class="token punctuation">,</span> <span class="token punctuation">{</span> useState <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'react'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> FriendStatus <span class="token keyword">from</span> <span class="token string">'./components/FriendStatus'</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">App</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>flag<span class="token punctuation">,</span> setFlag<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>id<span class="token punctuation">,</span> setId<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>button onClick<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">setFlag</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token operator">&gt;</span>flag <span class="token operator">=</span> <span class="token boolean">false</span><span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>button onClick<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">setId</span><span class="token punctuation">(</span>id <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token operator">&gt;</span>id<span class="token operator">++</span><span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>

      <span class="token punctuation">{</span>flag <span class="token operator">&amp;&amp;</span> <span class="token operator">&lt;</span>FriendStatus friendId<span class="token operator">=</span><span class="token punctuation">{</span>id<span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">&gt;</span><span class="token punctuation">}</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> App<span class="token punctuation">;</span>
</code></pre></div><p>æ­¤æ—¶ï¼Œ<strong>æµè§ˆå™¨çš„æ˜¾ç¤ºæ•ˆæœå¦‚ä¸‹ï¼š</strong></p> <p><img src="https://img-blog.csdnimg.cn/28df613bb3c6432295c1d9cdb0f9ff18.gif#pic_center" alt="useEffectâ‘¢"></p> <p>å¤§å®¶å¯ä»¥çœ‹åˆ°ï¼Œå½“å¼€å§‹ä¸‹ä¸€ä¸ªç›‘å¬æ—¶ï¼Œä¼šå…ˆç»“æŸæ‰ä¸Šä¸€ä¸ªç›‘å¬å†å¼€å§‹ä¸‹ä¸€ä¸ªã€‚æ­£å¦‚å›¾ä¸­æ‰€çœ‹åˆ°çš„ï¼Œä¸€å¼€å§‹æˆ‘ä»¬æ­£åœ¨ç›‘å¬ <code>id</code> ä¸º <code>1</code> çš„å¥½å‹ï¼Œé‚£å½“æˆ‘ä»¬æƒ³è¦ç‚¹å‡» <code>id++</code> æŒ‰é’®å»ç›‘å¬å¥½å‹ <code>2</code> æ—¶ï¼Œ<code>useEffect</code> ä¼šå…ˆå»ç»“æŸæ‰ <code>1</code> çš„çŠ¶æ€ï¼Œå†è®©å¥½å‹ <code>2</code> ä¸Šçº¿ã€‚</p> <p>æ­¤æ—¶ï¼Œæˆ‘ä»¬è¦æ³¨æ„çš„ä¸€ä¸ªç‚¹æ˜¯ï¼Œæ‰§è¡Œç»“æŸç›‘å¬çš„è¿™ä¸ªå‡½æ•°ï¼Œæ‰§è¡Œçš„æ˜¯ <code>DidUpdate</code> ç”Ÿå‘½å‘¨æœŸï¼Œè€Œä¸æ˜¯ <code>WillUnMount</code> ç”Ÿå‘½å‘¨æœŸã€‚<strong>å‡½æ•°</strong>åœ¨è¿™ä¸ªæ—¶å€™æ˜¯å±äº<strong>æ›´æ–°çŠ¶æ€</strong>è€Œä¸æ˜¯<strong>é”€æ¯çŠ¶æ€</strong>ã€‚</p> <p>ä¾æ®ä»¥ä¸Šå†…å®¹ï¼Œæˆ‘ä»¬æ¥åšä¸ªå°ç»“ã€‚<strong>å…·ä½“å¦‚ä¸‹ï¼š</strong></p> <ul><li>å½“ <code>useEffect</code> ä¾èµ–äº <code>[]</code> çš„æ—¶å€™ï¼Œåœ¨ç»„ä»¶é”€æ¯æ—¶æ‰§è¡Œ <code>return</code> çš„å‡½æ•° <code>fn</code> ï¼Œç­‰äº <code>WillUnMount</code> ç”Ÿå‘½å‘¨æœŸï¼›</li> <li>å½“ <code>useEffect</code> æ— ä¾èµ–æˆ–ä¾èµ–äº <code>[a, b]</code> çš„æ—¶å€™ï¼Œç»„ä»¶æ˜¯åœ¨æ›´æ–°æ—¶æ‰§è¡Œ <code>return</code> çš„å‡½æ•° <code>fn</code> ï¼›å³åœ¨ä¸‹ä¸€æ¬¡æ‰§è¡Œ <code>useEffect</code> ä¹‹å‰ï¼Œå°±ä¼šå…ˆæ‰§è¡Œ <code>fn</code> ï¼Œæ­¤æ—¶æ¨¡æ‹Ÿçš„æ˜¯ <code>DidUpdate</code> ç”Ÿå‘½å‘¨æœŸã€‚</li></ul> <h2 id="_3ã€å…¶ä»–-hooksğŸ—ï¸"><a href="#_3ã€å…¶ä»–-hooksğŸ—ï¸" class="header-anchor">#</a> 3ã€å…¶ä»– HooksğŸ—ï¸</h2> <p>ä¸Šé¢æˆ‘ä»¬è®²äº†ä¸¤ä¸ªæ¯”è¾ƒå¸¸ç”¨çš„ <code>hooks</code> â†’ <code>useState</code> å’Œ <code>useEffect</code> ã€‚æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬æ¥äº†è§£å…¶ä»–å‡ ä¸ªæ¯”è¾ƒä¸å¸¸ç”¨çš„ <code>hooks</code> ã€‚</p> <h3 id="_1-useref"><a href="#_1-useref" class="header-anchor">#</a> ï¼ˆ1ï¼‰useRef</h3> <p><code>Ref</code> æ˜¯ç”¨äºå¯¹ <strong>å€¼çš„ä¿®æ”¹</strong> å’Œ <strong>DOM å…ƒç´ çš„è·å–</strong> ã€‚<strong>å…ˆæ¥çœ‹ä¸€æ®µä»£ç ï¼š</strong></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> React<span class="token punctuation">,</span> <span class="token punctuation">{</span> useRef<span class="token punctuation">,</span> useEffect <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'react'</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">UseRef</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> btnRef <span class="token operator">=</span> <span class="token function">useRef</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// åˆå§‹å€¼</span>

  <span class="token keyword">const</span> numRef <span class="token operator">=</span> <span class="token function">useRef</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  numRef<span class="token punctuation">.</span>current <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>

  <span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>btnRef<span class="token punctuation">.</span>current<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// DOM èŠ‚ç‚¹</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>numRef<span class="token punctuation">.</span>current<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// å¾—åˆ°å€¼</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>button ref<span class="token operator">=</span><span class="token punctuation">{</span>btnRef<span class="token punctuation">}</span><span class="token operator">&gt;</span>click<span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> UseRef<span class="token punctuation">;</span>
</code></pre></div><p>æ­¤æ—¶ï¼Œ<strong>æµè§ˆå™¨çš„æ˜¾ç¤ºæ•ˆæœä¸ºï¼š</strong></p> <p><img src="https://img-blog.csdnimg.cn/f9389c65be994a8e9e411ed679d7d75e.png#pic_center" alt="useRef"></p> <p>å¤§å®¶å¯ä»¥çœ‹åˆ°ï¼Œå¦‚æœå°† <code>btnRef</code> ç»‘å®šåˆ° <code>ref={btnRef}</code> ä¸Šï¼Œé‚£ä¹ˆ <code>btnRef.current</code> è·å–åˆ°çš„æ˜¯å½“å‰çš„ <code>DOM</code> èŠ‚ç‚¹ã€‚</p> <p>å¦å¤–ä¸€ç§æƒ…å†µæ˜¯ï¼Œå¤§å®¶å®šä½åˆ° <code>numRef</code> ï¼Œå¦‚æœæˆ‘ä»¬ç»™å…¶è¿›è¡Œèµ‹å€¼å¹¶ä¿®æ”¹ï¼Œé‚£ä¹ˆ <code>numRef.current</code> æœ€ç»ˆå¾—åˆ°çš„å€¼æ˜¯ä¿®æ”¹åçš„å€¼ã€‚</p> <h3 id="_2-usecontext"><a href="#_2-usecontext" class="header-anchor">#</a> ï¼ˆ2ï¼‰useContext</h3> <p>å¾ˆå¤šæ—¶å€™ï¼Œæˆ‘ä»¬ç»å¸¸ä¼šæœ‰ä¸€äº›æ¯”è¾ƒé™æ€çš„å±æ€§éœ€è¦åšåˆ‡æ¢ï¼Œæ¯”å¦‚ï¼š<strong>ä¸»é¢˜é¢œè‰²åˆ‡æ¢</strong>ã€‚è¿™ä¸ªæ—¶å€™å°±éœ€è¦ç”¨åˆ° <code>context</code> ä¸Šä¸‹æ–‡æ¥å¤„ç†ã€‚é‚£åœ¨ <code>hook</code> ä¸­ï¼Œå°±æœ‰ <code>useContext</code> å¯ä»¥å¤„ç†è¿™ä»¶äº‹æƒ…ã€‚å…ˆæ¥çœ‹ä¸€æ®µ<strong>æ¼”ç¤ºä»£ç ï¼š</strong></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> React<span class="token punctuation">,</span> <span class="token punctuation">{</span> useContext <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'react'</span><span class="token punctuation">;</span>

<span class="token comment">// ä¸»é¢˜é¢œè‰²</span>
<span class="token keyword">const</span> themes <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">light</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">foreground</span><span class="token operator">:</span> <span class="token string">'#000'</span><span class="token punctuation">,</span>
    <span class="token literal-property property">background</span><span class="token operator">:</span> <span class="token string">'#eee'</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">dark</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">foreground</span><span class="token operator">:</span> <span class="token string">'#fff'</span><span class="token punctuation">,</span>
    <span class="token literal-property property">background</span><span class="token operator">:</span> <span class="token string">'#222'</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">// åˆ›å»º Context</span>
<span class="token keyword">const</span> ThemeContext <span class="token operator">=</span> React<span class="token punctuation">.</span><span class="token function">createContext</span><span class="token punctuation">(</span>themes<span class="token punctuation">.</span>light<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// åˆå§‹å€¼</span>

<span class="token keyword">function</span> <span class="token function">ThemeButton</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> theme <span class="token operator">=</span> <span class="token function">useContext</span><span class="token punctuation">(</span>ThemeContext<span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&lt;</span>button style<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span> <span class="token literal-property property">background</span><span class="token operator">:</span> theme<span class="token punctuation">.</span>background<span class="token punctuation">,</span> <span class="token literal-property property">color</span><span class="token operator">:</span> theme<span class="token punctuation">.</span>foreground <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&gt;</span>
      hello world
    <span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">Toolbar</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>ThemeButton<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>ThemeButton<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">App</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&lt;</span>ThemeContext<span class="token punctuation">.</span>Provider value<span class="token operator">=</span><span class="token punctuation">{</span>themes<span class="token punctuation">.</span>dark<span class="token punctuation">}</span><span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>Toolbar<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>Toolbar<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>ThemeContext<span class="token punctuation">.</span>Provider<span class="token operator">&gt;</span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> App<span class="token punctuation">;</span>
</code></pre></div><p>æ­¤æ—¶æµè§ˆå™¨çš„<strong>æ˜¾ç¤ºæ•ˆæœå¦‚ä¸‹ï¼š</strong></p> <p><img src="https://img-blog.csdnimg.cn/b16e2d089ee949d7b343235548a51bb8.png#pic_center" alt="useContext"></p> <p>ç°åœ¨å±äº<strong>é»‘è‰²èƒŒæ™¯</strong>çš„ä¸»é¢˜ã€‚å¦‚æœæˆ‘ä»¬è¦åˆ‡æ¢ä¸º<strong>ç™½è‰²èƒŒæ™¯</strong>çš„ä¸»é¢˜ï¼Œé‚£ä¹ˆåªéœ€è¦æŠŠæœ€åº•ä¸‹çš„ä»£ç  <code>value={themes.dark}</code> æ”¹ä¸º <code>value={themes.light}</code> å³å¯ã€‚</p> <h3 id="_3-usereducer"><a href="#_3-usereducer" class="header-anchor">#</a> ï¼ˆ3ï¼‰useReducer</h3> <p>åœ¨ <code>redux</code> ä¸­ï¼Œæˆ‘ä»¬ä¼šç”¨åˆ° <code>reducer</code> ï¼Œä½† <code>useReducer</code> è·Ÿ <code>redux</code> è¿˜æœ‰ä¸€ç‚¹åŒºåˆ«ã€‚ <code>useReducer</code> æ˜¯å¯¹å•ä¸ªç»„ä»¶è¿›è¡ŒçŠ¶æ€</p> <p><strong>å…ˆæ¥çœ‹ä¸€æ®µä»£ç ï¼š</strong></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> React<span class="token punctuation">,</span> <span class="token punctuation">{</span> useReducer <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'react'</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> initialState <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token literal-property property">count</span><span class="token operator">:</span> <span class="token number">0</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> <span class="token function-variable function">reducer</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">state<span class="token punctuation">,</span> action</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">switch</span> <span class="token punctuation">(</span>action<span class="token punctuation">.</span>type<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">case</span> <span class="token string">'increment'</span><span class="token operator">:</span>
      <span class="token keyword">return</span> <span class="token punctuation">{</span> <span class="token literal-property property">count</span><span class="token operator">:</span> state<span class="token punctuation">.</span>count <span class="token operator">+</span> <span class="token number">1</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token keyword">case</span> <span class="token string">'decrement'</span><span class="token operator">:</span>
      <span class="token keyword">return</span> <span class="token punctuation">{</span> <span class="token literal-property property">count</span><span class="token operator">:</span> state<span class="token punctuation">.</span>count <span class="token operator">-</span> <span class="token number">1</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token keyword">default</span><span class="token operator">:</span>
      <span class="token keyword">return</span> state<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">App</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// å¾ˆåƒ const [count, setCount] = useState(0)</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>state<span class="token punctuation">,</span> dispatch<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useReducer</span><span class="token punctuation">(</span>reducer<span class="token punctuation">,</span> initialState<span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
      <span class="token literal-property property">count</span><span class="token operator">:</span> <span class="token punctuation">{</span>state<span class="token punctuation">.</span>count<span class="token punctuation">}</span>
      <span class="token operator">&lt;</span>button onClick<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">dispatch</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">'increment'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token operator">&gt;</span>increment<span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>button onClick<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">dispatch</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">'decrement'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token operator">&gt;</span>decrement<span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> App<span class="token punctuation">;</span>
</code></pre></div><p>æ­¤æ—¶æµè§ˆå™¨çš„<strong>æ˜¾ç¤ºæ•ˆæœå¦‚ä¸‹ï¼š</strong></p> <p><img src="https://img-blog.csdnimg.cn/3bb32006d3ad47dc9b6e5642a3014ac2.gif#pic_center" alt="useReducer"></p> <p>æˆ‘ä»¬å°†è¦æ”¹å˜çš„å€¼æ”¾åˆ° <code>reducer</code> å½“ä¸­ï¼Œä¹‹åå†å°† <code>reducer</code> ä¼ é€’ç»™ <code>useRouter</code> ã€‚æœ€åï¼Œé€šè¿‡ <code>dispatch</code> æ¥å¯¹å€¼è¿›è¡Œç»‘å®šã€‚</p> <p>ä¸‹é¢æˆ‘ä»¬æ¥æ¢³ç†ä¸€ä¸‹ <code>useRuducer</code> å’Œ <code>redux</code> çš„åŒºåˆ«ï¼š</p> <ul><li><code>useReducer</code> æ˜¯ <code>useState</code> çš„ä»£æ›¿æ–¹æ¡ˆï¼Œç”¨äºå¤„ç† <code>state</code> çš„å¤æ‚å˜åŒ–ï¼›</li> <li><code>useReducer</code> æ˜¯<strong>å•ä¸ªç»„ä»¶çŠ¶æ€ç®¡ç†</strong>ï¼Œç»„ä»¶é€šè®¯è¿˜éœ€è¦ <code>props</code> ï¼›</li> <li><code>redux</code> æ˜¯å…¨å±€çš„<strong>çŠ¶æ€ç®¡ç†</strong>ï¼Œ<strong>å¤šç»„ä»¶å…±äº«æ•°æ®</strong>ã€‚</li></ul> <h3 id="_4-usememo"><a href="#_4-usememo" class="header-anchor">#</a> ï¼ˆ4ï¼‰useMemo</h3> <p><code>useMemo</code> æ˜¯ <code>hooks</code> ä¸­æ€§èƒ½ä¼˜åŒ–çš„ä¸€éƒ¨åˆ†ã€‚å½“æˆ‘ä»¬ä¸ä½¿ç”¨ <code>useMemo</code> æ—¶ï¼ŒçŠ¶æ€æ—¶è¿™æ ·çš„ã€‚<strong>çœ‹ä»¥ä¸‹è¿™æ®µä»£ç ï¼š</strong></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> React<span class="token punctuation">,</span> <span class="token punctuation">{</span> useState <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'react'</span><span class="token punctuation">;</span>

<span class="token comment">// å­ç»„ä»¶</span>
<span class="token keyword">function</span> <span class="token function">Child</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> userInfo <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Child render...'</span><span class="token punctuation">,</span> userInfo<span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>p<span class="token operator">&gt;</span>
        This is Child <span class="token punctuation">{</span>userInfo<span class="token punctuation">.</span>name<span class="token punctuation">}</span> <span class="token punctuation">{</span>userInfo<span class="token punctuation">.</span>age<span class="token punctuation">}</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// çˆ¶ç»„ä»¶</span>
<span class="token keyword">function</span> <span class="token function">App</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Parent render...'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">const</span> <span class="token punctuation">[</span>count<span class="token punctuation">,</span> setCount<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>name<span class="token punctuation">,</span> setName<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token string">'æ˜ŸæœŸä¸€ç ”ç©¶å®¤'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">const</span> userInfo <span class="token operator">=</span> <span class="token punctuation">{</span> name<span class="token punctuation">,</span> <span class="token literal-property property">age</span><span class="token operator">:</span> <span class="token number">20</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>

  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>p<span class="token operator">&gt;</span>
        count is <span class="token punctuation">{</span>count<span class="token punctuation">}</span>
        <span class="token operator">&lt;</span>button onClick<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">setCount</span><span class="token punctuation">(</span>count <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token operator">&gt;</span>click<span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>Child userInfo<span class="token operator">=</span><span class="token punctuation">{</span>userInfo<span class="token punctuation">}</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>Child<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> App<span class="token punctuation">;</span>
</code></pre></div><p>æ­¤æ—¶ï¼Œæ§åˆ¶å°çš„<strong>æ‰“å°æ•ˆæœå¦‚ä¸‹ï¼š</strong></p> <p><img src="https://img-blog.csdnimg.cn/31ed3c2516584f2a970c008f6977fdd1.gif#pic_center" alt="useMemoâ‘ "></p> <p>å¤§å®¶å¯ä»¥çœ‹åˆ°ï¼Œæ¯æ¯æˆ‘ä»¬ç‚¹å‡»ä¸€æ¬¡ï¼Œä¸ç®¡ <code>state</code> çš„å€¼æ˜¯å¦æ›´æ–°æ—¶ï¼Œå­ç»„ä»¶ <code>Child</code> éƒ½ä¼šé‡æ–°æ‰“å°ä¸€æ¬¡ã€‚ è¿™å¯¹äºç¨‹åºæ¥è¯´ï¼Œæ˜¯æ¯”è¾ƒè€—è´¹æ€§èƒ½çš„ã€‚å› æ­¤ï¼Œæˆ‘ä»¬è¦ç”¨ <code>useMemo</code> æ¥é˜»æ­¢ <code>Child</code> äº‹ä»¶é¢‘ç¹æ‰“å°ï¼Œæé«˜ç¨‹åºçš„æ€§èƒ½ã€‚<strong>ä»£ç æ”¹é€ å¦‚ä¸‹ï¼š</strong></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> React<span class="token punctuation">,</span> <span class="token punctuation">{</span> useState<span class="token punctuation">,</span> memo<span class="token punctuation">,</span> useMemo <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'react'</span><span class="token punctuation">;</span>

<span class="token comment">// å­ç»„ä»¶</span>
<span class="token comment">// ç±»ä¼¼ class PureComponent ï¼Œå¯¹ props è¿›è¡Œæµ…å±‚æ¯”è¾ƒ</span>
<span class="token keyword">const</span> Child <span class="token operator">=</span> <span class="token function">memo</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> userInfo <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Child render...'</span><span class="token punctuation">,</span> userInfo<span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>p<span class="token operator">&gt;</span>
        This is Child <span class="token punctuation">{</span>userInfo<span class="token punctuation">.</span>name<span class="token punctuation">}</span> <span class="token punctuation">{</span>userInfo<span class="token punctuation">.</span>age<span class="token punctuation">}</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// çˆ¶ç»„ä»¶</span>
<span class="token keyword">function</span> <span class="token function">App</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Parent render...'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">const</span> <span class="token punctuation">[</span>count<span class="token punctuation">,</span> setCount<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>name<span class="token punctuation">,</span> setName<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token string">'æ˜ŸæœŸä¸€ç ”ç©¶å®¤'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token comment">// ç”¨ useMemo ç¼“å­˜æ•°æ®ï¼Œä¾èµ–äº [name]</span>
  <span class="token comment">//  å½“nameæœ‰æ›´æ–°æ—¶ï¼Œ{ name, age: 18 } è¿™ä¸ªç¼“å­˜å°±ä¼šå¤±æ•ˆ</span>
  <span class="token keyword">const</span> userInfo <span class="token operator">=</span> <span class="token function">useMemo</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span> name<span class="token punctuation">,</span> <span class="token literal-property property">age</span><span class="token operator">:</span> <span class="token number">18</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>name<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>p<span class="token operator">&gt;</span>
        count is <span class="token punctuation">{</span>count<span class="token punctuation">}</span>
        <span class="token operator">&lt;</span>button onClick<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">setCount</span><span class="token punctuation">(</span>count <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token operator">&gt;</span>click<span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>Child userInfo<span class="token operator">=</span><span class="token punctuation">{</span>userInfo<span class="token punctuation">}</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>Child<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> App<span class="token punctuation">;</span>
</code></pre></div><p>æ­¤æ—¶ï¼Œæµè§ˆå™¨çš„<strong>æ˜¾ç¤ºæ•ˆæœå¦‚ä¸‹ï¼š</strong></p> <p><img src="https://img-blog.csdnimg.cn/5bff530ab3374dc8823bf60966513aa7.gif#pic_center" alt="useMemoâ‘¡"></p> <p>å¤§å®¶å¯ä»¥çœ‹åˆ°ï¼Œ <code>Child</code> ç»„ä»¶é™¤äº†ç¬¬ä¸€æ¬¡æ›´æ–°æœ‰æ‰“å°ä¹‹å¤–ï¼Œä¹‹åçš„æ²¡æœ‰æ›´æ–°å°±ä¸ä¼šå†è¿›è¡Œæ‰“å°ã€‚é‚£å®ƒæ˜¯æ€ä¹ˆä½¿ç”¨çš„å‘¢ï¼Œé¦–å…ˆï¼Œæˆ‘ä»¬è¦ç”¨ <code>memo</code> æŠŠå­ç»„ä»¶ç»™åŒ…è£¹ä¸‹æ¥ï¼Œä¹‹åå‘¢ï¼Œé€šè¿‡ <code>useMemo</code> å»ç¼“å­˜æ•°æ®ï¼ŒåŒæ—¶è¿™ä¸ªæ•°æ®è¦ä¾èµ–äº <code>[name]</code> ï¼›å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œå¦‚æœä¸ä¾èµ–äº <code>[name]</code> ï¼Œå®ƒæ˜¯ä¸ä¼šç”Ÿæ•ˆçš„ã€‚</p> <p>ç°åœ¨ï¼Œæˆ‘ä»¬æ¥å¯¹ <code>useMemo</code> åšä¸ªæ€»ç»“ï¼Œ<strong>å…·ä½“å¦‚ä¸‹ï¼š</strong></p> <ul><li><code>React</code> é»˜è®¤ä¼šæ›´æ–°<strong>æ‰€æœ‰å­ç»„ä»¶</strong>ï¼›</li> <li><code>class</code> ç»„ä»¶ä½¿ç”¨ <code>shouldComponentUpdate</code> å’Œ <code>PureComponent</code> åšä¼˜åŒ–ï¼›</li> <li><code>Hooks</code> ä¸­ä½¿ç”¨ <code>useMemo</code> åšä¼˜åŒ–ï¼Œä½†ä¼˜åŒ–åŸç†å’Œ <code>class</code> ç»„ä»¶æ˜¯ç›¸åŒçš„ã€‚</li></ul> <h3 id="_5-usecallback"><a href="#_5-usecallback" class="header-anchor">#</a> ï¼ˆ5ï¼‰useCallback</h3> <p>ä¸Šé¢æˆ‘ä»¬è¯´åˆ°çš„æ˜¯ä½¿ç”¨ <code>useMemo</code> æ¥<strong>ç¼“å­˜æ•°æ®</strong>ï¼Œç°åœ¨æˆ‘ä»¬æ¥è®²ä¸‹ <code>useCallback</code> ã€‚ <code>useCallback</code> ä¸»è¦æ˜¯ç”¨æ¥<strong>ç¼“å­˜å‡½æ•°</strong>ã€‚</p> <p>å‡è®¾æˆ‘ä»¬ç°åœ¨ä¸ä½¿ç”¨ <code>useCallback</code> ï¼Œæ¥è¿è¡Œ<strong>ä¸‹é¢è¿™æ®µä»£ç ï¼š</strong></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> React<span class="token punctuation">,</span> <span class="token punctuation">{</span> useState<span class="token punctuation">,</span> memo<span class="token punctuation">,</span> useMemo<span class="token punctuation">,</span> useCallback <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'react'</span><span class="token punctuation">;</span>

<span class="token comment">// å­ç»„ä»¶ï¼Œmemo ç›¸å½“äº PureComponent</span>
<span class="token keyword">const</span> Child <span class="token operator">=</span> <span class="token function">memo</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> userInfo<span class="token punctuation">,</span> onChange <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Child render...'</span><span class="token punctuation">,</span> userInfo<span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>p<span class="token operator">&gt;</span>
        This is Child <span class="token punctuation">{</span>userInfo<span class="token punctuation">.</span>name<span class="token punctuation">}</span> <span class="token punctuation">{</span>userInfo<span class="token punctuation">.</span>age<span class="token punctuation">}</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>input onChange<span class="token operator">=</span><span class="token punctuation">{</span>onChange<span class="token punctuation">}</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>input<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// çˆ¶ç»„ä»¶</span>
<span class="token keyword">function</span> <span class="token function">App</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Parent render...'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">const</span> <span class="token punctuation">[</span>count<span class="token punctuation">,</span> setCount<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>name<span class="token punctuation">,</span> setName<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token string">'æ˜ŸæœŸä¸€ç ”ç©¶å®¤'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token comment">// ç”¨ useMemo ç¼“å­˜æ•°æ®</span>
  <span class="token keyword">const</span> userInfo <span class="token operator">=</span> <span class="token function">useMemo</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span> name<span class="token punctuation">,</span> <span class="token literal-property property">age</span><span class="token operator">:</span> <span class="token number">21</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>name<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">function</span> <span class="token function">onChange</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>target<span class="token punctuation">.</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>p<span class="token operator">&gt;</span>
        count is <span class="token punctuation">{</span>count<span class="token punctuation">}</span>
        <span class="token operator">&lt;</span>button onClick<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">setCount</span><span class="token punctuation">(</span>count <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token operator">&gt;</span>click<span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>Child userInfo<span class="token operator">=</span><span class="token punctuation">{</span>userInfo<span class="token punctuation">}</span> onChange<span class="token operator">=</span><span class="token punctuation">{</span>onChange<span class="token punctuation">}</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>Child<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> App<span class="token punctuation">;</span>
</code></pre></div><p>æ­¤æ—¶æµè§ˆå™¨çš„æ‰“å°æ•ˆæœå¦‚ä¸‹ï¼š</p> <p><img src="https://img-blog.csdnimg.cn/5708c417b4d84450af8ac7061671503b.gif#pic_center" alt="useCallbackâ‘ "></p> <p>å¤§å®¶å¯ä»¥çœ‹åˆ°ï¼Œå¦‚æœæ²¡æœ‰ä½¿ç”¨ <code>useCallback</code> ï¼Œé‚£ä¹ˆå…¶ä¼šä¸€ç›´å°†å­ç»„ä»¶æ‰“å°å‡ºæ¥ï¼Œä¹Ÿå°±æ˜¯ <code>onChange</code> äº‹ä»¶ä¼šä¸€ç›´è¿è½¬ã€‚ç°åœ¨ï¼Œæˆ‘ä»¬å°† <code>onChange</code> äº‹ä»¶æ”¹é€ ä¸€ä¸‹ï¼Œ<strong>å…·ä½“å¦‚ä¸‹ï¼š</strong></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// ç”¨ useCallback ç¼“å­˜å‡½æ•°</span>
<span class="token keyword">const</span> onChange <span class="token operator">=</span> <span class="token function">useCallback</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>target<span class="token punctuation">.</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>æ­¤æ—¶æˆ‘ä»¬æ¥çœ‹ä¸‹æµè§ˆå™¨è¿è¡Œçš„æ•ˆæœï¼š</p> <p><img src="https://img-blog.csdnimg.cn/dad9d695249c44a28aea2856054596b1.gif#pic_center" alt="useCallbackâ‘¡"></p> <p>å¤§å®¶å¯ä»¥çœ‹åˆ°ï¼ŒåŠ ä¸Š <code>useCallback</code> ä¹‹åï¼Œä¸” <code>Child</code> æ²¡æœ‰æ›´æ–°æ—¶ï¼Œä¹Ÿå°±ä¸ä¼šå†æ›´æ–°å•¦ï¼</p> <p>æ¥ä¸‹æ¥æˆ‘ä»¬å¯¹ <code>useMemo</code> å’Œ <code>useCallback</code> åšä¸ªå°ç»“ï¼š</p> <ul><li><code>useMemo</code> ç¼“å­˜æ•°æ®ï¼›</li> <li><code>useCallback</code> ç¼“å­˜å‡½æ•°ï¼›</li> <li>ä¸¤è€…éƒ½æ˜¯ <code>React Hooks</code> çš„å¸¸è§ä¼˜åŒ–ç­–ç•¥ã€‚</li></ul> <h2 id="_4ã€è‡ªå®šä¹‰-hookğŸ—ï¸"><a href="#_4ã€è‡ªå®šä¹‰-hookğŸ—ï¸" class="header-anchor">#</a> 4ã€è‡ªå®šä¹‰ HookğŸ—ï¸</h2> <h3 id="_1-ä¸ºä»€ä¹ˆè¦ä½¿ç”¨è‡ªå®šä¹‰-hook"><a href="#_1-ä¸ºä»€ä¹ˆè¦ä½¿ç”¨è‡ªå®šä¹‰-hook" class="header-anchor">#</a> ï¼ˆ1ï¼‰ä¸ºä»€ä¹ˆè¦ä½¿ç”¨è‡ªå®šä¹‰ Hook</h3> <ul><li>ç”¨æ¥å°è£…<strong>é€šç”¨çš„åŠŸèƒ½</strong>ï¼›</li> <li>å¯ä»¥<strong>å¼€å‘</strong>å’Œ<strong>ä½¿ç”¨</strong>ç¬¬ä¸‰æ–¹ <code>Hooks</code> ï¼›</li> <li>è‡ªå®šä¹‰ <code>Hook</code> å¸¦æ¥äº†æ— é™çš„æ‰©å±•æ€§ï¼Œè§£è€¦ä»£ç ã€‚</li></ul> <h3 id="_2-ä¸¾ä¾‹é˜è¿°-3"><a href="#_2-ä¸¾ä¾‹é˜è¿°-3" class="header-anchor">#</a> ï¼ˆ2ï¼‰ä¸¾ä¾‹é˜è¿°</h3> <p>å‡è®¾æˆ‘ä»¬ç°åœ¨æƒ³è¦å°è£…ä¸€ä¸ª <code>useAxios</code> ï¼Œé‚£æ€ä¹ˆå®ç°å‘¢ï¼Ÿ</p> <p>é¦–å…ˆæˆ‘ä»¬éœ€è¦å…ˆåœ¨é¡¹ç›®ä¸­å®‰è£… <code>axios</code> ï¼Œ<strong>å…·ä½“ä»£ç å¦‚ä¸‹ï¼š</strong></p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">npm</span> i axios --save
</code></pre></div><p>æ¥ç€ï¼Œæˆ‘ä»¬åœ¨é¡¹ç›®çš„ <code>src|customHooks</code> æ–‡ä»¶å¤¹ä¸‹æ–°å»ºä¸€ä¸ªæ–‡ä»¶ï¼Œå‘½åä¸º <code>useAxios.js</code> ã€‚<strong>å…·ä½“ä»£ç å¦‚ä¸‹ï¼š</strong></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> useState<span class="token punctuation">,</span> useEffect <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'react'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> axios <span class="token keyword">from</span> <span class="token string">'axios'</span><span class="token punctuation">;</span>

<span class="token comment">// å°è£… axios å‘é€ç½‘ç»œè¯·æ±‚çš„è‡ªå®šä¹‰ Hook</span>
<span class="token keyword">function</span> <span class="token function">useAxios</span><span class="token punctuation">(</span><span class="token parameter">url</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// loading æ¨¡æ‹Ÿå½“å‰æ˜¯å¦å†ç­‰å¾…ä¸­</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>loading<span class="token punctuation">,</span> setLoading<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// è¯·æ±‚æˆåŠŸæ—¶è¿”å›çš„æ•°æ®</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>data<span class="token punctuation">,</span> setData<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// è¯·æ±‚å¤±è´¥æ—¶è¿”å›çš„ä¸€äº›ä¿¡æ¯</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>error<span class="token punctuation">,</span> setError<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token comment">// åˆ©ç”¨ axios å‘é€ç½‘ç»œè¯·æ±‚</span>
    <span class="token function">setLoading</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    axios
      <span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>url<span class="token punctuation">)</span> <span class="token comment">// å‘é€ä¸€ä¸ª get è¯·æ±‚</span>
      <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">res</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">setData</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">err</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">setError</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">finally</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">setLoading</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>url<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">return</span> <span class="token punctuation">[</span>loading<span class="token punctuation">,</span> data<span class="token punctuation">,</span> error<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> useAxios<span class="token punctuation">;</span>
</code></pre></div><p>ç»§ç»­ï¼Œæˆ‘ä»¬åœ¨é¡¹ç›®çš„ <code>src|components</code> æ–‡ä»¶å¤¹ï¼Œæ–°å»ºä¸€ä¸ªæ–‡ä»¶ï¼Œå‘½åä¸º <code>CustomHookUsage.js</code> ã€‚è¿™ä¸ªç»„ä»¶ä¸»è¦ç”¨æ¥ä½¿ç”¨ä¸Šé¢æ‰€è‡ªå®šä¹‰çš„ <code>useAxios</code> è¿™ä¸ª <code>hook</code> ã€‚<strong>å…·ä½“ä»£ç å¦‚ä¸‹ï¼š</strong></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">'react'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> useAxios <span class="token keyword">from</span> <span class="token string">'../customHooks/useAxios'</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">App</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> url <span class="token operator">=</span> <span class="token string">'http://localhost:3000/'</span><span class="token punctuation">;</span>
  <span class="token comment">// æ•°ç»„è§£æ„</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>loading<span class="token punctuation">,</span> data<span class="token punctuation">,</span> error<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useAxios</span><span class="token punctuation">(</span>url<span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">if</span> <span class="token punctuation">(</span>loading<span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>loading<span class="token operator">...</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span><span class="token punctuation">;</span>

  <span class="token keyword">return</span> error <span class="token operator">?</span> <span class="token punctuation">(</span>
    <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span><span class="token punctuation">{</span><span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>error<span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
  <span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token punctuation">(</span>
    <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span><span class="token punctuation">{</span><span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> App<span class="token punctuation">;</span>
</code></pre></div><p>æœ€åï¼Œæˆ‘ä»¬åœ¨é¡¹ç›®çš„ <code>App.js</code> ä¸­æ¥ä½¿ç”¨å®ƒã€‚<strong>å…·ä½“ä»£ç å¦‚ä¸‹ï¼š</strong></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> React<span class="token punctuation">,</span> <span class="token punctuation">{</span> useState <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'react'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> CustomHookUsage <span class="token keyword">from</span> <span class="token string">'./components/CustomHookUsage'</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">App</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span><span class="token punctuation">{</span><span class="token operator">&lt;</span>CustomHookUsage <span class="token operator">/</span><span class="token operator">&gt;</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> App<span class="token punctuation">;</span>
</code></pre></div><p>æ­¤æ—¶ï¼Œæˆ‘ä»¬æ¥çœ‹ä¸‹æµè§ˆå™¨çš„æ˜¾ç¤ºæ•ˆæœï¼š</p> <p><img src="https://img-blog.csdnimg.cn/4feacd5e0f274b3ea6040e32913f8d4d.gif#pic_center" alt="useAxios"></p> <p>å¤§å®¶å¯ä»¥çœ‹åˆ°ï¼Œé¦–å…ˆæ˜¯åœ¨ç­‰å¾…çš„æ—¶å€™ï¼Œå®ƒä¼šå…ˆå‡ºç° <code>loading</code> ã€‚ä¹‹åå‘¢ï¼Œå¦‚æœåœ¨ç­‰å¾…ç»“æŸå¹¶è¯·æ±‚æˆåŠŸåï¼Œä¼šè¿”å› <code>data</code> ã€‚å½“ç„¶ï¼Œæˆ‘ä»¬è¿™é‡Œæ²¡æœ‰æ¼”ç¤º <code>error</code> çš„æƒ…å†µã€‚å¤§å®¶å¯ä»¥æŠŠ <code>url</code> ä¿®æ”¹ä¸ºä¸å­˜åœ¨çš„è¯·æ±‚åœ°å€ï¼Œå³å¯æµ‹è¯• <code>error</code> çš„æƒ…å†µã€‚</p> <h3 id="_3-æ€»ç»“"><a href="#_3-æ€»ç»“" class="header-anchor">#</a> ï¼ˆ3ï¼‰æ€»ç»“</h3> <p>çœ‹å®Œä¸Šé¢çš„æ¼”ç¤ºä»£ç ä»¥åï¼Œæˆ‘ä»¬æ¥åšä¸ªå°ç»“ï¼š</p> <ul><li>è‡ªå®šä¹‰ <code>hook</code> æœ¬è´¨æ˜¯ä¸€ä¸ª<strong>å‡½æ•°</strong>ï¼Œä»¥ <code>use</code> å¼€å¤´ï¼›</li> <li>å†…éƒ¨å¯ä»¥æ­£å¸¸ä½¿ç”¨ <code>useState</code> ã€ <code>useEffect</code> æˆ–è€…å…¶ä»– <code>Hooks</code> ï¼›</li> <li>è‡ªå®šä¹‰è¿”å›ç»“æœï¼Œ<strong>æ ¼å¼ä¸é™</strong>ï¼›</li></ul> <p>è¿™é‡Œç»™å¤§å®¶æ¨èä¸¤ä¸ªç¬¬ä¸‰æ–¹è‡ªå®šä¹‰ <code>Hook</code> çš„åº“ï¼š</p> <ul><li><a href="https://nikgraf.github.io/react-hooks/" target="_blank" rel="noopener noreferrer">react-hooks<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>: https://nikgraf.github.io/react-hooks/</li> <li><a href="https://nikgraf.github.io/react-hooks/" target="_blank" rel="noopener noreferrer">hooks<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>: https://github.com/umijs/hooks</li></ul> <h2 id="_5ã€hooks-çš„ä¸¤æ¡é‡è¦è§„åˆ™-ğŸ—ï¸"><a href="#_5ã€hooks-çš„ä¸¤æ¡é‡è¦è§„åˆ™-ğŸ—ï¸" class="header-anchor">#</a> 5ã€Hooks çš„ä¸¤æ¡é‡è¦è§„åˆ™ ğŸ—ï¸</h2> <h3 id="_1-hooks-ä½¿ç”¨è§„èŒƒ"><a href="#_1-hooks-ä½¿ç”¨è§„èŒƒ" class="header-anchor">#</a> ï¼ˆ1ï¼‰Hooks ä½¿ç”¨è§„èŒƒ</h3> <ul><li><p><code>Hooks</code> åªèƒ½ç”¨äº <code>react</code> å‡½æ•°ç»„ä»¶å’Œè‡ªå®šä¹‰ <code>Hooks</code> ä¸­ï¼Œå…¶ä»–åœ°æ–¹éƒ½ä¸å¯ä»¥ã€‚æ¯”å¦‚ï¼šclass ç»„ä»¶ å’Œ æ™®é€šå‡½æ•°ï¼›</p></li> <li><p>åªèƒ½ç”¨äº<strong>é¡¶å±‚ä»£ç </strong>ï¼Œä¸èƒ½åœ¨<strong>å¾ªç¯</strong>ã€<strong>åˆ¤æ–­</strong>ä¸­ä½¿ç”¨ <code>Hooks</code> ï¼›</p></li> <li><p><code>eslint</code> ä¸­çš„<strong>æ’ä»¶ eslint-plugin-react-hooks</strong> ï¼Œå¯ä»¥å¸®åˆ°ä½ ä½¿ç”¨ <code>react-hooks</code> ã€‚<strong>å¦‚ä¸‹é…ç½®æ‰€ç¤ºï¼š</strong></p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token comment">// ESLint é…ç½®æ–‡ä»¶</span>
<span class="token punctuation">{</span>
  <span class="token property">&quot;plugins&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token comment">// ...æ­¤å¤„çœç•¥ N è¡Œ...</span>
    <span class="token string">&quot;react-hooks&quot;</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token property">&quot;rules&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token comment">// ...æ­¤å¤„çœç•¥ N è¡Œ ...</span>
    <span class="token property">&quot;react-hooks/rules-of-hooks&quot;</span><span class="token operator">:</span> <span class="token string">&quot;error&quot;</span><span class="token punctuation">,</span> <span class="token comment">// æ£€æŸ¥ Hook çš„è§„åˆ™</span>
    <span class="token property">&quot;react-hooks/exhaustive-deps&quot;</span><span class="token operator">:</span> <span class="token string">&quot;warn&quot;</span> <span class="token comment">// æ£€æŸ¥ effect çš„ä¾èµ–</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div></li></ul> <h3 id="_2-hooks-è°ƒç”¨é¡ºåºå¿…é¡»ä¿æŒä¸€è‡´"><a href="#_2-hooks-è°ƒç”¨é¡ºåºå¿…é¡»ä¿æŒä¸€è‡´" class="header-anchor">#</a> ï¼ˆ2ï¼‰Hooks è°ƒç”¨é¡ºåºå¿…é¡»ä¿æŒä¸€è‡´</h3> <p>åœ¨ <code>react-hooks</code> ä¸­ï¼Œè°ƒç”¨é¡ºåºæ˜¯å°¤ä¸ºéœ€è¦æ³¨æ„çš„ä¸€ä¸ªå…³é”®ç‚¹ã€‚ä¸ºä»€ä¹ˆå‘¢ï¼Ÿ</p> <p>ä¸‹é¢æˆ‘ä»¬ç”¨ä¸€æ®µä»£ç æ¥æ¼”ç¤ºï¼š</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> React<span class="token punctuation">,</span> <span class="token punctuation">{</span> useState<span class="token punctuation">,</span> useEffect <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'react'</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">Teach</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> couseName <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// å‡½æ•°ç»„ä»¶ï¼Œçº¯å‡½æ•°ï¼Œæ‰§è¡Œå®Œå³é”€æ¯</span>
  <span class="token comment">// æ‰€ä»¥ï¼Œæ— è®ºç»„ä»¶åˆå§‹åŒ–ï¼ˆrenderï¼‰è¿˜æ˜¯ç»„ä»¶æ›´æ–°ï¼ˆre-renderï¼‰</span>
  <span class="token comment">// éƒ½ä¼šé‡æ–°æ‰§è¡Œä¸€æ¬¡è¿™ä¸ªå‡½æ•°ï¼Œè·å–æœ€æ–°çš„ç»„ä»¶</span>
  <span class="token comment">// è¿™ä¸€ç‚¹å’Œ class ç»„ä»¶ä¸ä¸€æ ·</span>

  <span class="token comment">// render: åˆå§‹åŒ– state çš„å€¼ 'å¼ ä¸‰'</span>
  <span class="token comment">// re-render: è¯»å– state çš„å€¼ 'å¼ ä¸‰'</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>studentName<span class="token punctuation">,</span> setStudentName<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token string">'å¼ ä¸‰'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token comment">// if (couseName) {</span>
  <span class="token comment">//     const [studentName, setStudentName] = useState('å¼ ä¸‰')</span>
  <span class="token comment">// }</span>

  <span class="token comment">// render: åˆå§‹åŒ– state çš„å€¼ 'åŒè¶Š'</span>
  <span class="token comment">// re-render: è¯»å– state çš„å€¼ 'åŒè¶Š'</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>teacherName<span class="token punctuation">,</span> setTeacherName<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token string">'æ˜ŸæœŸä¸€ç ”ç©¶å®¤'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token comment">// if (couseName) {</span>
  <span class="token comment">//     useEffect(() =&gt; {</span>
  <span class="token comment">//         // æ¨¡æ‹Ÿå­¦ç”Ÿç­¾åˆ°</span>
  <span class="token comment">//         localStorage.setItem('name', studentName)</span>
  <span class="token comment">//     })</span>
  <span class="token comment">// }</span>

  <span class="token comment">// render: æ·»åŠ  effect å‡½æ•°</span>
  <span class="token comment">// re-render: æ›¿æ¢ effect å‡½æ•°ï¼ˆå†…éƒ¨çš„å‡½æ•°ä¹Ÿä¼šé‡æ–°å®šä¹‰ï¼‰</span>
  <span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token comment">// æ¨¡æ‹Ÿå­¦ç”Ÿç­¾åˆ°</span>
    localStorage<span class="token punctuation">.</span><span class="token function">setItem</span><span class="token punctuation">(</span><span class="token string">'name'</span><span class="token punctuation">,</span> studentName<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token comment">// render: æ·»åŠ  effect å‡½æ•°</span>
  <span class="token comment">// re-render: æ›¿æ¢ effect å‡½æ•°ï¼ˆå†…éƒ¨çš„å‡½æ•°ä¹Ÿä¼šé‡æ–°å®šä¹‰ï¼‰</span>
  <span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token comment">// æ¨¡æ‹Ÿå¼€å§‹ä¸Šè¯¾</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>teacherName<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> å¼€å§‹ä¸Šè¯¾ï¼Œå­¦ç”Ÿ </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>studentName<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
      è¯¾ç¨‹ï¼š<span class="token punctuation">{</span>couseName<span class="token punctuation">}</span>ï¼Œ è®²å¸ˆï¼š<span class="token punctuation">{</span>teacherName<span class="token punctuation">}</span>ï¼Œ å­¦ç”Ÿï¼š<span class="token punctuation">{</span>studentName<span class="token punctuation">}</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> Teach<span class="token punctuation">;</span>
</code></pre></div><p>ä¸Šé¢çš„ä»£ç æ¼”ç¤ºçš„æ˜¯ä¸€ä¸ªå‡½æ•°ç»„ä»¶ã€‚é‚£å¯¹äºå‡½æ•°ç»„ä»¶æ¥è¯´ï¼Œå®ƒæ˜¯ä¸€ä¸ªçº¯å‡½æ•°ï¼Œä¸€èˆ¬æ‰§è¡Œå®Œå°±ä¼šé”€æ¯ã€‚å› æ­¤ï¼Œæ— è®ºæ˜¯ç»„ä»¶åˆå§‹åŒ–ï¼ˆrenderï¼‰è¿˜æ˜¯ç»„ä»¶æ›´æ–°ï¼ˆre-renderï¼‰ï¼Œéƒ½ä¼šé‡æ–°æ‰§è¡Œä¸€æ¬¡è¿™ä¸ªå‡½æ•°ï¼Œ<strong>è·å–æœ€æ–°çš„ç»„ä»¶</strong>ã€‚è¿™ä¸€ç‚¹å’Œ <code>class</code> ç»„ä»¶ä¸ä¸€æ ·ã€‚</p> <p>å› æ­¤ï¼Œå‡è®¾æˆ‘ä»¬æŠŠä¸Šé¢çš„ <code>const [studentName, setStudentName] = useState('å¼ ä¸‰')</code> ç»™ç”¨ <code>if</code> è¯­å¥åŒ…è£¹èµ·æ¥ï¼Œé‚£ä¹ˆå®ƒåœ¨æ‰§è¡Œæ—¶ä¼šå—åˆ°é˜»ç¢ã€‚åŒæ—¶ï¼Œæ²¿ç€åº•ä¸‹çš„é¡ºåºèµ°ä¸‹å»ï¼Œæœ‰å¯èƒ½å°±ä¼šæŠŠ <code>å¼ ä¸‰</code> è¿™ä¸ªå€¼ï¼Œèµ‹å€¼ç»™ <code>teacherName</code> ã€‚å› æ­¤ï¼Œåœ¨ <code>react-hooks</code> ä¸­ï¼Œæˆ‘ä»¬ä¸èƒ½å°† <code>react-hooks</code> ç”¨åœ¨<strong>å¾ªç¯</strong>å’Œ<strong>åˆ¤æ–­</strong>é‡Œé¢ï¼Œä¸ç„¶ä¼šå¾ˆå®¹æ˜“å¯¼è‡´<strong>è°ƒç”¨é¡ºåºé”™ä¹±</strong>ã€‚</p> <p>ä¾æ®ä»¥ä¸Šçš„è§£æï¼Œæˆ‘ä»¬æ¥<strong>å¯¹è¿™ä¸ªè§„åˆ™åšä¸ªå°ç»“ï¼š</strong></p> <ul><li>æ— è®ºæ˜¯ <code>render</code> è¿˜æ˜¯ <code>re-render</code> ï¼Œ <code>Hooks</code> è°ƒç”¨é¡ºåºå¿…é¡»æ˜¯ä¸€è‡´çš„ï¼›</li> <li>å¦‚æœ <code>Hooks</code> å‡ºç°åœ¨<strong>å¾ªç¯</strong>ã€<strong>åˆ¤æ–­</strong>é‡Œï¼Œåˆ™<strong>æ— æ³•ä¿è¯é¡ºåºä¸€è‡´</strong>ï¼›</li> <li><code>Hooks</code> ä¸¥é‡ä¾èµ–äºè°ƒç”¨é¡ºåºï¼é‡è¦ï¼</li></ul> <h1 id="ä¸‰ã€âŒ¨ï¸react-hooks-ç»„ä»¶é€»è¾‘å¤ç”¨"><a href="#ä¸‰ã€âŒ¨ï¸react-hooks-ç»„ä»¶é€»è¾‘å¤ç”¨" class="header-anchor">#</a> ä¸‰ã€âŒ¨ï¸React-Hooks ç»„ä»¶é€»è¾‘å¤ç”¨</h1> <h2 id="_1ã€class-ç»„ä»¶çš„é€»è¾‘å¤ç”¨"><a href="#_1ã€class-ç»„ä»¶çš„é€»è¾‘å¤ç”¨" class="header-anchor">#</a> 1ã€class ç»„ä»¶çš„é€»è¾‘å¤ç”¨</h2> <p><code>class</code> ç»„ä»¶æœ‰ä¸‰ç§é€»è¾‘å¤ç”¨å½¢å¼ã€‚<strong>åˆ†åˆ«æ˜¯ï¼š</strong></p> <ul><li>Mixin</li> <li>é«˜é˜¶ç»„ä»¶ <code>HOC</code></li> <li>Render Prop</li></ul> <p>ä¸‹é¢è¯´ä¸‹å®ƒä»¬ä¸‰è€…å„è‡ªçš„ç¼ºç‚¹ã€‚</p> <h3 id="_1-mixin"><a href="#_1-mixin" class="header-anchor">#</a> ï¼ˆ1ï¼‰Mixin</h3> <ul><li>å˜é‡ä½œç”¨åŸŸæ¥æºä¸æ¸…</li> <li>å±æ€§<strong>é‡å</strong></li> <li><code>mixins</code> å¼•å…¥è¿‡å¤šä¼šå¯¼è‡´é¡ºåºå†²çª</li></ul> <h3 id="_2-é«˜é˜¶ç»„ä»¶-hoc"><a href="#_2-é«˜é˜¶ç»„ä»¶-hoc" class="header-anchor">#</a> ï¼ˆ2ï¼‰é«˜é˜¶ç»„ä»¶ HOC</h3> <ul><li>ç»„ä»¶å±‚çº§<strong>åµŒå¥—è¿‡å¤š</strong>ï¼Œä¸æ˜“æ¸²æŸ“ï¼Œä¸æ˜“è°ƒè¯•</li> <li><code>HOC</code> ä¼šåŠ«æŒ <code>props</code> ï¼Œå¿…é¡»ä¸¥æ ¼è§„èŒƒï¼Œ<strong>å®¹æ˜“å‡ºç°ç–æ¼</strong></li></ul> <h3 id="_3-render-prop"><a href="#_3-render-prop" class="header-anchor">#</a> ï¼ˆ3ï¼‰Render Prop</h3> <ul><li>å­¦ä¹ æˆæœ¬é«˜ï¼Œä¸æ˜“ç†è§£</li> <li><strong>åªèƒ½ä¼ é€’çº¯å‡½æ•°</strong>ï¼Œè€Œé»˜è®¤æƒ…å†µä¸‹<strong>çº¯å‡½æ•°åŠŸèƒ½æœ‰é™</strong></li></ul> <p>äº†è§£äº†ä¸‰ç§ <code>class</code> ç»„ä»¶çš„ç¼ºç‚¹ä¹‹åï¼Œç°åœ¨ï¼Œæˆ‘ä»¬æ¥çœ‹ä¸‹å¦‚ä½•ä½¿ç”¨ <code>Hooks</code> åšç»„ä»¶é€»è¾‘å¤ç”¨ã€‚</p> <h2 id="_2ã€ä½¿ç”¨-hooks-åšç»„ä»¶é€»è¾‘å¤ç”¨"><a href="#_2ã€ä½¿ç”¨-hooks-åšç»„ä»¶é€»è¾‘å¤ç”¨" class="header-anchor">#</a> 2ã€ä½¿ç”¨ Hooks åšç»„ä»¶é€»è¾‘å¤ç”¨</h2> <p>ä½¿ç”¨ <code>hooks</code> æ¥ä½¿å¾—ç»„ä»¶å¯ä»¥è¿›è¡Œé€»è¾‘å¤ç”¨çš„æœ¬è´¨æ˜¯ï¼šè‡ªå®šä¹‰ <code>hooks</code> ã€‚ä¸‹é¢æˆ‘ä»¬ç”¨ä¸€ä¸ªä¾‹å­æ¥å±•ç¤ºã€‚</p> <h3 id="_1-ä¾‹å­é˜è¿°"><a href="#_1-ä¾‹å­é˜è¿°" class="header-anchor">#</a> ï¼ˆ1ï¼‰ä¾‹å­é˜è¿°</h3> <p>é¦–å…ˆï¼Œæˆ‘ä»¬åœ¨é¡¹ç›®çš„ <code>src|customHooks</code> æ–‡ä»¶å¤¹ä¸‹æ–°å»ºä¸€ä¸ªæ–‡ä»¶ï¼Œå‘½åä¸º <code>useMousePosition.js</code> ã€‚<strong>å…·ä½“ä»£ç å¦‚ä¸‹ï¼š</strong></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> useState<span class="token punctuation">,</span> useEffect <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'react'</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">useMousePosition</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>x<span class="token punctuation">,</span> setX<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>y<span class="token punctuation">,</span> setY<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">function</span> <span class="token function">mouseMoveHandler</span><span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// event.clientX å¯ä»¥æ‹¿åˆ°é¼ æ ‡æ¨ªåæ ‡å’Œçºµåæ ‡çš„ä½ç½®</span>
      <span class="token function">setX</span><span class="token punctuation">(</span>event<span class="token punctuation">.</span>clientX<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token function">setY</span><span class="token punctuation">(</span>event<span class="token punctuation">.</span>clientY<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// ç»‘å®šäº‹ä»¶</span>
    document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'mousemove'</span><span class="token punctuation">,</span> mouseMoveHandler<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// è§£ç»‘äº‹ä»¶</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span>
      document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">removeEventListener</span><span class="token punctuation">(</span><span class="token string">'mousemove'</span><span class="token punctuation">,</span> mouseMoveHandler<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">return</span> <span class="token punctuation">[</span>x<span class="token punctuation">,</span> y<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> useMousePosition<span class="token punctuation">;</span>
</code></pre></div><p>ç»§ç»­ï¼Œæˆ‘ä»¬åœ¨é¡¹ç›®çš„ <code>src|components</code> æ–‡ä»¶å¤¹ï¼Œæ–°å»ºä¸€ä¸ªæ–‡ä»¶ï¼Œå‘½åä¸º <code>CustomHookUsage.js</code> ã€‚è¿™ä¸ªç»„ä»¶ä¸»è¦ç”¨æ¥ä½¿ç”¨ä¸Šé¢ <code>useMousePosition</code> ä¸­çš„é€»è¾‘ã€‚<strong>å…·ä½“ä»£ç å¦‚ä¸‹ï¼š</strong></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">'react'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> useMousePosition <span class="token keyword">from</span> <span class="token string">'../customHooks/useMousePosition'</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">App</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>x<span class="token punctuation">,</span> y<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useMousePosition</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&lt;</span>div style<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span> <span class="token literal-property property">height</span><span class="token operator">:</span> <span class="token string">'500px'</span><span class="token punctuation">,</span> <span class="token literal-property property">backgroundColor</span><span class="token operator">:</span> <span class="token string">'#ccc'</span> <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>p<span class="token operator">&gt;</span>
        é¼ æ ‡ä½ç½® <span class="token punctuation">{</span>x<span class="token punctuation">}</span> <span class="token punctuation">{</span>y<span class="token punctuation">}</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> App<span class="token punctuation">;</span>
</code></pre></div><p>æœ€åï¼Œæˆ‘ä»¬åœ¨é¡¹ç›®çš„ <code>App.js</code> ä¸­æ¥ä½¿ç”¨å®ƒã€‚<strong>å…·ä½“ä»£ç å¦‚ä¸‹ï¼š</strong></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> React<span class="token punctuation">,</span> <span class="token punctuation">{</span> useState <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'react'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> CustomHookUsage <span class="token keyword">from</span> <span class="token string">'./components/CustomHookUsage'</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">App</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span><span class="token punctuation">{</span><span class="token operator">&lt;</span>CustomHookUsage <span class="token operator">/</span><span class="token operator">&gt;</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> App<span class="token punctuation">;</span>
</code></pre></div><p>æ­¤æ—¶ï¼Œæˆ‘ä»¬æ¥çœ‹ä¸‹<strong>æµè§ˆå™¨çš„æ˜¾ç¤ºæ•ˆæœï¼š</strong></p> <p><img src="https://img-blog.csdnimg.cn/0eaff354c07749e79dfa6bced1b36eb4.gif#pic_center" alt="useMousePosition"></p> <p>ä½¿ç”¨ <code>hooks</code> åšç»„ä»¶é€»è¾‘å¤ç”¨ï¼Œè¦æ¯” <code>class</code> ç»„ä»¶è¦ç®€ä¾¿å’Œçµæ´»è®¸å¤šã€‚ä¸‹é¢æˆ‘ä»¬æ¥æ¢³ç†ä¸‹ <code>hooks</code> åšç»„ä»¶é€»è¾‘å¤ç”¨çš„å¥½å¤„ã€‚</p> <h3 id="_2-å¥½å¤„"><a href="#_2-å¥½å¤„" class="header-anchor">#</a> ï¼ˆ2ï¼‰å¥½å¤„</h3> <p><code>Hooks</code> åšç»„ä»¶é€»è¾‘å¤ç”¨çš„å¥½å¤„ï¼š</p> <ul><li>å®Œå…¨ç¬¦åˆ <code>Hooks</code> åŸæœ‰çš„è§„åˆ™ï¼Œæ²¡æœ‰å…¶ä»–è¦æ±‚ï¼Œæ˜“ç†è§£å’Œè®°å¿†ï¼›</li> <li>å˜é‡ä½œç”¨åŸŸå¾ˆæ˜ç¡®ï¼›</li> <li><strong>ä¸ä¼šäº§ç”Ÿ</strong>ç»„ä»¶åµŒå¥—ã€‚</li></ul> <h1 id="å››ã€ğŸ“€react-hooks-æ³¨æ„äº‹é¡¹"><a href="#å››ã€ğŸ“€react-hooks-æ³¨æ„äº‹é¡¹" class="header-anchor">#</a> å››ã€ğŸ“€React Hooks æ³¨æ„äº‹é¡¹</h1> <h2 id="_1ã€usestate-åˆå§‹åŒ–å€¼-åªæœ‰ç¬¬ä¸€æ¬¡æœ‰æ•ˆ"><a href="#_1ã€usestate-åˆå§‹åŒ–å€¼-åªæœ‰ç¬¬ä¸€æ¬¡æœ‰æ•ˆ" class="header-anchor">#</a> 1ã€useState åˆå§‹åŒ–å€¼ï¼Œåªæœ‰ç¬¬ä¸€æ¬¡æœ‰æ•ˆ</h2> <p>æˆ‘ä»¬å…ˆæ¥çœ‹ä¸€æ®µä»£ç ï¼Œ<strong>å…·ä½“å¦‚ä¸‹ï¼š</strong></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> React<span class="token punctuation">,</span> <span class="token punctuation">{</span> useState <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'react'</span><span class="token punctuation">;</span>

<span class="token comment">// å­ç»„ä»¶</span>
<span class="token keyword">function</span> <span class="token function">Child</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> userInfo <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// render: åˆå§‹åŒ– state</span>
  <span class="token comment">// re-render: åªæ¢å¤åˆå§‹åŒ–çš„ state å€¼ï¼Œä¸ä¼šå†é‡æ–°è®¾ç½®æ–°çš„å€¼</span>
  <span class="token comment">//            åªèƒ½ç”¨ setName ä¿®æ”¹</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>name<span class="token punctuation">,</span> setName<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span>userInfo<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>p<span class="token operator">&gt;</span>Child<span class="token punctuation">,</span> props name<span class="token operator">:</span> <span class="token punctuation">{</span>userInfo<span class="token punctuation">.</span>name<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>p<span class="token operator">&gt;</span>Child<span class="token punctuation">,</span> state name<span class="token operator">:</span> <span class="token punctuation">{</span>name<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">App</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>name<span class="token punctuation">,</span> setName<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token string">'æ˜ŸæœŸä¸€'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> userInfo <span class="token operator">=</span> <span class="token punctuation">{</span> name <span class="token punctuation">}</span><span class="token punctuation">;</span>

  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
        Parent <span class="token operator">&amp;</span>nbsp<span class="token punctuation">;</span>
        <span class="token operator">&lt;</span>button onClick<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">setName</span><span class="token punctuation">(</span><span class="token string">'æ˜ŸæœŸäºŒ'</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token operator">&gt;</span>setName<span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>Child userInfo<span class="token operator">=</span><span class="token punctuation">{</span>userInfo<span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> App<span class="token punctuation">;</span>
</code></pre></div><p>æ­¤æ—¶ï¼Œæµè§ˆå™¨çš„æ˜¾ç¤ºæ•ˆæœå¦‚ä¸‹ï¼š</p> <p><img src="https://img-blog.csdnimg.cn/ce108801e66a43b3b9aded0bf923f132.gif#pic_center" alt="useStateåˆå§‹åŒ–å€¼"></p> <p>å¤§å®¶å¯ä»¥çœ‹åˆ°ï¼Œå½“æˆ‘ä»¬ç‚¹å‡»çš„æ—¶å€™ï¼Œåªæ”¹å˜äº† <code>useInfo.name</code> çš„å€¼ï¼Œä¹Ÿå°±æ˜¯ç¬¬ä¸€ä¸ª <code>Child</code> çš„å€¼ã€‚è€Œæ­¤æ—¶ï¼Œå¯èƒ½æœ‰çš„å°ä¼™ä¼´ä¼šäº§ç”Ÿç–‘æƒ‘è¯´ï¼Œ <code>useInfo.name</code> çš„å€¼æ˜¯èµ‹å€¼ç»™ <code>name</code> çš„ï¼Œé‚£ä¸ºä»€ä¹ˆç¬¬äºŒä¸ª <code>Child</code> ä¸ä¼šæ”¹å˜å‘¢ã€‚</p> <p>åŸå› åœ¨äºï¼Œå¯¹äº <code>useState</code> æ¥è¯´ï¼Œåˆšå¼€å§‹æˆ‘ä»¬æ€»æ˜¯ä¼šç»™ <code>state</code> è®¾ç½®ä¸€ä¸ªåˆå§‹åŒ–çš„å€¼ï¼Œè€Œè¿™ä¸ªåˆå§‹åŒ–çš„å€¼ï¼Œå³ä½¿æ˜¯æ•°æ®æ›´æ–°äº†ï¼Œå®ƒåªæœ‰<strong>ç¬¬ä¸€æ¬¡çš„å€¼æ˜¯æœ‰æ•ˆçš„</strong>ï¼Œæ›´æ–°çš„å€¼ä¸ä¼šè¢«èµ‹å€¼åˆ°å…¶ä¸­ã€‚æ‰€ä»¥ä¸‹é¢ç¬¬äºŒä¸ª <code>Child</code> ä¸­ <code>name</code> å€¼å°±ä¸€ç›´æ˜¯<strong>æ˜ŸæœŸä¸€</strong>ã€‚</p> <h2 id="_2ã€useeffect-å†…éƒ¨ä¸èƒ½ä¿®æ”¹-state"><a href="#_2ã€useeffect-å†…éƒ¨ä¸èƒ½ä¿®æ”¹-state" class="header-anchor">#</a> 2ã€useEffect å†…éƒ¨ä¸èƒ½ä¿®æ”¹ state</h2> <p>å…ˆæ¥æ¨¡æ‹Ÿä¸€æ®µä»£ç ï¼š</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> React<span class="token punctuation">,</span> <span class="token punctuation">{</span> useState<span class="token punctuation">,</span> useEffect <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'react'</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">UseEffectChangeState</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>count<span class="token punctuation">,</span> setCount<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token comment">// æ¨¡æ‹Ÿ DidMount</span>
  <span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'useEffect...'</span><span class="token punctuation">,</span> count<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// å®šæ—¶ä»»åŠ¡</span>
    <span class="token keyword">const</span> timer <span class="token operator">=</span> <span class="token function">setInterval</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'setInterval...'</span><span class="token punctuation">,</span> count<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token function">setCount</span><span class="token punctuation">(</span>count <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// æ¸…é™¤å®šæ—¶ä»»åŠ¡</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">clearTimeout</span><span class="token punctuation">(</span>timer<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ä¾èµ–ä¸º []</span>

  <span class="token comment">// ä¾èµ–ä¸º [] æ—¶ï¼š re-render ä¸ä¼šé‡æ–°æ‰§è¡Œ effect å‡½æ•°</span>
  <span class="token comment">// æ²¡æœ‰ä¾èµ–æ—¶ï¼šre-render ä¼šé‡æ–°æ‰§è¡Œ effect å‡½æ•°</span>

  <span class="token keyword">return</span> <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>count<span class="token operator">:</span> <span class="token punctuation">{</span>count<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> UseEffectChangeState<span class="token punctuation">;</span>
</code></pre></div><p>æ­¤æ—¶æˆ‘ä»¬æ¥çœ‹ä¸‹æµè§ˆå™¨çš„æ•ˆæœï¼š</p> <p><img src="https://img-blog.csdnimg.cn/92b8805dc7df4445b525c9e2afc9a134.gif#pic_center" alt="useEffectå†…éƒ¨ä¸èƒ½ä¿®æ”¹stateâ‘ "></p> <p>å¤§å®¶å¯ä»¥çœ‹åˆ°ï¼Œå¦‚æœæŒ‰ç…§æˆ‘ä»¬é¢„æœŸæ‰€æƒ³çš„ï¼Œé‚£ä¹ˆåº”è¯¥ä¼šé€’å¢åœ°æ‰“å°å‡º <code>1234</code> ï¼Œä½†æ˜¯æœ€ç»ˆæ²¡æœ‰è¿™ä¹ˆæ˜¾ç¤ºï¼Œ<code>timer</code> é‡Œé¢æ‰“å°çš„ä¸€ç›´æ˜¯åˆå§‹å€¼ <code>0</code> ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œè¿™ä¸ª <code>state</code> åœ¨ <code>useEffect</code> é‡Œé¢å¹¶ä¸èµ·ä½œç”¨ã€‚</p> <p>å› æ­¤ï¼Œè¿™ä¸€ç‚¹åœ¨æˆ‘ä»¬æ—¥å¸¸çš„å¼€å‘ä¸­éœ€è¦å°¤ä¸ºæ³¨æ„ï¼Œæœ‰å¯èƒ½ä»£ç å†™ç€å†™ç€ <code>bug</code> å°±å‡ºç°åœ¨è¿™äº†ã€‚</p> <hr> <p>é‚£æ—¢ç„¶é—®é¢˜å‡ºç°äº†ï¼Œæˆ‘ä»¬å°±éœ€è¦æ¥æƒ³ä¸€ä¸‹å®ƒçš„è§£å†³æ–¹æ¡ˆäº†ã€‚<strong>æ”¹é€ å¦‚ä¸‹ï¼š</strong></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> React<span class="token punctuation">,</span> <span class="token punctuation">{</span> useState<span class="token punctuation">,</span> useRef<span class="token punctuation">,</span> useEffect <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'react'</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">UseEffectChangeState</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>count<span class="token punctuation">,</span> setCount<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token comment">// æ¨¡æ‹Ÿ DidMount</span>
  <span class="token keyword">const</span> countRef <span class="token operator">=</span> <span class="token function">useRef</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'useEffect...'</span><span class="token punctuation">,</span> count<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// å®šæ—¶ä»»åŠ¡</span>
    <span class="token keyword">const</span> timer <span class="token operator">=</span> <span class="token function">setInterval</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'setInterval...'</span><span class="token punctuation">,</span> countRef<span class="token punctuation">.</span>current<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token comment">// setCount(count + 1)</span>
      <span class="token function">setCount</span><span class="token punctuation">(</span><span class="token operator">++</span>countRef<span class="token punctuation">.</span>current<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// æ¸…é™¤å®šæ—¶ä»»åŠ¡</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">clearTimeout</span><span class="token punctuation">(</span>timer<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ä¾èµ–ä¸º []</span>

  <span class="token comment">// ä¾èµ–ä¸º [] æ—¶ï¼š re-render ä¸ä¼šé‡æ–°æ‰§è¡Œ effect å‡½æ•°</span>
  <span class="token comment">// æ²¡æœ‰ä¾èµ–ï¼šre-render ä¼šé‡æ–°æ‰§è¡Œ effect å‡½æ•°</span>

  <span class="token keyword">return</span> <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>count<span class="token operator">:</span> <span class="token punctuation">{</span>count<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> UseEffectChangeState<span class="token punctuation">;</span>
</code></pre></div><p>æ­¤æ—¶æµè§ˆå™¨çš„æ˜¾ç¤ºæ•ˆæœå¦‚ä¸‹ï¼š</p> <p><img src="https://img-blog.csdnimg.cn/b89f6dd8550041408a8973b30b7975a7.gif#pic_center" alt="useEffectå†…éƒ¨ä¸èƒ½ä¿®æ”¹stateâ‘¡"></p> <p>çœ‹ä¸Šé¢çš„ä»£ç æˆ‘ä»¬å¯ä»¥å‘ç°ï¼Œé€šè¿‡æŠŠ <code>countRef</code> æ”¾åˆ° <code>useEffect</code> å¤–éƒ¨ï¼Œå¹¶ä½¿ç”¨ <code>useRef</code> ï¼Œä»¥æ­¤æ¥å¯¹ <code>state</code> çš„å€¼è¿›è¡Œä¿®æ”¹ï¼Œè¾¾åˆ°æˆ‘ä»¬æœ€ç»ˆçš„ç›®çš„ã€‚</p> <h2 id="_3ã€useeffect-å¯èƒ½å‡ºç°æ­»å¾ªç¯"><a href="#_3ã€useeffect-å¯èƒ½å‡ºç°æ­»å¾ªç¯" class="header-anchor">#</a> 3ã€useEffect å¯èƒ½å‡ºç°æ­»å¾ªç¯</h2> <p>å‡è®¾æˆ‘ä»¬è¦åˆ©ç”¨ <code>axios</code> å‘é€ç½‘ç»œè¯·æ±‚ï¼Œå¹¶ä¸”æœ‰æƒ³è¦ç»™ <code>url</code> åŠ ä¸€äº›é…ç½®ï¼Œé‚£ä¹ˆæˆ‘ä»¬æœ‰å¯èƒ½è¿™ä¹ˆå¤„ç†ï¼š</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> useState<span class="token punctuation">,</span> useEffect <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'react'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> axios <span class="token keyword">from</span> <span class="token string">'axios'</span><span class="token punctuation">;</span>

<span class="token comment">// å°è£… axios å‘é€ç½‘ç»œè¯·æ±‚çš„è‡ªå®šä¹‰ Hook</span>
<span class="token keyword">function</span> <span class="token function">useAxios</span><span class="token punctuation">(</span><span class="token parameter">url<span class="token punctuation">,</span> config <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>loading<span class="token punctuation">,</span> setLoading<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>data<span class="token punctuation">,</span> setData<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>error<span class="token punctuation">,</span> setError<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token comment">// åˆ©ç”¨ axios å‘é€ç½‘ç»œè¯·æ±‚</span>
    <span class="token function">setLoading</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">axios</span><span class="token punctuation">(</span>url<span class="token punctuation">,</span> config<span class="token punctuation">)</span> <span class="token comment">// å‘é€ä¸€ä¸ª get è¯·æ±‚</span>
      <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">res</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">setData</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">err</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">setError</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">finally</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">setLoading</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>url<span class="token punctuation">,</span> config<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">return</span> <span class="token punctuation">[</span>loading<span class="token punctuation">,</span> data<span class="token punctuation">,</span> error<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> useAxios<span class="token punctuation">;</span>
</code></pre></div><p>çœ‹ç€æ˜¯æŒºåˆç†ï¼Œä½†æ˜¯å‘¢ï¼Œå½“<code>config</code> ä½¿ç”¨çš„æ˜¯<strong>å¼•ç”¨æ•°æ®ç±»å‹</strong>æ—¶ï¼Œä¹Ÿå°±æ˜¯ <code>config={}</code> æˆ–è€… <code>confgi=[]</code> æ—¶ï¼Œ <code>useEffect</code> ä¼šå‡ºç°æ­»å¾ªç¯ï¼Œæ— é™çš„å‘é€è¯·æ±‚ã€‚å› æ­¤ï¼Œå½“æˆ‘ä»¬æƒ³è¦ç»™ <code>axios</code> ä¼ å€¼æ—¶ï¼Œåªèƒ½ä¼ åŸºæœ¬æ•°æ®ç±»å‹çš„ã€‚<strong>æ”¹é€ ä»£ç å¦‚ä¸‹ï¼š</strong></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> useState<span class="token punctuation">,</span> useEffect <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'react'</span>
<span class="token keyword">import</span> axios <span class="token keyword">from</span> <span class="token string">'axios'</span>

<span class="token comment">// å°è£… axios å‘é€ç½‘ç»œè¯·æ±‚çš„è‡ªå®šä¹‰ Hook</span>
<span class="token keyword">function</span> <span class="token function">useAxios</span><span class="token punctuation">(</span><span class="token parameter">url</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> <span class="token punctuation">[</span>loading<span class="token punctuation">,</span> setLoading<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token boolean">false</span>
    <span class="token keyword">const</span> <span class="token punctuation">[</span>data<span class="token punctuation">,</span> setData<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">const</span> <span class="token punctuation">[</span>error<span class="token punctuation">,</span> setError<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

    <span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token comment">// åˆ©ç”¨ axios å‘é€ç½‘ç»œè¯·æ±‚</span>
        <span class="token function">setLoading</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span>
        axios<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>url<span class="token punctuation">)</span> <span class="token comment">// å‘é€ä¸€ä¸ª get è¯·æ±‚</span>
            <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">res</span> <span class="token operator">=&gt;</span> <span class="token function">setData</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token parameter">err</span> <span class="token operator">=&gt;</span> <span class="token function">setError</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">finally</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">setLoading</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>url<span class="token punctuation">]</span><span class="token punctuation">)</span>

    <span class="token keyword">return</span> <span class="token punctuation">[</span>loading<span class="token punctuation">,</span> data<span class="token punctuation">,</span> error<span class="token punctuation">]</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> useAxios

</code></pre></div><p>è¿™æ ·ï¼Œæ‰ä¸ä¼šå‡ºç°æ­»å¾ªç¯åœ°ä¸€ç›´ç¿»æ»šçš„<strong>å¯¹æ¥å£å‘é€æ•°æ®è¯·æ±‚</strong>ã€‚</p> <h1 id="äº”ã€ğŸ”-ç»“æŸè¯­"><a href="#äº”ã€ğŸ”-ç»“æŸè¯­" class="header-anchor">#</a> äº”ã€ğŸ” ç»“æŸè¯­</h1> <p>åœ¨ä¸Šé¢çš„æ–‡ç« ä¸­ï¼Œæˆ‘ä»¬é¦–å…ˆè®¤è¯†äº† <code>hooks</code> çš„åŸºæœ¬æ¦‚å¿µï¼Œæ¥ç€ï¼Œæˆ‘ä»¬é‡ç‚¹é˜è¿°äº† <code>state hook</code> å’Œ <code>effect hook</code> ï¼ŒåŒæ—¶ï¼Œæˆ‘ä»¬ä¹Ÿç®€å•åœ°äº†è§£äº†å…¶ä»–å‡ ç§ <code>hooks</code> ã€‚æœ€åï¼Œè°ˆåˆ°äº† react-hooks åœ¨ç»„ä»¶é€»è¾‘å¤ç”¨æ–¹é¢çš„è´¡çŒ®ï¼Œä»¥åŠ <code>react-hooks</code> éœ€è¦æ³¨æ„ä¸€äº›äº‹é¡¹ã€‚</p> <p>åˆ°è¿™é‡Œï¼Œå…³äº <code>react-hooks</code> çš„ä»‹ç»å°±ç»“æŸå•¦ï¼ä¸çŸ¥é“å¤§å®¶å¯¹ <code>react-hooks</code> åˆæœ‰äº†ä¸€äº›æ–°çš„äº†è§£å‘¢ï¼Ÿ</p> <h1 id="ğŸ£-å½©è›‹-one-more-thing"><a href="#ğŸ£-å½©è›‹-one-more-thing" class="header-anchor">#</a> ğŸ£ å½©è›‹ One More Thing</h1> <h2 id="å¾€æœŸæ¨è"><a href="#å¾€æœŸæ¨è" class="header-anchor">#</a> ï¼ˆï¼šå¾€æœŸæ¨è</h2> <p>react ä¸“æ æˆ³è¿™é‡Œ <a href="https://juejin.cn/column/7018019097656950815" target="_blank" rel="noopener noreferrer">https://juejin.cn/column/7018019097656950815<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h2 id="å®"><a href="#å®" class="header-anchor">#</a> ï¼ˆï¼šå®</h2> <ul><li>å…³æ³¨å…¬ä¼—å·<strong>æ˜ŸæœŸä¸€ç ”ç©¶å®¤</strong>ï¼Œç¬¬ä¸€æ—¶é—´å…³æ³¨ä¼˜è´¨æ–‡ç« ï¼Œ<strong>æ›´æœ‰ã€Œoffer æ¥äº†ã€é¢è¯•ä¸“æ å¾…ä½ è§£é”</strong>~</li> <li>å¦‚æœæ‚¨è§‰å¾—è¿™ç¯‡æ–‡ç« æœ‰å¸®åŠ©åˆ°æ‚¨çš„çš„è¯è®°å¾—<strong>ç•™ä¸ªè„šå° jio</strong>å†èµ°å“Ÿ~~ğŸ˜‰</li> <li>ä»¥ä¸Šå°±æ˜¯æœ¬æ–‡çš„å…¨éƒ¨å†…å®¹ï¼æˆ‘ä»¬ä¸‹æœŸè§ï¼ğŸ‘‹ğŸ‘‹ğŸ‘‹</li></ul></div></section> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated: </span> <span class="time">2/14/2022, 4:10:56 PM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev"><a href="/mondaylab-blog/column/FrontEnd/React/004.html" class="prev">
            004-reactçš„åŸºæœ¬ä½¿ç”¨å’Œé«˜çº§ç‰¹æ€§
          </a></span> <span class="next"><a href="/mondaylab-blog/column/FrontEnd/VUEPrinciple/001.html">
            001-vue2å“åº”å¼åŸç†
          </a></span></p></div> <div class="comments-wrapper"><!----></div> <ul class="side-bar sub-sidebar-wrapper" style="width:12rem;" data-v-cb1513f6><li class="level-1" data-v-cb1513f6><a href="/mondaylab-blog/column/FrontEnd/React/005.html#ğŸ™ï¸-å‰è¨€" class="sidebar-link reco-side-ğŸ™ï¸-å‰è¨€" data-v-cb1513f6>ğŸ™ï¸ å‰è¨€</a></li><li class="level-1" data-v-cb1513f6><a href="/mondaylab-blog/column/FrontEnd/React/005.html#ä¸€ã€ğŸ“»-æ¦‚è¿°" class="sidebar-link reco-side-ä¸€ã€ğŸ“»-æ¦‚è¿°" data-v-cb1513f6>ä¸€ã€ğŸ“» æ¦‚è¿°</a></li><li class="level-2" data-v-cb1513f6><a href="/mondaylab-blog/column/FrontEnd/React/005.html#_1ã€å…³äº-react-hooks" class="sidebar-link reco-side-_1ã€å…³äº-react-hooks" data-v-cb1513f6>1ã€å…³äº React Hooks</a></li><li class="level-2" data-v-cb1513f6><a href="/mondaylab-blog/column/FrontEnd/React/005.html#_2ã€è®¤è¯†-react-hooks" class="sidebar-link reco-side-_2ã€è®¤è¯†-react-hooks" data-v-cb1513f6>2ã€è®¤è¯† React Hooks</a></li><li class="level-3" data-v-cb1513f6><a href="/mondaylab-blog/column/FrontEnd/React/005.html#_1-å›é¡¾-react-å‡½æ•°å¼ç»„ä»¶" class="sidebar-link reco-side-_1-å›é¡¾-react-å‡½æ•°å¼ç»„ä»¶" data-v-cb1513f6>ï¼ˆ1ï¼‰å›é¡¾ React å‡½æ•°å¼ç»„ä»¶</a></li><li class="level-3" data-v-cb1513f6><a href="/mondaylab-blog/column/FrontEnd/React/005.html#_2-å‡½æ•°ç»„ä»¶çš„ç‰¹ç‚¹" class="sidebar-link reco-side-_2-å‡½æ•°ç»„ä»¶çš„ç‰¹ç‚¹" data-v-cb1513f6>ï¼ˆ2ï¼‰å‡½æ•°ç»„ä»¶çš„ç‰¹ç‚¹</a></li><li class="level-3" data-v-cb1513f6><a href="/mondaylab-blog/column/FrontEnd/React/005.html#_3-class-ç»„ä»¶çš„é—®é¢˜" class="sidebar-link reco-side-_3-class-ç»„ä»¶çš„é—®é¢˜" data-v-cb1513f6>ï¼ˆ3ï¼‰class ç»„ä»¶çš„é—®é¢˜</a></li><li class="level-3" data-v-cb1513f6><a href="/mondaylab-blog/column/FrontEnd/React/005.html#_4-react-ç»„ä»¶" class="sidebar-link reco-side-_4-react-ç»„ä»¶" data-v-cb1513f6>ï¼ˆ4ï¼‰React ç»„ä»¶</a></li><li class="level-1" data-v-cb1513f6><a href="/mondaylab-blog/column/FrontEnd/React/005.html#äºŒã€ğŸª•-å‡ ç§-hooks" class="sidebar-link reco-side-äºŒã€ğŸª•-å‡ ç§-hooks" data-v-cb1513f6>äºŒã€ğŸª• å‡ ç§ Hooks</a></li><li class="level-2" data-v-cb1513f6><a href="/mondaylab-blog/column/FrontEnd/React/005.html#_1ã€state-hookğŸ—ï¸" class="sidebar-link reco-side-_1ã€state-hookğŸ—ï¸" data-v-cb1513f6>1ã€State HookğŸ—ï¸</a></li><li class="level-3" data-v-cb1513f6><a href="/mondaylab-blog/column/FrontEnd/React/005.html#_1-è®©å‡½æ•°ç»„ä»¶å®ç°-state-å’Œ-setstate" class="sidebar-link reco-side-_1-è®©å‡½æ•°ç»„ä»¶å®ç°-state-å’Œ-setstate" data-v-cb1513f6>ï¼ˆ1ï¼‰è®©å‡½æ•°ç»„ä»¶å®ç° state å’Œ setState</a></li><li class="level-3" data-v-cb1513f6><a href="/mondaylab-blog/column/FrontEnd/React/005.html#_2-ä¸¾ä¾‹é˜è¿°" class="sidebar-link reco-side-_2-ä¸¾ä¾‹é˜è¿°" data-v-cb1513f6>ï¼ˆ2ï¼‰ä¸¾ä¾‹é˜è¿°</a></li><li class="level-3" data-v-cb1513f6><a href="/mondaylab-blog/column/FrontEnd/React/005.html#_3-usestate-ä½¿ç”¨æ€»ç»“" class="sidebar-link reco-side-_3-usestate-ä½¿ç”¨æ€»ç»“" data-v-cb1513f6>ï¼ˆ3ï¼‰useState ä½¿ç”¨æ€»ç»“</a></li><li class="level-3" data-v-cb1513f6><a href="/mondaylab-blog/column/FrontEnd/React/005.html#_4-hooks-å‘½åè§„èŒƒ" class="sidebar-link reco-side-_4-hooks-å‘½åè§„èŒƒ" data-v-cb1513f6>ï¼ˆ4ï¼‰Hooks å‘½åè§„èŒƒ</a></li><li class="level-2" data-v-cb1513f6><a href="/mondaylab-blog/column/FrontEnd/React/005.html#_2ã€effect-hookğŸ—ï¸" class="sidebar-link reco-side-_2ã€effect-hookğŸ—ï¸" data-v-cb1513f6>2ã€Effect HookğŸ—ï¸</a></li><li class="level-3" data-v-cb1513f6><a href="/mondaylab-blog/column/FrontEnd/React/005.html#_1-è®©å‡½æ•°ç»„ä»¶æ¨¡æ‹Ÿç”Ÿå‘½å‘¨æœŸ" class="sidebar-link reco-side-_1-è®©å‡½æ•°ç»„ä»¶æ¨¡æ‹Ÿç”Ÿå‘½å‘¨æœŸ" data-v-cb1513f6>ï¼ˆ1ï¼‰è®©å‡½æ•°ç»„ä»¶æ¨¡æ‹Ÿç”Ÿå‘½å‘¨æœŸ</a></li><li class="level-3" data-v-cb1513f6><a href="/mondaylab-blog/column/FrontEnd/React/005.html#_2-ä¸¾ä¾‹é˜è¿°-2" class="sidebar-link reco-side-_2-ä¸¾ä¾‹é˜è¿°-2" data-v-cb1513f6>ï¼ˆ2ï¼‰ä¸¾ä¾‹é˜è¿°</a></li><li class="level-3" data-v-cb1513f6><a href="/mondaylab-blog/column/FrontEnd/React/005.html#_3-useeffect-ä½¿ç”¨æ€»ç»“" class="sidebar-link reco-side-_3-useeffect-ä½¿ç”¨æ€»ç»“" data-v-cb1513f6>ï¼ˆ3ï¼‰useEffect ä½¿ç”¨æ€»ç»“</a></li><li class="level-3" data-v-cb1513f6><a href="/mondaylab-blog/column/FrontEnd/React/005.html#_4-useeffect-è®©çº¯å‡½æ•°æœ‰äº†å‰¯ä½œç”¨" class="sidebar-link reco-side-_4-useeffect-è®©çº¯å‡½æ•°æœ‰äº†å‰¯ä½œç”¨" data-v-cb1513f6>ï¼ˆ4ï¼‰useEffect è®©çº¯å‡½æ•°æœ‰äº†å‰¯ä½œç”¨</a></li><li class="level-3" data-v-cb1513f6><a href="/mondaylab-blog/column/FrontEnd/React/005.html#_5-useeffect-ä¸­è¿”å›å‡½æ•°-fn" class="sidebar-link reco-side-_5-useeffect-ä¸­è¿”å›å‡½æ•°-fn" data-v-cb1513f6>ï¼ˆ5ï¼‰useEffect ä¸­è¿”å›å‡½æ•° fn</a></li><li class="level-2" data-v-cb1513f6><a href="/mondaylab-blog/column/FrontEnd/React/005.html#_3ã€å…¶ä»–-hooksğŸ—ï¸" class="sidebar-link reco-side-_3ã€å…¶ä»–-hooksğŸ—ï¸" data-v-cb1513f6>3ã€å…¶ä»– HooksğŸ—ï¸</a></li><li class="level-3" data-v-cb1513f6><a href="/mondaylab-blog/column/FrontEnd/React/005.html#_1-useref" class="sidebar-link reco-side-_1-useref" data-v-cb1513f6>ï¼ˆ1ï¼‰useRef</a></li><li class="level-3" data-v-cb1513f6><a href="/mondaylab-blog/column/FrontEnd/React/005.html#_2-usecontext" class="sidebar-link reco-side-_2-usecontext" data-v-cb1513f6>ï¼ˆ2ï¼‰useContext</a></li><li class="level-3" data-v-cb1513f6><a href="/mondaylab-blog/column/FrontEnd/React/005.html#_3-usereducer" class="sidebar-link reco-side-_3-usereducer" data-v-cb1513f6>ï¼ˆ3ï¼‰useReducer</a></li><li class="level-3" data-v-cb1513f6><a href="/mondaylab-blog/column/FrontEnd/React/005.html#_4-usememo" class="sidebar-link reco-side-_4-usememo" data-v-cb1513f6>ï¼ˆ4ï¼‰useMemo</a></li><li class="level-3" data-v-cb1513f6><a href="/mondaylab-blog/column/FrontEnd/React/005.html#_5-usecallback" class="sidebar-link reco-side-_5-usecallback" data-v-cb1513f6>ï¼ˆ5ï¼‰useCallback</a></li><li class="level-2" data-v-cb1513f6><a href="/mondaylab-blog/column/FrontEnd/React/005.html#_4ã€è‡ªå®šä¹‰-hookğŸ—ï¸" class="sidebar-link reco-side-_4ã€è‡ªå®šä¹‰-hookğŸ—ï¸" data-v-cb1513f6>4ã€è‡ªå®šä¹‰ HookğŸ—ï¸</a></li><li class="level-3" data-v-cb1513f6><a href="/mondaylab-blog/column/FrontEnd/React/005.html#_1-ä¸ºä»€ä¹ˆè¦ä½¿ç”¨è‡ªå®šä¹‰-hook" class="sidebar-link reco-side-_1-ä¸ºä»€ä¹ˆè¦ä½¿ç”¨è‡ªå®šä¹‰-hook" data-v-cb1513f6>ï¼ˆ1ï¼‰ä¸ºä»€ä¹ˆè¦ä½¿ç”¨è‡ªå®šä¹‰ Hook</a></li><li class="level-3" data-v-cb1513f6><a href="/mondaylab-blog/column/FrontEnd/React/005.html#_2-ä¸¾ä¾‹é˜è¿°-3" class="sidebar-link reco-side-_2-ä¸¾ä¾‹é˜è¿°-3" data-v-cb1513f6>ï¼ˆ2ï¼‰ä¸¾ä¾‹é˜è¿°</a></li><li class="level-3" data-v-cb1513f6><a href="/mondaylab-blog/column/FrontEnd/React/005.html#_3-æ€»ç»“" class="sidebar-link reco-side-_3-æ€»ç»“" data-v-cb1513f6>ï¼ˆ3ï¼‰æ€»ç»“</a></li><li class="level-2" data-v-cb1513f6><a href="/mondaylab-blog/column/FrontEnd/React/005.html#_5ã€hooks-çš„ä¸¤æ¡é‡è¦è§„åˆ™-ğŸ—ï¸" class="sidebar-link reco-side-_5ã€hooks-çš„ä¸¤æ¡é‡è¦è§„åˆ™-ğŸ—ï¸" data-v-cb1513f6>5ã€Hooks çš„ä¸¤æ¡é‡è¦è§„åˆ™ ğŸ—ï¸</a></li><li class="level-3" data-v-cb1513f6><a href="/mondaylab-blog/column/FrontEnd/React/005.html#_1-hooks-ä½¿ç”¨è§„èŒƒ" class="sidebar-link reco-side-_1-hooks-ä½¿ç”¨è§„èŒƒ" data-v-cb1513f6>ï¼ˆ1ï¼‰Hooks ä½¿ç”¨è§„èŒƒ</a></li><li class="level-3" data-v-cb1513f6><a href="/mondaylab-blog/column/FrontEnd/React/005.html#_2-hooks-è°ƒç”¨é¡ºåºå¿…é¡»ä¿æŒä¸€è‡´" class="sidebar-link reco-side-_2-hooks-è°ƒç”¨é¡ºåºå¿…é¡»ä¿æŒä¸€è‡´" data-v-cb1513f6>ï¼ˆ2ï¼‰Hooks è°ƒç”¨é¡ºåºå¿…é¡»ä¿æŒä¸€è‡´</a></li><li class="level-1" data-v-cb1513f6><a href="/mondaylab-blog/column/FrontEnd/React/005.html#ä¸‰ã€âŒ¨ï¸react-hooks-ç»„ä»¶é€»è¾‘å¤ç”¨" class="sidebar-link reco-side-ä¸‰ã€âŒ¨ï¸react-hooks-ç»„ä»¶é€»è¾‘å¤ç”¨" data-v-cb1513f6>ä¸‰ã€âŒ¨ï¸React-Hooks ç»„ä»¶é€»è¾‘å¤ç”¨</a></li><li class="level-2" data-v-cb1513f6><a href="/mondaylab-blog/column/FrontEnd/React/005.html#_1ã€class-ç»„ä»¶çš„é€»è¾‘å¤ç”¨" class="sidebar-link reco-side-_1ã€class-ç»„ä»¶çš„é€»è¾‘å¤ç”¨" data-v-cb1513f6>1ã€class ç»„ä»¶çš„é€»è¾‘å¤ç”¨</a></li><li class="level-3" data-v-cb1513f6><a href="/mondaylab-blog/column/FrontEnd/React/005.html#_1-mixin" class="sidebar-link reco-side-_1-mixin" data-v-cb1513f6>ï¼ˆ1ï¼‰Mixin</a></li><li class="level-3" data-v-cb1513f6><a href="/mondaylab-blog/column/FrontEnd/React/005.html#_2-é«˜é˜¶ç»„ä»¶-hoc" class="sidebar-link reco-side-_2-é«˜é˜¶ç»„ä»¶-hoc" data-v-cb1513f6>ï¼ˆ2ï¼‰é«˜é˜¶ç»„ä»¶ HOC</a></li><li class="level-3" data-v-cb1513f6><a href="/mondaylab-blog/column/FrontEnd/React/005.html#_3-render-prop" class="sidebar-link reco-side-_3-render-prop" data-v-cb1513f6>ï¼ˆ3ï¼‰Render Prop</a></li><li class="level-2" data-v-cb1513f6><a href="/mondaylab-blog/column/FrontEnd/React/005.html#_2ã€ä½¿ç”¨-hooks-åšç»„ä»¶é€»è¾‘å¤ç”¨" class="sidebar-link reco-side-_2ã€ä½¿ç”¨-hooks-åšç»„ä»¶é€»è¾‘å¤ç”¨" data-v-cb1513f6>2ã€ä½¿ç”¨ Hooks åšç»„ä»¶é€»è¾‘å¤ç”¨</a></li><li class="level-3" data-v-cb1513f6><a href="/mondaylab-blog/column/FrontEnd/React/005.html#_1-ä¾‹å­é˜è¿°" class="sidebar-link reco-side-_1-ä¾‹å­é˜è¿°" data-v-cb1513f6>ï¼ˆ1ï¼‰ä¾‹å­é˜è¿°</a></li><li class="level-3" data-v-cb1513f6><a href="/mondaylab-blog/column/FrontEnd/React/005.html#_2-å¥½å¤„" class="sidebar-link reco-side-_2-å¥½å¤„" data-v-cb1513f6>ï¼ˆ2ï¼‰å¥½å¤„</a></li><li class="level-1" data-v-cb1513f6><a href="/mondaylab-blog/column/FrontEnd/React/005.html#å››ã€ğŸ“€react-hooks-æ³¨æ„äº‹é¡¹" class="sidebar-link reco-side-å››ã€ğŸ“€react-hooks-æ³¨æ„äº‹é¡¹" data-v-cb1513f6>å››ã€ğŸ“€React Hooks æ³¨æ„äº‹é¡¹</a></li><li class="level-2" data-v-cb1513f6><a href="/mondaylab-blog/column/FrontEnd/React/005.html#_1ã€usestate-åˆå§‹åŒ–å€¼-åªæœ‰ç¬¬ä¸€æ¬¡æœ‰æ•ˆ" class="sidebar-link reco-side-_1ã€usestate-åˆå§‹åŒ–å€¼-åªæœ‰ç¬¬ä¸€æ¬¡æœ‰æ•ˆ" data-v-cb1513f6>1ã€useState åˆå§‹åŒ–å€¼ï¼Œåªæœ‰ç¬¬ä¸€æ¬¡æœ‰æ•ˆ</a></li><li class="level-2" data-v-cb1513f6><a href="/mondaylab-blog/column/FrontEnd/React/005.html#_2ã€useeffect-å†…éƒ¨ä¸èƒ½ä¿®æ”¹-state" class="sidebar-link reco-side-_2ã€useeffect-å†…éƒ¨ä¸èƒ½ä¿®æ”¹-state" data-v-cb1513f6>2ã€useEffect å†…éƒ¨ä¸èƒ½ä¿®æ”¹ state</a></li><li class="level-2" data-v-cb1513f6><a href="/mondaylab-blog/column/FrontEnd/React/005.html#_3ã€useeffect-å¯èƒ½å‡ºç°æ­»å¾ªç¯" class="sidebar-link reco-side-_3ã€useeffect-å¯èƒ½å‡ºç°æ­»å¾ªç¯" data-v-cb1513f6>3ã€useEffect å¯èƒ½å‡ºç°æ­»å¾ªç¯</a></li><li class="level-1" data-v-cb1513f6><a href="/mondaylab-blog/column/FrontEnd/React/005.html#äº”ã€ğŸ”-ç»“æŸè¯­" class="sidebar-link reco-side-äº”ã€ğŸ”-ç»“æŸè¯­" data-v-cb1513f6>äº”ã€ğŸ” ç»“æŸè¯­</a></li><li class="level-1" data-v-cb1513f6><a href="/mondaylab-blog/column/FrontEnd/React/005.html#ğŸ£-å½©è›‹-one-more-thing" class="sidebar-link reco-side-ğŸ£-å½©è›‹-one-more-thing" data-v-cb1513f6>ğŸ£ å½©è›‹ One More Thing</a></li><li class="level-2" data-v-cb1513f6><a href="/mondaylab-blog/column/FrontEnd/React/005.html#å¾€æœŸæ¨è" class="sidebar-link reco-side-å¾€æœŸæ¨è" data-v-cb1513f6>ï¼ˆï¼šå¾€æœŸæ¨è</a></li><li class="level-2" data-v-cb1513f6><a href="/mondaylab-blog/column/FrontEnd/React/005.html#å®" class="sidebar-link reco-side-å®" data-v-cb1513f6>ï¼ˆï¼šå®</a></li></ul></main> <!----></div></div></div></div><div class="global-ui"><div class="back-to-ceiling" style="right:1rem;bottom:6rem;width:2.5rem;height:2.5rem;border-radius:.25rem;line-height:2.5rem;display:none;" data-v-c6073ba8 data-v-c6073ba8><svg t="1574745035067" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="5404" class="icon" data-v-c6073ba8><path d="M526.60727968 10.90185116a27.675 27.675 0 0 0-29.21455937 0c-131.36607665 82.28402758-218.69155461 228.01873535-218.69155402 394.07834331a462.20625001 462.20625001 0 0 0 5.36959153 69.94390903c1.00431239 6.55289093-0.34802892 13.13561351-3.76865779 18.80351572-32.63518765 54.11355614-51.75690182 118.55860487-51.7569018 187.94566865a371.06718723 371.06718723 0 0 0 11.50484808 91.98906777c6.53300375 25.50556257 41.68394495 28.14064038 52.69160883 4.22606766 17.37162448-37.73630017 42.14135425-72.50938081 72.80769204-103.21549295 2.18761121 3.04276886 4.15646224 6.24463696 6.40373557 9.22774369a1871.4375 1871.4375 0 0 0 140.04691725 5.34970492 1866.36093723 1866.36093723 0 0 0 140.04691723-5.34970492c2.24727335-2.98310674 4.21612437-6.18497483 6.3937923-9.2178004 30.66633723 30.70611158 55.4360664 65.4791928 72.80769147 103.21549355 11.00766384 23.91457269 46.15860503 21.27949489 52.69160879-4.22606768a371.15156223 371.15156223 0 0 0 11.514792-91.99901164c0-69.36717486-19.13165746-133.82216804-51.75690182-187.92578088-3.42062944-5.66790279-4.76302748-12.26056868-3.76865837-18.80351632a462.20625001 462.20625001 0 0 0 5.36959269-69.943909c-0.00994388-166.08943902-87.32547796-311.81420293-218.6915546-394.09823051zM605.93803103 357.87693858a93.93749974 93.93749974 0 1 1-187.89594924 6.1e-7 93.93749974 93.93749974 0 0 1 187.89594924-6.1e-7z" p-id="5405" data-v-c6073ba8></path><path d="M429.50777625 765.63860547C429.50777625 803.39355007 466.44236686 1000.39046097 512.00932183 1000.39046097c45.56695499 0 82.4922232-197.00623328 82.5015456-234.7518555 0-37.75494459-36.9345906-68.35043303-82.4922232-68.34111062-45.57627738-0.00932239-82.52019037 30.59548842-82.51086798 68.34111062z" p-id="5406" data-v-c6073ba8></path></svg></div></div></div>
    <script src="/mondaylab-blog/assets/js/app.c88a0deb.js" defer></script><script src="/mondaylab-blog/assets/js/3.88ba4622.js" defer></script><script src="/mondaylab-blog/assets/js/1.4561d677.js" defer></script><script src="/mondaylab-blog/assets/js/48.74e8cab9.js" defer></script>
  </body>
</html>
