---
title: æœºå™¨å­¦ä¹ ä¸ç¥ç»ç½‘ç»œç®€ä»‹
author: å‘¨ä¸€
date: '2023-08-05'
categories:
  - äººå·¥æ™ºèƒ½
tags:
  - æœºå™¨å­¦ä¹ 
sidebar: 'auto'
---





# ä¸€ã€å½’ä¸€åŒ–ä»»åŠ¡ç®€ä»‹

## 1ã€ä»€ä¹ˆæ˜¯å½’ä¸€åŒ–

- å½’ä¸€åŒ–ï¼ŒæŒ‡çš„æ˜¯æŠŠå¤§æ•°é‡çº§ç‰¹å¾è½¬åŒ–åˆ°è¾ƒå°çš„æ•°é‡çº§ä¸‹ï¼Œé€šå¸¸æ˜¯`[0, 1]`æˆ–`[-1, 1]`ã€‚
- ä¸¾ä¸ªä¾‹å­ï¼Œæ¯”å¦‚è¯´æˆ‘ä»¬æƒ³æŠŠ**èº«é«˜ä½“é‡é¢„æµ‹**å½’ä¸€åŒ–ï¼Œé‚£ä¹ˆå°±éœ€è¦æŠŠ**èº«é«˜ä½“é‡çš„æ•°æ®**ï¼Œç»™å‹ç¼©åˆ°`[0, 1]`æˆ–è€…`[-1, 1]`ä¹‹é—´ã€‚
- å†æ¯”å¦‚è¯´ï¼Œæƒ³æŠŠ**æˆ¿ä»·é¢„æµ‹**é—®é¢˜ç»™å½’ä¸€åŒ–ï¼Œé‚£ä¹ˆå°±éœ€è¦æŠŠå½±å“æˆ¿ä»·çš„æ•°æ®ç»™å‹ç¼©åˆ°`[0, 1]`æˆ–è€…`[-1, 1]`ä¹‹é—´ã€‚

## 2ã€ä¸ºä½•è¦å½’ä¸€åŒ–ï¼Ÿ

- **ç»å¤§å¤šæ•°Tesorflow.jsçš„æ¨¡å‹éƒ½ä¸æ˜¯ç»™ç‰¹åˆ«å¤§çš„æ•°è®¾è®¡çš„** â€”â€” æ‹¿æˆ¿ä»·é¢„æµ‹æ¥è¯´ï¼Œå®ƒçš„æ•°æ®æœ‰å¯èƒ½æ˜¯ä¸Šä¸‡çš„æˆ¿ä»·ä»¥åŠæˆ¿å±‹é¢ç§¯ï¼Œè€Œæ ¹æ®å•ä½çš„ä¸åŒï¼Œå®ƒä»¬çš„æ•°é‡çº§ä¹Ÿæœ‰å¯èƒ½éå¸¸å¤§ï¼Œæ¯”å¦‚è¯´æˆ¿ä»·å¯èƒ½æ˜¯å‡ ç™¾ä¸‡ï¼Œæˆ¿å±‹é¢ç§¯å¯èƒ½æ˜¯å‡ ç™¾å¹³æ–¹ç±³ï¼Œè¿™äº›æ•°é‡çº§éƒ½å¾ˆå¤§ã€‚é‚£ä¸ºäº†èƒ½è®©`Tensorflow.js`çš„æ¨¡å‹å¯ä»¥æ›´å¥½åœ°è¿›è¡Œè®­ç»ƒï¼Œè¿›è¡Œé¢„æµ‹ï¼Œæˆ‘ä»¬æœ€å¥½å°±è¿˜æ˜¯è¦æŠŠè¿™äº›æ•°æ®é›†**å…ˆå‹ç¼©ä¸€ä¸‹**ï¼Œç„¶åå†å–‚ç»™æ¨¡å‹ï¼Œè®©ä»–å»è®­ç»ƒï¼Œå»å­¦ä¹ ã€‚
- å°†**ä¸åŒæ•°é‡çº§çš„ç‰¹å¾**è½¬æ¢åˆ°**åŒä¸€æ•°é‡çº§**ï¼Œé˜²æ­¢æŸä¸ªç‰¹å¾å½±å“è¿‡å¤§ â€”â€” åŒæ ·æ‹¿æˆ¿ä»·é¢„æµ‹æ¥è®²ï¼Œæœ‰å¯èƒ½å‹ç¼©è¿‡åçš„æ•°æ®ï¼Œæœ‰äº›å¾ˆå¤§ï¼Œæœ‰äº›åˆå°äº†ã€‚é‚£ä¸ºäº†æ–¹ä¾¿è®¡ç®—ï¼Œå°±éœ€è¦å°†å®ƒä»¬éƒ½ä¸€èµ·ï¼Œè½¬æ¢åˆ°**åŒä¸€æ•°é‡çº§**ï¼Œè®©åé¢å¯ä»¥æ›´å¥½åœ°è®¡ç®—ã€‚

## 3ã€å½’ä¸€åŒ–æ“ä½œæ­¥éª¤

ä¸Šé¢äº†è§£äº†å½’ä¸€åŒ–æ˜¯ä»€ä¹ˆï¼Œä¸‹é¢è°ˆè°ˆå½’ä¸€åŒ–çš„è¿‡ç¨‹ã€‚**å¦‚ä¸‹ï¼š**

- é¦–å…ˆå…ˆå‡†å¤‡**èº«é«˜ä½“é‡è®­ç»ƒæ•°æ®**å¹¶å½’ä¸€åŒ–
- è®­ç»ƒæ¨¡å‹å¹¶é¢„æµ‹ï¼Œå°†ç»“æœ**åå½’ä¸€åŒ–**ä¸ºæ­£å¸¸æ•°æ®

# äºŒã€å½’ä¸€åŒ–è®­ç»ƒæ•°æ®

ä¸‹é¢ï¼Œæˆ‘ä»¬å°†ç”¨`tensorflow.js`ï¼Œæ¥å½’ä¸€åŒ–æ•´ä¸ªè®­ç»ƒæ•°æ®ã€‚

## 1ã€æ“ä½œæ­¥éª¤

- å‡†å¤‡èº«é«˜ä½“é‡è®­ç»ƒæ•°æ®
- ä½¿ç”¨`tfvis`æ¥å¯è§†åŒ–è®­ç»ƒæ•°æ®
- ä½¿ç”¨`Tensorflow.js`çš„`API`è¿›è¡Œå½’ä¸€åŒ–

## 2ã€è®­ç»ƒè¿‡ç¨‹

å…·ä½“ä»£ç å¦‚ä¸‹ğŸ‘‡ğŸ»ï¼š

```JavaScript
import * as tf from '@tensorflow/tfjs';
import * as tfvis from '@tensorflow/tfjs-vis';

window.onload = async () => {
  const heights = [150, 160, 170];
  const weights = [40, 50, 60];

  tfvis.render.scatterplot(
    { name: 'èº«é«˜ä½“é‡è®­ç»ƒæ•°æ®' },
    { values: heights.map((x, i) => ({ x, y: weights[i] })) },
    // è®¾ç½®xè½´å’Œyè½´çš„èŒƒå›´
    {
      xAxisDomain: [140, 180],
      yAxisDomain: [30, 70]
    }
  );

  // è®©æ¯ä¸€ä¸ªèº«é«˜æ•°æ®ï¼Œåˆ†åˆ«å‡å»150ï¼Œç„¶åå†é™¤ä»¥20
  const inputs = tf.tensor(heights).sub(150).div(20);
  // è®©æ¯ä¸€ä¸ªä½“é‡æ•°æ®ï¼Œåˆ†åˆ«å‡å»40ï¼Œç„¶åå†é™¤ä»¥20
  const labels = tf.tensor(weights).sub(40).div(20);

};
```

æœ€ç»ˆå±•ç¤ºæ•ˆæœå¦‚ä¸‹ğŸ‘‡ğŸ»ï¼š

![img](https://mondaylab-1309616765.cos.ap-shanghai.myqcloud.com/images/202407132124982.png)

å¯ä»¥çœ‹åˆ°ï¼Œæ¯ä¸ªç‚¹éƒ½æ­£ç¡®æ¸²æŸ“äº†ã€‚

# ä¸‰ã€è®­ç»ƒã€é¢„æµ‹ã€åå½’ä¸€åŒ–

ä¸Šé¢æˆ‘ä»¬å¯¹æ•°æ®è¿›è¡Œäº†å½’ä¸€åŒ–ï¼Œæ¥ä¸‹æ¥ï¼Œè¦æŠŠè¿™äº›æ•°æ®åšè¿›ä¸€æ­¥çš„**è®­ç»ƒ**ã€**é¢„æµ‹**ï¼Œä»¥åŠ**åå½’ä¸€åŒ–**ã€‚

## 1ã€æ“ä½œæ­¥éª¤

- å®šä¹‰ä¸€ä¸ªç¥ç»ç½‘ç»œæ¨¡å‹
- å°†å½’ä¸€åŒ–åçš„æ•°æ®å–‚ç»™æ¨¡å‹å­¦ä¹ â€”â€”è®­ç»ƒæ¨¡å‹
- é¢„æµ‹åï¼ŒæŠŠç»“æœåå½’ä¸€åŒ–ä¸ºæ­£å¸¸æ•°æ®

## 2ã€è®­ç»ƒè¿‡ç¨‹

é¦–å…ˆåˆ›å»ºä¸ªæ–‡ä»¶ï¼Œå‘½åä¸º`script.js`ã€‚å…·ä½“ä»£ç å¦‚ä¸‹ï¼š

```JavaScript
import * as tf from '@tensorflow/tfjs';
import * as tfvis from '@tensorflow/tfjs-vis';

window.onload = async () => {
  const heights = [150, 160, 170];
  const weights = [40, 50, 60];

  tfvis.render.scatterplot(
    { name: 'èº«é«˜ä½“é‡è®­ç»ƒæ•°æ®' },
    { values: heights.map((x, i) => ({ x, y: weights[i] })) },
    // è®¾ç½®xè½´å’Œyè½´çš„èŒƒå›´
    {
      xAxisDomain: [140, 180],
      yAxisDomain: [30, 70]
    }
  );

  // è®©æ¯ä¸€ä¸ªèº«é«˜æ•°æ®ï¼Œåˆ†åˆ«å‡å»150ï¼Œç„¶åå†é™¤ä»¥20
  const inputs = tf.tensor(heights).sub(150).div(20);
  // è®©æ¯ä¸€ä¸ªä½“é‡æ•°æ®ï¼Œåˆ†åˆ«å‡å»40ï¼Œç„¶åå†é™¤ä»¥20
  const labels = tf.tensor(weights).sub(40).div(20);

  // å®šä¹‰æ¨¡å‹ç»“æ„
  const model = tf.sequential();
  model.add(tf.layers.dense({ units: 1, inputShape: [1] }));
  model.compile({
    loss: tf.losses.meanSquaredError,
    optimizer: tf.train.sgd(0.1)
  });

  await model.fit(inputs, labels, {
    // è®­ç»ƒæ•°æ®åªæœ‰3ä¸ªï¼Œæ‰€ä»¥è¿™é‡Œè®¾ç½®ä¸º3ã€‚å¦‚æœä¸è®¾ç½®çš„æƒ…å†µä¸‹ï¼Œåˆå§‹å€¼æ˜¯32
    batchSize: 3,
    epochs: 200,
    callbacks: tfvis.show.fitCallbacks({ name: 'è®­ç»ƒè¿‡ç¨‹' }, ['loss'])
  });

  const output = model.predict(tf.tensor([180]).sub(150).div(20));
  // ä¸Šé¢æ˜¯å…ˆå½’ä¸€åŒ–é¢„æµ‹ï¼Œç„¶åæ‹¿åˆ°æ•°æ®ç»“æ„åï¼Œè¿™é‡Œå†åå½’ä¸€åŒ–
  alert(
    `å¦‚æœèº«é«˜ä¸º 180cmï¼Œé‚£ä¹ˆé¢„æµ‹ä½“é‡ä¸º ${output.mul(20).add(40).dataSync()[0]}kg`
  );
};
```

åœ¨`index.html`æ–‡ä»¶å¼•å…¥ï¼Œ**ä»£ç å¦‚ä¸‹ï¼š**

```JavaScript
<script src="script.js"></script>
```

**æœ€ç»ˆæˆ‘ä»¬æ¥çœ‹ä¸‹æ•ˆæœï¼š**

![img](https://mondaylab-1309616765.cos.ap-shanghai.myqcloud.com/images/202407132124336.png)

è‡³æ­¤ï¼Œæˆ‘ä»¬å°±å®Œæˆäº†æ•´ä¸ªå½’ä¸€åŒ–çš„è¿‡ç¨‹ï¼Œå¹¶æˆåŠŸé¢„æµ‹åˆ°äº†æ•°æ®ã€‚