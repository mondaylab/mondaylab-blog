---
title: ç´§è·Ÿvue3çš„æ­¥ä¼ï¼Œå†æ¥getä¸€æ³¢è¿›é˜¶æ–°ç‰¹æ€§ï¼
author: å‘¨ä¸€
date: '2021-12-12'
categories:
  - å‰ç«¯å¼€å‘
tags:
  - vue.js
sidebar: 'auto'
---

# å‰è¨€

ä¹‹å‰å†™äº†ä¸€ç¯‡æ–‡ç« è°ˆè®º `vue3` çš„æ–°ç‰¹æ€§ï¼Œç„¶é¹…â€¦â€¦å‘¨ä¸€æœ€è¿‘åˆ `get` åˆ°äº†å‡ ä¸ªæ¯”è¾ƒè¿›é˜¶çš„æ–°ç‰¹æ€§ï¼Œ**æ¯”å¦‚ï¼š** ` vue2` ç”¨ `watch` ï¼Œ `vue3` ä¸ºä»€ä¹ˆç”¨ `watchEffect` ã€‚è¿˜æœ‰ `vue3` ä¸ºä»€ä¹ˆæ¯” `vue2` å¿«ï¼Œ `vite` ä¸ºä»€ä¹ˆå¯åŠ¨ä¼šéå¸¸å¿«ï¼Œä»¥åŠ `vue3` å¯¹å…¨å±€æ³¨å†Œ `API` åšå‡ºçš„é‡å¤§æ”¹å˜ã€‚

ä¸€èµ·æ¥äº†è§£ä¸€æ³¢ `vue3` æ–°ç‰¹æ€§ ğŸ“·

# ä¸€ã€ğŸ“—watch å’Œ watchEffect

## 1ã€watch å’Œ watchEffect çš„åŒºåˆ«

æˆ‘ä»¬åœ¨ `vue2` æ—¶ï¼Œç»å¸¸ç”¨ `watch` æ¥**ç›‘å¬æ•°æ®**ã€‚ä½†ç°åœ¨çš„ `vue3` å·²ç»æ”¹ç”¨ `watchEffect` æ¥è¿›è¡Œæ•°æ®ç›‘å¬äº†ã€‚**è¿™ä¸¤è€…å…·ä½“æœ‰ä»¥ä¸‹åŒºåˆ«ï¼š**

- ä¸¤è€…éƒ½å¯ä»¥ç›‘å¬ `data` å±æ€§å˜åŒ–ï¼›
- `watch` éœ€è¦**æ˜ç¡®ç›‘å¬å“ªä¸ªå±æ€§**ï¼›
- è€Œ `watchEffect` ä¼šæ ¹æ®å…¶ä¸­çš„å±æ€§ï¼Œ**è‡ªåŠ¨ç›‘å¬**å…¶å˜åŒ–ã€‚

## 2ã€ä¸¾ä¸ªä¾‹å­

### ï¼ˆ1ï¼‰wtach ç›‘å¬

æˆ‘ä»¬ç”¨ `watch` æ¥**ç›‘å¬æ•°æ®**ã€‚**å…·ä½“ä»£ç å¦‚ä¸‹ï¼š**

```html
<template>
  <!-- <p>watch vs watchEffect</p> -->
  <p>{{numberRef}}</p>
  <p>{{name}} {{age}}</p>
</template>

<script>
  import { reactive, ref, toRefs, watch, watchEffect } from 'vue';

  export default {
    name: 'Watch',
    setup() {
      const numberRef = ref(100);
      const state = reactive({
        name: 'monday',
        age: 18,
      });

      watch(
        numberRef,
        (newNumber, oldNumber) => {
          console.log('ref watch', newNumber, oldNumber);
        },
        {
          immediate: true, // åˆå§‹åŒ–ä¹‹å‰å°±ç›‘å¬ï¼Œå¯é€‰
        }
      );

      setTimeout(() => {
        numberRef.value = 200;
      }, 1500);

      watch(
        // ç¬¬ä¸€ä¸ªå‚æ•°ï¼Œç¡®å®šè¦ç›‘å¬å“ªä¸ªå±æ€§
        () => state.age,

        // ç¬¬äºŒä¸ªå‚æ•°ï¼Œå›è°ƒå‡½æ•°
        (newAge, oldAge) => {
          console.log('state watch', newAge, oldAge);
        },

        // ç¬¬ä¸‰ä¸ªå‚æ•°ï¼Œé…ç½®é¡¹
        {
          immediate: true, // åˆå§‹åŒ–ä¹‹å‰å°±ç›‘å¬ï¼Œå¯é€‰
          // deep: true // æ·±åº¦ç›‘å¬
        }
      );

      setTimeout(() => {
        state.age = 25;
      }, 1500);
      setTimeout(() => {
        state.name = 'mondayLab';
      }, 3000);

      return {
        numberRef,
        ...toRefs(state),
      };
    },
  };
</script>
```

**æ­¤æ—¶æµè§ˆå™¨çš„æ˜¾ç¤ºæ•ˆæœå¦‚ä¸‹ï¼š**

![watch](https://img-blog.csdnimg.cn/202106142317374.gif#pic_center)

ç»¼ä¸Šï¼Œæˆ‘ä»¬å¯ä»¥çŸ¥é“ï¼Œå½“ä½¿ç”¨ `watch` è¿›è¡Œå±æ€§ç›‘å¬æ—¶ï¼Œéœ€è¦**æ˜ç¡®è¦ç›‘å¬å“ªä¸€ä¸ªå±æ€§**ï¼Œå¹¶ä¸”å¦‚æœæƒ³è¦**åœ¨åˆå§‹åŒ–æ—¶å°±è¢«ç›‘å¬**ï¼Œéœ€è¦åŠ ä¸Š**ç¬¬ä¸‰ä¸ªå¯é€‰å‚æ•°** `immediate:true` ã€‚è¿™æ ·çœ‹æ¥ï¼Œå¦‚æœæˆ‘ä»¬è¦ç›‘å¬å¤šä¸ªå±æ€§æ—¶ï¼Œé‚£å°±è¦å†™å¾ˆå¤šä¸ª `watch` ï¼Œå±å®æœ‰ç‚¹éº»çƒ¦ã€‚æ‰€ä»¥ï¼Œ `vue3` å°±å¼•è¿›äº† `watchEffect` æ¥è§£å†³è¿™å‡ ä¸ªé—®é¢˜ã€‚

### ï¼ˆ2ï¼‰watchEffect ç›‘å¬

æˆ‘ä»¬ç”¨ `watchEffect` æ¥**ç›‘å¬æ•°æ®**ã€‚**å…·ä½“ä»£ç å¦‚ä¸‹ï¼š**

```html
<template>
  <!-- <p>watch vs watchEffect</p> -->
  <p>{{numberRef}}</p>
  <p>{{name}} {{age}}</p>
</template>

<script>
  import { reactive, ref, toRefs, watch, watchEffect } from 'vue';

  export default {
    name: 'Watch',
    setup() {
      const numberRef = ref(100);
      const state = reactive({
        name: 'monday',
        age: 18,
      });

      watchEffect(() => {
        // åˆå§‹åŒ–æ—¶ï¼Œä¸€å®šä¼šå…ˆæ‰§è¡Œä¸€æ¬¡ï¼ˆæ”¶é›†è¦ç›‘å¬çš„æ•°æ®ï¼‰
        console.log('numberRef', numberRef.value);
        console.log('state.age', state.age);
        console.log('state.name', state.name);
      });

      setTimeout(() => {
        numberRef.value = 2000;
      }, 1000);

      setTimeout(() => {
        state.age = 25;
      }, 1500);

      setTimeout(() => {
        state.name = 'mondayLab';
      }, 3000);

      return {
        numberRef,
        ...toRefs(state),
      };
    },
  };
</script>
```

**æ­¤æ—¶æµè§ˆå™¨çš„æ˜¾ç¤ºæ•ˆæœå¦‚ä¸‹ï¼š**

![watchEffect](https://img-blog.csdnimg.cn/20210614231747316.gif#pic_center)

ä»ä¸Šå›¾ä¸­å¯ä»¥çœ‹åˆ°ï¼Œ `watchEffect` åªè¦**åšä¸€æ¬¡ç›‘å¬**ï¼Œå°±å¯ä»¥**åŒæ—¶ç›‘å¬åˆ°ä¸‰ä¸ªå±æ€§**ã€‚åŒæ—¶ï¼Œå€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œ `watchEffect `éœ€è¦åˆå§‹åŒ–ï¼Œä¸”åˆå§‹åŒ–æ—¶**ä¸€å®šä¼šå…ˆæ‰§è¡Œä¸€æ¬¡**ï¼Œè¿™ä¸ªåˆå§‹åŒ–çš„ç›®çš„åœ¨äº**æ”¶é›†è¦ç›‘å¬çš„æ•°æ®**ã€‚æ‰€ä»¥ï¼Œæ§åˆ¶å°æ‰“å°çš„ç¬¬ä¸€ç»„æ•°æ®å°±æ˜¯åˆå§‹åŒ–æ—¶çš„æ•°æ®ã€‚

ç¬¬ä¸€æ¬¡æ”¶é›†åˆ°å®ƒè¦ç›‘å¬è¿™ä¸‰ä¸ªå±æ€§åï¼Œåœ¨æ­¤ä¹‹åå‘¢ï¼Œè¿™ä¸‰ä¸ªå±æ€§ä¹Ÿç›¸åº”åœ°æ‹¥æœ‰äº†**å“åº”å¼**çš„åŠŸèƒ½ã€‚ç›¸å¯¹åº”çš„ä¸‰ä¸ªè®¡æ—¶å™¨å†æ‰“å°å‡ºä¸‰ç»„æ•°æ®å‡ºæ¥ï¼Œæ‰€ä»¥ä¸€å…±æ˜¯å››ç»„æ•°æ®ã€‚

# äºŒã€ğŸ“˜setup å¦‚ä½•è·å–ç»„ä»¶å®ä¾‹

### ï¼ˆ1ï¼‰ä¸ºä»€ä¹ˆéœ€è¦è·å–ç»„ä»¶å®ä¾‹

åˆšå¬åˆ°è¿™ä¸ªæ¦‚å¿µæ—¶ï¼Œæˆ‘å…¶å®æ—¶æœ‰ç‚¹æ‡µçš„ã€‚ä¸ºä»€ä¹ˆè¦ç”¨ setup æ¥è·å–ç»„ä»¶çš„å®ä¾‹ï¼Ÿå…¶å®è¯´çš„å°±æ˜¯ä¸€ä¸ª this çš„æŒ‡å‘é—®é¢˜ã€‚

åœ¨ `vue2 ` ä¸­ï¼Œ `Options API` å¯ä»¥ä½¿ç”¨ `this` æ¥è·å–ç»„ä»¶çš„å®ä¾‹ï¼Œä½†æ˜¯åˆ°ç°åœ¨çš„ `vue3` ï¼Œå·²ç»è¢«æ‘’å¼ƒæ‰äº†ã€‚åœ¨ `setup` å’Œå…¶ä»– `Composition API` ä¸­æ²¡æœ‰ `this` ï¼Œä½†æ˜¯å®ƒæä¾›äº†ä¸€ä¸ª `getCurrentInstance` æ¥è·å–å½“å‰çš„å®ä¾‹ã€‚

### ï¼ˆ2ï¼‰ä¸¾ä¸ªä¾‹å­

æˆ‘ä»¬å…ˆç”¨ `Options API` æ¥è·å–å®ä¾‹ã€‚**å…·ä½“ä»£ç å¦‚ä¸‹ï¼š**

```html
<template>
  <p>get instance</p>
</template>

<script>
  import { onMounted, getCurrentInstance } from 'vue';

  export default {
    name: 'GetInstance',
    data() {
      return {
        x: 1,
        y: 2,
      };
    },
    mounted() {
      console.log('this2', this);
      console.log('x', this.x, 'y', this.y);
    },
  };
</script>
```

**æ­¤æ—¶æµè§ˆå™¨çš„æ˜¾ç¤ºæ•ˆæœå¦‚ä¸‹ï¼š**

![optionAPI](https://img-blog.csdnimg.cn/20210614231757863.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NDgwMzc1Mw==,size_16,color_FFFFFF,t_70#pic_center)

æ­£å¦‚æˆ‘ä»¬æ‰€æƒ³çš„ï¼Œç”¨ `options API` ï¼Œå…·ä½“çš„å®ä¾‹éƒ½å¯ä»¥å¦‚æœŸçš„è¢«è°ƒç”¨å‡ºæ¥ã€‚

---

ä¸‹é¢æˆ‘ä»¬ç”¨ `Composition API` æ¥çœ‹çœ‹ï¼Œæ˜¯å¦å¯ä»¥è°ƒç”¨å‡ºæ¥ã€‚**å…·ä½“ä»£ç å¦‚ä¸‹ï¼š**

```html
<template>
  <p>get instance</p>
</template>

<script>
  import { onMounted, getCurrentInstance } from 'vue';

  export default {
    name: 'GetInstance',
    data() {
      return {
        x: 1,
        y: 2,
      };
    },
    setup() {
      //æ— æ³•è·å–thiså®ä¾‹
      console.log('this1', this);

      const instance = getCurrentInstance();
      console.log('instance', instance);

      onMounted(() => {
        //æ— æ³•è·å–thiså®ä¾‹
        console.log('this in onMounted', this);
        //é€šè¿‡getCurrentInstanceè·å–thiså®ä¾‹
        console.log('x', instance.data.x);
      });
    },
  };
</script>
```

**æ­¤æ—¶æµè§ˆå™¨çš„æ˜¾ç¤ºæ•ˆæœå¦‚ä¸‹ï¼š**

![CompositionAPI](https://img-blog.csdnimg.cn/20210614231806143.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NDgwMzc1Mw==,size_16,color_FFFFFF,t_70#pic_center)

é€šè¿‡ä¸Šå›¾æˆ‘ä»¬å¯ä»¥çŸ¥é“ï¼Œå¦‚æœç”¨ `Composition API` æ¥è·å–ç»„ä»¶å®ä¾‹ï¼Œæ˜¯æ²¡æœ‰åŠæ³•è·å–çš„ã€‚éœ€è¦é€šè¿‡ `getCurrentInstance` æ–¹æ³•æ¥**è·å–å½“å‰çš„ç»„ä»¶å®ä¾‹**ã€‚

# ä¸‰ã€ğŸ“’ Vue3 ä¸ºä½•æ¯” Vue2 å¿«

æœ‰ä¸€æ¬¡çœ‹é¢ç»çš„æ—¶å€™å‘ç°æœ‰ä¸€é“é¢˜ï¼š**Vue3 ä¸ºä½•æ¯” Vue2 å¿«**ã€‚å½“æ—¶æˆ‘ä¹ŸæŒºçº³é—·çš„ï¼Œé‚£ä¸ªæ—¶å€™æˆ‘çš„å¿ƒé‡Œ ğŸ¤¯ï¼š `vue3` çš„å‡ºç°ä¸å°±æ˜¯å› ä¸ºæ›´å¥½æ‰å‡ºç°å˜›ï¼Ÿä¸æ˜¯æ›´å¥½éš¾é“è¿˜èƒ½æ›´å·®ï¼Ÿ

äº‹å®è¯æ˜â€¦â€¦**æ˜¯æˆ‘å­¤é™‹å¯¡é—»äº†**ã€‚ **Vue3 æ¯” Vue2 å¿«çš„åŸå› ä¸»è¦ä½“ç°åœ¨ä»¥ä¸‹ 6 ä¸ªæ–¹é¢ï¼š**

- Proxy å“åº”å¼
- PatchFlag
- hoistStatic
- cacheHandler
- SSR ä¼˜åŒ–
- tree-shaking

æ¥ä¸‹æ¥å°±è®©æˆ‘ä»¬ä¸€èµ·æ¥äº†è§£ä¸€ä¸‹å§ ğŸ™‹

## 1ã€Proxy å“åº”å¼

`vue3` ä¸­å®ç°å“åº”å¼çš„ `Proxy` ä¼šæ¯” `vue2` ä¸­çš„ `Object.defineProperty` å¿«ã€‚å…·ä½“åŸå› å¯ç¿»çœ‹æˆ‘çš„[å¦å¤–ä¸€ç¯‡æ–‡ç« ](https://blog.csdn.net/weixin_44803753/article/details/117900057)ï¼Œè¿™é‡Œä¸å†è®²è¿°ã€‚

## 2ã€PatchFlag

### ï¼ˆ1ï¼‰ä»€ä¹ˆæ˜¯ PatchFlag

- åœ¨ç¼–è¯‘æ¨¡æ¿æ—¶ï¼Œä½¿ç”¨**åŠ¨æ€èŠ‚ç‚¹**åšæ ‡è®°ï¼›
- æ ‡è®°ï¼Œåˆ†ä¸º**ä¸åŒçš„ç±»å‹**ï¼Œå¦‚`TEXT` ã€ `PROPS` ï¼›æœ‰çš„æ˜¯ç›´æ¥è·å– `text` ï¼Œæœ‰çš„åˆ™æ˜¯ä¿®æ”¹ `props` ï¼›
- `diff` ç®—æ³•æ¯”è¾ƒæ—¶ï¼Œå¯ä»¥åŒºåˆ†**é™æ€èŠ‚ç‚¹**ï¼Œä»¥åŠ**ä¸åŒç±»å‹çš„åŠ¨æ€èŠ‚ç‚¹**ã€‚æ­¤å¤„è¦æ³¨æ„çš„æ˜¯ï¼Œ `patchflag` å¹¶ä¸æ˜¯ä¸“é—¨å¯¹ `diff` ç®—æ³•åšä¼˜åŒ–ï¼Œè€Œæ˜¯åœ¨è¾“å…¥ä¸Šåšä¸€äº›å˜æ›´å’Œåšä¸€äº›æ ‡è®°ï¼Œä»è€Œè¾¾åˆ°å¯¹ `diff` ç®—æ³•çš„ä¼˜åŒ–ã€‚

### ï¼ˆ2ï¼‰ä¸¾ä¸ªä¾‹å­ ğŸŒ°

æˆ‘ä»¬ç”¨ä¸€ä¸ª[åœ¨çº¿ç½‘ç«™](https://vue-next-template-explorer.netlify.app/)æ¥æ¼”ç¤º `patchflag` ï¼Œåœ¨çº¿ç½‘ç«™ç½‘å€ä¸ºhttps://vue-next-template-explorer.netlify.app/ï¼Œå¤§å®¶å¯ä»¥æ ¹æ®éœ€è¦è‡ªè¡Œæ¼”ç¤º~

**å…·ä½“ä½¿ç”¨æ–¹å¼å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š**

![åœ¨çº¿ç½‘ç«™æ¼”ç¤º](https://img-blog.csdnimg.cn/20210614231814895.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NDgwMzc1Mw==,size_16,color_FFFFFF,t_70#pic_center)

æ¥ä¸‹æ¥æˆ‘ä»¬æ¥æ¼”ç¤º `patchflag` ï¼Œæ­¤æ—¶å³è¾¹çš„ `options` ä¸åšé€‰æ‹©ã€‚**æˆ‘ä»¬åœ¨å·¦è¾¹çš„æ¡†è¾“å…¥ä¸‹é¢ä»£ç ï¼š**

```html
<div id="app">
  <span>hello vue3</span>
  <span>{{msg}}</span>
  <span :class="name">monday</span>
  <span :id="name">monday</span>
  <span :id="name">{{mag}}</span>
  <span :id="name" :msg="msg">monday</span>
</div>
```

**æ­¤æ—¶å³è¾¹çš„æ¡†æ˜¾ç¤ºå¦‚ä¸‹ï¼š**

```js
import {
  createVNode as _createVNode,
  toDisplayString as _toDisplayString,
  openBlock as _openBlock,
  createBlock as _createBlock,
} from 'vue';

export function render(_ctx, _cache, $props, $setup, $data, $options) {
  return (
    _openBlock(),
    _createBlock('div', { id: 'app' }, [
      _createVNode('span', null, 'hello vue3'),
      _createVNode('span', null, _toDisplayString(_ctx.msg), 1 /* TEXT */),
      _createVNode('span', { class: _ctx.name }, 'monday', 2 /* CLASS */),
      _createVNode('span', { id: _ctx.name }, 'monday', 8 /* PROPS */, ['id']),
      _createVNode(
        'span',
        { id: _ctx.name },
        _toDisplayString(_ctx.mag),
        9 /* TEXT, PROPS */,
        ['id']
      ),
      _createVNode(
        'span',
        {
          id: _ctx.name,
          msg: _ctx.msg,
        },
        'monday',
        8 /* PROPS */,
        ['id', 'msg']
      ),
    ])
  );
}

// Check the console for the AST
```

å¤§å®¶å¯ä»¥çœ‹åˆ°ï¼Œé™¤äº†ç¬¬ä¸€ä¸ªæ˜¯**é™æ€èŠ‚ç‚¹**ä»¥å¤–ï¼Œ**å…¶ä»–éƒ½æ˜¯åŠ¨æ€èŠ‚ç‚¹**ã€‚æ­¤æ—¶æ¨¡æ¿ç¼–è¯‘åçš„ç»“æœï¼Œåœ¨æœ€åè¾¹æœ‰**å¯¹åº”çš„æ•°å­—**å‡ºç°ï¼Œè¿™ä¸ªæ•°å­—å°±æ˜¯**æ ‡è®°**ã€‚ `vue3` é€šè¿‡**ç»™æ¯ä¸ªåŠ¨æ€èŠ‚ç‚¹åšæ•°å­—æ ‡è®°**ï¼Œè¾¾åˆ°ä¼˜åŒ– `diff` ç®—æ³•çš„æ•ˆæœã€‚

## 3ã€hoistStatic

### ï¼ˆ1ï¼‰ä»€ä¹ˆæ˜¯ hoistStatic

- å°†é™æ€èŠ‚ç‚¹çš„å®šä¹‰ï¼Œæå‡åˆ°çˆ¶ä½œç”¨åŸŸä¸Šï¼Œå¹¶ç¼“å­˜èµ·æ¥ï¼›
- å¤šä¸ª**ç›¸é‚»çš„é™æ€èŠ‚ç‚¹**ï¼Œä¼šè¢«åˆå¹¶èµ·æ¥ï¼›
- å…¸å‹çš„**æ‹¿ç©ºé—´æ¢æ—¶é—´**çš„ä¼˜åŒ–ç­–ç•¥ã€‚

### ï¼ˆ2ï¼‰ä¸¾ä¸ªä¾‹å­ ğŸŒ°

æˆ‘ä»¬åŒæ ·ç”¨åœ¨çº¿ç½‘ç«™æ¥åšä¸€ä¸ªæ¼”ç¤ºã€‚æ­¤æ—¶æˆ‘ä»¬**åœ¨å·¦è¾¹æ¡†è¾“å…¥ä»¥ä¸‹ä»£ç ï¼š**

```html
<div id="app">
  <span>monday</span>
  <span>monday</span>
  <span>monday</span>
  <span>{{msg}}</span>
</div>
```

**æ­¤æ—¶å³è¾¹çš„æ¡†æ˜¾ç¤ºå¦‚ä¸‹ï¼š**

```js
import {
  createVNode as _createVNode,
  toDisplayString as _toDisplayString,
  openBlock as _openBlock,
  createBlock as _createBlock,
} from 'vue';

const _hoisted_1 = { id: 'app' };
const _hoisted_2 = /*#__PURE__*/ _createVNode(
  'span',
  null,
  'monday',
  -1 /* HOISTED */
);
const _hoisted_3 = /*#__PURE__*/ _createVNode(
  'span',
  null,
  'monday',
  -1 /* HOISTED */
);
const _hoisted_4 = /*#__PURE__*/ _createVNode(
  'span',
  null,
  'monday',
  -1 /* HOISTED */
);

export function render(_ctx, _cache, $props, $setup, $data, $options) {
  return (
    _openBlock(),
    _createBlock('div', _hoisted_1, [
      _hoisted_2,
      _hoisted_3,
      _hoisted_4,
      _createVNode('span', null, _toDisplayString(_ctx.msg), 1 /* TEXT */),
    ])
  );
}

// Check the console for the AST
```

é€šè¿‡ä»¥ä¸Šä»£ç å¯ä»¥å‘ç°ï¼Œ `vue3` åœ¨æ¯ä¸€ä¸ªé™æ€èŠ‚ç‚¹çš„å¤–éƒ¨éƒ½å®šä¹‰äº†çˆ¶èŠ‚ç‚¹ã€‚è¿™æ ·çœ‹å¥½åƒæ›´å†—ä½™äº†ä¸€ç‚¹ï¼ŒåŸå› åœ¨äºç°åœ¨èŠ‚ç‚¹è¿˜æ¯”è¾ƒå°‘ã€‚

---

ä¸‹é¢æˆ‘ä»¬æ¥æ¼”ç¤ºæ›´å¤šçš„èŠ‚ç‚¹ï¼Œæ­¤æ—¶å³è¾¹çš„ `options` é€‰æ‹© `hoistStatic` ã€‚**æˆ‘ä»¬åœ¨å·¦è¾¹æ¡†è¾“å…¥ä»¥ä¸‹ä»£ç ï¼š**

```html
<div id="app">
  <span>monday</span>
  <span>monday</span>
  <span>monday</span>
  <span>monday</span>
  <span>monday</span>
  <span>monday</span>
  <span>monday</span>
  <span>monday</span>
  <span>monday</span>
  <span>monday</span>
  <span>{{msg}}</span>
</div>
```

**æ­¤æ—¶å³è¾¹çš„æ¡†æ˜¾ç¤ºå¦‚ä¸‹ï¼š**

```js
import {
  createVNode as _createVNode,
  toDisplayString as _toDisplayString,
  createStaticVNode as _createStaticVNode,
  openBlock as _openBlock,
  createBlock as _createBlock,
} from 'vue';

const _hoisted_1 = { id: 'app' };
const _hoisted_2 = /*#__PURE__*/ _createStaticVNode(
  '<span>monday</span><span>monday</span><span>monday</span><span>monday</span><span>monday</span><span>monday</span><span>monday</span><span>monday</span><span>monday</span><span>monday</span>',
  10
);

export function render(_ctx, _cache, $props, $setup, $data, $options) {
  return (
    _openBlock(),
    _createBlock('div', _hoisted_1, [
      _hoisted_2,
      _createVNode('span', null, _toDisplayString(_ctx.msg), 1 /* TEXT */),
    ])
  );
}

// Check the console for the AST
```

æ­¤æ—¶å¯ä»¥çœ‹åˆ°ï¼Œ `vue3` æŠŠæ‰€æœ‰çš„é™æ€èŠ‚ç‚¹éƒ½åŒ…å›´æˆä¸€ä¸ªçˆ¶èŠ‚ç‚¹äº†ï¼Œå°±å¥½åƒ `vue3 ` è·Ÿå®ƒçš„ç”²æ–¹çˆ¸çˆ¸è¯´ï¼Œè¦ä¸è¿™æ ·å§ï¼Œæˆ‘å¸®ä½ åšä¸€ä¸ª**é™æ€èŠ‚ç‚¹çš„é›†åˆ**ï¼Œå¸®ä½ æŠŠæ‰€æœ‰å†…å®¹éƒ½å®šä¹‰åˆ°ä¸€èµ·ã€‚

## 4ã€cacheHandler

### ï¼ˆ1ï¼‰ä»€ä¹ˆæ˜¯ cacheHandler

- `cacheHandler` ï¼ŒæŒ‡**ç¼“å­˜äº‹ä»¶**çš„æ„æ€ã€‚

### ï¼ˆ2ï¼‰ä¸¾ä¸ªä¾‹å­ ğŸŒ°

æˆ‘ä»¬åŒæ ·ç”¨åœ¨çº¿ç½‘ç«™æ¥åšä¸€ä¸ªæ¼”ç¤ºï¼Œæ­¤æ—¶å³è¾¹çš„ `options` é€‰æ‹© `cacheHandler` ã€‚**æˆ‘ä»¬åœ¨å·¦è¾¹æ¡†è¾“å…¥ä»¥ä¸‹ä»£ç ï¼š**

```html
<div id="app">
  <span @click="clickHandler"> monday </span>
</div>
```

**æ­¤æ—¶å³è¾¹çš„æ¡†æ˜¾ç¤ºå¦‚ä¸‹ï¼š**

```js
import {
  createVNode as _createVNode,
  openBlock as _openBlock,
  createBlock as _createBlock,
} from 'vue';

export function render(_ctx, _cache, $props, $setup, $data, $options) {
  return (
    _openBlock(),
    _createBlock('div', { id: 'app' }, [
      _createVNode(
        'span',
        {
          onClick:
            _cache[1] ||
            (_cache[1] = (...args) =>
              _ctx.clickHandler && _ctx.clickHandler(...args)),
        },
        ' monday '
      ),
    ])
  );
}

// Check the console for the AST
```

è§‚å¯Ÿä»£ç  `onClick: _cache[1] || (_cache[1] = (...args) => (_ctx.clickHandler && _ctx.clickHandler(...args)))` å¯ä»¥å‘ç°ï¼Œ `vue3` åœ¨å¤„ç†ç‚¹å‡»äº‹ä»¶æ—¶ï¼Œä¼šè¿›è¡Œç¼“å­˜ã€‚è¿™è¡Œä»£ç çš„æ„æ€å°±æ˜¯ï¼Œå½“æœ‰ `_cache[1]` çš„å€¼æ—¶å°±å– `_cache[1]` ï¼Œå¦‚æœæ²¡æœ‰ `_cache[1]` å°±å†ç»™ `_cache[1]` å®šä¹‰ä¸€ä¸ªå‡½æ•°ã€‚

## 5ã€SSR ä¼˜åŒ–

### ï¼ˆ1ï¼‰ä»€ä¹ˆæ˜¯ SSR ä¼˜åŒ–

- é™æ€èŠ‚ç‚¹ä¼šç›´æ¥è¿›è¡Œè¾“å‡ºï¼Œç»•è¿‡äº† `vdom` ï¼›
- å¦‚æœæ˜¯**åŠ¨æ€èŠ‚ç‚¹**ï¼Œè¿˜æ˜¯éœ€è¦è¿›è¡Œ**åŠ¨æ€æ¸²æŸ“**ã€‚

### ï¼ˆ2ï¼‰ä¸¾ä¸ªä¾‹å­ ğŸŒ°

æˆ‘ä»¬åŒæ ·ç”¨åœ¨çº¿ç½‘ç«™æ¥åšä¸€ä¸ªæ¼”ç¤ºï¼Œæ­¤æ—¶å³è¾¹çš„ `options` é€‰æ‹© `SSR` ã€‚**æˆ‘ä»¬åœ¨å·¦è¾¹æ¡†è¾“å…¥ä»¥ä¸‹ä»£ç ï¼š**

```html
<div id="app">
  <span @click="clickHandler"> monday </span>
</div>
```

**æ­¤æ—¶å³è¾¹çš„æ¡†æ˜¾ç¤ºå¦‚ä¸‹ï¼š**

```js
import { mergeProps as _mergeProps } from 'vue';
import {
  ssrRenderAttrs as _ssrRenderAttrs,
  ssrInterpolate as _ssrInterpolate,
} from '@vue/server-renderer';

export function ssrRender(
  _ctx,
  _push,
  _parent,
  _attrs,
  $props,
  $setup,
  $data,
  $options
) {
  const _cssVars = { style: { color: _ctx.color } };
  _push(
    `<div${_ssrRenderAttrs(
      _mergeProps({ id: 'app' }, _attrs, _cssVars)
    )}><span>monday</span><span>monday</span><span>monday</span><span>${_ssrInterpolate(
      _ctx.msg
    )}</span></div>`
  );
}

// Check the console for the AST
```

é€šè¿‡ä»¥ä¸Šä»£ç å¯ä»¥å‘ç°ï¼Œç”¨ `SSR` æ¥è¿›è¡Œæ¨¡æ¿ç¼–è¯‘æ—¶ï¼Œé™æ€èŠ‚ç‚¹ä¼šç›´æ¥è¿›è¡Œè¾“å‡ºï¼Œç›´æ¥ç»•è¿‡ `vdom` ã€‚è€Œå¦‚æœæ˜¯åŠ¨æ€èŠ‚ç‚¹æ—¶ï¼Œä¾ç„¶éœ€è¦è¿›è¡ŒåŠ¨æ€æ¸²æŸ“ã€‚

## 6ã€tree-shaking

### ï¼ˆ1ï¼‰ä»€ä¹ˆæ˜¯ tree-shaking

- ç¼–è¯‘æ—¶ï¼Œæ ¹æ®ä¸åŒçš„æƒ…å†µï¼Œå¼•å…¥ä¸åŒçš„ `API` ã€‚

### ï¼ˆ2ï¼‰ä¸¾ä¸ªä¾‹å­ ğŸŒ°

åŒæ ·ç”¨åœ¨çº¿ç½‘ç«™æ¥åšä¸€ä¸ªæ¼”ç¤ºï¼Œæ­¤æ—¶å³è¾¹çš„ `options` ä¸åšé€‰æ‹©ã€‚**å·¦è¾¹æ¡†è¾“å…¥ä»¥ä¸‹ä»£ç ï¼š**

```html
<div id="app">
  <span>monday</span>
  <span>monday</span>
  <span>monday</span>
  <span>{{msg}}</span>
</div>
```

**æ­¤æ—¶å³è¾¹çš„æ¡†çš„ç¬¬ä¸€è¡Œæ˜¾ç¤ºå¦‚ä¸‹ï¼š**

```js
import {
  createVNode as _createVNode,
  toDisplayString as _toDisplayString,
  openBlock as _openBlock,
  createBlock as _createBlock,
} from 'vue';
```

---

å†æ¥æ¼”ç¤ºå¦å¤–ä¸€ç§æƒ…å†µã€‚åŒæ ·æˆ‘ä»¬**åœ¨å·¦è¾¹æ¡†è¾“å…¥ä»¥ä¸‹ä»£ç ï¼š**

```html
<div id="app">
  <span :id="msg"></span>
  <input v-model="msg" />
</div>
```

**æ­¤æ—¶å³è¾¹çš„æ¡†çš„ç¬¬ä¸€è¡Œæ˜¾ç¤ºå¦‚ä¸‹ï¼š**

```js
import {
  createVNode as _createVNode,
  vModelText as _vModelText,
  withDirectives as _withDirectives,
  openBlock as _openBlock,
  createBlock as _createBlock,
} from 'vue';
```

å¤§å®¶å¯ä»¥å‘ç°ï¼Œ `vue3` åœ¨ç¼–è¯‘æ—¶ï¼Œå®ƒä¸ä¼šä¸€æ¬¡æ€§å¼•å…¥å¾ˆå¤š `API` ï¼Œè€Œæ˜¯æ ¹æ®æˆ‘ä»¬æ‰€éœ€è¦çš„ï¼Œ**æˆ‘ä»¬è¦ä»€ä¹ˆå®ƒå°±å¼•å…¥ä»€ä¹ˆ**ï¼Œæˆ‘ä»¬ä¸è¦çš„ï¼Œå®ƒä¸€æ¦‚ä¸ä¼šå¸®æˆ‘ä»¬å¼•å…¥ã€‚è¿™åœ¨æŸç§ç¨‹åº¦ä¸Šå°±ä¼˜åŒ–äº†å¾ˆå¤šæ€§èƒ½ã€‚

# å››ã€ğŸ“šVite ä¸ºä»€ä¹ˆå¯åŠ¨éå¸¸å¿«

ç¬¬ä¸€æ¬¡çœ‹è§ `vite` æ˜¯åœ¨ `vue3` çš„å®˜æ–¹æ–‡æ¡£é‡Œé¢ï¼Œå®˜æ–¹æ–‡æ¡£ä»‹ç»ï¼š `vite` æ˜¯ä¸€ä¸ª `web` å¼€å‘æ„å»ºå·¥å…·ï¼Œç”±äºå…¶ä½¿ç”¨ `åŸç”ŸESæ¨¡å—` å¯¼å…¥æ–¹å¼ï¼Œå¯ä»¥å®ç°**é—ªç”µèˆ¬**çš„**å†·æœåŠ¡å™¨å¯åŠ¨**ã€‚é€šè¿‡åœ¨ç»ˆç«¯ä¸­è¿è¡Œç›¸åº”çš„å‘½ä»¤ï¼Œå¯ä»¥ä½¿ç”¨ Vite å¿«é€Ÿæ„å»º `Vue` é¡¹ç›®ã€‚

## 1ã€Vite æ˜¯ä»€ä¹ˆ

- `vite` æ˜¯ä¸€ä¸ªå‰ç«¯çš„**æ‰“åŒ…å·¥å…·**ï¼Œæ˜¯ `vue` ä½œè€…å‘èµ·çš„ä¸€ä¸ªé¡¹ç›®ï¼›
- `vite` å€ŸåŠ© `vue` çš„å½±å“åŠ›ï¼Œå‘å±•è¾ƒå¿«ï¼Œå’Œ `webpack` æœ‰ç€ä¸€å®šçš„ç«äº‰å…³ç³»ï¼›
- ä¼˜åŠ¿ï¼š `vite` ä½¿å¾—ç¨‹åº**åœ¨å¼€å‘ç¯å¢ƒä¸‹æ— éœ€æ‰“åŒ…**ï¼Œä¸”å¯åŠ¨éå¸¸å¿«é€Ÿã€‚

## 2ã€Vite ä¸ºä½•å¯åŠ¨å¿«ï¼Ÿ

åœ¨å¼€å‘ç¯å¢ƒä¸‹ä½¿ç”¨ `ES6 Module` ï¼Œæ— éœ€æ‰“åŒ…ï¼Œé€Ÿåº¦éå¸¸å¿«ï¼›

åœ¨ç”Ÿäº§ç¯å¢ƒä¸‹ä½¿ç”¨ `rollup` æ‰“åŒ…ï¼Œå¹¶ä¸ä¼šå¿«å¾ˆå¤šã€‚

## 3ã€ES Module æ¼”ç¤º

### ï¼ˆ1ï¼‰åŸºæœ¬ä½¿ç”¨

åœ¨ `vue2` æ—¶ï¼Œæˆ‘ä»¬åŠ è½½ä¸€ä¸ªå·¥ç¨‹æ–‡ä»¶éœ€è¦å…ˆè½¬ä¸º `ES5` ï¼Œç„¶åç»è¿‡ä¸€äº›åˆ—çš„æ‰“åŒ…æ‰èƒ½æ­£å¼åŠ è½½é¡¹ç›®é¡µé¢ã€‚è€Œåœ¨ `vue3` ï¼Œç”Ÿäº§ç¯å¢ƒç›®å‰è¿˜æ²¡æœ‰åšåˆ°ï¼Œä½†æ˜¯åœ¨å¼€å‘ç¯å¢ƒä¸‹ï¼Œé€šè¿‡ `ES6 Module` çš„æ–¹å¼ï¼Œæ— éœ€æ‰“åŒ…ï¼Œé€Ÿåº¦éå¸¸å¿«ã€‚

ä¸‹é¢æˆ‘ä»¬è®²æ¼”ç¤ºé›†ä¸­ `ES Module` åœ¨æµè§ˆå™¨ä¸­çš„åº”ç”¨ã€‚

### ï¼ˆ2ï¼‰ES Module åœ¨æµè§ˆå™¨ä¸­çš„åº”ç”¨

#### 1ï¼‰åŸºæœ¬æ¼”ç¤º

```html
<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>ES Module demo</title>
  </head>
  <body>
    <p>åŸºæœ¬æ¼”ç¤º</p>

    <script type="module">
      import plus from './src/plus.js';

      const res = add(1, 2);
      console.log('add res', res);
    </script>

    <script type="module">
      import { plus, multi } from './src/math.js';
    </script>
  </body>
</html>
```

æˆ‘ä»¬åœ¨ `<script>` æ ‡ç­¾ä¸‹è®¾ç½® `type="module"` ï¼Œä¹‹åå°±å¯ä»¥æŒ‰ç…§æˆ‘ä»¬å¹³å¸¸å†™ `vue` ç¨‹åºä¸€æ ·ï¼Œç”¨ `import` å¼•å…¥ç›¸åº”çš„æ–‡ä»¶ã€‚

#### 2ï¼‰å¼•å…¥å¤–é“¾

```html
<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>ES Module demo</title>
  </head>
  <body>
    <p>å¤–é“¾</p>

    <script type="module" src="./src/index.js"></script>
  </body>
</html>
```

åŒæ—¶ï¼Œä¹Ÿå¯ä»¥é€šè¿‡ `src` çš„æ–¹å¼ç›´æ¥å¼•å…¥å¤–éƒ¨ js æ–‡ä»¶ã€‚

#### 3ï¼‰è¿œç¨‹å¼•ç”¨

```html
<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>ES Module demo</title>
  </head>
  <body>
    <p>è¿œç¨‹å¼•ç”¨</p>

    <script type="module">
      import { createStore } from 'https://unpkg.com/redux@latest/es/redux.mjs';
      console.log('createStore', createStore);
    </script>
  </body>
</html>
```

ä¹Ÿå¯ä»¥ç›´æ¥å¼•å…¥ `cdn` ä¸Šçš„ç½‘å€ï¼Œå³**è¿œç¨‹å¼•ç”¨**ã€‚

#### 4ï¼‰åŠ¨æ€å¼•å…¥

```html
<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>ES Module demo</title>
  </head>
  <body>
    <p>åŠ¨æ€å¼•å…¥</p>
    <button id="btn1">load1</button>
    <button id="btn2">load2</button>

    <script type="module">
      document.getElementById('btn1').addEventListener('click', async () => {
        const add = await import('./src/add.js');
        const res = add.default(1, 2);
        console.log('add res', res);
      });
      document.getElementById('btn2').addEventListener('click', async () => {
        const { add, multi } = await import('./src/math.js');
        console.log('add res', add(10, 20));
        console.log('multi res', multi(10, 20));
      });
    </script>
  </body>
</html>
```

æ¯”å¦‚è¯´æˆ‘ä»¬è¦ç»™ä¸¤ä¸ª `button` ç»‘å®šä¸¤ä¸ªäº‹ä»¶ï¼Œå¹¶ä¸”è¦è®©ä»–ä»¬å¼•å…¥ä¸¤ä¸ªä¸åŒçš„ `js` æ–‡ä»¶ï¼Œé‚£æˆ‘ä»¬å¯ä»¥åœ¨æ‰§è¡Œç‚¹å‡»åï¼Œåœ¨ç®­å¤´å‡½æ•°é‡Œé¢è¿›è¡Œ `import` æ“ä½œï¼ŒæŒ‰éœ€å¼•å…¥ï¼Œå³æƒ³è¦è®©å®ƒå¼•å…¥å“ªä¸ªå†å¼•å…¥å“ªä¸ªã€‚

# äº”ã€ğŸ“™ å…¨å±€ API ä¿®æ”¹

è®²å®Œ `vite` ï¼Œæˆ‘ä»¬å†æ¥å°†ä¸€ä¸ª `vue3` çš„é‡å¤§æ”¹å˜ï¼Œé‚£å°±æ˜¯å…¨å±€ `API` çš„ä¿®æ”¹ã€‚å…·ä½“çœ‹ä¸‹æ–¹ã€‚

## 1ã€Vue2 å…¨å±€ API

åœ¨ `Vue2` ä¸­ï¼Œ**å…¨å±€ API ç»å¸¸ä¼šé‡åˆ°ä»¥ä¸‹é—®é¢˜ï¼š**

- åœ¨**å•å…ƒæµ‹è¯•**ä¸­ï¼Œå…¨å±€é…ç½®éå¸¸å®¹æ˜“**æ±¡æŸ“å…¨å±€ç¯å¢ƒ**ï¼›
- åœ¨ä¸åŒçš„ `apps` ä¸­ï¼Œå…±äº«ä¸€ä»½æœ‰ä¸åŒé…ç½®çš„ `Vue` å¯¹è±¡ï¼Œä¹Ÿå˜å¾—éå¸¸å›°éš¾ã€‚

**Vue2 å…¥å£æ–‡ä»¶å†™æ³•ï¼š**

```js
import Vue from 'vue'
import App from './App.vue'

Vue.config.ignoredElements = [/^app-/]
Vue.use(/*...*/)
Vue.mixin(/*...*/)
Vue.component(/*...*/)
Vue.directive(/*...*/)

Vue.prototype.customProperty = () = {}

new Vue({
    render: h => h(App)
}).$mount('#app')
```

## 2ã€Vue3 å…¨å±€ API

### ï¼ˆ1ï¼‰Vue3 æ–°å†™æ³•

å› æ­¤ï¼Œ `Vue3` ä¸ºäº†è§£å†³ `Vue2` çš„é—®é¢˜ï¼Œæ¨å‡ºäº†æ–°çš„å†™æ³•ã€‚**å…·ä½“ä»£ç å¦‚ä¸‹ï¼š**

**Vue3 çš„æ–°å†™æ³•ï¼š**

```js
import { createApp } from 'vue'
import App from './App.vue'

const app = createApp(App)

app.config.isCustomElement = tag =>
tag.startsWith('app-')
app.use(/*...*/)
app.mixin(/*...*/)
app.component(/*...*/)
app.directive(/*...*/)

app.config.globalProperties.customProperty = () = {}

app.mount('#app')
```

### ï¼ˆ2ï¼‰å¸¸è§é…ç½®æ›´æ–°

**1ï¼‰å…¨å±€é…ç½®ï¼šVue.config->app.config**

- config.productionTip è¢«åˆ é™¤
- config.ignoredElements æ”¹åä¸º config.isCustomElement

**2ï¼‰å…¨å±€æ³¨å†Œç±» API**

- Vue.component -> app.component
- Vue.directive -> app.directive

**3ï¼‰è¡Œä¸ºæ‰©å±•ç±» API**

- Vue.mixin -> app.mixin
- Vue.use -> app.use

# å…­ã€ğŸ“® ç»“æŸè¯­

åˆ°è¿™é‡Œï¼Œç¢ç¢å¿µä¸€æ³¢ï¼åœ¨å­¦ä¹ è¿‡ç¨‹ä¸­ï¼Œè¦æ˜ç™½ `watch` å’Œ `watchEffect` çš„ä¸åŒä¹‹å¤„ï¼Œè¿˜è¦çŸ¥é“ `setup` å¦‚ä½•è·å–ç»„ä»¶å®ä¾‹ï¼Œè¿™å…¶ä¸­è°ˆè®ºçš„å°±æ˜¯å…³äº `this` çš„é—®é¢˜ã€‚

æœ€åçš„æœ€åï¼Œå°±æ˜¯ `Vue3` ä¸ºä»€ä¹ˆæ¯” `Vue2` å¿«ï¼Œæ¶‰åŠåˆ°**6 ä¸ªæ€§èƒ½ä¼˜åŒ–çš„æ–¹æ³•**ï¼Œå­¦æœ‰ä½™åŠ›ä¹‹ä½™ï¼Œå°½é‡ç”¨åœ¨çº¿ç½‘ç«™æ¼”ç¤ºä¸€æ³¢ã€‚éšä¹‹ï¼Œç´§è·Ÿç€ `vue3` çš„æ­¥ä¼ï¼Œ `vite` ä¹Ÿæˆä¸ºäº†å¾ˆå¤šå¼€å‘äººå‘˜åœ¨å¼€å‘ç¯å¢ƒä¸­ä½¿ç”¨çš„å·¥å…·ã€‚è¿˜æœ‰å°±æ˜¯ï¼Œè§£å†³å…¨å±€æ±¡æŸ“ç­‰å„ç§é—®é¢˜ï¼Œ `Vue3` å¯¹å…¨å±€æ³¨å†Œ `API` åšå‡ºçš„æ”¹å˜ã€‚

ä¸€æ³¢ç¢ç¢å¿µç»“æŸï¼Œ `vue3` çš„è¿›é˜¶æ–°ç‰¹æ€§è®²è§£å°±ç»“æŸå•¦ï¼å¦‚æœ‰ç–‘é—®æˆ–æ–‡ç« æœ‰è¯¯æ¬¢è¿è¯„è®ºåŒºç•™è¨€æˆ–ç§ä¿¡æˆ‘äº¤æµ~

> - å…³æ³¨å…¬ä¼—å· **æ˜ŸæœŸä¸€ç ”ç©¶å®¤** ï¼Œç¬¬ä¸€æ—¶é—´å…³æ³¨å­¦ä¹ å¹²è´§ï¼Œ**æ›´å¤šæœ‰è¶£çš„ä¸“æ å¾…ä½ è§£é”**~
> - å¦‚æœè¿™ç¯‡æ–‡ç« å¯¹ä½ æœ‰ç”¨ï¼Œè®°å¾— **ä¸€é”®ä¸‰è¿** å†èµ°å“¦~
> - æˆ‘ä»¬ä¸‹æœŸè§ï¼ğŸ¥‚ğŸ¥‚ğŸ¥‚
