---
title: è¿˜ä¸ä¼štsï¼Ÿä¸€æ–‡å¸¦ä½ æ‰“å¼€tsçš„å¤§é—¨
author: å‘¨ä¸€
date: '2021-12-12'
categories:
  - å‰ç«¯å¼€å‘
tags:
  - TypeScript
sidebar: 'auto'
---

![å°é¢](https://img-blog.csdnimg.cn/fdefebc2c485465b8a26e64a43448167.png#pic_center)
@[toc](ä¸€æ–‡å¸¦ä½ æ‰“å¼€tsçš„å¤§é—¨)

# åºè¨€

ä¼—æ‰€å‘¨çŸ¥ï¼Œ `js` æ˜¯ä¸€é—¨**å¼±ç±»å‹è¯­è¨€**ï¼Œå¹¶ä¸”è§„èŒƒè¾ƒå°‘ã€‚è¿™å°±å¾ˆå®¹æ˜“å¯¼è‡´åœ¨é¡¹ç›®ä¸Šçº¿ä¹‹å‰æˆ‘ä»¬å¾ˆéš¾å‘ç°åˆ°å®ƒçš„é”™è¯¯ï¼Œç­‰åˆ°é¡¹ç›®ä¸€ä¸Šçº¿ï¼Œæµ‘ç„¶ä¸è§‰åœ°ï¼Œ `bug` å°±**UpUp**äº†ã€‚äºæ˜¯ï¼Œåœ¨è¿‡å»çš„è¿™ä¸¤å¹´ï¼Œ `ts` æ‚„æ‚„çš„å´›èµ·äº†ã€‚

å‘¨ä¸€éšç€ä¸€æ³¢çƒ­æ½®ï¼Œä¹Ÿå¼€å§‹è¿›å…¥äº† `ts` çš„ä¸–ç•Œï¼Œä¸å¾—ä¸æ„Ÿå¹ `ts` çš„é™æ€ç¾ã€‚

ä¸‹é¢çš„æ–‡ç« ä¸­å°†è®²è§£æˆ‘å¯¹ `TS` å…¥é—¨çš„ä¸€äº›å½’çº³æ€»ç»“ã€‚ä¸€èµ·æ¥äº†è§£ä¸€ä¸‹å§ï¼

# ä¸€ã€ä»€ä¹ˆæ˜¯ TypeScriptï¼Ÿ

## 1ã€ç¼–ç¨‹è¯­è¨€çš„ç±»å‹

| åŠ¨æ€ç±»å‹è¯­è¨€ï¼ˆDynamic Typed Languageï¼‰ | é™æ€ç±»å‹è¯­è¨€ï¼ˆStatically Typed Langeageï¼‰ |
| :------------------------------------: | :---------------------------------------: |
|               JavaScript               |               C,C++,C#,JAVA               |

## 2ã€TypeScript ç©¶ç«Ÿæ˜¯ä»€ä¹ˆï¼Ÿ

- Typescriptï¼Œå³ `Javascript that scales` ï¼›
- `ts` æŠŠä¸çœ‹é‡ç±»å‹çš„åŠ¨æ€è¯­è¨€ `JS` è½¬å˜æˆ**å…³æ³¨ç±»å‹çš„é™æ€è¯­è¨€**ï¼›

- å¯ä»¥è¯´ ts æ˜¯**é™æ€ç±»å‹é£æ ¼çš„ç±»å‹ç³»ç»Ÿ**ï¼›
- ä» `es6` åˆ° `es10` ç”šè‡³æ˜¯ `esnext` çš„è¯­æ³•æ”¯æŒï¼›
- å…¼å®¹å„ç§æµè§ˆå™¨ï¼Œå„ç§ç³»ç»Ÿï¼Œå„ç§æœåŠ¡å™¨ï¼Œå®Œå…¨å¼€æºã€‚

# äºŒã€ä¸ºä»€ä¹ˆè¦å­¦ä¹  TypeScriptï¼Ÿ

## 1ã€ç¨‹åºæ›´å®¹æ˜“ç†è§£

åŠ¨æ€è¯­è¨€å­˜åœ¨**å‡½æ•°æˆ–è€…æ–¹æ³•ä¸­å…¶è¾“å…¥è¾“å‡ºçš„å‚æ•°ç±»å‹**ç­‰é—®é¢˜ï¼ŒåŒæ—¶ï¼ŒåŠ¨æ€è¯­è¨€è¿˜å—åˆ°å„ç§å„æ ·çš„çº¦æŸï¼Œæ¯”å¦‚éœ€è¦**æ‰‹åŠ¨è°ƒè¯•**ç­‰ç­‰ã€‚é‚£ä¹ˆæœ‰äº† `ts` ï¼Œä»£ç æœ¬èº«å°±å¯ä»¥è§£å†³ä¸Šè¿°é—®é¢˜äº†ï¼Œ `ts` è®©ç¨‹åºæ›´å®¹æ˜“ç†è§£ï¼Œç¨‹åºç†è§£æˆ‘ä»¬ï¼Œæˆ‘ä»¬å°±å¯ä»¥å°‘å¹²å¾ˆå¾ˆå¤šäº‹æƒ…ã€‚

å°±åƒæˆ‘ä»¬åœ¨ä¸åˆ«äººäº¤è°ˆæ—¶ï¼Œå‡å¦‚æˆ‘ä»¬é€»è¾‘å¾ˆæ¸…æ™°çš„è¡¨è¾¾ç»™å¯¹æ–¹ï¼Œå¯¹æ–¹é©¬ä¸Šå¬æ‡‚äº†ï¼Œå¹¶ä¸”ç†è§£äº†æˆ‘ä»¬ï¼Œæˆ‘ä»¬ä¹Ÿå¾ˆçœåŠ›ï¼Œä¸ç”¨é•¿ç¯‡å¤§è®ºçš„ä»‹ç»ã€‚

## 2ã€æ•ˆç‡æ›´é«˜

`ts` å¯ä»¥åœ¨åœ¨**ä¸åŒçš„ä»£ç å—å’Œå®šä¹‰**ä¸­è¿›è¡Œè·³è½¬ï¼Œå¹¶ä¸”**ä»£ç æœ‰è¡¥å…¨åŠŸèƒ½**ã€‚

åŒæ—¶ï¼Œ `ts` è¿˜æœ‰ä¸°å¯Œçš„æ¥å£æç¤ºï¼Œå¯ä»¥é€šè¿‡ä½¿ç”¨ `.` æ¥æç¤ºæ‰€æœ‰çš„æ¥å£å†…å®¹ã€‚

## 3ã€æ›´å°‘çš„é”™è¯¯

`ts` åœ¨**ç¼–ç¨‹æœŸé—´**ï¼Œå°±å¯ä»¥**å‘ç°å¤§éƒ¨åˆ†çš„é”™è¯¯**ã€‚è¿™æ ·å°±å¯ä»¥æœç»æ‰ä¸€äº›æ¯”è¾ƒå¸¸è§çš„é”™è¯¯ï¼Œä¹Ÿä½¿å¾—åé¢ç¨‹åºè¿è¡Œæ›´åŠ é€šç•…ã€‚

## 4ã€éå¸¸å¥½çš„åŒ…å®¹æ€§

`ts` å¯ä»¥å®Œå…¨åœ°å…¼å®¹ `Javascript` ï¼ŒåŒæ—¶ï¼Œå¦‚æœè¦å¼•å…¥åƒ `JQuery` ä¹‹ç±»çš„**ç¬¬ä¸‰æ–¹åº“**æ—¶ï¼Œå¯ä»¥å•ç‹¬**ç¼–å†™ç±»å‹æ–‡ä»¶**æ¥å¼•å…¥è¿™äº›åº“ã€‚

## 5ã€ä¸€ç‚¹å°ç¼ºç‚¹

ç›¸æ¯”äº `js` æ¥è®²ï¼Œ `ts` åœ¨å­¦ä¹ ä¹‹åˆï¼Œéœ€è¦å»ä¹ æƒ¯ä¸€äº›è§„èŒƒï¼ŒçŸ­æœŸå†…ä¼šå¢åŠ ä¸€ç‚¹å­¦ä¹ æˆæœ¬ã€‚ä½†çŸ­æœŸçš„å­¦ä¹ æˆæœ¬å¢åŠ å°†ä¼šä½¿å¾—åœ¨åæœŸçš„å¼€å‘å½“ä¸­å‡å°‘å¾ˆå¤šä¸å¿…è¦çš„é”™è¯¯å’Œéº»çƒ¦ï¼Œé—´æ¥çš„ä¹Ÿä¸ºè‡ªå·±çš„å¼€å‘å¸¦æ¥å¾ˆå¤§çš„ç›Šå¤„ã€‚

é—²è°ˆåˆ°æ­¤ç»“æŸï¼Œè®©æˆ‘ä»¬ä¸€èµ·æ¥è¿›å…¥ `ts` çš„ä¸–ç•Œå§ï¼

# ä¸‰ã€typescript å…¥é—¨

## 1ã€å¦‚ä½•å®‰è£… TypeScript

```bash
npm install -g typescript
```

## 2ã€æŸ¥çœ‹ç‰ˆæœ¬å·

```bash
tsc -v
```

## 3ã€è¿è¡Œ ts æ–‡ä»¶

```bash
npm i ts-node@8.4.1 -g
ts-node demo.ts
```

## 4ã€åˆ›å»º ts é¡¹ç›®

```bash
npm init -y
tsc --init
npm i ts-node -D
npm i typescript -D
```

# å››ã€Typescript æ•°æ®ç±»å‹

## 1ã€åŸå§‹æ•°æ®ç±»å‹å’Œ Any ç±»å‹

### ï¼ˆ1ï¼‰åŸå§‹æ•°æ®ç±»å‹

```ts
//å®šä¹‰ä¸€ä¸ªå¸ƒå°”å€¼æ•°æ®
let isDone: boolean = false;

//å®šä¹‰ä¸€ä¸ªæ•°å­—ç±»å‹
let age: number = 20;

//å®šä¹‰å­—ç¬¦ä¸²ç±»å‹
let firstName: string = 'monday';
let message: string = `Hello, ${firstName}`;

//å®šä¹‰undefindå’Œnullç±»å‹
let u: undefined = undefined;
let n: null = null;

//ç»™æ•°å­—èµ‹å€¼undefid
let num: number = undefined;
```

### ï¼ˆ2ï¼‰Any ç±»å‹

å¦‚æœæˆ‘ä»¬æœ‰æ—¶å€™ä¸èƒ½ç¡®å®šä¸€ä¸ªæ•°æ®æ˜¯ä»€ä¹ˆç±»å‹çš„è¯ï¼Œé‚£ä¹ˆæˆ‘ä»¬å¯ä»¥ç”¨ any ç±»å‹æ¥å®šä¹‰ã€‚æ¯”å¦‚ï¼š

```ts
//å®šä¹‰ä¸€ä¸ªanyç±»å‹æ•°æ®
let notSure: any = 4;
notSure = 'maybe a string';
notSure = true;

notSure.myName;
notSure.getName();
```

## 2ã€æ•°ç»„å’Œå…ƒç»„

### ï¼ˆ1ï¼‰æ•°ç»„

```ts
//å£°æ˜ä¸€ä¸ªæ•°å­—ç±»å‹çš„æ•°ç»„
//æ³¨æ„ï¼šåé¢çš„æ•°ç»„åªèƒ½ä¼ é€’æ•°å­—ï¼Œä¼ é€’å…¶ä»–ç±»å‹çš„æ•°æ®éƒ½ä¼šæŠ¥é”™
let arrOfNumbers: number[] = [1, 2, 3];
arrOfNumbers.push(3);

function test() {
  //arguments ä¸ºç±»æ•°ç»„
  console.log(arguments);
}
```

### ï¼ˆ2ï¼‰å…ƒç»„

```ts
//ç¡®å®šä¸€ä¸ªå…ƒç»„é‡Œé¢çš„å†…å®¹å’Œæ•°é‡ï¼Œä¸‹é¢è¡¨ç¤ºç¡®å®šuserè¿™ä¸ªå…ƒç»„å¿…é¡»ä¸”åªèƒ½æ¥æ”¶ä¸¤ä¸ªå‚æ•°
//åŒæ—¶ç¬¬ä¸€ä¸ªå±æ€§å¿…é¡»æ˜¯Stringç±»å‹ï¼Œç¬¬äºŒä¸ªå±æ€§æ˜¯Numberç±»å‹
let user: [String, Number] = ['abc', 13];
```

## 3ã€interface æ¥å£

**interface çš„å®šä¹‰ï¼š**

- å¯¹ `å¯¹è±¡Object` çš„å½¢çŠ¶ `(shape)` è¿›è¡Œæè¿°ï¼›
- Duck Typingï¼ˆé¸­å­ç±»å‹ï¼‰ã€‚

**æˆ‘ä»¬æ¥çœ‹ä¸€æ®µä»£ç ï¼š**

```ts
interface Person {
  // readonlyè¡¨ç¤ºåªè¯»çŠ¶æ€
  readonly id: number;
  name: String;
  //åŠ ä¸€ä¸ªé—®å·è¡¨ç¤ºè¯¥å‚æ•°å¯é€‰å¯ä¸é€‰
  age?: number;
}

let monday: Person = {
  id: 1,
  name: 'monday',
  age: 18,
};

monday.id = 12323; //å› ä¸ºåŠ äº†readonlyï¼Œæ‰€ä»¥æ­¤æ—¶è®¿é—®ä¸äº†ï¼Œä¼šæŠ¥é”™
```

## 4ã€function å‡½æ•°

**function å‡½æ•°æ˜¯ä»€ä¹ˆï¼š**

- åœ¨ `JS` ä¸­ï¼Œå‡½æ•°æ˜¯ä¸€ç­‰å…¬æ°‘ã€‚
- å‡½æ•°å’Œå…¶ä»–ç±»å‹çš„å¯¹è±¡éƒ½ä¸€æ ·ï¼Œå¯ä»¥ä½œä¸º**å‚æ•°**ï¼Œå¯ä»¥**å­˜å…¥æ•°ç»„**ï¼Œä¹Ÿå¯ä»¥**è¢«å¦å¤–ä¸€ä¸ªå‡½æ•°è¿”å›**ï¼Œå¯ä»¥è¢«**èµ‹å€¼ç»™å¦å¤–ä¸€ä¸ªå˜é‡**ã€‚
- å‡½æ•°ä¸»è¦ç”±ä¸¤ä¸ªéƒ¨åˆ†ç»„æˆï¼š**è¾“å…¥ï¼ˆä¼ å‚ï¼‰**å’Œ**è¾“å‡ºï¼ˆè¿”å›ç»“æœï¼‰**ã€‚

**æˆ‘ä»¬æ¥çœ‹ä¸ªä¾‹å­ï¼š**

```ts
function add(x: number, y: number, z?: number): number {
  if (typeof z === 'number') {
    return x + y + z;
  } else {
    return x + y;
  }
}

let result = add(1, 2, 3);
console.log(result); //6
```

é€šè¿‡ä»¥ä¸Šå‡½æ•°ï¼Œæˆ‘ä»¬å®ç°äº†ä¸¤ä¸ªæ ‘æˆ–è€…ä¸‰ä¸ªæ ‘çš„ç›¸åŠ æ“ä½œã€‚æ­¤æ—¶ï¼Œéœ€è¦æˆ‘ä»¬æ³¨æ„çš„æ˜¯ï¼Œ**å¯é€‰å‚æ•°**åé¢ä¸èƒ½å†æ·»åŠ **ä¸ç¡®å®šå‚æ•°**ï¼Œå¦åˆ™ç¨‹åºå°±ä¼šå‘ç”Ÿæ··ä¹±ã€‚**æ¯”å¦‚ï¼š**

```ts
function add(x: number, y: number, z?: number, t: number): number {
  if (typeof z === 'number') {
    return x + y + z;
  } else {
    return x + y;
  }
}
```

ä»¥ä¸Šä»£ç ä¸­çš„ `t` æ˜¯è‚¯å®šä¸è¢«å…è®¸æ·»åŠ çš„ï¼Œå› ä¸ºå‰é¢å·²ç»æœ‰äº†å¯é€‰å‚æ•° `z` ï¼Œè€Œåé¢åˆçªç„¶å¥å†’å‡ºæ¥ä¸ª `t` ï¼Œæƒ³æƒ³éƒ½ä¸å¤ªåˆç†ã€‚

---

åˆ°è¿™é‡Œï¼Œå‡è®¾æˆ‘ä»¬æœ‰ä¸€ä¸ªæ–°çš„å˜é‡åï¼Œåå­—å« `add2` ã€‚è¿™ä¸ªæ—¶å€™æˆ‘ä»¬æƒ³è¦ç»™å®ƒä¸€ä¸ªåƒ `add` å‡½æ•°ä¸€æ ·çš„ç±»å‹ã€‚**é‚£ä¹ˆè¯¥æ€ä¹ˆå¤„ç†å‘¢ï¼Ÿ**

```ts
let add2: (x: number, y: number, z?: number) => number = add;
```

æ³¨æ„ä¸Šé¢è¿™ä¸ªç®­å¤´ `=>` ä¸æ˜¯ `ES6` ä¸­çš„ç®­å¤´å‡½æ•°ï¼Œè€Œæ˜¯ `ts` ä¸­å£°æ˜**å‡½æ•°ç±»å‹è¿”å›å€¼**çš„æ–¹æ³•ã€‚

ä¸Šé¢è¿™ä¸ªè¯­å¥ä¸­å°±è¯´æ˜äº†ï¼Œ `add2` è¿”å›çš„å€¼æ˜¯ä¸€ä¸ª `number` ç±»å‹æ•°å€¼ï¼Œå¹¶ä¸”è®©å®ƒç­‰äº `add` å‡½æ•°ã€‚åŒæ—¶ï¼Œè¦è®°å¾—çš„æ˜¯ï¼Œåœ¨ `ts` å½“ä¸­ï¼Œå‡¡æ˜¯åœ¨ `:` åé¢éƒ½æ˜¯å£°æ˜åœ¨å£°æ˜ç±»å‹ã€‚

---

ä¸Šé¢è¿™æ ·å†™å¥½åƒæœ‰ç‚¹å†—ä½™ï¼Œæˆ‘ä»¬æ¥ç”¨ `interface` æ¥å®ç°åŒæ ·çš„æ•ˆæœã€‚

åœ¨ç¬¬ 3 ç‚¹çš„ `interface` ä¸­æˆ‘ä»¬äº†è§£åˆ°ï¼Œ `interface` æ˜¯å¯¹å¯¹è±¡çš„å½¢çŠ¶è¿›è¡Œæè¿°ï¼Œä½†å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œ `interface` ä¹Ÿå¯ä»¥æ˜¯**å¯¹å‡½æ•°çš„å½¢çŠ¶è¿›è¡Œæè¿°**ã€‚æˆ‘ä»¬ç”¨ä»£ç æ¥å®ç°ä¸€ä¸‹ã€‚

```ts
interface ISum {
  (x: number, y: number, z?: number): number;
}

let add2: ISum = add;
```

é€šè¿‡ä»¥ä¸Šä»£ç ï¼Œæˆ‘ä»¬çœ‹åˆ°ï¼Œç”¨ `interface` æ¥å°è£…ä¸€ä¸ªå‡½æ•°çš„è¿”å›å€¼æ¥è¡Œï¼Œçœ‹èµ·æ¥ä¼˜é›…äº†ä¸å°‘ã€‚è¿™é‡Œå…ˆä½“ä¼šä¸€ä¸‹ï¼Œ `interface` çš„å¼ºå¤§ä¹‹å¤„ï¼Œåœ¨åé¢è¿˜ä¼šç»§ç»­è®²è§£ã€‚

## 5ã€ç±»å‹æ¨è®ºã€è”åˆç±»å‹å’Œç±»å‹æ–­è¨€

### ï¼ˆ1ï¼‰ç±»å‹æ¨è®º

æœ‰æ—¶å€™æˆ‘ä»¬è¿˜æ²¡æœ‰ç»™ä¸€ä¸ªæ•°æ®å®šä¹‰ç±»å‹ï¼Œå°±ç›´æ¥ç»™å®ƒèµ‹å€¼äº†ã€‚è¿™ä¸ªæ—¶å€™æˆ‘ä»¬è¦æ€ä¹ˆæ¥åˆ¤æ–­å‘¢ã€‚è¿™ä¸ªæ•°æ®çš„ç±»å‹å‘¢ï¼Ÿ

**æ¯”å¦‚ï¼š**

```ts
let str = 123;
```

å½“å‡ºç°è¿™æ ·çš„æƒ…å†µæ—¶ï¼Œç¼–è¯‘å™¨ä¼šç›´æ¥ç»™ `str` èµ‹ä¸Š `number` ç±»å‹ã€‚é‚£ä¹ˆæ­¤æ—¶å¦‚æœæˆ‘ä»¬æƒ³è¿™ä¹ˆå¹²ï¼š

```ts
let str = 123;
str = 'asd'; //ä¼šæŠ¥é”™
```

ç»“æœå½“ç„¶æ—¶ä¸è¡Œçš„ã€‚å½“ç¬¬ä¸€æ¬¡èµ‹å€¼çš„æ—¶å€™ï¼Œç¼–è¯‘å™¨å°±å·²ç»ç»™ `str` ä¸€ä¸ª `number` ç±»å‹ï¼Œè®¤å®š `str` å°±æ˜¯ `number` ç±»å‹ã€‚è€Œåæˆ‘ä»¬è¿˜æƒ³è¦ç»™ `str` èµ‹å€¼ä¸Šä¸€ä¸ª `string` ç±»å‹çš„æ•°æ®ï¼Œè‚¯å®šæ˜¯ä¼šæŠ¥é”™çš„ã€‚

### ï¼ˆ2ï¼‰è”åˆç±»å‹

æœ‰æ—¶å€™æˆ‘ä»¬å¯¹ä¸€ä¸ªæ•°æ®çš„ç±»å‹ä¸å¤Ÿç¡®å®šï¼Œæ¯”å¦‚è¯´ä¸çŸ¥é“æŸä¸€ä¸ªæ•°æ®å®ƒæ˜¯ `number` ç±»å‹è¿˜æ˜¯ `string` ç±»å‹ã€‚è¿™ä¸ªæ—¶å€™æˆ‘ä»¬å°±å¯ä»¥ç”¨**è”åˆç±»å‹**æ¥è¿›è¡Œä¸€æ³¢æ“ä½œã€‚

```ts
let numberOrString: number | string;
```

é€šè¿‡è¿™ç§æ–¹å¼ï¼Œæˆ‘ä»¬å¯¹æˆ‘ä»¬æ‰€å®šä¹‰çš„å±æ€§ `numberOrString` è¿›è¡Œè”åˆç±»å‹æ“ä½œã€‚

ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œ**è”åˆç±»å‹**ä¼šç»“åˆ**ç±»å‹æ–­è¨€**æ¥è¿›è¡Œä½¿ç”¨ã€‚æ¥ä¸‹æ¥æˆ‘ä»¬æ¥è®²**ç±»å‹æ–­è¨€**ã€‚

### ï¼ˆ3ï¼‰ç±»å‹æ–­è¨€

**1ï¼‰** å½“ `TypeScript` ä¸ç¡®å®šä¸€ä¸ªè”åˆç±»å‹çš„å˜é‡åˆ°åº•æ˜¯å“ªä¸ªç±»å‹çš„æ—¶å€™ï¼Œæˆ‘ä»¬åªèƒ½è®¿é—®æ­¤è”åˆç±»å‹çš„æ‰€æœ‰ç±»å‹ä¸­å…±æœ‰çš„å±æ€§æˆ–æ–¹æ³•ï¼Œè€Œæœ‰æ—¶å€™å‘¢ï¼Œæˆ‘ä»¬ç¡®å®éœ€è¦**åœ¨è¿˜ä¸ç¡®å®šç±»å‹çš„æ—¶å€™**å°±è®¿é—®å…¶ä¸­ä¸€ä¸ªç±»å‹ç‰¹æœ‰çš„å±æ€§æˆ–æ–¹æ³•ã€‚å› æ­¤æˆ‘ä»¬é‡‡ç”¨**ç±»å‹æ–­è¨€**çš„æ–¹å¼å°†å…¶æŒ‡å®šä¸ºä¸€ä¸ªç±»å‹ã€‚ï¼ˆè¿™ä¹ˆåšåªæ˜¯å…ˆæ¬ºéª—äº† `ts` ï¼Œè®©å…¶ä¿¡ä»»æˆ‘ä»¬æ‰€æŒ‡å®šçš„ç±»å‹ï¼‰

```ts
let str = 123;
function getLength(input: string | number): number {
  // ç”¨aså¯¹inputè¿›è¡Œç±»å‹æ–­è¨€,å…ˆç»™inputæŒ‡å®šä¸€ä¸ªç±»å‹ï¼Œåé¢åˆ¤æ–­ä¸æ˜¯å†è¿›è¡Œè½¬æ¢
  //æ³¨æ„:ç±»å‹æ–­è¨€åªåšç±»å‹é€‰æ‹©,è€Œä¸åšç±»å‹è½¬æ¢
  const str = input as string;
  console.log(typeof str);
  if (str.length) {
    return str.length;
  } else {
    const number = input as number;
    return number.toString().length;
  }
}
```

**2ï¼‰** çœ‹åˆ°è¿™é‡Œï¼Œå·²ç»å¼€å§‹æ„Ÿè§‰åˆ°ç±»å‹æ–­è¨€çš„ç¥å¥‡ä¹‹å¤„ã€‚ä½†ç”¨ä¸Šé¢è¿™ç§æ–¹æ³•æ„Ÿè§‰å¥½åƒè¿˜æœ‰ä¸€ç‚¹ç‚¹å†—ä½™ï¼Œäºæ˜¯æˆ‘ä»¬å¼•å…¥ä¸€ä¸ª `type guard` ï¼Œå³**ç±»å‹å®ˆæŠ¤**ã€‚æˆ‘ä»¬æ¥çœ‹ä¸‹å®ç°æ–¹å¼ã€‚

```ts
let str = 123;
function getLength2(input: string | number): number {
  if (typeof input === 'string') {
    return input.length;
  } else {
    return input.toString().length;
  }
}
```

ä¸Šé¢è¿™ç§æ–¹æ³•è¢«ç§°ä¸ºæ˜¯ `typeof` è¯­æ³•åšç±»å‹å®ˆæŠ¤ã€‚

**3ï¼‰** ç»§ç»­ï¼Œæˆ‘ä»¬æ¥çœ‹å¦å¤–ä¸€ç§åš**ç±»å‹å®ˆæŠ¤**çš„æ–¹æ³•ï¼Œ **`in` è¯­æ³•** ã€‚**å…·ä½“ä»£ç å¦‚ä¸‹ï¼š**

```ts
interface Bird {
  fly: Boolean;
  sing: () => {};
}

interface Dog {
  fly: boolean;
  bark: () => {};
}

function trainAnimal(animal: Bird | Dog) {
  if ('sing' in animal) {
    animal.sing();
  } else {
    animal.bark();
  }
}
```

åœ¨ä¸Šé¢çš„ `'sing' in animal` ä¸­ï¼Œæˆ‘ä»¬å°±å¯ä»¥åˆ¤æ–­åˆ° `animal` æ˜¯ä¸€ä¸ª `Bird` ç±»å‹ï¼Œä¹‹åè¿›è¡Œ `else` æ“ä½œã€‚ä¸Šé¢åˆ¤æ–­å·²ç»æ˜¯ `Bird` ï¼Œé‚£ä¸‹é¢çš„ `else` ä»–å°±ä¼šå»å¾€ `Dog` ç±»å‹æ‰¾ï¼Œå› æ­¤ä¹Ÿå°±å¯ä»¥æ‰¾åˆ° `bark` æ–¹æ³•ã€‚

# äº”ã€Typescript ä¸­çš„ç±»ï¼šclass

åœ¨ `js` ä¸­æˆ‘ä»¬ç”¨äº†æ„é€ å‡½æ•°å’ŒåŸå‹é“¾çš„æ–¹å¼æ¥å®ç°ç»§æ‰¿ï¼ŒåŒæ—¶åœ¨ `ES6` ä¸­å‡ºç°äº† `class` ç±»ç»§æ‰¿çš„æ–¹æ³•ã€‚é‚£åœ¨ `typescript` ä¸­å‘¢ï¼Œç»§æ‰¿çš„æ–¹æ³•åˆæ›´åŠ ä¸°å¯Œäº†ã€‚è®©æˆ‘ä»¬ä¸€èµ·æ¥ä¸€æ¢ç©¶ç«Ÿå§ï¼

## 1ã€ç±»çš„å®šä¹‰

æˆ‘ä»¬å…ˆæ¥çœ‹ä¸‹ç±»çš„å®šä¹‰ã€‚

### ï¼ˆ1ï¼‰ç±»ï¼ˆClassï¼‰

ç±»å®šä¹‰äº†**ä¸€åˆ‡äº‹ç‰©**çš„æŠ½è±¡ç‰¹ç‚¹ï¼ŒåŒ…å«å®ƒçš„å±æ€§å’Œæ–¹æ³•ã€‚**æ¯”å¦‚ï¼š**

```ts
class Animal {
  // æ„é€ å‡½æ•°æ˜¯å®ä¾‹åŒ–æ‰§è¡Œæ—¶å€™çš„é€»è¾‘
  constructor(name) {
    this.name = name;
  }
  run() {
    return `${this.name} is running`;
  }
}
```

é˜…è¯»ä»¥ä¸Šä»£ç æˆ‘ä»¬å¯ä»¥çŸ¥é“ï¼Œé€šè¿‡ `class` å¯ä»¥å®šä¹‰ä¸€ä¸ª**ç±»**ã€‚

### ï¼ˆ2ï¼‰å¯¹è±¡ï¼ˆObjectï¼‰

å¯¹è±¡ `Object` ï¼Œå°±æ˜¯**ç±»çš„å®ä¾‹**ã€‚**ä¸¾ä¸ªä¾‹å­ï¼š** ğŸ™†â€â™‚ï¸

æˆ‘ä»¬å¯ä»¥æŠŠç±» `class` æ¯”å–»æˆä¸€å¼ **è“å›¾**ï¼Œæ¯”å¦‚è¯´æ±½è½¦æ˜¯ä¸€ä¸ª `class` ï¼Œé‚£ä¹ˆå®ƒå°±åƒæ˜¯ä¸€å¼ é€ æ±½è½¦çš„å›¾çº¸ã€‚ç¬¬äºŒä¸ªæ˜¯ `Object `ï¼Œ `Object` é€šè¿‡ `new` ç”Ÿæˆï¼Œé‚£ä¹ˆå‰é¢æœ‰äº†æ±½è½¦çš„è“å›¾ï¼Œæˆ‘ä»¬ç°åœ¨å°±å¯ä»¥åˆ›é€ å®å®åœ¨åœ¨çš„æ±½è½¦äº†ã€‚æˆ‘ä»¬å¯ä»¥è¯´ä¸€è¾†ç‰¹æ–¯æ‹‰æ˜¯æ±½è½¦çš„å®ä¾‹ï¼Œä¹Ÿå¯ä»¥è¯´å®é©¬æ˜¯æ±½è½¦çš„å¦å¤–ä¸€ä¸ªå®ä¾‹ã€‚

åŒæ ·æˆ‘ä»¬ç”¨ä¸Šé¢çš„ä¾‹å­æ¥åšè¡ç”Ÿã€‚**å…·ä½“å¦‚ä¸‹ï¼š**

```ts
class Animal {
  // æ„é€ å‡½æ•°æ˜¯å®ä¾‹åŒ–æ‰§è¡Œæ—¶å€™çš„é€»è¾‘
  constructor(name) {
    this.name = name;
  }
  run() {
    return `${this.name} is running`;
  }
}
const snake = new Animal('lily');
console.log(snake.run());
```

é˜…è¯»ä»¥ä¸Šä»£ç æˆ‘ä»¬å¯ä»¥çŸ¥é“ï¼Œæˆ‘ä»¬å®šä¹‰äº†ä¸€ä¸ª `snake` ï¼Œè¿™ä¸ª `snake` ç»§æ‰¿äº† `Animal` ç±»ï¼Œå› æ­¤å®ƒå°±å¯ä»¥ç”¨ `Animal` ç±»çš„**å±æ€§**å’Œ**æ–¹æ³•**ã€‚

**æ­¤æ—¶æ‰“å°ç»“æœå¦‚ä¸‹ï¼š**

![å®ä¾‹](https://img-blog.csdnimg.cn/img_convert/ded88788789ccbcaedd23d6fb13a59a6.png)

### ï¼ˆ3ï¼‰é¢å‘å¯¹è±¡ï¼ˆOOPï¼‰çš„ä¸‰å¤§ç‰¹æ€§

é¢å‘å¯¹è±¡çš„ä¸‰å¤§ç‰¹æ€§åˆ†åˆ«ä¸ºï¼š**å°è£…**ã€**ç»§æ‰¿**ã€**å¤šæ€** ã€‚

- **å°è£…ï¼š** æŒ‡å°†æ•°æ®çš„**æ“ä½œç»†èŠ‚**éšè—èµ·æ¥ï¼Œåªæš´éœ²å¯¹å¤–çš„æ¥å£ã€‚é‚£è¿™æ ·å­çš„è¯ï¼Œå¯¹äºå¤–ç•Œçš„è°ƒç”¨ç«¯æ¥è¯´ï¼Œä»–ä»¬ä¸éœ€è¦ä¹Ÿä¸å¯èƒ½çŸ¥é“ç»†èŠ‚ï¼Œåªèƒ½é€šè¿‡**å¯¹å¤–çš„æ¥å£**æ¥è®¿é—®è¯¥å¯¹è±¡ã€‚
- **ç»§æ‰¿ï¼š** å­ç±»å¯ä»¥ç»§æ‰¿çˆ¶ç±»ï¼Œå­ç±»é™¤äº†æ‹¥æœ‰çˆ¶ç±»çš„æ‰€æœ‰ç‰¹å¾å¤–ï¼Œè¿˜ä¼šæ‹¥æœ‰ä¸€äº›**æ›´å…·ä½“çš„ç‰¹æ€§**ã€‚
- **å¤šæ€ï¼š** ç”±ç»§æ‰¿äº§ç”Ÿçš„ç›¸å…³ä¸åŒçš„ç±»ï¼Œ**å¯¹åŒä¸€ä¸ªæ–¹æ³•å¯ä»¥æœ‰ä¸åŒçš„å“åº”**ã€‚æ¯”å¦‚ï¼ŒçŒ«å’Œç‹—ï¼Œä»–ä»¬éƒ½å¯ä»¥ç»§æ‰¿ `Animal` ç±»ï¼Œä½†æ˜¯ä»–ä»¬åˆ†åˆ«å®ç° `run()` æ–¹æ³•ï¼Œæ­¤æ—¶å‘¢ï¼Œé’ˆå¯¹æŸä¸€ä¸ªå®ä¾‹ï¼Œæˆ‘ä»¬æ— éœ€äº†è§£å®ƒæ˜¯çŒ«è¿˜æ˜¯ç‹—ï¼Œè¿™ä¸ªæ—¶å€™å¯ä»¥ç›´æ¥è°ƒç”¨ `run()` ï¼Œç¨‹åºä¼šè‡ªåŠ¨åˆ¤æ–­å‡ºæ¥ï¼Œåº”è¯¥å¦‚ä½•å»æ‰§è¡Œè¿™ä¸ªæ–¹æ³•ã€‚

åŒæ ·ï¼Œæˆ‘ä»¬ç”¨ä¸Šé¢çš„ä»£ç åšè¡ç”Ÿï¼Œæ¥çœ‹**ç»§æ‰¿**å’Œ**å¤šæ€**æ˜¯æ€ä¹ˆæ ·çš„ã€‚

---

**ç»§æ‰¿ï¼š**

```ts
class Animal {
  // æ„é€ å‡½æ•°æ˜¯å®ä¾‹åŒ–æ‰§è¡Œæ—¶å€™çš„é€»è¾‘
  constructor(name) {
    this.name = name;
  }
  run() {
    return `${this.name} is running`;
  }
}
const snake = new Animal('lily');
// console.log(snake.run())

class Dog extends Animal {
  bark() {
    return `${this.name} is barking`;
  }
}

const xiaoqi = new Dog('xiaoqi');
console.log(xiaoqi.run());
console.log(xiaoqi.bark());
```

**æ­¤æ—¶æ‰“å°ç»“æœå¦‚ä¸‹ï¼š**

![ç»§æ‰¿](https://img-blog.csdnimg.cn/img_convert/c2589bef78fb155bd3ee1798b45b6563.png)

ä»ä¸Šé¢å¯ä»¥çœ‹åˆ°ï¼Œ `Dog` ç»§æ‰¿äº† `Animal` ç±»ï¼Œæ­¤æ—¶ `Dog` å°±æ‹¥æœ‰äº† `Animal` ç±»çš„å±æ€§å’Œæ–¹æ³•ã€‚è€Œ `xiaoqi` å®ä¾‹åŒ–äº† `Dog` ï¼Œå› æ­¤å®ƒä¹Ÿæ‹¥æœ‰ `Dog` çš„å±æ€§å’Œæ–¹æ³•ã€‚

---

**å¤šæ€ï¼š**

```ts
class Animal {
  // æ„é€ å‡½æ•°æ˜¯å®ä¾‹åŒ–æ‰§è¡Œæ—¶å€™çš„é€»è¾‘
  constructor(name) {
    this.name = name;
  }
  run() {
    return `${this.name} is running`;
  }
}
const snake = new Animal('lily');
// console.log(snake.run())
//-----------------------------------
class Dog extends Animal {
  bark() {
    return `${this.name} is barking`;
  }
}

const xiaoqi = new Dog('xiaoqi');
console.log(xiaoqi.run());
console.log(xiaoqi.bark());
//-----------------------------------
class Cat extends Animal {
  // é™æ€æ–¹æ³•ä¸éœ€è¦è¿›è¡Œå®ä¾‹åŒ–ï¼Œç›´æ¥åœ¨ç±»ä¸Šè°ƒç”¨å³å¯
  static categories = ['mammal'];
  constructor(name) {
    super(name);
    console.log(this.name);
  }
  run() {
    return `Meow, ` + super.run();
  }
}
const maomao = new Cat('maomao');
console.log(maomao.run());
// ç›´æ¥è®¿é—®é™æ€å±æ€§
// ä¸ºä»€ä¹ˆè¦æœ‰é™æ€å±æ€§ï¼Ÿå½“å®šä¹‰å’Œå®ä¾‹æ²¡æœ‰å¤ªå¤§å…³ç³»æ—¶ï¼Œå¯ä»¥è€ƒè™‘ä½¿ç”¨é™æ€æ–¹æ³•å®ç°
console.log(Cat.categories);
```

**æ­¤æ—¶æ‰“å°ç»“æœå¦‚ä¸‹ï¼š**

![å¤šæ€](https://img-blog.csdnimg.cn/img_convert/86441ea8f96ed96e1ccb1b6e258384fa.png)

é˜…è¯»ä»£ç æˆ‘ä»¬å¯ä»¥å‘ç°ï¼Œ `xiaoqi` ç»§æ‰¿äº† `dog ` çš„ `run()` æ–¹æ³•ï¼Œè€Œ `Cat` ç»§æ‰¿äº† `Animal` ç±»ï¼Œä½†æ˜¯å®ƒå¯¹ `run()` æ–¹æ³•è¿›è¡Œäº†æ”¹å†™ï¼Œå› æ­¤æœ€ç»ˆçš„ `run()` æ–¹æ³•ä¸ºæ”¹å†™åçš„æ•ˆæœã€‚

æ‰€ä»¥ï¼Œ `maomao` ç»§æ‰¿äº† `Cat` ç±»ï¼Œæœ€å `maomao` è°ƒç”¨ `run()` æ–¹æ³•æ—¶ï¼Œå°±ä¼šè°ƒç”¨ `Cat` é‡Œé¢æ”¹å†™çš„ `run()` æ–¹æ³•ï¼Œè€Œä¸æ˜¯ `Animal` ç±»çš„ `run()` æ–¹æ³•ã€‚

è¿™æ ·ï¼Œ `xiaoqi` å’Œ `maomao` è™½ç„¶åŒæ ·ç»§æ‰¿è‡ª `Animal` ç±»ï¼Œä½†ä»–ä»¬è°ƒç”¨ `run()` æ–¹æ³•çš„ç»“æœå„è‡ªç›¸äº’ç‹¬ç«‹ï¼Œå¦‚æ­¤ï¼Œå°±å®ç°äº†å¤šæ€ã€‚

åŒæ—¶ï¼Œæˆ‘ä»¬è¿˜è¦æ³¨æ„ä¸€ä¸ªç‚¹ï¼Œå°±æ˜¯é™æ€å±æ€§ã€‚å¤§å®¶å¯ä»¥çœ‹åˆ°ä¸Šé¢å®šä¹‰çš„ `categories` ï¼Œç”¨äº† `static` æ¥å®šä¹‰å®ƒä¸ºé™æ€å±æ€§ã€‚å½“æŠŠå˜é‡å®šä¹‰ä¸ºé™æ€å±æ€§æ—¶ï¼Œåˆ™å½“å¤–éƒ¨éœ€è¦è¯¥é™æ€æ–¹æ³•æ—¶ï¼Œä¸éœ€è¦è¿›è¡Œå®ä¾‹åŒ–ï¼Œä¹‹ç±»åœ¨ç±»ä¸Šè°ƒç”¨å³å¯ã€‚

é‚£ä¹ˆé—®é¢˜æ¥äº†ï¼Œæˆ‘ä»¬ä»€ä¹ˆæ—¶å€™æ‰éœ€è¦æœ‰é™æ€å±æ€§å‘¢ï¼Ÿ

å…¶å®ï¼Œå½“å®šä¹‰çš„å†…å®¹å’Œå®ä¾‹æ²¡æœ‰å¤ªå¤§å…³ç³»æ—¶ï¼Œå°±å¯ä»¥è€ƒè™‘ä½¿ç”¨**é™æ€æ–¹æ³•**ã€‚æ¯”å¦‚**å¸¸é‡çš„ä½¿ç”¨**ï¼Œå¸¸é‡åŸºæœ¬æ˜¯å›ºå®šçš„ï¼Œä¸ä¼šå˜çš„ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥è€ƒè™‘ç›´æ¥ä½¿ç”¨**é™æ€æ–¹æ³•**æ¥è·å–å®ƒã€‚

## 2ã€Typescript ä¸­çš„ç±»

Typescript æ˜¯é€šè¿‡ä»€ä¹ˆæ–¹å¼æ¥å¢å¼ºç±»çš„å‘¢ï¼Œtypescript ä¸€èˆ¬é€šè¿‡ä»¥ä¸‹**å››ç§ä¿®é¥°ç¬¦**æ¥å¢å¼ºç±»ï¼š

|  ä¿®é¥°ç¬¦   |            å«ä¹‰            |
| :-------: | :------------------------: |
|  public   |  ä¿®é¥°çš„å±æ€§æˆ–æ–¹æ³•æ˜¯å…¬æœ‰çš„  |
|  private  |  ä¿®é¥°çš„å±æ€§æˆ–æ–¹æ³•æ˜¯ç§æœ‰çš„  |
| protected | ä¿®é¥°çš„å±æ€§æˆ–æ–¹æ³•æ˜¯å—ä¿æŠ¤çš„ |
| readonly  |        åªèƒ½è¯»ä¸èƒ½å†™        |

æœ‰äº†ä»¥ä¸Šè¿™å››ç§ä¿®é¥°ç¬¦å‘¢ï¼Œæˆ‘ä»¬å°±å¯ä»¥ç»™ç±»çš„æ–¹æ³•å’Œå±æ€§è¿›è¡Œ**æƒé™ç®¡ç†**ã€‚ä¸ºä»€ä¹ˆè¦åšæƒé™ç®¡ç†å‘¢ï¼Ÿå› ä¸ºæ€»æœ‰äº›å†…å®¹ï¼Œæˆ‘ä»¬æ˜¯ä¸æ„¿æ„æš´éœ²ç»™å¤–éƒ¨ä½¿ç”¨çš„ï¼Œæ‰€ä»¥éœ€è¦è¿›è¡Œæƒé™ç®¡ç†ã€‚

å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œå¯¹äº `protected` è¿™ä¸ªä¿®é¥°ç¬¦æ¥è¯´ï¼Œ**åªæœ‰å­ç±»å¯ä»¥è®¿é—®çˆ¶ç±»çš„å±æ€§å’Œæ–¹æ³•**ï¼Œ**å…¶ä»–å®ä¾‹éƒ½ä¸èƒ½è®¿é—®**ã€‚è¿™å…¶å®å¯ä»¥æŠŠ `protected` è¿™ä¸ªå˜é‡ç†è§£ä¸º**é—äº§**ï¼Œçˆ¶ç±»çš„ä¸œè¥¿ç›´æ¥ç»™å­å¥³ç»§æ‰¿ï¼Œå…¶ä½™å¤–éƒ¨äººå‘˜ä¸€æ¦‚ä¸èƒ½è®¿é—®ã€‚

## 3ã€ç±»å’Œæ¥å£

### ï¼ˆ1ï¼‰è§£å†³ä»€ä¹ˆé—®é¢˜

ç»§æ‰¿å­˜åœ¨ç€è¿™æ ·ä¸€ä¸ªå›°å¢ƒï¼Œåœ¨é¢å‘å¯¹è±¡çš„ä¸–ç•Œä¸­ï¼Œä¸€ä¸ªç±»åªèƒ½ç»§æ‰¿å¦å¤–ä¸€ä¸ªç±»ï¼Œæœ‰æ—¶å€™åŒç±»ä¹‹é—´æœ‰ä¸€äº›å…±åŒçš„ç‰¹æ€§ï¼Œä½†æ˜¯ä½¿ç”¨å­ç±»æ¥ç»§æ‰¿çˆ¶ç±»åˆå¾ˆéš¾å®Œæˆã€‚äºæ˜¯æ¥å£å°±å‡ºç°äº†ã€‚

### ï¼ˆ2ï¼‰å¦‚ä½•è§£å†³

ç±»å¯ä»¥ä½¿ç”¨ `implements` æ¥å®ç°æ¥å£ï¼Œæ€ä¹ˆåšå‘¢ï¼Ÿæˆ‘ä»¬å¯ä»¥**æŠŠè¿™äº›ç›¸åŒçš„ç‰¹æ€§æå–æˆæ¥å£**ï¼Œç„¶åç”¨ `implements` è¿™ä¸ª**å…³é”®å­—**æ¥å®ç°ï¼Œè¿™æ ·å°±å¤§å¤§æé«˜äº†é¢å‘å¯¹è±¡çš„çµæ´»æ€§ã€‚

### ï¼ˆ3ï¼‰ä¸¾ä¸ªä¾‹å­

å‡å¦‚æˆ‘ä»¬ç°åœ¨è¦è®©ä¸€è¾†æ±½è½¦å’Œ**ä¸€éƒ¨æ‰‹æœº**æ¥å®ç°**æ‰“å¼€æ’­æ”¾å™¨çš„åŠŸèƒ½**ï¼Œ**é‚£ä¹ˆæˆ‘ä»¬ä¼šè¿™ä¹ˆå®ç°ï¼š**

```ts
class Car {
  switchRadio(trigger: boolean) {}
}

class CellPhone {
  switchRadio(trigger: boolean) {}
}
```

ä½†æ˜¯è¿™æ ·å­çœ‹èµ·æ¥å¥½åƒå°±æ²¡æœ‰ç‰¹åˆ«é›…è§‚ã€‚äºæ˜¯æˆ‘ä»¬å¯ä»¥å†™ä¸€ä¸ª**æ‰“å¼€æ’­æ”¾å™¨**çš„æ¥å£,ç„¶åç”¨ `implements` æ¥å®ç°è¿™ä¸ªåŠŸèƒ½ã€‚**ä»£ç å¦‚ä¸‹ï¼š**

```ts
interface Radio {
  switchRadio(trigger: boolean): void;
}

class Car implements Radio {
  switchRadio(trigger: boolean) {}
}

class CellPhone implements Radio {
  switchRadio(trigger: boolean) {}
}
```

è¿™æ ·ï¼Œå°±è®© `Car` å’Œ `CellPhone` å®ç°äº†æ‰“å¼€æ’­æ”¾å™¨çš„åŠŸèƒ½ã€‚

æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬ç»§ç»­å†™ä¸€ä¸ªæ¥å£ï¼Œå¯ä»¥å®ç°æ£€æŸ¥ç”µæ± ç”µé‡çš„åŠŸèƒ½ã€‚å¹¶ä¸”è®©æ‰‹æœºä¸ä»…å¯ä»¥æ‰“å¼€æ’­æ”¾å™¨ï¼Œè¿˜å¯ä»¥æ£€æŸ¥ç”µæ± ç”µé‡ã€‚**ä»£ç å¦‚ä¸‹ï¼š**

```ts
interface Radio {
  switchRadio(trigger: boolean): void;
}

interface Battery {
  checkBatteryStatus(): void;
}

class Car implements Radio {
  switchRadio(trigger: boolean) {}
}

class CellPhone implements Radio, Battery {
  switchRadio(trigger: boolean) {}
  checkBatteryStatus() {}
}
```

é˜…è¯»ä»£ç æˆ‘ä»¬å¯ä»¥å‘ç°ï¼Œæˆ‘ä»¬è¦ç»™ç»§æ‰¿ä¸¤ä¸ªæ¥å£ `Radio,Battery` ï¼Œè¿™æ ·çœ‹ä¼¼ä¹è¿˜æœ‰ç‚¹å†—ä½™ã€‚äºæ˜¯æˆ‘ä»¬å¯ä»¥è¿™æ ·å®ç°ï¼š

```ts
interface Radio {
  switchRadio(trigger: boolean): void;
}

interface RadioWithBattery extends Radio {
  checkBatteryStatus(): void;
}

class Car implements Radio {
  switchRadio(trigger: boolean) {}
}

class CellPhone implements RadioWithBattery {
  switchRadio(trigger: boolean) {}
  checkBatteryStatus() {}
}
```

é€šè¿‡ `interface` ç»§æ‰¿ `interface` ï¼Œæœ€ç»ˆç”¨ `implement` å»æŠ½è±¡å’ŒéªŒè¯**ç±»çš„å±æ€§å’Œæ–¹æ³•**ï¼Œè¾¾åˆ°æŠ½ç¦»åŠŸèƒ½çš„ç›®çš„ã€‚

ç›¸ä¿¡é€šè¿‡ä»¥ä¸Šçš„ç®€å•äº†è§£ï¼Œå¤§å®¶èƒ½æ„Ÿå—åˆ°ä¸€ç‚¹ `interface` çš„å¥‡å¦™ä¹‹å¤„ã€‚

## 4ã€æŠ½è±¡ç±»

### ï¼ˆ1ï¼‰æŠ½è±¡ç±»æ˜¯ä»€ä¹ˆ

æ‰€è°“æŠ½è±¡ç±»ï¼Œå°±æ˜¯æŠŠå…±ç”¨æ€§çš„ä¸€äº›ä¸œè¥¿ç»™æŠ½ç¦»å‡ºæ¥ï¼Œä¹Ÿå°±æ˜¯æŠŠé€šç”¨æ€§çš„ä¸€äº›ä¸œè¥¿åšä¸€äº›å°è£…ã€‚

### ï¼ˆ2ï¼‰ä¸¾ä¸ªä¾‹å­

æˆ‘ä»¬æ¥ä¸¾ä¸ªä¾‹å­ï¼Œçœ‹ä¸‹**æŠ½è±¡ç±»**æ˜¯æ€ä¹ˆä½¿ç”¨çš„ã€‚**å…·ä½“ä»£ç å¦‚ä¸‹ï¼š**

```ts
// æŠ½è±¡ç±»
abstract class Geom {
  width: number;
  getType() {
    return 'demo';
  }
  abstract getArea(): number;
}

class Circle extends Geom {
  getArea() {
    return 123;
  }
}

class Squre {}
class Triangle {}
```

### ï¼ˆ3ï¼‰æŠ½è±¡ç±»å’Œæ¥å£

æœ‰å°ä¼™ä¼´å¯èƒ½å·²ç»å‘ç°ï¼ŒæŠ½è±¡ç±»è·Ÿä¸Šé¢æˆ‘ä»¬å­¦åˆ°çš„æ¥å£ä¼¼ä¹æœ‰ç‚¹ç›¸ä¼¼ã€‚é‚£äº‹å®ä¸Šï¼ŒæŠ½è±¡ç±»æ˜¯æŠŠä¸€äº›**è·Ÿç±»ç›¸å…³çš„ï¼Œé€šç”¨çš„ä¸€äº›æ–¹æ³•**ç»™æŠ½è±¡å‡ºæ¥ã€‚è€Œæ¥å£å‘¢ï¼Œæ˜¯æŠŠå„ç§**è·Ÿå¯¹è±¡å’Œå±æ€§ç›¸å…³çš„**ç»™æŠ½è±¡å‡ºæ¥ã€‚è¿™æ˜¯ä»–ä»¬ä¸¤è€…çš„åŒºåˆ«ï¼Œä½†å®ƒä»¬çš„æœ¬è´¨éƒ½æ˜¯å»**æŠŠä¸€äº›é€šç”¨æ€§çš„ä¸œè¥¿åšå°è£…**ã€‚

# å…­ã€æšä¸¾

## 1ã€æ™®é€šæšä¸¾

æšä¸¾å¸¸ä½¿ç”¨äºæˆ‘ä»¬åœ¨ç¨‹åºä¸­éœ€è¦åšæƒé™ç®¡ç†æˆ–è€…åšåˆ¤æ–­æ—¶ç­‰å„ç§åœºæ™¯ã€‚æšä¸¾æ¯”è¾ƒç®€å•ï¼Œ**ä¸‹é¢ç›´æ¥ç”¨ä»£ç æ¼”ç¤ºï¼š**

```ts
enum Direction {
  Up,
  Down,
  Left,
  Right,
}

console.log(Direction.Up); //0
console.log(Direction.Down); //1
console.log(Direction.Left); //2
console.log(Direction.Right); //3
console.log(Direction[0]); //Up
```

é™¤äº†ä»¥ä¸ŠåŸºæœ¬ç”¨æ³•å¤–ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥**ç»™æšä¸¾èµ‹å€¼ï¼š**

```ts
enum Direction {
  Up = 10,
  Down,
  Left,
  Right,
}

console.log(Direction.Up); //10
```

## 2ã€å¸¸é‡æšä¸¾

æˆ‘ä»¬æ¥å®šä¹‰ä¸€ä¸ªå¸¸é‡ï¼Œä¸ `enum` åšåˆ¤æ–­ã€‚

```ts
enum Direction {
  Up = 'Up',
  Down = 'Down',
  Left = 'Left',
  Right = 'Right',
}

//å®šä¹‰ä¸€ä¸ªå¸¸é‡ï¼Œç›´æ¥ä¸enumåšåˆ¤æ–­
const value = 'Up';
if (value === Direction.Up) {
  console.log('go Up!'); // go Up!
}
```

ä½¿ç”¨å¸¸é‡æšä¸¾å¯ä»¥æœ‰æ•ˆåœ°æå‡æ€§èƒ½ï¼Œ**å¸¸é‡**ä¼šå†…è”æšä¸¾çš„ä»»ä½•ç”¨æ³•ï¼Œè€Œä¸ä¼šæŠŠæšä¸¾å˜æˆä»»æ„çš„ `Javascript` ä»£ç ã€‚

è¿™æ ·ä¸€è¯´ï¼Œé‚£æ˜¯ä¸æ˜¯æ‰€æœ‰çš„ `enum` éƒ½å¯ä»¥ä½¿ç”¨å¸¸é‡æšä¸¾å‘¢ï¼Ÿç­”æ¡ˆè‡ªç„¶æ˜¯å¦å®šçš„ã€‚

**æšä¸¾çš„å€¼æœ‰ä¸¤ç§ç±»å‹**ï¼Œä¸€ç§æ˜¯**å¸¸é‡å€¼æšä¸¾**(constant)ï¼Œä¸€ç§æ˜¯**è®¡ç®—å€¼æšä¸¾**(computed)ã€‚åªæœ‰**å¸¸é‡å€¼æšä¸¾**å¯ä»¥è¿›è¡Œ**å¸¸é‡æšä¸¾**ï¼Œè€Œ**è®¡ç®—å€¼æšä¸¾**ä¸èƒ½è¿›è¡Œ**å¸¸é‡æšä¸¾**ã€‚

# ä¸ƒã€æ³›å‹

æ¥ä¸‹æ¥æˆ‘ä»¬æ¥è®² `TypeScript` ä¸­æœ€éš¾çš„ä¸€éƒ¨åˆ†ï¼Œ**æ³›å‹**ã€‚

## 1ã€æ™®é€šæ³›å‹

**æ³›å‹**ï¼Œå³ `generics` ã€‚æŒ‡åœ¨å®šä¹‰å‡½æ•°ã€æ¥å£æˆ–ç±»çš„æ—¶å€™ï¼Œæˆ‘ä»¬ä¸é¢„å…ˆæŒ‡å®šç±»å‹ï¼Œè€Œæ˜¯åœ¨ä½¿ç”¨çš„æ—¶å€™å†æŒ‡å®šç±»å‹å’Œå…¶ç‰¹å¾ã€‚

å¯ä»¥ç†è§£ä¸ºï¼Œæ³›å‹å°±ç›¸å½“äºä¸€ä¸ª**å ä½ç¬¦**æˆ–è€…æ˜¯ä¸€ä¸ª**å˜é‡**ï¼Œåœ¨ä½¿ç”¨æ—¶å†åŠ¨æ€çš„å¡«å…¥è¿›å»ï¼Œå¡«è¿›å»ä»¥åæ—¢å¯ä»¥æ¥ç¡®å®šæˆ‘ä»¬çš„ç±»å‹å€¼ã€‚

**æ¥ä¸‹æ¥æˆ‘ä»¬ç”¨ä»£ç æ¥æ¼”ç¤ºä¸€ä¸‹ï¼š**

```ts
function echo<T>(arg: T): T {
  return arg;
}

const result = echo(true);
console.log(result); // true
```

æˆ‘ä»¬é€šè¿‡ `<>` æ¥å®šä¹‰ä¸€ä¸ªæœªçŸ¥çš„æ³›å‹ï¼Œä¹‹åå½“æˆ‘ä»¬ç»™å®ƒèµ‹å€¼æ—¶ï¼Œå°±å¯ä»¥å¯¹åº”å€¼çš„æ•°æ®ç±»å‹ã€‚

---

ç°åœ¨æˆ‘ä»¬å†ç”¨æ³›å‹æ¥å®šä¹‰ä¸€ä¸ª `number` ç±»å‹çš„æ•°ç»„ã€‚**å…·ä½“ä»£ç å¦‚ä¸‹ï¼š**

```ts
// æ—©æœŸå®šä¹‰ä¸€ä¸ªnumberç±»å‹çš„æ•°ç»„
let arr: number[] = [1, 2, 3];
// ç”¨æ³›å‹å®šä¹‰ä¸€ä¸ªnumberç±»å‹çš„æ•°ç»„
let arrTwo: Array<number> = [1, 2, 3];
```

---

å‡å¦‚æˆ‘ä»¬ç°åœ¨è¦è°ƒæ¢ä¸¤ä¸ªå…ƒç´ çš„ä½ç½®ï¼Œé‚£ä¹ˆç”¨æ³›å‹æˆ‘ä»¬å¯ä»¥è¿™ä¹ˆå®ç°ã€‚**å…·ä½“ä»£ç å¦‚ä¸‹ï¼š**

```ts
function swap<T, U>(tuple: [T, U]): [U, T] {
  return [tuple[1], tuple[0]];
}

const result2 = swap(['abc', 123]);
console.log(result2[0]); //123
console.log(result2[1]); //abc
```

é€šè¿‡**æ³›å‹**ï¼Œæˆ‘ä»¬å°±é¡ºåˆ©è°ƒæ¢äº†ä¸¤ä¸ªå…ƒç´ çš„ä½ç½®ã€‚

## 2ã€çº¦æŸæ³›å‹

åœ¨æ³›å‹ä¸­ä½¿ç”¨ `extends` å…³é”®å­—ï¼Œå°±å¯ä»¥è®©ä¼ å…¥å€¼æ»¡è¶³æˆ‘ä»¬**ç‰¹å®šçš„çº¦æŸæ¡ä»¶**ï¼Œè€Œä¸æ˜¯æ¯«æ— ç†ç”±çš„éšæ„ä¼ å…¥ã€‚

æ¯”å¦‚ï¼Œæˆ‘ä»¬æƒ³è¦è®©æˆ‘ä»¬å®šä¹‰çš„å†…å®¹æ˜¯ä¸€ä¸ª**æ•°ç»„**ï¼Œæˆ‘ä»¬å¯ä»¥è¿™ä¹ˆå¤„ç†ã€‚**å…·ä½“ä»£ç å¦‚ä¸‹ï¼š**

```ts
function echoWithArr<T>(arg: T[]): T[] {
  console.log(arg.length);
  return arg;
}
const arrs = echoWithArr([1, 2, 3]);
```

è¿™æ ·ï¼Œå°±æŠŠ `arrs` å®šä¹‰ä¸ºä¸€ä¸ªæ•°ç»„ã€‚

---

å‡è®¾æˆ‘ä»¬ç°åœ¨æƒ³è¦è®©æˆ‘ä»¬**å®šä¹‰çš„å†…å®¹**å¯ä»¥è®¿é—®åˆ° `length` æ–¹æ³•ï¼Œé‚£ä¹ˆæˆ‘ä»¬éœ€è¦åŠ ä¸€ç‚¹ä½æ–™ã€‚**å…·ä½“ä»£ç å¦‚ä¸‹ï¼š**

```ts
interface IWithLength {
  length: number;
}

function echoWithLength<T extends IWithLength>(arg: T): T {
  console.log(arg.length);
  return arg;
}

const str = echoWithLength('str');
const obj = echoWithLength({ length: 10, width: 20 });
const arr2 = echoWithLength([1, 2, 3]);
```

é€šè¿‡ `extends` å…³é”®å­—æ¥ç»§æ‰¿ç‰¹å®šçš„ `interface` ï¼Œä½¿å¾—æˆ‘ä»¬å®šä¹‰çš„å†…å®¹ `str` ï¼Œ `obj` ï¼Œ`arr2` è¾¾åˆ°å¯ä»¥è®¿é—® length æ–¹æ³•çš„ç›®çš„ã€‚

é€šè¿‡ä»¥ä¸Šä¸¾ä¾‹ï¼Œæˆ‘ä»¬å¯ä»¥çŸ¥é“ï¼Œæ³›å‹å¯ä»¥ç”¨æ¥çµæ´»çš„**çº¦æŸå‚æ•°çš„ç±»å‹**ï¼Œå‚æ•°ä¸éœ€è¦æ˜¯ä¸ªç‰¹åˆ«æ­»æ¿çš„ç±»å‹ï¼Œè€Œå¯ä»¥é€šè¿‡æˆ‘ä»¬çš„çº¦æŸæ¥è¾¾åˆ°æˆ‘ä»¬æƒ³è¦çš„ç›®çš„ã€‚

## 3ã€æ³›å‹åœ¨ç±»å’Œæ¥å£ä¸­çš„ä½¿ç”¨

### ï¼ˆ1ï¼‰æ³›å‹åœ¨ç±»ä¸­çš„ä½¿ç”¨

```ts
class Queue<T> {
  private data = [];
  push(item: T) {
    return this.data.push(item);
  }
  pop(): T {
    return this.data.shift();
  }
}
// ç¡®å®šè¿™æ˜¯ä¸€ä¸ªnumberç±»å‹çš„é˜Ÿåˆ—
const queue = new Queue<number>();
queue.push(1);
console.log(queue.pop().toFixed());
```

### ï¼ˆ2ï¼‰æ³›å‹åœ¨æ¥å£ä¸­çš„ä½¿ç”¨

```ts
interface KeyPair<T, U> {
  key: T;
  value: U;
}
let kp1: KeyPair<number, string> = { key: 1, value: 'str' };
let kp2: KeyPair<string, number> = { key: 'str', value: 2 };
```

é€šè¿‡ä»¥ä¸Šä»£ç æ¼”ç¤ºå¯ä»¥å‘ç°ï¼Œæ³›å‹å°±åƒæ˜¯åˆ›å»ºäº†ä¸€ä¸ª**æ‹¥æœ‰ç‰¹å®šç±»å‹çš„å®¹å™¨**ï¼Œå°±ä»¿ä½›ç»™ä¸€ä¸ª**å®¹å™¨**è´´ä¸Šæ ‡ç­¾ä¸€æ ·ã€‚

## 4ã€æ³›å‹ä¸­ keyof è¯­æ³•çš„ä½¿ç”¨

```js
interface Person {
    name: string;
    age: number;
    gender: string;
}

// type T = 'name';
// key: 'name';
// Person['name'];

// type T = 'age';
// key: 'age';
// Person['age'];

// type T = 'gender';
// key: 'gender';
// Person['gender'];

class Teacher {
    constructor(private info: Person) {}
    // keyofå…³é”®å­—
    getInfo<T extends keyof Person>(key: T): Person[T] {
        return this.info[key];
    }
}

const teacher = new Teacher({
    name: 'Monday',
    age: 18,
    gender: 'female'
});

const test = teacher.getInfo('age');
console.log(test);
```

# å…«ã€ç±»å‹åˆ«å

## 1ã€ç±»å‹åˆ«å

**ç±»å‹åˆ«å**ï¼Œå³ `type aliase` ã€‚ç±»å‹åˆ«åå¯ä»¥çœ‹ä½œæ˜¯ä¸€ä¸ª**å¿«æ·æ–¹å¼**ï¼Œå¯ä»¥æŠŠä¸€ä¸ªå†™èµ·æ¥å¾ˆç¹ççš„ç±»å‹åˆ›å»ºä¸€ä¸ªç®€å•çš„å†™æ³•ã€‚**æ¯”å¦‚ï¼š**

```ts
//ç”¨ä»¥ä¸‹è¿™ç§å†™æ³•ï¼Œæ¯æ¬¡éƒ½è¦å†™ä¸€é•¿ä¸²çš„(x: number, y: number) => number
let sum: (x: number, y: number) => number;
const result = sum(1, 2);

//ç”¨typeç»™ç±»å‹è¿›è¡Œåˆ«å
type PlusType = (x: number, y: number) => number;
let sum2: PlusType;
const result2 = sum2(2, 3);

//ä¸€ä¸ªç±»å‹å¯ä»¥æ˜¯å­—ç¬¦ä¸²ä¹Ÿå¯ä»¥æ˜¯æ•°å­—
type StrOrNumber = string | number;
let result3: StrOrNumber = '123';
result3 = 123;
```

## 2ã€å­—ç¬¦ä¸²å­—é¢é‡

**å­—ç¬¦ä¸²å­—é¢é‡**ï¼ŒæŒ‡å¯ä»¥æä¾›ä¸€ç³»åˆ—éå¸¸æ–¹ä¾¿ä½¿ç”¨çš„**å¸¸é‡å†™æ³•**ã€‚**æ¯”å¦‚ï¼š**

```ts
const str: 'name' = 'name';
const number: 1 = 1;
type Direction = 'Up' | 'Down' | 'Left' | 'Right';
let toWhere: Direction = 'Left';
```

## 3ã€äº¤å‰ç±»å‹

**äº¤å‰ç±»å‹**ï¼Œä½¿ç”¨ `type` è¿™ä¸ª**æ‰©å±•å¯¹è±¡**çš„ä¸€ç§æ–¹å¼ã€‚**æ¯”å¦‚ï¼š**

```ts
interface IName {
  name: string;
}
type IPerson = IName & { age: number };
let person: IPerson = { name: 'monday', age: 18 };
```

# ä¹ã€å‘½åç©ºé—´

## 1ã€namespace æ˜¯ä»€ä¹ˆ

å‡è®¾æˆ‘ç°åœ¨æœ‰ä¸€ä¸ªå‘½åç©ºé—´ï¼Œé‚£ä¹ˆå‘½åç©ºé—´é‡Œé¢çš„å†…å®¹**å°†ä¸ä¼šè¢«æš´éœ²å‡ºå»**ã€‚**å¦‚ä¸‹ä»£ç æ‰€ç¤ºï¼š**

```js
namespace Home {
    class Header {
        constructor() {
            const elem = document.createElement('div');
            elem.innerText = 'This is Header';
            document.body.appendChild(elem);
        }
    }

    class Content {
        constructor() {
            const elem = document.createElement('div');
            elem.innerText = 'This is Content';
            document.body.appendChild(elem);
        }
    }

    class Footer {
        constructor() {
            const elem = document.createElement('div');
            elem.innerText = 'This is Footer';
            document.body.appendChild(elem);
        }
    }

    class Page {
        constructor() {
            new Header();
            new Content();
            new Footer();
        }
    }
}

```

åœ¨ä¸Šé¢çš„ä»£ç ä¸­ï¼Œæœ‰ä¸€ä¸ªå‘½åä¸º `Home` çš„å‘½åç©ºé—´ï¼Œé‡Œé¢ä¸€å…±æœ‰ `4` ä¸ªç±»ã€‚é‚£ä¹ˆè¿™ä¸ªæ—¶å€™ï¼Œæˆ‘ä»¬æƒ³è¦åœ¨**å¤–éƒ¨**ä½¿ç”¨å…¶ä¸­çš„æŸä¸€ä¸ªç±»ï¼Œæ˜¯æ²¡æœ‰åŠæ³•çš„ã€‚

é‚£å¦‚æœæˆ‘ä»¬æƒ³è¦å°†å‘½åç©ºé—´é‡Œé¢çš„æŸä¸ªç±»ç»™æš´éœ²å‡ºå»ï¼Œè¯¥æ€ä¹ˆå¤„ç†å‘¢ï¼Ÿ

é€šå¸¸æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬ä¼šåœ¨**ç±»çš„å‰é¢**åŠ ä¸Š `export` å…³é”®å­—ã€‚ç±»ä¼¼ä¸‹é¢è¿™æ ·ï¼š

```js
namespace Home {
    // åŠ ä¸Š export å…³é”®å­—
    export class Header {
        constructor() {
            const elem = document.createElement('div');
            elem.innerText = 'This is Header';
            document.body.appendChild(elem);
        }
    }

    class Content {
        constructor() {
            const elem = document.createElement('div');
            elem.innerText = 'This is Content';
            document.body.appendChild(elem);
        }
    }

    class Footer {
        constructor() {
            const elem = document.createElement('div');
            elem.innerText = 'This is Footer';
            document.body.appendChild(elem);
        }
    }

    class Page {
        constructor() {
            new Header();
            new Content();
            new Footer();
        }
    }
}
```

å¤§å®¶å¯ä»¥çœ‹åˆ°ï¼ŒåŠ ä¸Š `export` å…³é”®å­—ï¼Œå°±å¯ä»¥å°†è¯¥ç±»åœ¨å¤–éƒ¨è¿›è¡Œæš´éœ²ã€‚è€Œæ²¡æœ‰åŠ  `export` å…³é”®å­—çš„ï¼Œåœ¨å¤–éƒ¨å°±ä¾ç„¶æ˜¯è®¿é—®ä¸åˆ°çš„ã€‚

ç°åœ¨æˆ‘ä»¬æ¥çœ‹ä¸‹å®ƒå…·ä½“å¦‚ä½•ä½¿ç”¨ã€‚**å…·ä½“ä»£ç å¦‚ä¸‹ï¼š**

```js
<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <title>Document</title>
  <script src="./dist/page.js"></script>
</head>

<body>
  <script>
    new Home.Header();
  </script>
</body>

</html>
```

å¤§å®¶å¯ä»¥çœ‹åˆ°ï¼Œé€šè¿‡ `new Home.Header();` çš„æ–¹å¼ï¼Œæˆ‘ä»¬å¯ä»¥è®¿é—®åˆ°å‘½åç©ºé—´ `Home` ä¸­æš´éœ²å‡ºæ¥çš„ `Header` ç±»ã€‚è€Œå…¶ä»–æ²¡æœ‰åŠ  `export` å…³é”®å­—çš„ï¼Œéƒ½æ˜¯æ— æ³•æ­£å¸¸è®¿é—®åˆ°çš„ï¼Œå®ƒè®©æœ¬æ¥**å…¨å±€çš„å››ä¸ªå˜é‡**å˜å¾—åªå‰©ä¸‹ `Home` ä¸€ä¸ªï¼Œè¿™å°±æ˜¯å‘½åç©ºé—´ `namespace` ç»™æˆ‘ä»¬å¸¦æ¥çš„å¥½å¤„ã€‚

## 2ã€namespace çš„å¥½å¤„

ç°åœ¨ï¼Œæˆ‘ä»¬æ¥æ¢³ç†ä¸€ä¸‹å‘½åç©ºé—´ç»™æˆ‘ä»¬å¸¦æ¥çš„å¥½å¤„ã€‚`namespace` ç»™æˆ‘ä»¬å¸¦æ¥çš„ä¸€ä¸ªå¥½å¤„å°±æ˜¯ï¼Œç”¨ä¸€ä¸ª**ç±»ä¼¼æ¨¡å—åŒ–çš„å¼€å‘æ–¹å¼**ï¼Œè®©æˆ‘ä»¬èƒ½å¤Ÿå°½å¯èƒ½å°‘çš„å»ç”Ÿæˆå…¨å±€å˜é‡ã€‚æˆ–è€…è¯´ï¼ŒæŠŠä¸€ç»„ç›¸å…³çš„å†…å®¹å°è£…åœ¨ä¸€å—ï¼Œæœ€ç»ˆ**å¯¹å¤–æä¾›ç»Ÿä¸€çš„æš´éœ²æ¥å£**ã€‚

## 3ã€ä¾èµ–å‘½åç©ºé—´å£°æ˜

å‡è®¾æˆ‘ä»¬è¦åœ¨ä¸€ä¸ªå‘½åç©ºé—´é‡Œé¢å»å¼•å…¥å¦ä¸€ä¸ªå‘½åç©ºé—´ï¼Œè¯¥æ€ä¹ˆä½¿ç”¨å‘¢ï¼Ÿ**å¦‚ä¸‹ä»£ç æ‰€ç¤ºï¼š**

```js
// Homeè¿™ä¸ªå‘½åç©ºé—´è¦å»ä¾èµ–å…¶ä»–å‘½åç©ºé—´çš„å£°æ˜
///<reference path='./components.ts' />

namespace Home {
  export class Page {
    user: Components.User = {
      name: 'monday'
    }
    constructor() {
      new Components.Header();
      new Components.Content();
      new Components.Footer();
    }
  }
}
```

æˆ‘ä»¬å¯ä»¥é€šè¿‡ `///<reference path='./components.ts' /> ` è¿™ç§æ–¹å¼ï¼Œå»å¼•å…¥ `Components` å‘½åç©ºé—´ï¼Œä»¥ä¾›æˆ‘ä»¬ä½¿ç”¨ã€‚

# åã€å£°æ˜æ–‡ä»¶

æˆ‘ä»¬åœ¨å†™ ts æ—¶ï¼Œéš¾å…ä¼šæœ‰é‡åˆ°è¦å¼•å…¥ç¬¬ä¸‰æ–¹åº“çš„æ—¶å€™ã€‚è¿™ä¸ªæ—¶å€™å°±éœ€è¦ ts æ¥åšç‰¹æ®Šå¤„ç†ã€‚**ä¸»è¦æœ‰ä»¥ä¸‹ä¸¤ç§åšæ³•ï¼š**

## 1ã€ .d.ts æ–‡ä»¶å¼•å…¥

å‡è®¾æˆ‘ä»¬è¦å¼•å…¥ `JQuery` åº“æ¥ä½¿ç”¨ï¼Œé‚£ä¹ˆæˆ‘ä»¬å¯ä»¥åœ¨å¤–éƒ¨æ–°å¢ä¸€ä¸ª `JQuery.d.ts` æ–‡ä»¶ï¼Œ**æ–‡ä»¶å†…ä»£ç å¦‚ä¸‹ï¼š**

```ts
// ç¬¬ä¸€ç§ç±»å‹ï¼šå®šä¹‰å…¨å±€å˜é‡
declare var JQuery: (selector: string) => any;

// ç¬¬äºŒç§ç±»å‹ï¼šå®šä¹‰å…¨å±€å‡½æ•°â†’ä¼ é€’å‡½æ•°
declare function $(readFunc: () => void): void;

// ç¬¬ä¸‰ç§ç±»å‹ï¼šå®šä¹‰å…¨å±€å‡½æ•°â†’ä¼ é€’å­—ç¬¦ä¸²
interface JQueryInstance {
  html: (html: string) => {};
}
declare function $(selector: string): JQueryInstance;
```

ä¹‹åä¾¿å¯ä»¥åœ¨æˆ‘ä»¬å®šä¹‰çš„ `ts` æ–‡ä»¶ä¸‹å¼•ç”¨ `JQuery` ç›¸å…³åº“çš„å†…å®¹ã€‚**æ¯”å¦‚ï¼š**

```ts
$(function () {
  $('body').html('<div>123</div>');
});
```

## 2ã€ä½¿ç”¨ interface è¯­æ³•å®ç°å‡½æ•°é‡è½½

ä¸Šé¢çš„ç¬¬äºŒå’Œç¬¬ä¸‰ç§ç±»å‹ï¼Œä½¿ç”¨äº†**ä¼ é€’å‡½æ•°**å’Œ**ä¼ é€’å­—ç¬¦ä¸²**çš„ä¸¤ç§æ–¹å¼ï¼Œæ¥å®ç°äº†**å‡½æ•°é‡è½½**ã€‚é‚£ä¹ˆä¸‹é¢ï¼Œæˆ‘ä»¬æ¥ç”¨ `interface` è¯­æ³•ï¼Œæ¥æ”¹é€ ä¸€ä¸‹è¿™ç§å‡½æ•°é‡è½½çš„æ–¹å¼ã€‚ `.d.ts` æ–‡ä»¶ä»£ç å¦‚ä¸‹ï¼š

```js
interface JQueryInstance {
  html: (html: string) => JQueryInstance;
}

// ä½¿ç”¨interfaceçš„è¯­æ³•ï¼Œå®ç°å‡½æ•°é‡è½½
interface JQuery {
  (readFunc: () => void): void;
  (selector: strring): JQueryInstance;
}
declare var $: JQuery;
```

å¤§å®¶å¯ä»¥çœ‹åˆ°ï¼Œæˆ‘ä»¬é€šè¿‡ `interface` çš„æ–¹å¼ï¼Œå°† `readFunc` å’Œ `selector` ç»™ä¸€èµ·å¹¶å…¥ `JQuery` æ¥å£ä¸­ï¼Œæœ€åæˆ‘ä»¬ç›´æ¥å°† `JQuery` ç»™æš´éœ²å‡ºå»å³å¯ã€‚

## 3ã€å£°æ˜å¯¹è±¡

ä¸Šé¢æˆ‘ä»¬é‡åˆ°çš„æ˜¯ `$` åªæ˜¯å‡½æ•°çš„æ—¶å€™ï¼Œè¿›è¡Œçš„å‡½æ•°é‡è½½ã€‚é‚£å¦‚æœæ­¤æ—¶çš„ `$` æ—¢è¦å½“ä½œæ˜¯**å‡½æ•°**ä½¿ç”¨ï¼Œåˆè¦å½“ä½œæ˜¯**å¯¹è±¡**ä½¿ç”¨å‘¢ï¼Ÿå‡è®¾æˆ‘ä»¬ç°åœ¨æœ‰è¿™ä¹ˆä¸€æ®µä»£ç ï¼š

```js
$(function () {
  $('body').html('<div>123</div>');
  new $.fn.init();
});
```

ç°åœ¨ï¼Œæˆ‘ä»¬è¦åœ¨ `$` ä¸­å»è®¿é—®åˆ° `fn` å’Œ `init` ï¼Œé‚£è¿™ä¸ªæ—¶å€™ `$` ä¸ä»…è¦å½“ä½œæ˜¯å‡½æ•°æ¥ä½¿ç”¨ï¼Œè¿˜è¦å½“ä½œæ˜¯å¯¹è±¡æ¥ä½¿ç”¨ã€‚å…·ä½“æˆ‘ä»¬å¯ä»¥åœ¨ `.d.ts` æ–‡ä»¶ä¸­è¿™ä¹ˆå¤„ç†ã€‚**å…·ä½“ä»£ç å¦‚ä¸‹ï¼š**

```js
interface JQueryInstance {
    html: (html: string) => JQueryInstance;
}

// å‡½æ•°é‡è½½
declare function $(readyFunc: () => void): void;
declare function $(selector: string): JQueryInstance;

// å¦‚ä½•å¯¹å¯¹è±¡è¿›è¡Œç±»å‹å®šä¹‰ï¼Œä»¥åŠå¯¹ç±»è¿›è¡Œç±»å‹å®šä¹‰ï¼Œä»¥åŠå‘½åç©ºé—´çš„åµŒå¥—
declare namespace $ {
    namespace fn {
        class init {}
    }
}
```

å¤§å®¶å¯ä»¥çœ‹åˆ°ï¼Œæˆ‘ä»¬å®šä¹‰äº†å‘½åç©ºé—´ï¼Œå¹¶åœ¨å‘½åç©ºé—´é‡Œå–å¼„ç»§ç»­åµŒå¥—å‘½åç©ºé—´ï¼ŒåŒæ—¶ï¼Œç”¨ `class` ç±»è¿›è¡Œäº†ç±»å‹å®šä¹‰ã€‚æœ€ç»ˆï¼Œæˆ‘ä»¬å°±å¯ä»¥æˆåŠŸè®¿é—®åˆ° `$.fn.init()` å•¦ï¼

## 4ã€npm æ¨¡å—åŒ–å¼•å…¥

æˆ‘ä»¬ä¹Ÿå¯ä»¥å®‰è£…å¯¹åº”çš„ç¬¬ä¸‰æ–¹åº“çš„ `npm` åŒ…ï¼Œè¿™ä¸ªåŒ…æ˜¯ç±»å‹å®šä¹‰æ–‡ä»¶ã€‚å‡å¦‚æˆ‘ä»¬ç°åœ¨è¦å¼•å…¥ä¸€ä¸ª `JQuery` åº“ï¼Œé‚£ä¹ˆæˆ‘ä»¬å¯ä»¥è¿™ä¹ˆå¤„ç†ã€‚

```ts
npm install --save @type/jquery
```

æ¥ä¸‹æ¥æˆ‘ä»¬å¯¹ `.d.ts` æ–‡ä»¶è¿›è¡Œæ”¹é€ ï¼Œ**å…·ä½“ä»£ç å¦‚ä¸‹ï¼š**

```js
// ES6 æ¨¡å—åŒ–
declare module 'jquery' {
    interface JQueryInstance {
        html: (html: string) => JQueryInstance;
    }
    // æ··åˆç±»å‹
    function $(readyFunc: () => void): void;
    function $(selector: string): JQueryInstance;
    namespace $ {
        namespace fn {
            class init {}
        }
    }
    export = $;
}
```

æœ€åï¼Œæ¥åˆ°æˆ‘ä»¬æƒ³è¦å¼•å…¥ `$` çš„ `ts` æ–‡ä»¶ä¸­ã€‚**å…·ä½“ä»£ç å¦‚ä¸‹ï¼š**

```js
import $ from 'jquery';

$(function () {
  $('body').html('<div>123</123>');
  new $.fn.init();
});
```

# åä¸€ã€å†…ç½®ç±»å‹

æˆ‘ä»¬åœ¨å†™ `ts` ä»£ç æ—¶ï¼Œå…¶å®ä¸çŸ¥ä¸è§‰å·²ç»ä½¿ç”¨äº†å¾ˆå¤šçš„**å†…ç½®å¯¹è±¡**ã€‚å¯¹è±¡å‘¢ï¼Œæ˜¯æŒ‡æ ¹æ®æ ‡å‡†ï¼ˆæ ‡å‡†æŒ‡ `ECMA` ã€ `DOM` ç­‰æ ‡å‡†ï¼‰ï¼Œåœ¨å…¨å±€ä½œç”¨åŸŸ `global` ä¸Šé¢å­˜åœ¨çš„å¯¹è±¡ã€‚é‚£æˆ‘ä»¬åœ¨è¿è¡Œ `tsc` æ—¶ï¼Œè¿™äº›å†…ç½®çš„å¯¹è±¡å°±ä¼šè¢«å½“ä½œé™„åŠ çš„ç¤¼ç‰©ç»™ç¨‹åºåŠ è½½è¿›è¡Œã€‚æ¥ä¸‹æ¥æˆ‘ä»¬æ¥ä½“ä¼šä¸€ä¸‹å‡ ç§å¸¸è§çš„å†…ç½®å¯¹è±¡ã€‚

**å…¨å±€å¯¹è±¡ï¼š**

```ts
// global object å…¨å±€å¯¹è±¡
const a: Array<number> = [1, 2, 3];
const date = new Date();
date.getTime();
const reg = /abc/;
reg.test('abc');
```

**å†…ç½®å¯¹è±¡ï¼š**

```ts
// build-in object å†…ç½®å¯¹è±¡
Math.pow(2, 2);
```

**DOM å’Œ BOM å¯¹è±¡ï¼š**

```ts
// DOM å’Œ BOM
let body = document.body;
let allLis = document.querySelectorAll('li');
allLis.keys();

document.addEventListener('click', (e) => {
  e.preventDefault();
});
```

**åŠŸèƒ½æ€§ç±»å‹ï¼š**

```ts
// Utility Types åŠŸèƒ½æ€§ç±»å‹
interface IPerson {
  name: string;
  age: number;
}

let monday: IPerson = { name: 'monday', age: 20 };

//å¯é€‰å±æ€§
type IPartial = Partial<IPerson>;
let monday2: Ipartial = { name: 'monday' };

//ç§»é™¤æŸä¸€ä¸ªå±æ€§
type Omit = Omit<IPerson, 'name'>;
let monday3: Omit = { age: 20 };
```

# åäºŒã€TypeScript ä¸­çš„é…ç½®æ–‡ä»¶

å¾€å¾€æˆ‘ä»¬åœ¨åˆšåˆå§‹åŒ–ä¸€ä¸ª `ts` é¡¹ç›®æ—¶ï¼Œéƒ½ä¼šå…ˆè¿è¡Œ `tsc --init` ï¼Œä¹‹åå‘¢ï¼Œä¼šç”Ÿæˆä¸€ä¸ª `tsconfig.json` æ–‡ä»¶ã€‚åœ¨è¿™ä¸ªæ–‡ä»¶ä¸‹å‘¢ï¼Œæœ‰å¾ˆå¤šçš„é…ç½®ã€‚é‚£æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å°±æ¥åˆ†æä¸‹å…¶ä¸­ä¸€äº›æ¯”è¾ƒå€¼å¾—æ³¨æ„çš„é…ç½®é¡¹ã€‚

```json
{
  "include": ["./demo.ts"], // åªç¼–è¯‘ ./demo.ts æ–‡ä»¶
  "exclude": ["./demo.ts"], // ä¸ç¼–è¯‘ ./demo.ts æ–‡ä»¶
  "files": ["./demo.ts"], // åªç¼–è¯‘ ./demo.ts æ–‡ä»¶
  "removeComments": true, // è¡¨ç¤ºæ‰“åŒ…æ—¶ç§»é™¤æ‰tsæ–‡ä»¶ä¸­çš„æ³¨é‡Š
  "noImplicityAny": true, // å½“è®¾ç½®ä¸ºtrueæ—¶ï¼Œè¡¨ç¤ºæ‰€æœ‰çš„å‚æ•°éƒ½åº”è¯¥è®¾ç½®ç±»å‹ï¼Œå¦åˆ™ä¼šæŠ¥é”™ï¼›å½“è®¾ç½®ä¸ºfalseæ—¶ï¼Œåˆ™ä¸è¦æ±‚æ˜¾å¼åœ°è®¾ç½®any
  "strictNullChecks": true, // å½“è®¾ç½®ä¸ºtrueæ—¶ï¼Œè¡¨ç¤ºå¼ºåˆ¶æ£€æŸ¥nullç±»å‹ï¼›å½“è®¾ç½®ä¸ºfalseæ—¶ï¼Œåˆ™è¡¨ç¤ºä¸å¼ºåˆ¶æ£€æŸ¥nullç±»å‹
  "rootDir": "./src", // æŒ‡å®šè¾“å…¥çš„æ–‡ä»¶çš„åœ°å€
  "outFile": "./build/page.js", // å°†æ‰€æœ‰æ–‡ä»¶æœ€ç»ˆç»Ÿä¸€æ‰“åŒ…åˆ°buildç›®å½•ä¸‹çš„page.jsæ–‡ä»¶é‡Œ
  "outDir": "./build", // æŒ‡å®šè¾“å‡ºçš„æ–‡ä»¶çš„åœ°å€
  "incremental": true, // å¢é‡ç¼–è¯‘ï¼Œå³ä¹‹å‰ç¼–è¯‘è¿‡çš„ç°åœ¨å°±ä¸ç”¨ç¼–è¯‘äº†
  "allowJs": true, // å…è®¸æŒ‡å®šæ–‡ä»¶å¤¹ä¸‹çš„æ‰€æœ‰æ–‡ä»¶è¿›è¡Œç¼–è¯‘
  "checkJs": true, // å¯¹ç¼–è¯‘åçš„jsæ–‡ä»¶è¿›è¡Œè¯­æ³•æ£€æµ‹
  "sourceMap": true, // ç¼–è¯‘åçš„ç»“æœå†ç”Ÿæˆä¸€ä¸ª .map æ–‡ä»¶
  "noUnusedLocals": true, // å¯¹å†™å‡ºçš„å¤šä½™çš„ï¼Œä½†æ˜¯åˆæ²¡æœ‰å®é™…ä½œç”¨çš„ä»£ç è¿›è¡Œæç¤º
  "noUnuesdParameters": true, // å¯¹å‡½æ•°çš„å‚æ•°è¿›è¡Œæ ¡éªŒï¼Œå¦‚æœå‡½æ•°ä¸­çš„å‚æ•°æ²¡æœ‰è¿›è¡Œä½¿ç”¨ï¼Œåˆ™ä¼šé”™è¯¯æç¤º
  "baseUrl": "./" // TypeScriptä¸‹çš„æ ¹è·¯å¾„æ˜¯ä»€ä¹ˆè·¯å¾„
}
```

# åä¸‰ã€åœ¨ ts ä¸­å¯¹ä»£ç è¿›è¡Œæ¨¡å—åŒ–ç»„ç»‡

ä¸Šé¢æˆ‘ä»¬çœ‹ç€å‘½åç©ºé—´çš„ä½¿ç”¨æ–¹æ³•ä¼¼ä¹è¿˜æœ‰ä¸€ç‚¹éº»çƒ¦ã€‚é‚£äº‹å®ä¸Šï¼Œåœ¨ `ts` ä¸­ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥å¯¹ä»£ç è¿›è¡Œ**æ¨¡å—åŒ–ç»„ç»‡**ï¼Œé€šå¸¸æ˜¯é€šè¿‡ `import` è¯­å¥æ¥å¤„ç†ã€‚æ€ä¹ˆå¤„ç†å‘¢ï¼Ÿ

## 1ã€é¡¹ç›®ç»“æ„

![é¡¹ç›®ç»“æ„](https://img-blog.csdnimg.cn/f284fb13142949f7b7569ee629d5f236.png#)

## 2ã€æ¨¡å—åŒ–æ‹†åˆ†

**ç¬¬ä¸€æ­¥**ï¼Œå…ˆæ¥å®šä¹‰ `src|components.ts` ä¸‹çš„ä»£ç ã€‚**å…·ä½“ä»£ç å¦‚ä¸‹ï¼š**

```js
export class Header {
  constructor() {
    const elem = document.createElement('div');
    elem.innerText = 'This is Header';
    document.body.appendChild(elem);
  }
}

export class Content {
  constructor() {
    const elem = document.createElement('div');
    elem.innerText = 'This is Content';
    document.body.appendChild(elem);
  }
}

export class Footer {
  constructor() {
    const elem = document.createElement('div');
    elem.innerText = 'This is Footer';
    document.body.appendChild(elem);
  }
}
```

**ç¬¬äºŒæ­¥**ï¼Œä½¿ç”¨æ¨¡å—åŒ–çš„æ–¹å¼è¿›è¡Œè°ƒç”¨ã€‚åœ¨ `src|page.ts` æ–‡ä»¶ä¸‹ï¼Œ**å…·ä½“ä»£ç å¦‚ä¸‹ï¼š**

```js
import { Header, Content, Footer } from './components';

export class Page {
  constructor() {
    new Header();
    new Content();
    new Footer();
  }
}
```

å¤§å®¶å¯ä»¥çœ‹åˆ°ï¼Œä¸Šé¢æˆ‘ä»¬ä½¿ç”¨äº† `import` è¯­å¥ï¼Œæ¥å°†ç±»è¿›è¡Œæ¨¡å—åŒ–è°ƒç”¨ã€‚

ç¬¬ä¸‰æ­¥ï¼Œåœ¨é¡¹ç›®çš„ `index.html` ä¸­å¼•ç”¨ï¼Œæœ€ç»ˆè¿è¡Œã€‚**å…·ä½“ä»£ç å¦‚ä¸‹ï¼š**

```html
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Document</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.js"></script>
    <script src="./build/page.js"></script>
  </head>

  <body>
    <script>
      require(['page'], function (page) {
        new page.Page();
      });
    </script>
  </body>
</html>
```

å¤§å®¶å¯ä»¥çœ‹åˆ°ï¼Œå¦‚æœæ˜¯åœ¨æ²¡æœ‰ä½¿ç”¨ `webpack` ç­‰æ‰“åŒ…å·¥å…·çš„æƒ…å†µä¸‹ï¼Œé‚£ä¹ˆæˆ‘ä»¬éœ€è¦ä½¿ç”¨ `cdn` çš„æ–¹å¼å»å¼•å…¥ä¸€ä¸ª `require` çš„åº“ï¼Œä»¥ä¾¿äºåç»­å¯ä»¥ä½¿ç”¨ `require` è¿™ç§è¯­æ³•ã€‚

æœ€ç»ˆæˆ‘ä»¬æ¥çœ‹ä¸‹æµè§ˆå™¨çš„æ˜¾ç¤ºæ•ˆæœã€‚**å¦‚ä¸‹å›¾ï¼š**

![å±•ç¤ºæ•ˆæœ](https://img-blog.csdnimg.cn/0ce97715d82b49b8a1636e255195a238.png#pic_center)

å¯ä»¥çœ‹åˆ°ï¼Œæœ€ç»ˆå±•ç¤ºé™¤äº†æˆ‘ä»¬æƒ³è¦çš„æ•ˆæœã€‚é‚£åœ¨ä¸Šé¢ä¸­ï¼Œæˆ‘ä»¬å°±ç®€å•äº†è§£äº†åœ¨ `TypeScript` ä¸­ï¼Œå¦‚ä½•é€šè¿‡ `import` è¯­å¥æ¥å¯¹æ¨¡å—è¿›è¡Œæ‹†åˆ†å’Œç»„åˆã€‚

# åå››ã€ç»“æŸè¯­

å…³äº `ts` çš„å…¥é—¨è®²åˆ°è¿™é‡Œå°±ç»“æŸå•¦ï¼å¸Œæœ›å¤§å®¶èƒ½å¯¹ `ts` æœ‰ä¸€ä¸ªç®€å•çš„è®¤è¯†ï¼

å¦‚æœè¿™ç¯‡æ–‡ç« å¯¹ä½ æœ‰ç”¨ï¼Œè®°å¾—**ç•™ä¸ªè„šå° jio**å†èµ°å“¦~

# å½©è›‹ One More Thing

## ï¼ˆï¼šä¸“æ ç›´é€šè½¦

ä¸“æ ç‚¹è¿™é‡Œ ğŸ‘‰[https://juejin.cn/column/6979926803238354952](https://juejin.cn/column/6979926803238354952)

## ï¼ˆï¼šç•ªå¤–

æ³¨ï¼šè¿™ç¯‡æ–‡ç« æ˜¯å¯¹[ä¸Šä¸€ç¯‡æ–‡ç« ](https://juejin.cn/column/6979926803238354952)çš„è¡¥å……ï¼Œå¢åŠ äº†ä¸€äº›è¿›é˜¶è¯­æ³•ã€‚

ä»¥ä¸Šå°±æ˜¯æœ¬æ–‡çš„å…¨éƒ¨å†…å®¹ï¼Œæˆ‘ä»¬ä¸‹æœŸè§ï¼ğŸ¥‚ğŸ¥‚ğŸ¥‚
