---
title: åˆæ¢reactï¼Œç”¨reactå®ç°ä¸€ä¸ªtodoListåŠŸèƒ½
author: å‘¨ä¸€
date: '2021-10-12'
categories:
  - å‰ç«¯å¼€å‘
tags:
  - React.js
sidebar: 'auto'
---

# ğŸ›°ï¸ å‰è¨€

å¯¹äºå‰ç«¯è€Œè¨€ï¼Œ `react` æ˜¯å‰ç«¯ä¸‰å¤§ä¸»æµæ¡†æ¶ä¹‹ä¸€ã€‚è€Œåœ¨ç°å®ç”Ÿäº§ä¸­ï¼ŒåŸºæœ¬ä¸Šå¾ˆå¤šå¤§å‹å…¬å¸ä¹Ÿä¼šåå‘äºä½¿ç”¨ `react` ï¼ŒåŸå› åœ¨äº `react` çš„ `diy` èƒ½åŠ›æ¯”èµ·å…¶ä»–æ¡†æ¶ä¹Ÿä¼šç¨å¾®è¦æ›´å¥½ä¸€äº›~

ç´§è·Ÿç€æ–°æŠ€æœ¯çš„æ­¥ä¼ï¼Œå‘¨ä¸€ä¹Ÿå¼€å§‹å­¦æœŸäº† `react` ã€‚é‚£åœ¨ä¸‹é¢çš„æ–‡ç« ä¸­ï¼Œå°†è®²è§£å…³äº `react` çš„ä¸€äº›åŸºç¡€çŸ¥è¯†ç‚¹ï¼ŒåŒæ—¶å‘¢ï¼Œä¹Ÿå°†ç”¨ `react` æ¥å®ç°ä¸€ä¸ª `TodoList` çš„åŠŸèƒ½ã€‚

å®å’šï¼Œå¼€å§‹å¥‡å¦™çš„ `eract` ä¹‹æ—…~ğŸš‹

# ğŸš€ ä¸€ã€react åŸºç¡€

åœ¨å¯¹ `todoList` åŠŸèƒ½è¿›è¡Œè®¾è®¡ä¹‹å‰ï¼Œæˆ‘ä»¬å…ˆæ¥äº†è§£ä¸€ç‚¹ `react` ç›¸å…³çš„åŸºç¡€çŸ¥è¯†ã€‚

## 1. react ç®€ä»‹

å¯¹äº `reactjs` æ¥è¯´ï¼Œéœ€è¦äº†è§£çš„ä¸€äº›åŸºç¡€çŸ¥è¯†ä¸»è¦æœ‰ä»¥ä¸‹å‡ ç‚¹ï¼š

- `reactjs` â†’ `react native` â†’ `react VR` ï¼›
- ç”± `Facebook` æ¨å‡ºçš„ä¸€æ¬¾æ¡†æ¶ï¼Œäº `2013` å¹´å¼€æºäºç¤¾åŒºï¼›
- `react` æ‹¥æœ‰ä¸°å¯Œçš„å‡½æ•°å¼ç¼–ç¨‹ï¼›
- `react` ç›®å‰åœ¨å…¨çƒèŒƒå›´å†…ï¼Œæ˜¯ä½¿ç”¨äººæ•°æœ€å¤šçš„å‰ç«¯æ¡†æ¶ï¼ŒåŒæ—¶å®ƒæ‹¥æœ‰å¥å…¨çš„æ–‡æ¡£ä¸å®Œå–„çš„ç¤¾åŒºï¼›
- `React Fiber` æ˜¯ `React 16` çš„ç‰ˆæœ¬ï¼Œå®ƒä¸º `React` åšäº†å¾ˆå¤šåº•å±‚çš„ä¼˜åŒ–ã€‚

## 2. å¼€å‘ç¯å¢ƒæ­å»º

åœ¨è¿›å…¥ `react` çš„åŸºç¡€å­¦ä¹ ä¹‹å‰ï¼Œæˆ‘ä»¬é¦–å…ˆæ¥æ­å»º `react` çš„å¼€å‘ç¯å¢ƒã€‚å¯¹äº `react` çš„ç¯å¢ƒæ­å»ºæ¥è¯´ï¼Œä¸€èˆ¬æœ‰ä¸¤ç§æ–¹å¼ï¼Œ**åˆ†åˆ«æ˜¯ï¼š**

- é€šè¿‡å¼•å…¥ `.js` æ–‡ä»¶æ¥ä½¿ç”¨ `React` ï¼›
- é€šè¿‡è„šæ‰‹æ¶å·¥å…·æ¥ç¼–ç ï¼Œæ¯”å¦‚ `GRUNT` ã€ `Gulp` å’Œ `webpack` ï¼›
- ä½¿ç”¨ `create-react-app` æ¥æ­å»ºç¯å¢ƒã€‚

é‚£ä¹ˆç°åœ¨ï¼Œæˆ‘ä»¬ç”¨ `create-react-app` æ¥æ­å»ºä¸€ä¸ª `react` é¡¹ç›®ã€‚**å…·ä½“å‘½ä»¤è¡Œå¦‚ä¸‹ï¼š**

```js
npx create-react-app my-app
cd my-app
npm start
```

## 3. å·¥ç¨‹ç›®å½•æ–‡ä»¶ç®€ä»‹

åˆå§‹åŒ–å®Œä¸€ä¸ªé¡¹ç›®åï¼Œæˆ‘ä»¬æ¥äº†è§£ä¸‹ `react` çš„é¡¹ç›®ç»“æ„ã€‚**å…·ä½“å¦‚ä¸‹ï¼š**

```bash
â”œâ”€â”€ public
  â”œâ”€â”€ favicon.ico ç½‘é¡µicon
  â”œâ”€â”€ index.html é¦–é¡µçš„htmlæ¨¡æ¿
  â”œâ”€â”€ manifest.json ç¼“å­˜æ–‡ä»¶
â”œâ”€â”€ src
  â”œâ”€â”€ App.css
  â”œâ”€â”€ App.js å¡«å†™ç»„ä»¶çš„å†…å®¹
  â”œâ”€â”€ App.test.js è‡ªåŠ¨åŒ–æµ‹è¯•æ–‡ä»¶
  â”œâ”€â”€ index.css
  â”œâ”€â”€ index.js æ•´ä¸ªç¨‹åºè¿è¡Œçš„å…¥å£æ–‡ä»¶
  â”œâ”€â”€ logo.svg
  â”œâ”€â”€ registerServiceWorker å€ŸåŠ©ç½‘é¡µå†™æ‰‹æœºappçš„åŠŸèƒ½
â”œâ”€â”€ README.md é¡¹ç›®çš„è¯´æ˜æ–‡ä»¶
â”œâ”€â”€ yarn.lock é¡¹ç›®ä¾èµ–å®‰è£…åŒ…çš„ä¸€äº›ç‰ˆæœ¬å·
```

## 4. react ä¸­æœ€åŸºç¡€çš„ JSX è¯­æ³•

ä»¥å‰æˆ‘ä»¬åœ¨å†™åƒ `<div></div>` è¿™ç§ç±»ä¼¼çš„è¯­æ³•æ—¶ï¼Œä¸€èˆ¬éƒ½æ˜¯å†™åœ¨ `HTML` æ–‡ä»¶é‡Œé¢ã€‚é‚£ä¹ˆï¼Œåœ¨ `react` ä¸­ï¼Œåƒ `<div></div>` è¿™ç§ç±»å‹çš„ä»£ç ï¼Œæ˜¯åœ¨ `JS` ä¸­å»å†™çš„ã€‚å› æ­¤ï¼Œåœ¨ `js` ä¸­å†™çš„ `html` ä»£ç ï¼Œè¢«ç§°ä¹‹ä¸º `jsx` è¯­æ³•ã€‚

å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œåœ¨ `react` ä¸­ä½¿ç”¨è‡ªå·±å®šä¹‰çš„ç»„ä»¶æ—¶ï¼Œ**ç»„ä»¶åå¿…é¡»ä»¥å¤§å†™ä¸ºå¼€å¤´**ï¼Œå°å†™å¼€å¤´åœ¨ `jsx` ä¸­æ˜¯ä¸æ”¯æŒçš„ï¼Œè¿™ä¸€ç‚¹éœ€è¦ç¨å¾®æ³¨æ„ä¸€ä¸‹ã€‚

æ‰€ä»¥ï¼Œä¸€èˆ¬çœ‹åˆ°**ä»¥å¤§å†™ä¸ºå¼€å¤´**æ—¶ï¼Œæ¯”å¦‚ `<App />` ï¼Œåˆ™è¯´æ˜æ˜¯æˆ‘ä»¬è‡ªå·±å®šä¹‰çš„ç»„ä»¶ã€‚å¦‚æœæ˜¯**å°å†™ä¸ºå¼€å¤´**æ—¶ï¼Œåˆ™ä¸€èˆ¬æ˜¯åŸå§‹çš„ `HTML5` æ ‡ç­¾ï¼Œå¦‚ `<div></div>` ã€‚

# ğŸ›¸ äºŒã€ä½¿ç”¨ react ç¼–å†™ TodoList åŠŸèƒ½

## 1. é¡µé¢æ„æ€

é¦–å…ˆï¼Œæˆ‘ä»¬éœ€è¦å…ˆæ¥å¯¹é¡µé¢çš„å†…å®¹è¿›è¡Œæ„é€ ã€‚æˆ‘ä»¬åœ¨é¡¹ç›®çš„ `src`æ–‡ä»¶å¤¹ä¸‹åˆ›å»ºä¸€ä¸ªæ–‡ä»¶ï¼Œå‘½åä¸º `TodoList` ã€‚**å…·ä½“ä»£ç å¦‚ä¸‹ï¼š**

```js
import React, { Component, Fragment } from 'react';

class TodoList extends Component {
  render() {
    return (
      <Fragment>
        <div>
          <input />
          <button></button>
        </div>
        <ul>
          <li>å­¦è‹±è¯­</li>
          <li>Learning React</li>
        </ul>
      </Fragment>
    );
  }
}

export default TodoList;
```

**æ­¤æ—¶æµè§ˆå™¨çš„æ˜¾ç¤ºæ•ˆæœå¦‚ä¸‹ï¼š**

![todolistæ˜¾ç¤ºæ•ˆæœ](https://mondaylab-1309616765.cos.ap-shanghai.myqcloud.com/images/202305270704299.png)

## 2. React ä¸­çš„å“åº”å¼è®¾è®¡æ€æƒ³å’Œäº‹ä»¶ç»‘å®š

ä¸Šé¢æˆ‘ä»¬ç®€å•äº†æ˜¾ç¤ºäº† `todolist` çš„åŸºæœ¬åŠŸèƒ½ï¼Œé‚£ç°åœ¨ï¼Œæˆ‘ä»¬æƒ³è¦å®ç°çš„æ˜¯ï¼Œç‚¹å‡»**æäº¤**æŒ‰é’®ï¼Œå¯ä»¥æŠŠ `input` æ¡†é‡Œé¢çš„å†…å®¹æ˜¾ç¤ºåœ¨åˆ—è¡¨ä¸‹æ–¹ï¼Œè¿™åˆè¯¥æ€ä¹ˆå¤„ç†å‘¢ï¼Ÿ

å¦‚æœæŒ‰ç…§æˆ‘ä»¬æ­£å¸¸çš„æ€ç»´æ¥æƒ³çš„è¯ï¼Œæˆ‘ä»¬å¯èƒ½ä¼šè§‰å¾—ï¼Œåœ¨æäº¤æŒ‰é’®ä¸­ç»‘å®šä¸€ä¸ªäº‹ä»¶ï¼Œä¹‹åå‘¢ï¼Œå½“ç‚¹å‡»ç»‘å®šæŒ‰é’®æ—¶ï¼Œè·å–åˆ° `input` æ¡†çš„å€¼ï¼Œè¿›è¡Œç»‘å®šæäº¤ã€‚

ä½†äº‹å®ä¸Šï¼Œ `react` å¼ºè°ƒçš„æ˜¯ï¼Œæˆ‘ä»¬**ä¸è¦ç›´æ¥æ“ä½œ `DOM`** ï¼Œè€Œæ˜¯**è¦æ“ä½œæ•°æ®**ã€‚å½“æ•°æ®å‘ç”Ÿå˜åŒ–æ—¶ï¼Œ `react` ä¼šè‡ªåŠ¨åœ°æ„ŸçŸ¥åˆ°æˆ‘ä»¬æ•°æ®å‘ç”Ÿçš„å˜åŒ–ï¼Œä¼šè‡ªåŠ¨åœ°å¸®æˆ‘ä»¬ç”Ÿæˆ `DOM` ã€‚

å› æ­¤ï¼Œåœ¨å†™ `react` æ—¶ï¼Œæˆ‘ä»¬ä¸éœ€è¦å…³å¿ƒ `DOM` å±‚é¢çš„æ“ä½œï¼Œåªéœ€è¦å»**å…³å¿ƒæ•°æ®å±‚é¢çš„æ“ä½œ**å³å¯ã€‚

ç°åœ¨ï¼Œæˆ‘ä»¬å…ˆæ¥ç›‘å¬ `input` æ¡†çš„å€¼ã€‚**å…·ä½“ä»£ç å¦‚ä¸‹ï¼š**

```js
import React, { Component, Fragment } from 'react';

class TodoList extends Component {
  constructor(props) {
    super(props);
    this.state = {
      inputValue: 'hello!!',
      list: [],
    };
  }

  render() {
    return (
      <Fragment>
        <div>
          <input
            value={this.state.inputValue}
            onChange={this.handleInputChange.bind(this)}
          />
          <button>æäº¤</button>
        </div>
        <ul>
          <li>å­¦è‹±è¯­</li>
          <li>Learning React</li>
        </ul>
      </Fragment>
    );
  }

  handleInputChange(e) {
    this.setState({
      inputValue: e.target.value,
    });
  }
}

export default TodoList;
```

**æ­¤æ—¶æµè§ˆå™¨çš„æ‰“å°æ•ˆæœä¸ºï¼š**

![inputæ¡†å€¼ç»‘å®šæ˜¾ç¤ºæ•ˆæœ](https://mondaylab-1309616765.cos.ap-shanghai.myqcloud.com/images/202305270705639.gif)

å¤§å®¶å¯ä»¥çœ‹åˆ°ï¼Œæˆ‘ä»¬æ­£ç¡®çš„ä½¿å¾— `input` æ¡†å“åº”åˆ°äº†æ•°æ®ã€‚

é‚£åœ¨ä¸Šé¢çš„è¿™æ®µä»£ç ä¸­ï¼Œéœ€è¦äº†è§£çš„çŸ¥è¯†ç‚¹æœ‰ä»¥ä¸‹å‡ ç‚¹ã€‚**åˆ†åˆ«æ˜¯ï¼š**

- `state` è´Ÿè´£å­˜å‚¨ç»„ä»¶ä¸­çš„æ•°æ®ï¼›
- å¦‚æœæƒ³è¦åœ¨ `html` ä»£ç ä¸­ç”¨ä¸€äº› `js` çš„è¡¨è¾¾å¼ï¼Œé‚£ä¹ˆè¦è®°å¾—ç”¨ `{}` è¿›è¡ŒåŒ…è£¹ï¼›
- åœ¨è¿›è¡Œäº‹ä»¶ç»‘å®šæ—¶ï¼Œè®°å¾—ä½¿ç”¨ `bind(this)` å¯¹äº‹ä»¶çš„ä½œç”¨åŸŸè¿›è¡Œå˜æ›´ï¼›
- å½“ä½ æƒ³è¦**æ”¹å˜æ•°æ®é¡¹**æ—¶ï¼Œä¸èƒ½ç›´æ¥ä½¿ç”¨ `this.state` æ¥æ”¹å˜æ•°æ®çš„å€¼ï¼Œè¦é€šè¿‡ `setState` å‡½æ•°æ¥è¿›è¡Œæ”¹å˜ã€‚

## 3. å®ç° TodoList æ–°å¢åˆ é™¤åŠŸèƒ½

### ï¼ˆ1ï¼‰æ–°å¢åŠŸèƒ½

åœ¨ä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œæˆ‘ä»¬å®ç°äº† `input` æ¡†ä¸­å€¼çš„è·å–ã€‚é‚£ç°åœ¨ï¼Œæˆ‘ä»¬è¦æ¥å®ç°ç‚¹å‡»**æäº¤**è¿™ä¸ªæŒ‰é’®ï¼Œèƒ½å¤Ÿå®ç°å¯¹ `input` æ¡†ä¸­å€¼çš„æ–°å¢ã€‚åŒæ ·åœ°ï¼Œæ˜¯åœ¨ `TodoList.js` æ–‡ä»¶ä¸‹è¿›è¡Œä¿®æ”¹ã€‚**å…·ä½“ä»£ç å¦‚ä¸‹ï¼š**

```js
import React, { Component, Fragment } from 'react';

class TodoList extends Component {
  constructor(props) {
    super(props);
    this.state = {
      inputValue: 'Monday',
      list: [],
    };
  }

  render() {
    return (
      <Fragment>
        <div>
          <input
            value={this.state.inputValue}
            onChange={this.handleInputChange.bind(this)}
          />
          <button onClick={this.handleBtnClick.bind(this)}>æäº¤</button>
        </div>
        <ul>
          {this.state.list.map((item, index) => {
            return <li key={index}>{item}</li>;
          })}
        </ul>
      </Fragment>
    );
  }

  handleInputChange(e) {
    this.setState({
      inputValue: e.target.value,
    });
    // console.log(e.target.value)
  }

  handleBtnClick() {
    // ... å±•å¼€è¿ç®—ç¬¦ä¼šå°†ä¹‹å‰çš„æ•°ç»„è¿›è¡Œå±•å¼€ï¼Œå¹¶ç”Ÿæˆä¸€ä¸ªå…¨æ–°çš„æ•°ç»„
    // å°†inputæ¡†çš„å€¼å’Œlistçš„å€¼è¿›è¡Œåˆå¹¶å½¢æˆä¸€ä¸ªæ–°çš„æ•°ç»„
    this.setState({
      list: [...this.state.list, this.state.inputValue],
      inputValue: '',
    });
  }
}

export default TodoList;
```

**æ­¤æ—¶æµè§ˆå™¨çš„æ˜¾ç¤ºæ•ˆæœå¦‚ä¸‹ï¼š**

![inputæ¡†ä¸­å€¼çš„æ–°å¢åŠŸèƒ½](https://mondaylab-1309616765.cos.ap-shanghai.myqcloud.com/images/202305270705981.gif)

åœ¨ä¸Šé¢çš„ä»£ç ä¸­ï¼Œéœ€è¦äº†è§£çš„çŸ¥è¯†ç‚¹æœ‰ï¼š

- æˆ‘ä»¬å…ˆåœ¨ `button` ä¸­ç»‘å®šäº† `handleBtnClick` äº‹ä»¶ï¼›
- ä¹‹åé€šè¿‡å±•å¼€è¿ç®—ç¬¦ `...` ï¼Œå°†æ•°ç»„çš„å†…å®¹ç»™åˆå¹¶åˆ° `list` æ•°ç»„ä¸­ï¼›
- æœ€åï¼Œä½¿ç”¨ `js` ä¸­çš„ `map()` æ–¹æ³•ï¼Œå°†æ•°ç»„åˆ—è¡¨ä¸­çš„å†…å®¹ç»™éå†å‡ºæ¥ã€‚

### ï¼ˆ2ï¼‰åˆ é™¤åŠŸèƒ½

ç»§ç»­ï¼Œæˆ‘ä»¬æ¥å®ç°åˆ é™¤åŠŸèƒ½ã€‚å…·ä½“ä»£ç å¦‚ä¸‹ï¼š

```js
import React, { Component, Fragment } from 'react';

class TodoList extends Component {
  constructor(props) {
    super(props);
    this.state = {
      inputValue: 'Monday',
      list: [],
    };
  }

  render() {
    return (
      <Fragment>
        <div>
          <input
            value={this.state.inputValue}
            onChange={this.handleInputChange.bind(this)}
          />
          <button onClick={this.handleBtnClick.bind(this)}>æäº¤</button>
        </div>
        <ul>
          {this.state.list.map((item, index) => {
            return (
              <li key={index} onClick={this.handleItemDelete.bind(this, index)}>
                {item}
              </li>
            );
          })}
        </ul>
      </Fragment>
    );
  }

  handleInputChange(e) {
    this.setState({
      inputValue: e.target.value,
    });
  }

  handleBtnClick() {
    this.setState({
      list: [...this.state.list, this.state.inputValue],
      inputValue: '',
    });
  }

  handleItemDelete(index) {
    const list = [...this.state.list];
    list.splice(index, 1);

    this.setState({
      list: list,
    });
  }
}

export default TodoList;
```

åœ¨ä¸Šé¢çš„ä»£ç ä¸­ï¼Œæˆ‘ä»¬åœ¨æ¯ä¸€ä¸ª `<li>` æ ‡ç­¾ä¸‹ç»‘å®šäº† `handleItemDelete` äº‹ä»¶ï¼Œä¹‹åå‘¢ï¼Œé€šè¿‡ä¼ é€’å®ƒçš„ `id` å€¼ `index` ï¼ŒåŒæ—¶ï¼Œé…åˆ `splice()` æ–¹æ³•ï¼Œæ¥åˆ é™¤æ‰æ‰ `list` ä¸­å…·ä½“çš„å†…å®¹ã€‚

---

å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œåœ¨ `react` ä¸­ï¼Œ**å®ƒæ˜¯ä¸å…è®¸æˆ‘ä»¬å¯¹ `state` åšä»»ä½•æ”¹å˜çš„**ã€‚æ¯”å¦‚è¯´ï¼Œæˆ‘ä»¬æƒ³è¦æŠŠä¸Šé¢åˆ é™¤ä»£ç çš„é€»è¾‘è¿™ä¹ˆå†™ï¼š

```js
handleItemDelete(index) {
	this.state.list.splice(index, 1);

    this.setState({
        list: this.state.list
    })
}
```

å¦‚æœæˆ‘ä»¬ç›´æ¥å»æ“ä½œ `this` æ¥æ”¹å˜æœ€åçš„ç»“æœï¼Œè¿™ä¼šä½¿å¾—å‡½æ•°å˜å¾—å¾ˆéš¾ç”¨ã€‚åŒæ—¶ï¼Œè¿™ç§æ–¹å¼åœ¨ `react` ä¸­ä¹Ÿæ˜¯ä¸å…è®¸æ»´ï¼è¿™æ˜¯åº”è¯¥æ³¨æ„çš„ä¸€ä¸ªç‚¹ï¼

# ğŸª ä¸‰ã€å¯¹ TodoList åŠŸèƒ½è¿›è¡Œè¿›é˜¶æ“ä½œ

## 1. JSX è¯­æ³•ç»†èŠ‚è¡¥å……

### ï¼ˆ1ï¼‰è‡ªåŠ¨è½¬ä¹‰

å¦‚æœåœ¨ `jsx` ä¸­ï¼Œæˆ‘ä»¬å¸Œæœ›æ˜¾ç¤ºä¸€äº›å†…å®¹ï¼Œä¸”è¿™äº›å†…å®¹æˆ‘ä»¬å¸Œæœ›å®ƒè‡ªåŠ¨è½¬ä¹‰ã€‚åƒä¸‹å›¾è¿™æ ·ï¼š

![ä¸è½¬ä¹‰å‰æ•ˆæœ](https://mondaylab-1309616765.cos.ap-shanghai.myqcloud.com/images/202305270705055.png)

å¤§å®¶å¯ä»¥çœ‹åˆ°ï¼Œå¦‚æœä¸è½¬ä¹‰æ—¶ï¼Œé‚£ä¹ˆå®ƒç›´æ¥æ˜¾ç¤ºé™¤å‡ºäº† `<h1></h1>` æ ‡ç­¾ã€‚ä½†å…¶å®æˆ‘ä»¬å¸Œæœ›çš„æ˜¯ï¼Œæƒ³è¦æŠŠå®ƒè½¬ä¹‰æˆä¸€çº§æ ‡ç­¾çš„å†…å®¹ã€‚é‚£åº”è¯¥æ€ä¹ˆå¤„ç†å‘¢ï¼Ÿ

---

æˆ‘ä»¬å°±é€šè¿‡ `dangerouslySetInnerHTML` è¿™ä¸ªå±æ€§æ¥å¯¹ `html` è¿›è¡Œè®¾ç½®ï¼Œå·²è¾¾åˆ°å¯¹ `<li>` æ ‡ç­¾ä¸‹çš„å†…å®¹è¿›è¡Œæ”¹å˜ï¼Œ**å…·ä½“ä»£ç å¦‚ä¸‹ï¼š**

```js
<li
  key={index}
  onClick={this.handleItemDelete.bind(this, index)}
  dangerouslySetInnerHTML={{ __html: item }}
></li>
```

**æˆ‘ä»¬æ¥çœ‹ä¸‹æ˜¾ç¤ºæ•ˆæœï¼š**

![htmlè½¬ä¹‰](https://mondaylab-1309616765.cos.ap-shanghai.myqcloud.com/images/202305270705951.gif)

é€šè¿‡å¯¹ `dangerouslySetInnerHTML` çš„è®¾ç½®ï¼Œæˆ‘ä»¬ `html` çš„å†…å®¹è¿›è¡Œäº†è½¬ä¹‰ã€‚

### ï¼ˆ2ï¼‰å…‰æ ‡èšç„¦

åœ¨å®é™…çš„å®è·µä¸­ï¼Œå¯¹äº `input` æ¡†æ¥è¯´ï¼Œæˆ‘ä»¬å¾€å¾€ä¼šæƒ³è¦ç‚¹å‡»æŸä¸ªæ–‡æœ¬ï¼Œç„¶åè®©å®ƒå»èšç„¦åˆ° `input` æ¡†ä¸­è¾“å…¥å†…å®¹ã€‚é‚£è¿™åº”è¯¥æ€ä¹ˆå¤„ç†å‘¢ï¼Ÿ

æˆ‘ä»¬ç»§ç»­æ¥æ”¹é€  `jsx` ä»£ç ã€‚**å…·ä½“ä»£ç å¦‚ä¸‹ï¼š**

```js
render() {
        return (
            <Fragment>
                <div>
                    <label htmlFor="insertArea">è¾“å…¥å†…å®¹</label>
                    <input
                        id="insertArea"
                        className="input"
                        value={this.state.inputValue}
                        onChange={this.handleInputChange.bind(this)}
                    />
                    <button onClick={this.handleBtnClick.bind(this)}>æäº¤</button>
                </div>
                <ul>
                    {
                        this.state.list.map((item, index) => {
                            return (
                                <li
                                    key={index}
                                    onClick={this.handleItemDelete.bind(this, index)}
                                    dangerouslySetInnerHTML={{ __html: item }}
                                >
                                </li>
                            )
                        })
                    }
                </ul>
            </Fragment>
        )
    }
```

**æ­¤æ—¶æµè§ˆå™¨çš„æ˜¾ç¤ºæ•ˆæœä¸ºï¼š**

![å…‰æ ‡èšç„¦](https://mondaylab-1309616765.cos.ap-shanghai.myqcloud.com/images/202305270705121.gif)

å¤§å®¶å¯ä»¥çœ‹åˆ°ï¼Œå½“æˆ‘ä»¬ç‚¹å‡»**è¾“å…¥å†…å®¹**è¿™å››ä¸ªå­—æ—¶ï¼Œå…‰æ ‡å°±è‡ªåŠ¨åœ°èšç„¦åˆ° `input` æ¡†ä¸Šï¼Œå¹¶ä¸”èƒ½å¤Ÿè¿›è¡Œè‡ªç”±åœ°è¾“å…¥ã€‚é‚£è¿™æ ·çš„åŠŸèƒ½æ˜¯æ€ä¹ˆå®ç°çš„å‘¢ï¼Ÿ

åœ¨ä¸Šé¢çš„ä»£ç ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œé€šè¿‡ **`label` æ ‡ç­¾**å’Œ **`htmlFor`** æ¥å¯¹å†…å®¹è¿›è¡Œç»‘å®šï¼Œä»¥è¾¾åˆ°æœ€ç»ˆæˆ‘ä»¬æƒ³è¦å®ç°çš„æ•ˆæœã€‚

## 2. æ‹†åˆ†ç»„ä»¶ä¸ç»„ä»¶ä¹‹é—´çš„ä¼ å€¼

åœ¨å®é™…çš„é¡¹ç›®ä¸­ï¼Œå¯¹äºä¸€ä¸ªå¤§çš„ç»„ä»¶æ¥è¯´ï¼Œæˆ‘ä»¬æ€»æ˜¯ä¼šå¯¹å…¶è¿›è¡Œç»„ä»¶æ‹†åˆ†ã€‚é‚£å¯¹äºä¸Šé¢è¿™ä¸ª `todoList` ç»„ä»¶æ¥è¯´ï¼Œä¹Ÿä¸ä¾‹å¤–ã€‚

æˆ‘ä»¬å¯ä»¥æŠŠ â‘  è¾“å…¥å†…å®¹ï¼Œâ‘¡ `input` æ¡† å’Œ â‘¢ æäº¤æŒ‰é’®æ‹†åˆ†æˆä¸€ä¸ªç»„ä»¶ã€‚ä¹‹åå‘¢ï¼ŒæŠŠ `list` åˆ—è¡¨æ‹†åˆ†æˆå¦å¤–ä¸€ä¸ªç»„ä»¶ã€‚é‚£æ¥ä¸‹æ¥æˆ‘ä»¬æ¥å¯¹è¿™ä¸ªç»„ä»¶è¿›è¡Œæ‹†åˆ†ä»¥åŠçˆ¶å­ç»„ä»¶é—´æ•°æ®çš„ä¼ é€’ã€‚

é¦–å…ˆæˆ‘ä»¬åœ¨é¡¹ç›®çš„ `src` æ–‡ä»¶å¤¹ä¸‹æ·»åŠ ä¸€ä¸ªæ–°çš„æ–‡ä»¶ã€‚å‘½åä¸º `TodoItem.js` ã€‚**å…·ä½“ä»£ç å¦‚ä¸‹ï¼š**

```js
import React, { Component } from 'react';

class TodoItem extends Component {
  constructor(props) {
    super(props);
    this.handleClick = this.handleClick.bind(this);
  }

  render() {
    return <div onClick={this.handleClick}>{this.props.content}</div>;
  }

  handleClick() {
    this.props.deleteItem(this.props.index);
  }
}

export default TodoItem;
```

ç°åœ¨ï¼Œæˆ‘ä»¬æ¥æ”¹é€  `TodoList.js` æ–‡ä»¶ã€‚**å…·ä½“ä»£ç å¦‚ä¸‹ï¼š**

```js
import React, { Component, Fragment } from 'react';
import './style.css';
import TodoItem from './TodoItem';

class TodoList extends Component {
  constructor(props) {
    super(props);
    this.state = {
      inputValue: 'Monday',
      list: [],
    };
  }

  render() {
    return (
      <Fragment>
        <div>
          <label htmlFor='insertArea'>è¾“å…¥å†…å®¹</label>
          <input
            id='insertArea'
            className='input'
            value={this.state.inputValue}
            onChange={this.handleInputChange.bind(this)}
          />
          <button onClick={this.handleBtnClick.bind(this)}>æäº¤</button>
        </div>
        <ul>
          {this.state.list.map((item, index) => {
            return (
              <div>
                {/* çˆ¶ç»„ä»¶å°†contentï¼Œindex å’Œ deleteItem å°†å¯¹åº”çš„å†…å®¹ä¼ é€’ç»™å­ç»„ä»¶ */}
                <TodoItem
                  content={item}
                  index={index}
                  deleteItem={this.handleItemDelete.bind(this)}
                />
                {/*<li
                                        key={index}
                                        onClick={this.handleItemDelete.bind(this, index)}
                                        dangerouslySetInnerHTML={{ __html: item }}
                                    >
                                    </li>*/}
              </div>
            );
          })}
        </ul>
      </Fragment>
    );
  }

  handleInputChange(e) {
    this.setState({
      inputValue: e.target.value,
    });
    // console.log(e.target.value)
  }

  handleBtnClick() {
    // ... å±•å¼€è¿ç®—ç¬¦ä¼šå°†ä¹‹å‰çš„æ•°ç»„è¿›è¡Œå±•å¼€ï¼Œå¹¶ç”Ÿæˆä¸€ä¸ªå…¨æ–°çš„æ•°ç»„
    // å°†inputæ¡†çš„å€¼å’Œlistçš„å€¼è¿›è¡Œåˆå¹¶å½¢æˆä¸€ä¸ªæ–°çš„æ•°ç»„
    this.setState({
      list: [...this.state.list, this.state.inputValue],
      inputValue: '',
    });
  }

  handleItemDelete(index) {
    const list = [...this.state.list];
    list.splice(index, 1);

    this.setState({
      list: list,
    });
  }
}

export default TodoList;
```

å°±è¿™æ ·ï¼Œæˆ‘ä»¬å¯¹ç»„ä»¶è¿›è¡Œæ‹†åˆ†ï¼Œè¾¾åˆ°äº†ä¸ä¸Šé¢æœªæ‹†åˆ†å‰ä¸€æ ·çš„æ•ˆæœã€‚

é‚£ç°åœ¨ï¼Œæˆ‘ä»¬æ¥æ¢³ç†ä¸‹å…¶ä¸­çš„çŸ¥è¯†ç‚¹ã€‚**ä¸»è¦æœ‰ä»¥ä¸‹ä¸¤ä¸ªçŸ¥è¯†ç‚¹ï¼š**

- å¦‚ä½•è¿›è¡Œç»„ä»¶çš„æ‹†åˆ†
- çˆ¶ç»„ä»¶å‘å­ç»„ä»¶ä¼ é€’å€¼ï¼Œåº”è¯¥æ€ä¹ˆä¼ é€’

é¦–å…ˆï¼Œæˆ‘ä»¬åˆ›å»ºäº†ä¸€ä¸ªæ–°çš„æ–‡ä»¶ `TodoItem` ï¼Œæ¥**å­˜æ”¾åˆ—è¡¨çš„å†…å®¹**ï¼Œè¿™æ˜¯ç¬¬ä¸€ç‚¹ã€‚

å…¶æ¬¡ï¼Œæœ‰äº†åˆ—è¡¨çš„å†…å®¹åï¼Œæˆ‘ä»¬è¦æ¥æƒ³ï¼Œçˆ¶å­ç»„ä»¶é—´çš„æ•°æ®ï¼Œæ€ä¹ˆä¼ é€’ã€‚é‚£äº‹å®ä¸Šï¼Œçˆ¶ç»„ä»¶å‘å­ç»„ä»¶ä¼ é€’å†…å®¹ï¼Œé€šè¿‡**å±æ€§**çš„å½¢å¼æ¥ä¼ é€’ã€‚å¤§å®¶çœ‹åˆ°çˆ¶ç»„ä»¶ä¸­ `<TodoItem />` çš„ä½ç½®ï¼Œåœ¨çˆ¶ç»„ä»¶ä¸­ï¼Œé€šè¿‡ `content={item}` è¿™æ ·çš„å½¢å¼ï¼Œæ¥æŠŠ `item` å‘½åä¸º `content` ï¼Œå¹¶å°†å…¶ä¼ é€’ç»™å­ç»„ä»¶ã€‚

è€Œå¯¹äºå­ç»„ä»¶ `<TodoItem />` æ¥è¯´ï¼Œå®ƒå°†ä»¥ `this.props` çš„æ–¹å¼æ¥**è°ƒç”¨çˆ¶ç»„ä»¶çš„æ•°æ®å’Œäº‹ä»¶**ã€‚

## 3. TodoList ä»£ç ä¼˜åŒ–

åœ¨ä¸Šé¢çš„ä»£ç ä¸­ï¼Œæˆ‘ä»¬å¯¹ç»„ä»¶è¿›è¡Œæ‹†åˆ†ï¼Œä»¥åŠå®ç°äº†çˆ¶å­ç»„ä»¶é—´çš„æ•°æ®ä¼ é€’ã€‚

ä½†ç»†å¿ƒçš„å°ä¼™ä¼´å¯èƒ½å·²ç»å‘ç°ï¼Œä»£ç è¿™ä¹ˆå†™å¯èƒ½è¿˜ä¸å¤Ÿç¾è§‚ã€‚å› æ­¤ï¼Œæˆ‘ä»¬æ¥å¯¹è¿™ä¸¤ä¸ªç»„ä»¶çš„ä»£ç è¿›è¡Œä¼˜åŒ–ã€‚

é¦–å…ˆæ˜¯ `TodoItem.js` ã€‚**å…·ä½“ä»£ç å¦‚ä¸‹ï¼š**

```js
import React, { Component } from 'react';

class TodoItem extends Component {
  constructor(props) {
    super(props);
    this.handleClick = this.handleClick.bind(this);
  }

  render() {
    const { content } = this.props;
    return (
      <div onClick={this.handleClick}>
        {/* {this.props.content} */}
        {content}
      </div>
    );
  }

  handleClick() {
    const { deleteItem, index } = this.props;
    deleteItem(index);
  }
}

export default TodoItem;
```

æˆ‘ä»¬æŠŠ `this.props` ç»™å•ç‹¬æå–å‡ºæ¥ï¼Œä¹‹åå†å°†å…¶æ”¾åœ¨ç»„ä»¶å½“ä¸­ä½¿ç”¨ã€‚åŒæ—¶å‘¢ï¼Œæˆ‘ä»¬è¿˜å¯¹ `this.handleClick.bind(this)` å•ç‹¬æå–å‡ºæ¥ï¼Œè¿™æ ·ä¹Ÿä½¿å¾—ç»„ä»¶æ›´åŠ ç¾è§‚ã€‚

---

å…¶æ¬¡ï¼Œæˆ‘ä»¬æ¥æ”¹é€  `TodoList.js` ã€‚**å…·ä½“ä»£ç å¦‚ä¸‹ï¼š**

```js
import React, { Component, Fragment } from 'react';
import TodoItem from './TodoItem';
import './style.css';

class TodoList extends Component {
  constructor(props) {
    super(props);
    this.state = {
      inputValue: 'Monday',
      list: [],
    };
    this.handleInputChange = this.handleInputChange.bind(this);
    this.handleBtnClick = this.handleBtnClick.bind(this);
    this.handleItemDelete = this.handleItemDelete.bind(this);
  }

  render() {
    return (
      <Fragment>
        <div>
          <label htmlFor='insertArea'>è¾“å…¥å†…å®¹</label>
          <input
            id='insertArea'
            className='input'
            value={this.state.inputValue}
            onChange={this.handleInputChange}
          />
          <button onClick={this.handleBtnClick}>æäº¤</button>
        </div>
        <ul>{this.getTodoItem()}</ul>
      </Fragment>
    );
  }

  getTodoItem() {
    // çˆ¶ç»„ä»¶å°†contentï¼Œindex å’Œ deleteItem å°†å¯¹åº”çš„å†…å®¹ä¼ é€’ç»™å­ç»„ä»¶
    return this.state.list.map((item, index) => {
      return (
        <TodoItem
          key={index}
          content={item}
          index={index}
          deleteItem={this.handleItemDelete}
        />
      );
    });
  }

  handleInputChange(e) {
    const value = e.target.value;
    this.setState(() => ({
      inputValue: value,
    }));
    // console.log(e.target.value)
  }

  handleBtnClick() {
    // prevStateè¡¨ç¤ºåœ¨ä¿®æ”¹æ•°æ®ä¹‹å‰æ•°æ®æ˜¯æ€ä¹ˆæ ·çš„ï¼Œé¿å…ä¸å°å¿ƒçš„æ”¹å˜stateçš„çŠ¶æ€
    this.setState((prevState) => ({
      list: [...prevState.list, prevState.inputValue],
      inputValue: '',
    }));
  }

  handleItemDelete(index) {
    this.setState((prevState) => {
      const list = [...prevState.list];
      list.splice(index, 1);
      return { list };
    });
  }
}

export default TodoList;
```

åŒæ ·åœ°ï¼Œæˆ‘ä»¬å…ˆæŠŠ `handleInputChange` ã€ `handleBtnClick` ã€ `handleItemDelete` è¿™ä¸‰ä¸ªäº‹ä»¶ç»™æŠ½ç¦»å‡ºæ¥ã€‚

å…¶æ¬¡å‘¢ï¼Œæˆ‘ä»¬æŠŠ `this.state.list.map()` ç»™å•ç‹¬å‡ºæ¥å½¢æˆ `getTodoItem()` æ–¹æ³•ï¼Œå¹¶ä½¿ç”¨ `{this.getTodoItem()}` è¿›è¡Œè°ƒç”¨ã€‚

æœ€åï¼Œæˆ‘ä»¬åˆ†åˆ«å¯¹äº‹ä»¶ä¸­çš„ `this.setState({})` è¿›è¡Œå‡çº§æ”¹é€ ï¼Œå°†å½“å‰æ‰€æœ‰äº‹ä»¶ä¸­çš„æ‰€æœ‰æ•°æ®éƒ½å°è£…åœ¨ä¸€ä¸ªå‡½æ•°å†…ã€‚

# ğŸŒ  å››ã€å›´ç»• React è¡ç”Ÿå‡ºçš„æ€è€ƒ

ä¸Šé¢æˆ‘ä»¬åŸºæœ¬å®Œæˆäº†å¯¹ `TodoList` åŠŸèƒ½çš„å¼€å‘ã€‚é‚£ä¹ˆç°åœ¨ï¼Œæˆ‘ä»¬å°†å›´ç»•ç€æˆ‘ä»¬æ‰€å­¦çš„ï¼Œæ¥è¡ç”Ÿå‡º `react` çš„ä¸€äº›ç•ªå¤–çš„çŸ¥è¯†ç‚¹ã€‚**å…·ä½“å¦‚ä¸‹ï¼š**

- **å£°æ˜å¼å¼€å‘** â€”â€” ä»¥å‰æˆ‘ä»¬åœ¨ `js` çš„å¼€å‘ä¸­ï¼Œéƒ½æ˜¯å¤§é‡çš„æ“ä½œ `DOM` ï¼Œè¿™ç§å¼€å‘æ–¹å¼ç§°ä¸º**å‘½ä»¤å¼å¼€å‘**ã€‚åˆ°ç°åœ¨ï¼Œæˆ‘ä»¬åœ¨ä½¿ç”¨ `react` æ—¶ï¼ŒåŸºæœ¬éƒ½æ˜¯ç›´æ¥æ“ä½œæ•°æ®ï¼Œè€Œä¸æ˜¯æ“ä½œ `DOM` ã€‚é‚£ä¹ˆè¿™æ ·çš„å¼€å‘æ–¹å¼ï¼Œè¢«ç§°ä¸ºæ˜¯**å£°æ˜å¼å¼€å‘**ã€‚
- **å¯ä»¥ä¸å…¶ä»–æ¡†æ¶å¹¶å­˜**
- **ç»„ä»¶åŒ–æ–¹å¼å¼€å‘**
- **å•å‘æ•°æ®æµ** â€”â€” åœ¨ `react` ä¸­ï¼Œçˆ¶ç»„ä»¶å…è®¸å¾€å­ç»„ä»¶ä¼ å€¼ï¼Œä½†æ˜¯å­ç»„ä»¶åªèƒ½å»ä½¿ç”¨è¿™ä¸ªå€¼ï¼Œè€Œä¸èƒ½å»æ”¹å˜è¿™ä¸ªå€¼ã€‚
- **è§†å›¾å±‚æ¡†æ¶** â€”â€” åªå¸®åŠ©æˆ‘ä»¬è§£å†³æ•°æ®å’Œé¡µé¢ä¸Šçš„å†…å®¹ï¼Œå¹¶ä¸è´Ÿè´£ç»„ä»¶é—´æ€ä¹ˆä¼ å€¼ï¼Œå¦‚ä½•ä¼ å€¼ã€‚
- **å‡½æ•°å¼ç¼–ç¨‹** â€”â€” å½“ä¸€ä¸ªå‡½æ•°å†…å®¹å˜å¾—å¤šæ—¶ï¼Œå¯ä»¥è¿›è¡Œæ‹†åˆ†ã€‚æ¯ä¸€ä¸ªå‡½æ•°å„å¸å…¶èŒï¼Œä½¿å¾—ä»£ç æ›´å…·æœ‰ç»´æŠ¤æ€§ã€‚åŒæ—¶ï¼Œç»™å‰ç«¯çš„**è‡ªåŠ¨åŒ–æµ‹è¯•**å¸¦æ¥å·¨å¤§çš„ä¾¿æ·æ€§ã€‚

# ğŸŒŒ äº”ã€ç»“æŸè¯­

åœ¨ä¸Šé¢çš„æ–‡ç« ä¸­ï¼Œæˆ‘ä»¬å­¦åˆ°äº†å…³äº `react` çš„ä¸€äº›åŸºç¡€çŸ¥è¯†ã€‚é™¤æ­¤ä¹‹å¤–å‘¢ï¼Œæˆ‘ä»¬è¿˜å¯¹ `TodoList` è¿›è¡Œäº†åŸºç¡€ç¼–å†™å’Œè¿›é˜¶æ“ä½œç¼–å†™ã€‚ä¸æ­¤åŒæ—¶ï¼Œæˆ‘ä»¬è¿˜å›´ç»• `React` è¡ç”Ÿå‡ºäº†ä¸€äº›æ€è€ƒã€‚ä¸çŸ¥é“å°ä¼™ä¼´ä»¬æ˜¯å¦å¯¹ `react` æœ‰ä¸€äº›äº†è§£äº†å‘¢ï¼Ÿ

