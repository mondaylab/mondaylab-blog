import{_ as s,o as n,c as a,Q as l}from"./chunks/framework.98c15f2e.js";const u=JSON.parse('{"title":"reactåªåœç•™åœ¨è¡¨å±‚ï¼Ÿäº”å¤§çŸ¥è¯†ç‚¹å¸¦ä½ æ¢³ç†è¿›é˜¶çŸ¥è¯†","description":"","frontmatter":{"title":"reactåªåœç•™åœ¨è¡¨å±‚ï¼Ÿäº”å¤§çŸ¥è¯†ç‚¹å¸¦ä½ æ¢³ç†è¿›é˜¶çŸ¥è¯†","author":"å‘¨ä¸€","date":"2021-10-19","categories":["å‰ç«¯å¼€å‘"],"tags":["React.js"],"sidebar":"auto"},"headers":[{"level":1,"title":"âœ‰ï¸ å‰è¨€","slug":"âœ‰ï¸-å‰è¨€","link":"#âœ‰ï¸-å‰è¨€","children":[]},{"level":1,"title":"ğŸ“§ ä¸€ã€props","slug":"ğŸ“§-ä¸€ã€props","link":"#ğŸ“§-ä¸€ã€props","children":[{"level":2,"title":"1ã€PropTypes ä¸ DefaultProps åº”ç”¨","slug":"_1ã€proptypes-ä¸-defaultprops-åº”ç”¨","link":"#_1ã€proptypes-ä¸-defaultprops-åº”ç”¨","children":[{"level":3,"title":"ï¼ˆ1ï¼‰PropTypes","slug":"_1-proptypes","link":"#_1-proptypes","children":[]},{"level":3,"title":"ï¼ˆ2ï¼‰defaultProps","slug":"_2-defaultprops","link":"#_2-defaultprops","children":[]}]},{"level":2,"title":"2ã€propsï¼Œstate ä¸ render å‡½æ•°","slug":"_2ã€props-state-ä¸-render-å‡½æ•°","link":"#_2ã€props-state-ä¸-render-å‡½æ•°","children":[]}]},{"level":1,"title":"ğŸ“¨ äºŒã€React ä¸­çš„è™šæ‹Ÿ DOM","slug":"ğŸ“¨-äºŒã€react-ä¸­çš„è™šæ‹Ÿ-dom","link":"#ğŸ“¨-äºŒã€react-ä¸­çš„è™šæ‹Ÿ-dom","children":[{"level":2,"title":"1ã€ä»€ä¹ˆæ˜¯è™šæ‹Ÿ DOM","slug":"_1ã€ä»€ä¹ˆæ˜¯è™šæ‹Ÿ-dom","link":"#_1ã€ä»€ä¹ˆæ˜¯è™šæ‹Ÿ-dom","children":[{"level":3,"title":"ï¼ˆ1ï¼‰ç¬¬ä¸€ç§æ–¹æ¡ˆ","slug":"_1-ç¬¬ä¸€ç§æ–¹æ¡ˆ","link":"#_1-ç¬¬ä¸€ç§æ–¹æ¡ˆ","children":[]},{"level":3,"title":"ï¼ˆ2ï¼‰ç¬¬äºŒç§æ–¹æ¡ˆ","slug":"_2-ç¬¬äºŒç§æ–¹æ¡ˆ","link":"#_2-ç¬¬äºŒç§æ–¹æ¡ˆ","children":[]},{"level":3,"title":"ï¼ˆ3ï¼‰ç¬¬ä¸‰ç§æ–¹æ¡ˆ","slug":"_3-ç¬¬ä¸‰ç§æ–¹æ¡ˆ","link":"#_3-ç¬¬ä¸‰ç§æ–¹æ¡ˆ","children":[]}]},{"level":2,"title":"2ã€è™šæ‹Ÿ DOM ä¸­çš„ Diff ç®—æ³•","slug":"_2ã€è™šæ‹Ÿ-dom-ä¸­çš„-diff-ç®—æ³•","link":"#_2ã€è™šæ‹Ÿ-dom-ä¸­çš„-diff-ç®—æ³•","children":[]}]},{"level":1,"title":"ğŸ“© ä¸‰ã€React ä¸­ ref çš„ä½¿ç”¨","slug":"ğŸ“©-ä¸‰ã€react-ä¸­-ref-çš„ä½¿ç”¨","link":"#ğŸ“©-ä¸‰ã€react-ä¸­-ref-çš„ä½¿ç”¨","children":[]},{"level":1,"title":"ğŸ“¦ å››ã€React ä¸­çš„ç”Ÿå‘½å‘¨æœŸ","slug":"ğŸ“¦-å››ã€react-ä¸­çš„ç”Ÿå‘½å‘¨æœŸ","link":"#ğŸ“¦-å››ã€react-ä¸­çš„ç”Ÿå‘½å‘¨æœŸ","children":[{"level":2,"title":"1ã€ç”Ÿå‘½å‘¨æœŸå‡½æ•°æ˜¯ä»€ä¹ˆ","slug":"_1ã€ç”Ÿå‘½å‘¨æœŸå‡½æ•°æ˜¯ä»€ä¹ˆ","link":"#_1ã€ç”Ÿå‘½å‘¨æœŸå‡½æ•°æ˜¯ä»€ä¹ˆ","children":[]},{"level":2,"title":"2ã€ç”Ÿå‘½å‘¨æœŸå›¾ä¾‹","slug":"_2ã€ç”Ÿå‘½å‘¨æœŸå›¾ä¾‹","link":"#_2ã€ç”Ÿå‘½å‘¨æœŸå›¾ä¾‹","children":[]}]},{"level":1,"title":"ğŸ“ª äº”ã€React ä¸­ä½¿ç”¨ CSS åŠ¨ç”»æ•ˆæœ","slug":"ğŸ“ª-äº”ã€react-ä¸­ä½¿ç”¨-css-åŠ¨ç”»æ•ˆæœ","link":"#ğŸ“ª-äº”ã€react-ä¸­ä½¿ç”¨-css-åŠ¨ç”»æ•ˆæœ","children":[{"level":2,"title":"1ã€æ™®é€šç”¨æ³•","slug":"_1ã€æ™®é€šç”¨æ³•","link":"#_1ã€æ™®é€šç”¨æ³•","children":[]},{"level":2,"title":"2ã€react-transition-group","slug":"_2ã€react-transition-group","link":"#_2ã€react-transition-group","children":[{"level":3,"title":"ï¼ˆ1ï¼‰åˆæ¬¡æ¢ç´¢","slug":"_1-åˆæ¬¡æ¢ç´¢","link":"#_1-åˆæ¬¡æ¢ç´¢","children":[]},{"level":3,"title":"ï¼ˆ2ï¼‰è¿›é˜¶æ¢ç´¢","slug":"_2-è¿›é˜¶æ¢ç´¢","link":"#_2-è¿›é˜¶æ¢ç´¢","children":[]}]}]},{"level":1,"title":"ğŸ“® å…­ã€ç»“æŸè¯­","slug":"ğŸ“®-å…­ã€ç»“æŸè¯­","link":"#ğŸ“®-å…­ã€ç»“æŸè¯­","children":[]}],"relativePath":"column/FrontEnd/React/002.md","filePath":"column/FrontEnd/React/002.md","lastUpdated":1723906346000}'),p={name:"column/FrontEnd/React/002.md"},o=l(`<h1 id="âœ‰ï¸-å‰è¨€" tabindex="-1">âœ‰ï¸ å‰è¨€ <a class="header-anchor" href="#âœ‰ï¸-å‰è¨€" aria-label="Permalink to &quot;âœ‰ï¸ å‰è¨€&quot;">â€‹</a></h1><p>å¯¹äº <code>react</code> çš„è¡¨å±‚æ¥è¯´ï¼Œæˆ‘ä»¬å¯èƒ½ç»å¸¸å¬è¯´çš„æ˜¯<strong>å£°æ˜å¼å¼€å‘</strong>ã€<strong>å•å‘æ•°æ®æµ</strong>ã€<strong>ç»„ä»¶åŒ–æ–¹å¼å¼€å‘</strong>ç­‰ç­‰ã€‚é‚£ä¹ˆï¼Œè¿›ä¸€æ­¥æ¥è®²çš„è¯ï¼Œæˆ‘ä»¬è¿˜éœ€è¦äº†è§£çš„æ˜¯ <code>react</code> çš„ <code>props</code> ï¼Œè™šæ‹Ÿ <code>DOM</code> ã€ <code>ref</code> ä»¥åŠè¿‡æ¸¡åŠ¨ç”»ç­‰æ›´å¤šæ–°çš„çŸ¥è¯†ç‚¹ã€‚</p><p>é‚£åœ¨ä¸‹é¢çš„è¿™ç¯‡æ–‡ç« ä¸­ï¼Œå°†æ¥æ¢ç´¢å…³äº <code>react</code> çš„è¿›é˜¶çŸ¥è¯†ã€‚</p><p>å®ï¼Œä¸‹é¢å¼€å§‹æœ¬æ–‡çš„ä»‹ç»~ğŸ¤ª</p><h1 id="ğŸ“§-ä¸€ã€props" tabindex="-1">ğŸ“§ ä¸€ã€props <a class="header-anchor" href="#ğŸ“§-ä¸€ã€props" aria-label="Permalink to &quot;ğŸ“§ ä¸€ã€props&quot;">â€‹</a></h1><h2 id="_1ã€proptypes-ä¸-defaultprops-åº”ç”¨" tabindex="-1">1ã€PropTypes ä¸ DefaultProps åº”ç”¨ <a class="header-anchor" href="#_1ã€proptypes-ä¸-defaultprops-åº”ç”¨" aria-label="Permalink to &quot;1ã€PropTypes ä¸ DefaultProps åº”ç”¨&quot;">â€‹</a></h2><h3 id="_1-proptypes" tabindex="-1">ï¼ˆ1ï¼‰PropTypes <a class="header-anchor" href="#_1-proptypes" aria-label="Permalink to &quot;ï¼ˆ1ï¼‰PropTypes&quot;">â€‹</a></h3><p>åœ¨ <code>react</code> ä¸­ï¼Œæœ‰æ—¶å€™æˆ‘ä»¬è¦å¯¹ç»„ä»¶ä¸­çš„<strong>æŸä¸ªå±æ€§</strong>è¿›è¡Œ<strong>æ ¼å¼æ ¡éªŒ</strong>ï¼Œè¿™ä¸ªæ—¶å€™æˆ‘ä»¬å°±éœ€è¦ç”¨åˆ° <code>propTypes</code> ã€‚<strong>ä¸‹é¢ç»™å‡ºä¸€äº›å¸¸è§çš„ä¾‹å­ï¼š</strong></p><div class="language-js vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#6A737D;">// è¡¨ç¤ºè¦å¯¹TodoItemè¿™ä¸ªç»„ä»¶åšå±æ€§çš„æ ¡éªŒ</span></span>
<span class="line"><span style="color:#E1E4E8;">TodoItem.propTypes </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#6A737D;">// isRequired è¡¨ç¤ºå¿…é¡»æœ‰å€¼</span></span>
<span class="line"><span style="color:#E1E4E8;">  test: PropTypes.string.isRequired,</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#6A737D;">// è¡¨ç¤ºcontentçš„propTypeså¿…é¡»æ˜¯stringç±»å‹ï¼Œé‚£stringç±»å‹çš„æ ¡éªŒæ˜¯ä»PropTypesè¿™ä¸ªåŒ…é‡Œé¢æ‹¿åˆ°çš„</span></span>
<span class="line"><span style="color:#E1E4E8;">  content: PropTypes.string,</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#6A737D;">// è¡¨ç¤ºdetailå¯ä»¥æ˜¯ä¸€ä¸ªnumberæˆ–è€…stringçš„è¯­æ³•</span></span>
<span class="line"><span style="color:#E1E4E8;">  detail: PropTypes.</span><span style="color:#B392F0;">arrayOf</span><span style="color:#E1E4E8;">(PropTypes.number, PropTypes.string),</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#6A737D;">// è¡¨ç¤ºdeleteItemå¿…é¡»æ˜¯ä¸€ä¸ªå‡½æ•°</span></span>
<span class="line"><span style="color:#E1E4E8;">  deleteItem: PropTypes.func,</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#6A737D;">// è¡¨ç¤ºindexå¿…é¡»æ˜¯ä¸€ä¸ªæ•°å­—ç±»å‹</span></span>
<span class="line"><span style="color:#E1E4E8;">  index: PropTypes.number,</span></span>
<span class="line"><span style="color:#E1E4E8;">};</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6A737D;">// è¡¨ç¤ºè¦å¯¹TodoItemè¿™ä¸ªç»„ä»¶åšå±æ€§çš„æ ¡éªŒ</span></span>
<span class="line"><span style="color:#24292E;">TodoItem.propTypes </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6A737D;">// isRequired è¡¨ç¤ºå¿…é¡»æœ‰å€¼</span></span>
<span class="line"><span style="color:#24292E;">  test: PropTypes.string.isRequired,</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6A737D;">// è¡¨ç¤ºcontentçš„propTypeså¿…é¡»æ˜¯stringç±»å‹ï¼Œé‚£stringç±»å‹çš„æ ¡éªŒæ˜¯ä»PropTypesè¿™ä¸ªåŒ…é‡Œé¢æ‹¿åˆ°çš„</span></span>
<span class="line"><span style="color:#24292E;">  content: PropTypes.string,</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6A737D;">// è¡¨ç¤ºdetailå¯ä»¥æ˜¯ä¸€ä¸ªnumberæˆ–è€…stringçš„è¯­æ³•</span></span>
<span class="line"><span style="color:#24292E;">  detail: PropTypes.</span><span style="color:#6F42C1;">arrayOf</span><span style="color:#24292E;">(PropTypes.number, PropTypes.string),</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6A737D;">// è¡¨ç¤ºdeleteItemå¿…é¡»æ˜¯ä¸€ä¸ªå‡½æ•°</span></span>
<span class="line"><span style="color:#24292E;">  deleteItem: PropTypes.func,</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6A737D;">// è¡¨ç¤ºindexå¿…é¡»æ˜¯ä¸€ä¸ªæ•°å­—ç±»å‹</span></span>
<span class="line"><span style="color:#24292E;">  index: PropTypes.number,</span></span>
<span class="line"><span style="color:#24292E;">};</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><h3 id="_2-defaultprops" tabindex="-1">ï¼ˆ2ï¼‰defaultProps <a class="header-anchor" href="#_2-defaultprops" aria-label="Permalink to &quot;ï¼ˆ2ï¼‰defaultProps&quot;">â€‹</a></h3><p>æœ‰æ—¶å€™ï¼Œå¯¹äºæŸä¸ªå±æ€§æ¥è¯´ï¼Œæˆ‘ä»¬å¸Œæœ›ç»™å®ƒä¸ªåˆå§‹å€¼ï¼Œé‚£è¿™ä¸ªæ—¶å€™å°±éœ€è¦ç”¨åˆ° <code>defaultProps</code> ã€‚<strong>ç¤ºä¾‹å¦‚ä¸‹ï¼š</strong></p><div class="language-js vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#E1E4E8;">TodoItem.defaultProps </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">  test: </span><span style="color:#9ECBFF;">&#39;hello world&#39;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">};</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">TodoItem.defaultProps </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">  test: </span><span style="color:#032F62;">&#39;hello world&#39;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">};</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>ä¸Šé¢çš„ä»£ç è¡¨æ˜ï¼Œå½“ <code>test</code> å±æ€§æ²¡æœ‰è¢«èµ‹å€¼æ—¶ï¼Œé‚£ä¹ˆå®ƒå°†è¢«èµ‹äºˆä¸€ä¸ªåˆå§‹å€¼ï¼Œå€¼ä¸º <code>hello world</code> ã€‚</p><h2 id="_2ã€props-state-ä¸-render-å‡½æ•°" tabindex="-1">2ã€propsï¼Œstate ä¸ render å‡½æ•° <a class="header-anchor" href="#_2ã€props-state-ä¸-render-å‡½æ•°" aria-label="Permalink to &quot;2ã€propsï¼Œstate ä¸ render å‡½æ•°&quot;">â€‹</a></h2><p>åœ¨ <code>react</code> ä¸­ï¼Œå®šä¹‰ä¸€ä¸ªç»„ä»¶æ—¶ï¼Œç»å¸¸ä¼šçœ‹åˆ° <code>props</code> ã€ <code>state</code> å’Œ <code>render</code> ã€‚é‚£ä»–ä»¬ä¸‰è€…æ˜¯æ€ä¹ˆæ ·çš„å…³ç³»å‘¢ï¼Ÿ</p><p>é¦–å…ˆæˆ‘ä»¬è¦æƒ³ä¸€ä¸ªé—®é¢˜ï¼š<strong>ä¸ºä»€ä¹ˆæ•°æ®å‘ç”Ÿå˜åŒ–ï¼Œé¡µé¢å°±ä¼šè·Ÿç€å˜åŒ–å‘¢ï¼Ÿ</strong></p><p>åŸå› åœ¨äºï¼Œé¡µé¢æ˜¯ç”± <code>render</code> å‡½æ•°æ¸²æŸ“å‡ºæ¥çš„ï¼Œå½“æ•°æ® <code>state</code> å‘ç”Ÿå˜åŒ–æ—¶ï¼Œ <code>render</code> å‡½æ•°å°±ä¼šè¢«é‡æ–°çš„æ‰§è¡Œä¸€æ¬¡ã€‚</p><p>åŒæ—¶ï¼Œå½“<strong>çˆ¶ç»„ä»¶</strong>çš„ <code>render</code> å‡½æ•°è¢«è¿è¡Œæ—¶ï¼Œå®ƒçš„<strong>å­ç»„ä»¶</strong>çš„ <code>render</code> éƒ½å°†è¢«é‡æ–°è¿è¡Œã€‚</p><h1 id="ğŸ“¨-äºŒã€react-ä¸­çš„è™šæ‹Ÿ-dom" tabindex="-1">ğŸ“¨ äºŒã€React ä¸­çš„è™šæ‹Ÿ DOM <a class="header-anchor" href="#ğŸ“¨-äºŒã€react-ä¸­çš„è™šæ‹Ÿ-dom" aria-label="Permalink to &quot;ğŸ“¨ äºŒã€React ä¸­çš„è™šæ‹Ÿ DOM&quot;">â€‹</a></h1><h2 id="_1ã€ä»€ä¹ˆæ˜¯è™šæ‹Ÿ-dom" tabindex="-1">1ã€ä»€ä¹ˆæ˜¯è™šæ‹Ÿ DOM <a class="header-anchor" href="#_1ã€ä»€ä¹ˆæ˜¯è™šæ‹Ÿ-dom" aria-label="Permalink to &quot;1ã€ä»€ä¹ˆæ˜¯è™šæ‹Ÿ DOM&quot;">â€‹</a></h2><h3 id="_1-ç¬¬ä¸€ç§æ–¹æ¡ˆ" tabindex="-1">ï¼ˆ1ï¼‰ç¬¬ä¸€ç§æ–¹æ¡ˆ <a class="header-anchor" href="#_1-ç¬¬ä¸€ç§æ–¹æ¡ˆ" aria-label="Permalink to &quot;ï¼ˆ1ï¼‰ç¬¬ä¸€ç§æ–¹æ¡ˆ&quot;">â€‹</a></h3><p><strong>ä¼ ç»Ÿå®ç°è™šæ‹Ÿ DOM çš„æ€è·¯ï¼š</strong></p><ul><li>å…ˆå®šä¹‰ <code>state</code> ï¼Œä¹Ÿå°±æ˜¯æ•°æ®ï¼›</li><li>ç¼–å†™<code>JSX</code> æ¨¡æ¿å†…å®¹ï¼›</li><li>æŠŠ<strong>æ•°æ®å’Œæ¨¡æ¿</strong>è¿›è¡Œç»“åˆï¼Œç”ŸæˆçœŸæ˜¯çš„ <code>DOM</code> ï¼Œè¿›è€Œå°†å†…å®¹æ˜¾ç¤ºåˆ°é¡µé¢ä¸Šï¼›</li><li>å¦‚æœé‡åˆ°è¦æ›¿æ¢æ•°æ®æ—¶ï¼Œåˆ™æŠŠ<strong>æ•°æ®å’Œæ¨¡æ¿</strong>è¿›è¡Œç»“åˆï¼Œç”ŸæˆçœŸå®çš„ <code>DOM</code> ï¼Œæ¥æ›¿æ¢åŸå§‹çš„ <code>DOM</code> ã€‚</li></ul><p><strong>å­˜åœ¨ç¼ºé™·ï¼š</strong></p><ul><li>ç¬¬ä¸€æ¬¡ç”Ÿæˆäº†ä¸€ä¸ªå®Œæ•´çš„ <code>DOM</code> ç‰‡æ®µï¼›</li><li>ç¬¬äºŒæ¬¡åˆç”Ÿæˆäº†ä¸€ä¸ªå®Œæ•´çš„ <code>DOM</code> ç‰‡æ®µï¼›</li><li>ç¬¬äºŒæ¬¡çš„ <code>DOM</code> æ›¿æ¢ç¬¬ä¸€æ¬¡çš„ <code>DOM</code> ï¼Œéå¸¸è€—è´¹æ€§èƒ½ã€‚</li></ul><h3 id="_2-ç¬¬äºŒç§æ–¹æ¡ˆ" tabindex="-1">ï¼ˆ2ï¼‰ç¬¬äºŒç§æ–¹æ¡ˆ <a class="header-anchor" href="#_2-ç¬¬äºŒç§æ–¹æ¡ˆ" aria-label="Permalink to &quot;ï¼ˆ2ï¼‰ç¬¬äºŒç§æ–¹æ¡ˆ&quot;">â€‹</a></h3><p><strong>ä¼ ç»Ÿå®ç°è™šæ‹Ÿ DOM çš„æ€è·¯æ”¹è¿›ç‰ˆï¼š</strong></p><ul><li>å…ˆå®šä¹‰ <code>state</code> ï¼Œå³æ•°æ®ï¼›</li><li>ç¼–å†™ <code>JSX</code> æ¨¡æ¿å†…å®¹ï¼›</li><li>æŠŠ<strong>æ•°æ®å’Œæ¨¡æ¿</strong>è¿›è¡Œç»“åˆï¼Œç”ŸæˆçœŸå®çš„ <code>DOM</code> ï¼Œå¹¶å±•ç¤ºï¼›</li><li>å½“ <code>state</code> çš„æ•°æ®å‘ç”Ÿæ”¹å˜ï¼›</li><li>ç»§ç»­ï¼ŒæŠŠ<strong>æ•°æ®å’Œæ¨¡æ¿</strong>è¿›è¡Œç»“åˆï¼Œç”ŸæˆçœŸå®çš„ <code>DOM</code> ï¼Œå¹¶ä¸æ˜¯ç›´æ¥æ›¿æ¢åŸå§‹çš„ <code>DOM</code></li><li>å°†æ–°çš„ <code>DOM</code> å’ŒåŸå§‹çš„ <code>DOM</code> åšæ¯”è¾ƒï¼Œ<strong>å¹¶æ‰¾å‡ºå·®å¼‚</strong>ï¼›</li><li>æ‰¾åˆ°æ–°çš„ <code>Dom</code> ä¸­å‘ç”Ÿçš„å˜åŒ–ï¼›</li><li>åªç”¨<strong>æ–°</strong>çš„ <code>DOM</code> ä¸­<strong>å˜åŒ–çš„æ•°æ®</strong>ï¼Œæ¥æ›¿æ¢æ‰<strong>è€</strong>çš„ <code>DOM</code> ä¸­çš„æ•°æ®ã€‚</li></ul><p><strong>å­˜åœ¨ç¼ºé™·ï¼š</strong></p><ul><li>æ€§èƒ½çš„æå‡å¹¶ä¸æ˜æ˜¾</li></ul><h3 id="_3-ç¬¬ä¸‰ç§æ–¹æ¡ˆ" tabindex="-1">ï¼ˆ3ï¼‰ç¬¬ä¸‰ç§æ–¹æ¡ˆ <a class="header-anchor" href="#_3-ç¬¬ä¸‰ç§æ–¹æ¡ˆ" aria-label="Permalink to &quot;ï¼ˆ3ï¼‰ç¬¬ä¸‰ç§æ–¹æ¡ˆ&quot;">â€‹</a></h3><p><strong>react ä¸­å®ç°è™šæ‹Ÿ DOM çš„æ€è·¯ï¼š</strong></p><ul><li><p>å…ˆå®šä¹‰ <code>state</code> ï¼Œå³æ•°æ®ï¼›</p></li><li><p>ç¼–å†™ <code>JSX</code> æ¨¡æ¿å†…å®¹ï¼›</p></li><li><p>æŠŠ<strong>æ•°æ®å’Œæ¨¡æ¿</strong>è¿›è¡Œç»“åˆï¼Œç”Ÿæˆ<strong>è™šæ‹Ÿ <code>DOM</code></strong> ï¼ˆè™šæ‹Ÿ <code>DOM</code> å°±æ˜¯ä¸€ä¸ª <code>JS</code> å¯¹è±¡ï¼Œç”¨å®ƒæ¥æè¿°çœŸå® <code>DOM</code> ï¼‰ã€‚<strong>ğŸ‘‰ï¼ˆæŸè€—äº†æ€§èƒ½ï¼‰</strong></p><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">&lt;</span><span style="color:#E1E4E8;">div id=</span><span style="color:#9ECBFF;">&quot;abc&quot;</span><span style="color:#E1E4E8;">&gt;&lt;span</span><span style="color:#F97583;">&gt;</span><span style="color:#E1E4E8;">hello world</span><span style="color:#F97583;">&lt;</span><span style="color:#E1E4E8;">/span&gt;&lt;/div</span><span style="color:#F97583;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">[</span><span style="color:#9ECBFF;">&#39;div&#39;</span><span style="color:#E1E4E8;">, {id: </span><span style="color:#9ECBFF;">&#39;abc&#39;</span><span style="color:#E1E4E8;">}, [</span><span style="color:#9ECBFF;">&#39;span&#39;</span><span style="color:#E1E4E8;">, {}, </span><span style="color:#9ECBFF;">&#39;hello world&#39;</span><span style="color:#E1E4E8;">]]</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">&lt;</span><span style="color:#24292E;">div id=</span><span style="color:#032F62;">&quot;abc&quot;</span><span style="color:#24292E;">&gt;&lt;span</span><span style="color:#D73A49;">&gt;</span><span style="color:#24292E;">hello world</span><span style="color:#D73A49;">&lt;</span><span style="color:#24292E;">/span&gt;&lt;/div</span><span style="color:#D73A49;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">[</span><span style="color:#032F62;">&#39;div&#39;</span><span style="color:#24292E;">, {id: </span><span style="color:#032F62;">&#39;abc&#39;</span><span style="color:#24292E;">}, [</span><span style="color:#032F62;">&#39;span&#39;</span><span style="color:#24292E;">, {}, </span><span style="color:#032F62;">&#39;hello world&#39;</span><span style="color:#24292E;">]]</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div></li><li><p>ç”¨è™šæ‹Ÿ <code>DOM</code> çš„ç»“æ„ç”Ÿæˆ<strong>çœŸå®çš„ <code>DOM</code></strong> ï¼Œæ¥è¿›è¡Œæ˜¾ç¤ºï¼›</p></li><li><p>å½“ <code>state</code> å‘ç”Ÿå˜åŒ–æ—¶ï¼Œ<strong>æ•°æ® + æ¨¡æ¿</strong>ç”Ÿæˆæ–°çš„è™šæ‹Ÿ <code>DOM</code> ï¼›<strong>ğŸ‘‰ï¼ˆæå¤§çš„æå‡äº†æ€§èƒ½ï¼‰</strong></p></li></ul><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">&lt;</span><span style="color:#E1E4E8;">div id=</span><span style="color:#9ECBFF;">&quot;abc&quot;</span><span style="color:#E1E4E8;">&gt;&lt;span</span><span style="color:#F97583;">&gt;</span><span style="color:#E1E4E8;">monday</span><span style="color:#F97583;">&lt;</span><span style="color:#E1E4E8;">/span&gt;&lt;/div</span><span style="color:#F97583;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">[</span><span style="color:#9ECBFF;">&#39;div&#39;</span><span style="color:#E1E4E8;">, {id: </span><span style="color:#9ECBFF;">&#39;abc&#39;</span><span style="color:#E1E4E8;">}, [</span><span style="color:#9ECBFF;">&#39;span&#39;</span><span style="color:#E1E4E8;">, {}, </span><span style="color:#9ECBFF;">&#39;monday&#39;</span><span style="color:#E1E4E8;">]]</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">&lt;</span><span style="color:#24292E;">div id=</span><span style="color:#032F62;">&quot;abc&quot;</span><span style="color:#24292E;">&gt;&lt;span</span><span style="color:#D73A49;">&gt;</span><span style="color:#24292E;">monday</span><span style="color:#D73A49;">&lt;</span><span style="color:#24292E;">/span&gt;&lt;/div</span><span style="color:#D73A49;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">[</span><span style="color:#032F62;">&#39;div&#39;</span><span style="color:#24292E;">, {id: </span><span style="color:#032F62;">&#39;abc&#39;</span><span style="color:#24292E;">}, [</span><span style="color:#032F62;">&#39;span&#39;</span><span style="color:#24292E;">, {}, </span><span style="color:#032F62;">&#39;monday&#39;</span><span style="color:#24292E;">]]</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><ul><li>æ¯”è¾ƒ <strong>åŸå§‹è™šæ‹Ÿ <code>DOM</code></strong> å’Œ <strong>æ–°çš„è™šæ‹Ÿ <code>DOM</code></strong> çš„åŒºåˆ«ï¼Œæ‰¾åˆ°å…¶ä¸­çš„åŒºåˆ«æ˜¯ <code>span</code> ä¸­çš„å†…å®¹ï¼›</li><li>ç›´æ¥æ“ä½œ <code>DOM</code> ï¼Œæ”¹å˜ <code>span</code> çš„å†…å®¹ï¼›</li><li>å› æ­¤ï¼Œ <code>React</code> çš„è™šæ‹Ÿ <code>DOM</code> ä¸»è¦ç»å†çš„è¿‡ç¨‹æ˜¯ï¼š <code>JSX</code> â†’ <code>createElement</code> â†’ è™šæ‹Ÿ <code>DOM</code> ï¼ˆ <code>JS</code> å¯¹è±¡ ï¼‰â†’ çœŸå®çš„ <code>DOM</code> ã€‚</li></ul><p><strong>react è™šæ‹Ÿ DOM çš„ä¼˜ç‚¹ï¼š</strong></p><ul><li>æå¤§çš„æå‡äº†æ€§èƒ½ï¼›</li><li>å®ƒä½¿å¾—<strong>è·¨ç«¯åº”ç”¨</strong>å¾—ä»¥å®ç°ï¼Œè¿™è¦è°ˆåˆ° <code>react</code> ä¸­çš„ä¸€ä¸ªæ¦‚å¿µï¼Œ<code>react native</code> ï¼›</li><li><code>react</code> ä½¿ç”¨å¯ä»¥ç¼–å†™åŸç”Ÿåº”ç”¨ï¼Œåƒ <code>Android</code> å’Œ <code>IOS</code> å¼€å‘ï¼Œè¿™äº›éƒ½æ˜¯æ“ä½œçœŸå® <code>DOM</code> ï¼›</li><li>è€Œ <code>react</code> ä½¿å¾—ç¼–å†™è¿™äº›<strong>åŸç”Ÿåº”ç”¨</strong>å¾—ä»¥ä½¿ç”¨ã€‚</li></ul><h2 id="_2ã€è™šæ‹Ÿ-dom-ä¸­çš„-diff-ç®—æ³•" tabindex="-1">2ã€è™šæ‹Ÿ DOM ä¸­çš„ Diff ç®—æ³• <a class="header-anchor" href="#_2ã€è™šæ‹Ÿ-dom-ä¸­çš„-diff-ç®—æ³•" aria-label="Permalink to &quot;2ã€è™šæ‹Ÿ DOM ä¸­çš„ Diff ç®—æ³•&quot;">â€‹</a></h2><ul><li><code>react</code> å¯¹ <code>setState</code> çš„æ€§èƒ½ä¼˜åŒ–ï¼Œå®ƒä¼šæŠŠå¤šæ¬¡ <code>setState</code> ç»“åˆæˆä¸€æ¬¡ <code>setState</code> ï¼›</li><li>è™šæ‹Ÿ <code>DOM</code> ä½¿ç”¨ <code>diff</code> ç®—æ³•åšæ¯”è¾ƒï¼Œ<strong>åªåœ¨åŒå±‚åšæ¯”è¾ƒï¼Œä¸è·¨çº§åšæ¯”è¾ƒ</strong>ï¼›</li><li>åŒå±‚æ¯”å¯¹çš„ç®—æ³•æ¯”è¾ƒç®€å•ï¼Œè€Œç®—æ³•ç®€å•å¸¦æ¥çš„ç›´æ¥å¥½å¤„å°±æ˜¯é€Ÿåº¦éå¸¸å¿«ï¼›</li><li>è™½ç„¶å¯èƒ½ä¼šé€ æˆ <code>DOM</code> æ¸²æŸ“ä¸Šçš„ä¸€äº›æµªè´¹ï¼Œä½†æ˜¯å‘¢ï¼Œå®ƒä¹Ÿæå¤§çš„å‡å°‘äº†ä¸¤ä¸ªè™šæ‹Ÿ <code>DOM</code> ä¹‹é—´è¿›è¡Œæ¯”è¾ƒæ—¶ï¼Œæ€§èƒ½ä¸Šçš„æ¶ˆè€—ã€‚</li></ul><h1 id="ğŸ“©-ä¸‰ã€react-ä¸­-ref-çš„ä½¿ç”¨" tabindex="-1">ğŸ“© ä¸‰ã€React ä¸­ ref çš„ä½¿ç”¨ <a class="header-anchor" href="#ğŸ“©-ä¸‰ã€react-ä¸­-ref-çš„ä½¿ç”¨" aria-label="Permalink to &quot;ğŸ“© ä¸‰ã€React ä¸­ ref çš„ä½¿ç”¨&quot;">â€‹</a></h1><p><code>react</code> ä¸­å»ºè®®çš„æ˜¯ï¼Œå¸Œæœ›æˆ‘ä»¬å¯ä»¥ç”¨<strong>æ•°æ®é©±åŠ¨</strong>çš„å½¢å¼æ¥ç¼–å†™ä»£ç ï¼Œå°½é‡ä¸è¦æ“ä½œ <code>DOM</code> ã€‚ä½†æœ‰æ—¶å€™ï¼Œæˆ‘ä»¬åœ¨åšä¸€äº›æå…¶å¤æ‚ä¸šåŠ¡çš„æ—¶å€™ï¼Œæ¯”å¦‚<strong>å„ç§éœ‡æ’¼åŠ¨ç”»</strong>ï¼Œä¸å¯é¿å…çš„è¿˜æ˜¯ä¼šç”¨åˆ°ä¸€äº›åŸç”Ÿçš„ <code>DOM</code> æ ‡ç­¾ã€‚å› æ­¤ï¼Œ <code>ref</code> å¸®åŠ©æˆ‘ä»¬åœ¨ <code>react</code> ä¸­ç›´æ¥è·å– <code>DOM</code> å…ƒç´ çš„æ—¶å€™æ¥è¿›è¡Œä½¿ç”¨ã€‚</p><p>ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬å°½é‡ä¸ä½¿ç”¨ <code>ref</code> ã€‚å¦‚æœç”¨ <code>ref</code> æ—¶ï¼Œä¼šå‡ºç°å„ç§å„æ ·çš„é—®é¢˜ã€‚åŒæ—¶ï¼Œå½“ä½¿ç”¨ <code>ref</code> å’Œ <code>setState</code> æ—¶ï¼Œè¦æ³¨æ„ä¸€äº›<strong>å­˜åœ¨çš„å‘</strong>ã€‚</p><p>æ¯”å¦‚ï¼Œå½“ <code>ref</code> ä¸ <code>setState</code> ç›¸å…³è”ä½¿ç”¨æ—¶ï¼Œè¦æ³¨æ„ï¼Œ <code>setState</code> æ˜¯ä¸€ä¸ª<strong>å¼‚æ­¥å‡½æ•°</strong>ï¼Œå¾€å¾€ä¼šåœ¨åŒæ­¥ä»£ç æ‰§è¡Œå®Œæ¯•åå†æ‰§è¡Œå¼‚æ­¥ä»£ç ã€‚å› æ­¤ï¼Œå¦‚æœæˆ‘ä»¬å¸Œæœ›åŒæ­¥ä»£ç æ‰§è¡Œé¡ºåºåœ¨ <code>setState</code> ä¹‹åæ—¶ï¼Œå¯ä»¥<strong>åœ¨ setState æ¥å—çš„ç¬¬äºŒä¸ªå‚æ•°ä¸­ï¼Œå†å¢åŠ ä¸€ä¸ªå›è°ƒå‡½æ•°æ¥è¿›è¡Œè°ƒç”¨</strong>ï¼Œè¿™æ ·å°±å¯ä»¥è¾¾åˆ°æˆ‘ä»¬çš„æ•ˆæœå•¦ï¼</p><div class="language-js vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">render</span><span style="color:#E1E4E8;">() {</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">return</span><span style="color:#E1E4E8;"> (</span></span>
<span class="line"><span style="color:#E1E4E8;">        &lt;</span><span style="color:#85E89D;">ul</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">ref</span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;">{(</span><span style="color:#FFAB70;">ul</span><span style="color:#E1E4E8;">) </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">this</span><span style="color:#E1E4E8;">.ul </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> ul}&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">        	{</span><span style="color:#79B8FF;">this</span><span style="color:#E1E4E8;">.</span><span style="color:#B392F0;">getTodoItem</span><span style="color:#E1E4E8;">()}</span></span>
<span class="line"><span style="color:#E1E4E8;">        &lt;/</span><span style="color:#85E89D;">ul</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">    )</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#79B8FF;">this</span><span style="color:#E1E4E8;">.</span><span style="color:#B392F0;">setState</span><span style="color:#E1E4E8;">((</span><span style="color:#FFAB70;">prevState</span><span style="color:#E1E4E8;">) </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> ({</span></span>
<span class="line"><span style="color:#E1E4E8;">    list: [</span><span style="color:#F97583;">...</span><span style="color:#E1E4E8;">prevState.list, prevState.inputValue],</span></span>
<span class="line"><span style="color:#E1E4E8;">    inputValue: </span><span style="color:#9ECBFF;">&#39;&#39;</span></span>
<span class="line"><span style="color:#E1E4E8;">}), () </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">    console.</span><span style="color:#B392F0;">log</span><span style="color:#E1E4E8;">(</span><span style="color:#79B8FF;">this</span><span style="color:#E1E4E8;">.ul.</span><span style="color:#B392F0;">querySelectorAll</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;div&#39;</span><span style="color:#E1E4E8;">).</span><span style="color:#79B8FF;">length</span><span style="color:#E1E4E8;">)</span></span>
<span class="line"><span style="color:#E1E4E8;">});</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">render</span><span style="color:#24292E;">() {</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> (</span></span>
<span class="line"><span style="color:#24292E;">        &lt;</span><span style="color:#22863A;">ul</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">ref</span><span style="color:#D73A49;">=</span><span style="color:#24292E;">{(</span><span style="color:#E36209;">ul</span><span style="color:#24292E;">) </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">this</span><span style="color:#24292E;">.ul </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> ul}&gt;</span></span>
<span class="line"><span style="color:#24292E;">        	{</span><span style="color:#005CC5;">this</span><span style="color:#24292E;">.</span><span style="color:#6F42C1;">getTodoItem</span><span style="color:#24292E;">()}</span></span>
<span class="line"><span style="color:#24292E;">        &lt;/</span><span style="color:#22863A;">ul</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">    )</span></span>
<span class="line"><span style="color:#24292E;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#005CC5;">this</span><span style="color:#24292E;">.</span><span style="color:#6F42C1;">setState</span><span style="color:#24292E;">((</span><span style="color:#E36209;">prevState</span><span style="color:#24292E;">) </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> ({</span></span>
<span class="line"><span style="color:#24292E;">    list: [</span><span style="color:#D73A49;">...</span><span style="color:#24292E;">prevState.list, prevState.inputValue],</span></span>
<span class="line"><span style="color:#24292E;">    inputValue: </span><span style="color:#032F62;">&#39;&#39;</span></span>
<span class="line"><span style="color:#24292E;">}), () </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">    console.</span><span style="color:#6F42C1;">log</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">this</span><span style="color:#24292E;">.ul.</span><span style="color:#6F42C1;">querySelectorAll</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&#39;div&#39;</span><span style="color:#24292E;">).</span><span style="color:#005CC5;">length</span><span style="color:#24292E;">)</span></span>
<span class="line"><span style="color:#24292E;">});</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><h1 id="ğŸ“¦-å››ã€react-ä¸­çš„ç”Ÿå‘½å‘¨æœŸ" tabindex="-1">ğŸ“¦ å››ã€React ä¸­çš„ç”Ÿå‘½å‘¨æœŸ <a class="header-anchor" href="#ğŸ“¦-å››ã€react-ä¸­çš„ç”Ÿå‘½å‘¨æœŸ" aria-label="Permalink to &quot;ğŸ“¦ å››ã€React ä¸­çš„ç”Ÿå‘½å‘¨æœŸ&quot;">â€‹</a></h1><h2 id="_1ã€ç”Ÿå‘½å‘¨æœŸå‡½æ•°æ˜¯ä»€ä¹ˆ" tabindex="-1">1ã€ç”Ÿå‘½å‘¨æœŸå‡½æ•°æ˜¯ä»€ä¹ˆ <a class="header-anchor" href="#_1ã€ç”Ÿå‘½å‘¨æœŸå‡½æ•°æ˜¯ä»€ä¹ˆ" aria-label="Permalink to &quot;1ã€ç”Ÿå‘½å‘¨æœŸå‡½æ•°æ˜¯ä»€ä¹ˆ&quot;">â€‹</a></h2><p>æ‰€è°“ç”Ÿå‘½å‘¨æœŸå‡½æ•°ï¼ŒæŒ‡çš„æ˜¯åœ¨æŸä¸€ä¸ªæ—¶åˆ»ï¼Œç»„ä»¶ä¼šè‡ªåŠ¨è°ƒç”¨æ‰§è¡Œçš„å‡½æ•°ã€‚é‚£ <code>react</code> çš„ç”Ÿå‘½å‘¨æœŸéƒ½æœ‰å“ªä¸€äº›å‘¢ï¼Ÿ</p><table><thead><tr><th style="text-align:center;">é˜¶æ®µ</th><th style="text-align:center;">ç”Ÿå‘½å‘¨æœŸ</th><th style="text-align:center;">å«ä¹‰</th></tr></thead><tbody><tr><td style="text-align:center;"><strong>Mounting</strong></td><td style="text-align:center;">componentWillMount</td><td style="text-align:center;">â‘  å½“ç»„ä»¶å³å°†è¢«æŒ‚è½½åˆ°é¡µé¢çš„æ—¶åˆ»æ—¶è‡ªåŠ¨æ‰§è¡Œï¼Œå³åœ¨é¡µé¢æŒ‚åœ¨ä¹‹å‰æ‰§è¡Œï¼›â‘¡ åªåœ¨ç»„ä»¶è¢«ç¬¬ä¸€æ¬¡æŒ‚åœ¨åˆ°é¡µé¢ä¸Šæ‰ä¼šæ‰§è¡Œï¼›</td></tr><tr><td style="text-align:center;"><strong>Mounting/Updation</strong></td><td style="text-align:center;">render</td><td style="text-align:center;">é¡µé¢æŒ‚è½½æ—¶è¢«æ‰§è¡Œ</td></tr><tr><td style="text-align:center;"><strong>Mounting</strong></td><td style="text-align:center;">componentDidMount</td><td style="text-align:center;">ä¼šåœ¨ç»„ä»¶è¢«æŒ‚è½½åˆ°é¡µé¢ä¹‹åï¼Œè‡ªåŠ¨è¢«æ‰§è¡Œï¼›åªåœ¨ç»„ä»¶è¢«ç¬¬ä¸€æ¬¡æŒ‚åœ¨åˆ°é¡µé¢ä¸Šæ‰ä¼šæ‰§è¡Œ</td></tr><tr><td style="text-align:center;"><strong>Updation</strong></td><td style="text-align:center;">componentWillReceiveProps</td><td style="text-align:center;">â‘  å½“ä¸€ä¸ªç»„ä»¶ä»çˆ¶ç»„ä»¶æ¥æ”¶å‚æ•°ï¼›â‘¡ åªè¦çˆ¶ç»„ä»¶çš„<strong>render</strong>å‡½æ•°è¢«æ‰§è¡Œäº†ï¼Œå­ç»„ä»¶çš„è¿™ä¸ªç”Ÿå‘½å‘¨æœŸå‡½æ•°å°±ä¼šè¢«æ‰§è¡Œï¼›â‘¢ å¦‚æœè¿™ä¸ªç»„ä»¶ç¬¬ä¸€æ¬¡å­˜åœ¨äºçˆ¶ç»„ä»¶ä¸­ï¼Œä¸ä¼šæ‰§è¡Œï¼›â‘£ å¦‚æœè¿™ä¸ªç»„ä»¶ä¹‹å‰å·²ç»å­˜åœ¨äºçˆ¶ç»„ä»¶ä¸­ï¼Œæ‰ä¼šè¢«æ‰§è¡Œï¼›</td></tr><tr><td style="text-align:center;"><strong>Updation</strong></td><td style="text-align:center;">componentWillUpdate</td><td style="text-align:center;">â‘  ç»„ä»¶è¢«æ›´æ–°ä¹‹å‰ï¼Œå¥¹ä¼šè‡ªåŠ¨æ‰§è¡Œï¼›â‘¡ ä½†æ˜¯å®ƒæ˜¯åœ¨<strong>shouldComponentUpdate</strong>ä¹‹åè¢«æ‰§è¡Œï¼Œå¦‚æœ<strong>shouldComponentUpdate</strong>è¿”å›<strong>true</strong>æ—¶ï¼Œå®ƒæ‰æ‰§è¡Œï¼›å¦‚æœè¿”å›<strong>false</strong>ï¼Œè¿™ä¸ªå‡½æ•°å°±ä¸ä¼šè¢«æ‰§è¡Œäº†ã€‚</td></tr><tr><td style="text-align:center;"><strong>Updation</strong></td><td style="text-align:center;">componentDidUpdate</td><td style="text-align:center;">ç»„ä»¶æ›´æ–°å®Œæˆä¹‹åï¼Œå®ƒä¼šè¢«æ‰§è¡Œã€‚</td></tr><tr><td style="text-align:center;"><strong>Updation</strong></td><td style="text-align:center;">shouldComponentUpdate</td><td style="text-align:center;">ç»„ä»¶è¢«æ›´æ–°ä¹‹å‰ï¼Œå®ƒä¼šè¢«è‡ªåŠ¨è¢«æ‰§è¡Œï¼›æ­¤ç”Ÿå‘½å‘¨æœŸè¿”å›ä¸€ä¸ª<strong>å¸ƒå°”å€¼</strong></td></tr><tr><td style="text-align:center;"><strong>Unmounting</strong></td><td style="text-align:center;">componentWillUnmount</td><td style="text-align:center;">å½“è¿™ä¸ªç»„ä»¶å³å°†è¢«ä»é¡µé¢ä¸­å‰”é™¤çš„æ—¶å€™ï¼Œä¼šè¢«æ‰§è¡Œã€‚</td></tr></tbody></table><h2 id="_2ã€ç”Ÿå‘½å‘¨æœŸå›¾ä¾‹" tabindex="-1">2ã€ç”Ÿå‘½å‘¨æœŸå›¾ä¾‹ <a class="header-anchor" href="#_2ã€ç”Ÿå‘½å‘¨æœŸå›¾ä¾‹" aria-label="Permalink to &quot;2ã€ç”Ÿå‘½å‘¨æœŸå›¾ä¾‹&quot;">â€‹</a></h2><p>ä¸‹é¢ç”¨ä¸€å¼ å›¾æ¥å±•ç¤º <code>react</code> ä¸­ç”Ÿå‘½å‘¨æœŸçš„æ‰§è¡Œæ•ˆæœï¼š</p><p><img src="https://mondaylab-1309616765.cos.ap-shanghai.myqcloud.com/images/202305270705335.png" alt="reactç”Ÿå‘½å‘¨æœŸ
"></p><h1 id="ğŸ“ª-äº”ã€react-ä¸­ä½¿ç”¨-css-åŠ¨ç”»æ•ˆæœ" tabindex="-1">ğŸ“ª äº”ã€React ä¸­ä½¿ç”¨ CSS åŠ¨ç”»æ•ˆæœ <a class="header-anchor" href="#ğŸ“ª-äº”ã€react-ä¸­ä½¿ç”¨-css-åŠ¨ç”»æ•ˆæœ" aria-label="Permalink to &quot;ğŸ“ª äº”ã€React ä¸­ä½¿ç”¨ CSS åŠ¨ç”»æ•ˆæœ&quot;">â€‹</a></h1><h2 id="_1ã€æ™®é€šç”¨æ³•" tabindex="-1">1ã€æ™®é€šç”¨æ³• <a class="header-anchor" href="#_1ã€æ™®é€šç”¨æ³•" aria-label="Permalink to &quot;1ã€æ™®é€šç”¨æ³•&quot;">â€‹</a></h2><p>æˆ‘ä»¬æ¥çœ‹ä¸€ä¸‹ï¼Œåœ¨ <code>react</code> ä¸­ï¼Œå¦‚ä½•ä½¿ç”¨ <code>css3</code> æ‰€æä¾›çš„åŠ¨ç”»æ•ˆæœã€‚<strong>å…·ä½“ä»£ç å¦‚ä¸‹ï¼š</strong></p><div class="language-css vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">css</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">.show</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#79B8FF;">animation</span><span style="color:#E1E4E8;">: show-item </span><span style="color:#79B8FF;">2</span><span style="color:#F97583;">s</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">ease-in</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">forwards</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#B392F0;">.hide</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#79B8FF;">animation</span><span style="color:#E1E4E8;">: hide-item </span><span style="color:#79B8FF;">2</span><span style="color:#F97583;">s</span><span style="color:#E1E4E8;"> wase-in </span><span style="color:#79B8FF;">forwards</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">@keyframes</span><span style="color:#E1E4E8;"> </span><span style="color:#FFAB70;">show-item</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#B392F0;">0%</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#79B8FF;">oppacity</span><span style="color:#E1E4E8;">: </span><span style="color:#79B8FF;">0</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#79B8FF;">color</span><span style="color:#E1E4E8;">: </span><span style="color:#79B8FF;">red</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#E1E4E8;">  }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#B392F0;">50%</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#79B8FF;">opacity</span><span style="color:#E1E4E8;">: </span><span style="color:#79B8FF;">0.5</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#79B8FF;">color</span><span style="color:#E1E4E8;">: </span><span style="color:#79B8FF;">green</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#E1E4E8;">  }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#B392F0;">100%</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#79B8FF;">opacity</span><span style="color:#E1E4E8;">: </span><span style="color:#79B8FF;">1</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#79B8FF;">color</span><span style="color:#E1E4E8;">: </span><span style="color:#79B8FF;">blue</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#E1E4E8;">  }</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">.show</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#005CC5;">animation</span><span style="color:#24292E;">: show-item </span><span style="color:#005CC5;">2</span><span style="color:#D73A49;">s</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">ease-in</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">forwards</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6F42C1;">.hide</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#005CC5;">animation</span><span style="color:#24292E;">: hide-item </span><span style="color:#005CC5;">2</span><span style="color:#D73A49;">s</span><span style="color:#24292E;"> wase-in </span><span style="color:#005CC5;">forwards</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">@keyframes</span><span style="color:#24292E;"> </span><span style="color:#E36209;">show-item</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6F42C1;">0%</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#005CC5;">oppacity</span><span style="color:#24292E;">: </span><span style="color:#005CC5;">0</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#005CC5;">color</span><span style="color:#24292E;">: </span><span style="color:#005CC5;">red</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">  }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6F42C1;">50%</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#005CC5;">opacity</span><span style="color:#24292E;">: </span><span style="color:#005CC5;">0.5</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#005CC5;">color</span><span style="color:#24292E;">: </span><span style="color:#005CC5;">green</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">  }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6F42C1;">100%</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#005CC5;">opacity</span><span style="color:#24292E;">: </span><span style="color:#005CC5;">1</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#005CC5;">color</span><span style="color:#24292E;">: </span><span style="color:#005CC5;">blue</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">  }</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br></div></div><h2 id="_2ã€react-transition-group" tabindex="-1">2ã€react-transition-group <a class="header-anchor" href="#_2ã€react-transition-group" aria-label="Permalink to &quot;2ã€react-transition-group&quot;">â€‹</a></h2><h3 id="_1-åˆæ¬¡æ¢ç´¢" tabindex="-1">ï¼ˆ1ï¼‰åˆæ¬¡æ¢ç´¢ <a class="header-anchor" href="#_1-åˆæ¬¡æ¢ç´¢" aria-label="Permalink to &quot;ï¼ˆ1ï¼‰åˆæ¬¡æ¢ç´¢&quot;">â€‹</a></h3><p>æœ‰æ—¶å€™ï¼Œæˆ‘ä»¬å¯èƒ½ä¼šæƒ³è¦å®ç°ä¸€äº›å¾ˆå¤æ‚çš„åŠ¨ç”»ï¼Œè¿™ä¸ªæ—¶å€™ <code>css3</code> æä¾›çš„æ˜¯ä¸å¤Ÿçš„ã€‚å› æ­¤ï¼Œæˆ‘ä»¬è¿˜éœ€è¦ä¸€ç‚¹ <code>js</code> æ¥åŠ ä»¥è¾…åŠ©å®ç°æ›´ä¸ºå¤æ‚çš„åŠ¨ç”»ã€‚è¿™ä¸ªæ—¶å€™å°±æœ‰è°ˆåˆ° <code>react</code> ä¸­çš„ <code>react-transition-group</code> åŠ¨ç”»ã€‚</p><p>å‡è®¾æˆ‘ä»¬æƒ³è¦å®ç°ï¼Œå½“ç‚¹å‡»ä¸€ä¸ªæŒ‰é’®æ—¶ï¼Œä¸€è¡Œæ–‡å­—æ¸éšæ¸æ˜¾çš„å®ç°ï¼Œé‚£è¯¥æ€ä¹ˆå¤„ç†å‘¢ï¼Ÿ</p><p>é¦–å…ˆï¼Œæˆ‘ä»¬åœ¨é¡¹ç›®çš„ <code>src</code> æ–‡ä»¶å¤¹ä¸‹æ–°å¢ä¸€ä¸ªç»„ä»¶ï¼Œå‘½åä¸º <code>App.js</code> ã€‚<strong>å…·ä½“ä»£ç å¦‚ä¸‹ï¼š</strong></p><div class="language-js vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> React, { Component, Fragment } </span><span style="color:#F97583;">from</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;react&#39;</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> { CSSTransition } </span><span style="color:#F97583;">from</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;react-transition-group&#39;</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;./style.css&#39;</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">class</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">App</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">extends</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">Component</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#F97583;">constructor</span><span style="color:#E1E4E8;">(</span><span style="color:#FFAB70;">props</span><span style="color:#E1E4E8;">) {</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#79B8FF;">super</span><span style="color:#E1E4E8;">(props);</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#79B8FF;">this</span><span style="color:#E1E4E8;">.state </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">      show: </span><span style="color:#79B8FF;">true</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">    };</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#79B8FF;">this</span><span style="color:#E1E4E8;">.handleToggle </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">this</span><span style="color:#E1E4E8;">.handleToggle.</span><span style="color:#B392F0;">bind</span><span style="color:#E1E4E8;">(</span><span style="color:#79B8FF;">this</span><span style="color:#E1E4E8;">);</span></span>
<span class="line"><span style="color:#E1E4E8;">  }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#B392F0;">render</span><span style="color:#E1E4E8;">() {</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">return</span><span style="color:#E1E4E8;"> (</span></span>
<span class="line"><span style="color:#E1E4E8;">      &lt;</span><span style="color:#79B8FF;">Fragment</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">        {</span><span style="color:#6A737D;">/* onEnteredæŒ‡çš„æ˜¯åœ¨æŸä¸€ä¸ªæ—¶åˆ»ä¼šè‡ªåŠ¨æ‰§è¡Œçš„ä¸€ä¸ªå‡½æ•°</span></span>
<span class="line"><span style="color:#6A737D;">            å½“å…¥åœºåŠ¨ç”»ç»“æŸæ—¶ï¼ŒonEnteredå°†ä¼šè¢«æ‰§è¡Œ</span></span>
<span class="line"><span style="color:#6A737D;">        */</span><span style="color:#E1E4E8;">}</span></span>
<span class="line"><span style="color:#E1E4E8;">        &lt;</span><span style="color:#79B8FF;">CSSTransition</span></span>
<span class="line"><span style="color:#E1E4E8;">          </span><span style="color:#B392F0;">in</span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;">{</span><span style="color:#79B8FF;">this</span><span style="color:#E1E4E8;">.state.show}</span></span>
<span class="line"><span style="color:#E1E4E8;">          </span><span style="color:#B392F0;">timeout</span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;">{</span><span style="color:#79B8FF;">1000</span><span style="color:#E1E4E8;">}</span></span>
<span class="line"><span style="color:#E1E4E8;">          </span><span style="color:#B392F0;">classNames</span><span style="color:#F97583;">=</span><span style="color:#9ECBFF;">&#39;fade&#39;</span></span>
<span class="line"><span style="color:#E1E4E8;">          </span><span style="color:#B392F0;">unmountOnExit</span></span>
<span class="line"><span style="color:#E1E4E8;">          </span><span style="color:#B392F0;">onEntered</span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;">{(</span><span style="color:#FFAB70;">el</span><span style="color:#E1E4E8;">) </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">            el.style.color </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;blue&#39;</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#E1E4E8;">          }}</span></span>
<span class="line"><span style="color:#E1E4E8;">          </span><span style="color:#B392F0;">appear</span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;">{</span><span style="color:#79B8FF;">true</span><span style="color:#E1E4E8;">}</span></span>
<span class="line"><span style="color:#E1E4E8;">        &gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">          &lt;</span><span style="color:#85E89D;">div</span><span style="color:#E1E4E8;">&gt;hello&lt;/</span><span style="color:#85E89D;">div</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">        &lt;/</span><span style="color:#79B8FF;">CSSTransition</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">        &lt;</span><span style="color:#85E89D;">button</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">onClick</span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;">{</span><span style="color:#79B8FF;">this</span><span style="color:#E1E4E8;">.handleToggle}&gt;toggle&lt;/</span><span style="color:#85E89D;">button</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">      &lt;/</span><span style="color:#79B8FF;">Fragment</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">    );</span></span>
<span class="line"><span style="color:#E1E4E8;">  }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#B392F0;">handleToggle</span><span style="color:#E1E4E8;">() {</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#79B8FF;">this</span><span style="color:#E1E4E8;">.</span><span style="color:#B392F0;">setState</span><span style="color:#E1E4E8;">({</span></span>
<span class="line"><span style="color:#E1E4E8;">      show: </span><span style="color:#79B8FF;">this</span><span style="color:#E1E4E8;">.state.show </span><span style="color:#F97583;">?</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">false</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">:</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">true</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">    });</span></span>
<span class="line"><span style="color:#E1E4E8;">  }</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">export</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">default</span><span style="color:#E1E4E8;"> App;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">import</span><span style="color:#24292E;"> React, { Component, Fragment } </span><span style="color:#D73A49;">from</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;react&#39;</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#D73A49;">import</span><span style="color:#24292E;"> { CSSTransition } </span><span style="color:#D73A49;">from</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;react-transition-group&#39;</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#D73A49;">import</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;./style.css&#39;</span><span style="color:#24292E;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">class</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">App</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">extends</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Component</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">constructor</span><span style="color:#24292E;">(</span><span style="color:#E36209;">props</span><span style="color:#24292E;">) {</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#005CC5;">super</span><span style="color:#24292E;">(props);</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#005CC5;">this</span><span style="color:#24292E;">.state </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">      show: </span><span style="color:#005CC5;">true</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">    };</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#005CC5;">this</span><span style="color:#24292E;">.handleToggle </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">this</span><span style="color:#24292E;">.handleToggle.</span><span style="color:#6F42C1;">bind</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">this</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">  }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6F42C1;">render</span><span style="color:#24292E;">() {</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> (</span></span>
<span class="line"><span style="color:#24292E;">      &lt;</span><span style="color:#005CC5;">Fragment</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">        {</span><span style="color:#6A737D;">/* onEnteredæŒ‡çš„æ˜¯åœ¨æŸä¸€ä¸ªæ—¶åˆ»ä¼šè‡ªåŠ¨æ‰§è¡Œçš„ä¸€ä¸ªå‡½æ•°</span></span>
<span class="line"><span style="color:#6A737D;">            å½“å…¥åœºåŠ¨ç”»ç»“æŸæ—¶ï¼ŒonEnteredå°†ä¼šè¢«æ‰§è¡Œ</span></span>
<span class="line"><span style="color:#6A737D;">        */</span><span style="color:#24292E;">}</span></span>
<span class="line"><span style="color:#24292E;">        &lt;</span><span style="color:#005CC5;">CSSTransition</span></span>
<span class="line"><span style="color:#24292E;">          </span><span style="color:#6F42C1;">in</span><span style="color:#D73A49;">=</span><span style="color:#24292E;">{</span><span style="color:#005CC5;">this</span><span style="color:#24292E;">.state.show}</span></span>
<span class="line"><span style="color:#24292E;">          </span><span style="color:#6F42C1;">timeout</span><span style="color:#D73A49;">=</span><span style="color:#24292E;">{</span><span style="color:#005CC5;">1000</span><span style="color:#24292E;">}</span></span>
<span class="line"><span style="color:#24292E;">          </span><span style="color:#6F42C1;">classNames</span><span style="color:#D73A49;">=</span><span style="color:#032F62;">&#39;fade&#39;</span></span>
<span class="line"><span style="color:#24292E;">          </span><span style="color:#6F42C1;">unmountOnExit</span></span>
<span class="line"><span style="color:#24292E;">          </span><span style="color:#6F42C1;">onEntered</span><span style="color:#D73A49;">=</span><span style="color:#24292E;">{(</span><span style="color:#E36209;">el</span><span style="color:#24292E;">) </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">            el.style.color </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;blue&#39;</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">          }}</span></span>
<span class="line"><span style="color:#24292E;">          </span><span style="color:#6F42C1;">appear</span><span style="color:#D73A49;">=</span><span style="color:#24292E;">{</span><span style="color:#005CC5;">true</span><span style="color:#24292E;">}</span></span>
<span class="line"><span style="color:#24292E;">        &gt;</span></span>
<span class="line"><span style="color:#24292E;">          &lt;</span><span style="color:#22863A;">div</span><span style="color:#24292E;">&gt;hello&lt;/</span><span style="color:#22863A;">div</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">        &lt;/</span><span style="color:#005CC5;">CSSTransition</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">        &lt;</span><span style="color:#22863A;">button</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">onClick</span><span style="color:#D73A49;">=</span><span style="color:#24292E;">{</span><span style="color:#005CC5;">this</span><span style="color:#24292E;">.handleToggle}&gt;toggle&lt;/</span><span style="color:#22863A;">button</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">      &lt;/</span><span style="color:#005CC5;">Fragment</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">    );</span></span>
<span class="line"><span style="color:#24292E;">  }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6F42C1;">handleToggle</span><span style="color:#24292E;">() {</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#005CC5;">this</span><span style="color:#24292E;">.</span><span style="color:#6F42C1;">setState</span><span style="color:#24292E;">({</span></span>
<span class="line"><span style="color:#24292E;">      show: </span><span style="color:#005CC5;">this</span><span style="color:#24292E;">.state.show </span><span style="color:#D73A49;">?</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">false</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">true</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">    });</span></span>
<span class="line"><span style="color:#24292E;">  }</span></span>
<span class="line"><span style="color:#24292E;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">export</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">default</span><span style="color:#24292E;"> App;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br></div></div><p>ä¹‹åæ–°å¢ä¸€ä¸ª <code>CSS</code> æ–‡ä»¶ï¼Œå‘½åä¸º <code>style.css</code> ã€‚<strong>å…·ä½“ä»£ç å¦‚ä¸‹ï¼š</strong></p><div class="language-css vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">css</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#6A737D;">/* å…¥åœºåŠ¨ç”»æ‰§è¡Œçš„ç¬¬ä¸€ä¸ªæ—¶åˆ»ï¼Œå³åˆšè¦å…¥åœºçš„è¿™ä¸ªç¬é—´ */</span></span>
<span class="line"><span style="color:#6A737D;">/* fade-appearç”¨äºå®ç°æ¸éšæ¸ç°çš„æ•ˆæœ */</span></span>
<span class="line"><span style="color:#B392F0;">.fade-enter</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#B392F0;">.fade-appear</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#79B8FF;">opacity</span><span style="color:#E1E4E8;">: </span><span style="color:#79B8FF;">0</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">/* å…¥åœºåŠ¨ç”»æ‰§è¡Œçš„ç¬¬äºŒä¸ªæ—¶åˆ»ï¼Œåˆ°å…¥åœºåŠ¨ç”»æ‰§è¡Œå®Œæˆä¹‹å‰çš„ä¸€ä¸ªæ—¶åˆ» */</span></span>
<span class="line"><span style="color:#B392F0;">.fade-enter-active</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#B392F0;">.fade-appear-active</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#79B8FF;">opacity</span><span style="color:#E1E4E8;">: </span><span style="color:#79B8FF;">1</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#79B8FF;">transition</span><span style="color:#E1E4E8;">: opacity </span><span style="color:#79B8FF;">1</span><span style="color:#F97583;">s</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">ease-in</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">/* å½“æ•´ä¸ªå…¥åœºåŠ¨ç”»æ‰§è¡Œå®Œæˆä¹‹å */</span></span>
<span class="line"><span style="color:#B392F0;">.fade-enter-done</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#79B8FF;">opacity</span><span style="color:#E1E4E8;">: </span><span style="color:#79B8FF;">1</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">/* è¡¨ç¤ºå‡ºåœºåŠ¨ç”»æ‰§è¡Œçš„ç¬¬ä¸€ä¸ªæ—¶åˆ» */</span></span>
<span class="line"><span style="color:#B392F0;">.fade-exit</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#79B8FF;">opacity</span><span style="color:#E1E4E8;">: </span><span style="color:#79B8FF;">1</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">/* æ•´ä¸ªå‡ºåœºçš„è¿‡ç¨‹ */</span></span>
<span class="line"><span style="color:#B392F0;">.fade-exit-active</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#79B8FF;">opacity</span><span style="color:#E1E4E8;">: </span><span style="color:#79B8FF;">0</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#79B8FF;">transition</span><span style="color:#E1E4E8;">: opacity </span><span style="color:#79B8FF;">1</span><span style="color:#F97583;">s</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">ease-in</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">/* å½“æ•´ä¸ªå‡ºåœºåŠ¨ç”»æ‰§è¡Œå®Œæˆæ—¶ */</span></span>
<span class="line"><span style="color:#B392F0;">.fade-exit-done</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6A737D;">/* å…¥åœºåŠ¨ç”»æ‰§è¡Œçš„ç¬¬ä¸€ä¸ªæ—¶åˆ»ï¼Œå³åˆšè¦å…¥åœºçš„è¿™ä¸ªç¬é—´ */</span></span>
<span class="line"><span style="color:#6A737D;">/* fade-appearç”¨äºå®ç°æ¸éšæ¸ç°çš„æ•ˆæœ */</span></span>
<span class="line"><span style="color:#6F42C1;">.fade-enter</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#6F42C1;">.fade-appear</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#005CC5;">opacity</span><span style="color:#24292E;">: </span><span style="color:#005CC5;">0</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">/* å…¥åœºåŠ¨ç”»æ‰§è¡Œçš„ç¬¬äºŒä¸ªæ—¶åˆ»ï¼Œåˆ°å…¥åœºåŠ¨ç”»æ‰§è¡Œå®Œæˆä¹‹å‰çš„ä¸€ä¸ªæ—¶åˆ» */</span></span>
<span class="line"><span style="color:#6F42C1;">.fade-enter-active</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#6F42C1;">.fade-appear-active</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#005CC5;">opacity</span><span style="color:#24292E;">: </span><span style="color:#005CC5;">1</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#005CC5;">transition</span><span style="color:#24292E;">: opacity </span><span style="color:#005CC5;">1</span><span style="color:#D73A49;">s</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">ease-in</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">/* å½“æ•´ä¸ªå…¥åœºåŠ¨ç”»æ‰§è¡Œå®Œæˆä¹‹å */</span></span>
<span class="line"><span style="color:#6F42C1;">.fade-enter-done</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#005CC5;">opacity</span><span style="color:#24292E;">: </span><span style="color:#005CC5;">1</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">/* è¡¨ç¤ºå‡ºåœºåŠ¨ç”»æ‰§è¡Œçš„ç¬¬ä¸€ä¸ªæ—¶åˆ» */</span></span>
<span class="line"><span style="color:#6F42C1;">.fade-exit</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#005CC5;">opacity</span><span style="color:#24292E;">: </span><span style="color:#005CC5;">1</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">/* æ•´ä¸ªå‡ºåœºçš„è¿‡ç¨‹ */</span></span>
<span class="line"><span style="color:#6F42C1;">.fade-exit-active</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#005CC5;">opacity</span><span style="color:#24292E;">: </span><span style="color:#005CC5;">0</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#005CC5;">transition</span><span style="color:#24292E;">: opacity </span><span style="color:#005CC5;">1</span><span style="color:#D73A49;">s</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">ease-in</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">/* å½“æ•´ä¸ªå‡ºåœºåŠ¨ç”»æ‰§è¡Œå®Œæˆæ—¶ */</span></span>
<span class="line"><span style="color:#6F42C1;">.fade-exit-done</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br></div></div><p>æ­¤æ—¶æˆ‘ä»¬æ¥çœ‹ä¸‹æµè§ˆå™¨çš„æ˜¾ç¤ºæ•ˆæœï¼š</p><p><img src="https://mondaylab-1309616765.cos.ap-shanghai.myqcloud.com/images/202305270705735.gif" alt="cssåŠ¨ç”»åˆé˜¶æ¢ç´¢"></p><h3 id="_2-è¿›é˜¶æ¢ç´¢" tabindex="-1">ï¼ˆ2ï¼‰è¿›é˜¶æ¢ç´¢ <a class="header-anchor" href="#_2-è¿›é˜¶æ¢ç´¢" aria-label="Permalink to &quot;ï¼ˆ2ï¼‰è¿›é˜¶æ¢ç´¢&quot;">â€‹</a></h3><p>ä¸Šé¢æˆ‘ä»¬åªæ˜¯æ”¹å˜äº†ä¸€é¡¹æ•°æ®ã€‚ç°åœ¨ï¼Œå¦‚æœæˆ‘ä»¬æƒ³è¦ç‚¹å‡»å°±æ–°å¢ä¸€é¡¹è¿‡æ¸¡æ•ˆæœï¼Œè¿™åˆè¯¥å¦‚ä½•å¤„ç†å‘¢ï¼Ÿ</p><p>æˆ‘ä»¬æ¥æ”¹é€ ä¸‹ <code>App.js</code> æ–‡ä»¶çš„ä»£ç ã€‚<strong>å…·ä½“ä»£ç å¦‚ä¸‹ï¼š</strong></p><div class="language-js vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> React, { Component, Fragment } </span><span style="color:#F97583;">from</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;react&#39;</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> { CSSTransition, TransitionGroup } </span><span style="color:#F97583;">from</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;react-transition-group&#39;</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;./style.css&#39;</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">class</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">App</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">extends</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">Component</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#F97583;">constructor</span><span style="color:#E1E4E8;">(</span><span style="color:#FFAB70;">props</span><span style="color:#E1E4E8;">) {</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#79B8FF;">super</span><span style="color:#E1E4E8;">(props);</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#79B8FF;">this</span><span style="color:#E1E4E8;">.state </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">      show: </span><span style="color:#79B8FF;">true</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">      list: [],</span></span>
<span class="line"><span style="color:#E1E4E8;">    };</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#79B8FF;">this</span><span style="color:#E1E4E8;">.handleToggle </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">this</span><span style="color:#E1E4E8;">.handleToggle.</span><span style="color:#B392F0;">bind</span><span style="color:#E1E4E8;">(</span><span style="color:#79B8FF;">this</span><span style="color:#E1E4E8;">);</span></span>
<span class="line"><span style="color:#E1E4E8;">  }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#B392F0;">render</span><span style="color:#E1E4E8;">() {</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">return</span><span style="color:#E1E4E8;"> (</span></span>
<span class="line"><span style="color:#E1E4E8;">      &lt;</span><span style="color:#79B8FF;">Fragment</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">        {</span><span style="color:#6A737D;">/* onEnteredæŒ‡çš„æ˜¯åœ¨æŸä¸€ä¸ªæ—¶åˆ»ä¼šè‡ªåŠ¨æ‰§è¡Œçš„ä¸€ä¸ªå‡½æ•°</span></span>
<span class="line"><span style="color:#6A737D;">            å½“å…¥åœºåŠ¨ç”»ç»“æŸæ—¶ï¼ŒonEnteredå°†ä¼šè¢«æ‰§è¡Œ</span></span>
<span class="line"><span style="color:#6A737D;">        */</span><span style="color:#E1E4E8;">}</span></span>
<span class="line"><span style="color:#E1E4E8;">        &lt;</span><span style="color:#79B8FF;">TransitionGroup</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">          {</span><span style="color:#79B8FF;">this</span><span style="color:#E1E4E8;">.state.list.</span><span style="color:#B392F0;">map</span><span style="color:#E1E4E8;">((</span><span style="color:#FFAB70;">item</span><span style="color:#E1E4E8;">, </span><span style="color:#FFAB70;">index</span><span style="color:#E1E4E8;">) </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">            </span><span style="color:#F97583;">return</span><span style="color:#E1E4E8;"> (</span></span>
<span class="line"><span style="color:#E1E4E8;">              &lt;</span><span style="color:#79B8FF;">CSSTransition</span></span>
<span class="line"><span style="color:#E1E4E8;">                </span><span style="color:#B392F0;">in</span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;">{</span><span style="color:#79B8FF;">this</span><span style="color:#E1E4E8;">.state.show}</span></span>
<span class="line"><span style="color:#E1E4E8;">                </span><span style="color:#B392F0;">timeout</span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;">{</span><span style="color:#79B8FF;">1000</span><span style="color:#E1E4E8;">}</span></span>
<span class="line"><span style="color:#E1E4E8;">                </span><span style="color:#B392F0;">classNames</span><span style="color:#F97583;">=</span><span style="color:#9ECBFF;">&#39;fade&#39;</span></span>
<span class="line"><span style="color:#E1E4E8;">                </span><span style="color:#B392F0;">unmountOnExit</span></span>
<span class="line"><span style="color:#E1E4E8;">                </span><span style="color:#B392F0;">onEntered</span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;">{(</span><span style="color:#FFAB70;">el</span><span style="color:#E1E4E8;">) </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">                  el.style.color </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;blue&#39;</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#E1E4E8;">                }}</span></span>
<span class="line"><span style="color:#E1E4E8;">                </span><span style="color:#B392F0;">appear</span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;">{</span><span style="color:#79B8FF;">true</span><span style="color:#E1E4E8;">}</span></span>
<span class="line"><span style="color:#E1E4E8;">                </span><span style="color:#B392F0;">key</span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;">{index}</span></span>
<span class="line"><span style="color:#E1E4E8;">              &gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">                &lt;</span><span style="color:#85E89D;">div</span><span style="color:#E1E4E8;">&gt;{item}&lt;/</span><span style="color:#85E89D;">div</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">              &lt;/</span><span style="color:#79B8FF;">CSSTransition</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">            );</span></span>
<span class="line"><span style="color:#E1E4E8;">          })}</span></span>
<span class="line"><span style="color:#E1E4E8;">        &lt;/</span><span style="color:#79B8FF;">TransitionGroup</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">        &lt;</span><span style="color:#85E89D;">button</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">onClick</span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;">{</span><span style="color:#79B8FF;">this</span><span style="color:#E1E4E8;">.handleToggle}&gt;toggle&lt;/</span><span style="color:#85E89D;">button</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">      &lt;/</span><span style="color:#79B8FF;">Fragment</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">    );</span></span>
<span class="line"><span style="color:#E1E4E8;">  }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#B392F0;">handleToggle</span><span style="color:#E1E4E8;">() {</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#79B8FF;">this</span><span style="color:#E1E4E8;">.</span><span style="color:#B392F0;">setState</span><span style="color:#E1E4E8;">((</span><span style="color:#FFAB70;">prevState</span><span style="color:#E1E4E8;">) </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#F97583;">return</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">        list: [</span><span style="color:#F97583;">...</span><span style="color:#E1E4E8;">prevState.list, </span><span style="color:#9ECBFF;">&#39;item&#39;</span><span style="color:#E1E4E8;">],</span></span>
<span class="line"><span style="color:#E1E4E8;">      };</span></span>
<span class="line"><span style="color:#E1E4E8;">    });</span></span>
<span class="line"><span style="color:#E1E4E8;">  }</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">export</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">default</span><span style="color:#E1E4E8;"> App;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">import</span><span style="color:#24292E;"> React, { Component, Fragment } </span><span style="color:#D73A49;">from</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;react&#39;</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#D73A49;">import</span><span style="color:#24292E;"> { CSSTransition, TransitionGroup } </span><span style="color:#D73A49;">from</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;react-transition-group&#39;</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#D73A49;">import</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;./style.css&#39;</span><span style="color:#24292E;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">class</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">App</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">extends</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Component</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">constructor</span><span style="color:#24292E;">(</span><span style="color:#E36209;">props</span><span style="color:#24292E;">) {</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#005CC5;">super</span><span style="color:#24292E;">(props);</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#005CC5;">this</span><span style="color:#24292E;">.state </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">      show: </span><span style="color:#005CC5;">true</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">      list: [],</span></span>
<span class="line"><span style="color:#24292E;">    };</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#005CC5;">this</span><span style="color:#24292E;">.handleToggle </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">this</span><span style="color:#24292E;">.handleToggle.</span><span style="color:#6F42C1;">bind</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">this</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">  }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6F42C1;">render</span><span style="color:#24292E;">() {</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> (</span></span>
<span class="line"><span style="color:#24292E;">      &lt;</span><span style="color:#005CC5;">Fragment</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">        {</span><span style="color:#6A737D;">/* onEnteredæŒ‡çš„æ˜¯åœ¨æŸä¸€ä¸ªæ—¶åˆ»ä¼šè‡ªåŠ¨æ‰§è¡Œçš„ä¸€ä¸ªå‡½æ•°</span></span>
<span class="line"><span style="color:#6A737D;">            å½“å…¥åœºåŠ¨ç”»ç»“æŸæ—¶ï¼ŒonEnteredå°†ä¼šè¢«æ‰§è¡Œ</span></span>
<span class="line"><span style="color:#6A737D;">        */</span><span style="color:#24292E;">}</span></span>
<span class="line"><span style="color:#24292E;">        &lt;</span><span style="color:#005CC5;">TransitionGroup</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">          {</span><span style="color:#005CC5;">this</span><span style="color:#24292E;">.state.list.</span><span style="color:#6F42C1;">map</span><span style="color:#24292E;">((</span><span style="color:#E36209;">item</span><span style="color:#24292E;">, </span><span style="color:#E36209;">index</span><span style="color:#24292E;">) </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">            </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> (</span></span>
<span class="line"><span style="color:#24292E;">              &lt;</span><span style="color:#005CC5;">CSSTransition</span></span>
<span class="line"><span style="color:#24292E;">                </span><span style="color:#6F42C1;">in</span><span style="color:#D73A49;">=</span><span style="color:#24292E;">{</span><span style="color:#005CC5;">this</span><span style="color:#24292E;">.state.show}</span></span>
<span class="line"><span style="color:#24292E;">                </span><span style="color:#6F42C1;">timeout</span><span style="color:#D73A49;">=</span><span style="color:#24292E;">{</span><span style="color:#005CC5;">1000</span><span style="color:#24292E;">}</span></span>
<span class="line"><span style="color:#24292E;">                </span><span style="color:#6F42C1;">classNames</span><span style="color:#D73A49;">=</span><span style="color:#032F62;">&#39;fade&#39;</span></span>
<span class="line"><span style="color:#24292E;">                </span><span style="color:#6F42C1;">unmountOnExit</span></span>
<span class="line"><span style="color:#24292E;">                </span><span style="color:#6F42C1;">onEntered</span><span style="color:#D73A49;">=</span><span style="color:#24292E;">{(</span><span style="color:#E36209;">el</span><span style="color:#24292E;">) </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">                  el.style.color </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;blue&#39;</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">                }}</span></span>
<span class="line"><span style="color:#24292E;">                </span><span style="color:#6F42C1;">appear</span><span style="color:#D73A49;">=</span><span style="color:#24292E;">{</span><span style="color:#005CC5;">true</span><span style="color:#24292E;">}</span></span>
<span class="line"><span style="color:#24292E;">                </span><span style="color:#6F42C1;">key</span><span style="color:#D73A49;">=</span><span style="color:#24292E;">{index}</span></span>
<span class="line"><span style="color:#24292E;">              &gt;</span></span>
<span class="line"><span style="color:#24292E;">                &lt;</span><span style="color:#22863A;">div</span><span style="color:#24292E;">&gt;{item}&lt;/</span><span style="color:#22863A;">div</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">              &lt;/</span><span style="color:#005CC5;">CSSTransition</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">            );</span></span>
<span class="line"><span style="color:#24292E;">          })}</span></span>
<span class="line"><span style="color:#24292E;">        &lt;/</span><span style="color:#005CC5;">TransitionGroup</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">        &lt;</span><span style="color:#22863A;">button</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">onClick</span><span style="color:#D73A49;">=</span><span style="color:#24292E;">{</span><span style="color:#005CC5;">this</span><span style="color:#24292E;">.handleToggle}&gt;toggle&lt;/</span><span style="color:#22863A;">button</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">      &lt;/</span><span style="color:#005CC5;">Fragment</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">    );</span></span>
<span class="line"><span style="color:#24292E;">  }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6F42C1;">handleToggle</span><span style="color:#24292E;">() {</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#005CC5;">this</span><span style="color:#24292E;">.</span><span style="color:#6F42C1;">setState</span><span style="color:#24292E;">((</span><span style="color:#E36209;">prevState</span><span style="color:#24292E;">) </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">        list: [</span><span style="color:#D73A49;">...</span><span style="color:#24292E;">prevState.list, </span><span style="color:#032F62;">&#39;item&#39;</span><span style="color:#24292E;">],</span></span>
<span class="line"><span style="color:#24292E;">      };</span></span>
<span class="line"><span style="color:#24292E;">    });</span></span>
<span class="line"><span style="color:#24292E;">  }</span></span>
<span class="line"><span style="color:#24292E;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">export</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">default</span><span style="color:#24292E;"> App;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br></div></div><p><strong>æ­¤æ—¶æµè§ˆå™¨çš„è¿è¡Œæ•ˆæœå¦‚ä¸‹ï¼š</strong></p><p><img src="https://mondaylab-1309616765.cos.ap-shanghai.myqcloud.com/images/202305270706031.gif" alt="cssåŠ¨ç”»è¿›é˜¶æ¢ç´¢"></p><p>å¯¹äºè¿™ç§ç±»å‹çš„åŠ¨ç”»æ¥è¯´ï¼Œæˆ‘ä»¬é€šè¿‡ <code>TransitionGroup</code> å¯¹å¤–å±‚è¿›è¡ŒåŒ…è£¹ï¼Œä¹‹åé€šè¿‡ <code>CSSTransition</code> å¯¹é‡Œå±‚è¿›è¡ŒåŒ…è£¹ï¼Œè¿›è€Œè¾¾åˆ°æˆ‘ä»¬æœ€ç»ˆçš„æ•ˆæœã€‚</p><h1 id="ğŸ“®-å…­ã€ç»“æŸè¯­" tabindex="-1">ğŸ“® å…­ã€ç»“æŸè¯­ <a class="header-anchor" href="#ğŸ“®-å…­ã€ç»“æŸè¯­" aria-label="Permalink to &quot;ğŸ“® å…­ã€ç»“æŸè¯­&quot;">â€‹</a></h1><p>åœ¨ä¸Šé¢è¿™ç¯‡æ–‡ç« ä¸­ï¼Œæˆ‘ä»¬è®²è§£äº† <code>react</code> ä¸­çš„ <code>props</code> ï¼ŒåŒæ—¶ï¼Œè¿˜ç®€å•çš„äº†è§£äº†è™šæ‹Ÿ <code>DOM</code> çš„å†…å®¹ã€‚é™¤æ­¤ä¹‹å¤–å‘¢ï¼Œè¿˜å­¦ä¹ äº† <code>ref</code> çš„ä½¿ç”¨ï¼Œä»¥åŠ <code>react</code> ä¸­çš„é…·ç‚«çš„è¿‡æ¸¡åŠ¨ç”»ã€‚å½“ç„¶ï¼Œæœ€ä¸ºé‡è¦çš„ä¸€ç‚¹æ˜¯ï¼Œ <code>react</code> ä¸­çš„<strong>ç”Ÿå‘½å‘¨æœŸå‡½æ•°</strong>ã€‚</p><p>é‚£åˆ°è¿™é‡Œï¼Œ <code>react</code> çš„è¿›é˜¶çŸ¥è¯†è®²åˆ°è¿™é‡Œå°±ç»“æŸäº†ã€‚ä¸çŸ¥é“å°ä¼™ä¼´ä»¬å¯¹ <code>react</code> æ˜¯å¦åˆæœ‰è¿›ä¸€æ­¥çš„è®¤è¯†å‘¢ï¼Ÿ</p>`,75),e=[o];function t(r,c,E,y,i,d){return n(),a("div",null,e)}const F=s(p,[["render",t]]);export{u as __pageData,F as default};
