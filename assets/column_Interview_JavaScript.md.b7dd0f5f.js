import{_ as s,c as n,o as a,N as l}from"./chunks/framework.6510d215.js";const C=JSON.parse('{"title":"ã€Œofferæ¥äº†ã€ä¿å§†çº§å·©å›ºä½ çš„jsçŸ¥è¯†ä½“ç³»ï¼ˆ4.0wå­—ï¼‰","description":"","frontmatter":{"title":"ã€Œofferæ¥äº†ã€ä¿å§†çº§å·©å›ºä½ çš„jsçŸ¥è¯†ä½“ç³»ï¼ˆ4.0wå­—ï¼‰","author":"å‘¨ä¸€","date":"2021-11-04","categories":["å‰ç«¯å¼€å‘"],"tags":["offeræ¥äº†"],"sidebar":"auto"},"headers":[{"level":1,"title":"ğŸ§ åºè¨€","slug":"ğŸ§-åºè¨€","link":"#ğŸ§-åºè¨€","children":[]},{"level":1,"title":"ğŸ¥³ æ€ç»´å¯¼å›¾ç¯èŠ‚","slug":"ğŸ¥³-æ€ç»´å¯¼å›¾ç¯èŠ‚","link":"#ğŸ¥³-æ€ç»´å¯¼å›¾ç¯èŠ‚","children":[]},{"level":1,"title":"ğŸ˜ ä¸€ã€JS è§„èŒƒ","slug":"ğŸ˜-ä¸€ã€js-è§„èŒƒ","link":"#ğŸ˜-ä¸€ã€js-è§„èŒƒ","children":[{"level":2,"title":"1ã€è¯´å‡ æ¡ JavaScript çš„åŸºæœ¬è§„èŒƒã€‚","slug":"_1ã€è¯´å‡ æ¡-javascript-çš„åŸºæœ¬è§„èŒƒã€‚","link":"#_1ã€è¯´å‡ æ¡-javascript-çš„åŸºæœ¬è§„èŒƒã€‚","children":[]},{"level":2,"title":"2ã€å¯¹åŸç”Ÿ JavaScript çš„äº†è§£ã€‚","slug":"_2ã€å¯¹åŸç”Ÿ-javascript-çš„äº†è§£ã€‚","link":"#_2ã€å¯¹åŸç”Ÿ-javascript-çš„äº†è§£ã€‚","children":[]},{"level":2,"title":"3ã€è¯´ä¸‹å¯¹ JS çš„äº†è§£å§ã€‚","slug":"_3ã€è¯´ä¸‹å¯¹-js-çš„äº†è§£å§ã€‚","link":"#_3ã€è¯´ä¸‹å¯¹-js-çš„äº†è§£å§ã€‚","children":[]},{"level":2,"title":"4ã€JS åŸç”Ÿæ‹–æ‹½èŠ‚ç‚¹","slug":"_4ã€js-åŸç”Ÿæ‹–æ‹½èŠ‚ç‚¹","link":"#_4ã€js-åŸç”Ÿæ‹–æ‹½èŠ‚ç‚¹","children":[]},{"level":2,"title":"5ã€è°ˆè°ˆä½ å¯¹ ES6 çš„ç†è§£","slug":"_5ã€è°ˆè°ˆä½ å¯¹-es6-çš„ç†è§£","link":"#_5ã€è°ˆè°ˆä½ å¯¹-es6-çš„ç†è§£","children":[]},{"level":2,"title":"6ã€çŸ¥é“ ES6 çš„ class å˜›ï¼Ÿ","slug":"_6ã€çŸ¥é“-es6-çš„-class-å˜›","link":"#_6ã€çŸ¥é“-es6-çš„-class-å˜›","children":[]},{"level":2,"title":"7ã€è¯´è¯´ä½ å¯¹ AMD å’Œ Commonjs çš„ç†è§£","slug":"_7ã€è¯´è¯´ä½ å¯¹-amd-å’Œ-commonjs-çš„ç†è§£","link":"#_7ã€è¯´è¯´ä½ å¯¹-amd-å’Œ-commonjs-çš„ç†è§£","children":[]},{"level":2,"title":"8ã€å¦‚ä½•ç†è§£å‰ç«¯æ¨¡å—åŒ–","slug":"_8ã€å¦‚ä½•ç†è§£å‰ç«¯æ¨¡å—åŒ–","link":"#_8ã€å¦‚ä½•ç†è§£å‰ç«¯æ¨¡å—åŒ–","children":[]},{"level":2,"title":"9ã€é¢å‘å¯¹è±¡ç¼–ç¨‹æ€æƒ³","slug":"_9ã€é¢å‘å¯¹è±¡ç¼–ç¨‹æ€æƒ³","link":"#_9ã€é¢å‘å¯¹è±¡ç¼–ç¨‹æ€æƒ³","children":[]},{"level":2,"title":"10ã€ç”¨è¿‡ TypeScript å—ï¼Ÿå®ƒçš„ä½œç”¨æ˜¯ä»€ä¹ˆï¼Ÿ","slug":"_10ã€ç”¨è¿‡-typescript-å—-å®ƒçš„ä½œç”¨æ˜¯ä»€ä¹ˆ","link":"#_10ã€ç”¨è¿‡-typescript-å—-å®ƒçš„ä½œç”¨æ˜¯ä»€ä¹ˆ","children":[]},{"level":2,"title":"11ã€PWA ä½¿ç”¨è¿‡å—ï¼ŸserviceWorker çš„ä½¿ç”¨åŸç†æ˜¯å•¥ï¼Ÿ","slug":"_11ã€pwa-ä½¿ç”¨è¿‡å—-serviceworker-çš„ä½¿ç”¨åŸç†æ˜¯å•¥","link":"#_11ã€pwa-ä½¿ç”¨è¿‡å—-serviceworker-çš„ä½¿ç”¨åŸç†æ˜¯å•¥","children":[]}]},{"level":1,"title":"ğŸ˜² äºŒã€æ•°æ®ç±»å‹","slug":"ğŸ˜²-äºŒã€æ•°æ®ç±»å‹","link":"#ğŸ˜²-äºŒã€æ•°æ®ç±»å‹","children":[{"level":2,"title":"1ã€é—®ï¼š0.1+0.2 === 0.3 å—ï¼Ÿä¸ºä»€ä¹ˆï¼Ÿ","slug":"_1ã€é—®-0-1-0-2-0-3-å—-ä¸ºä»€ä¹ˆ","link":"#_1ã€é—®-0-1-0-2-0-3-å—-ä¸ºä»€ä¹ˆ","children":[]},{"level":2,"title":"2ã€js æ•°æ®ç±»å‹æœ‰å“ªäº›ï¼Ÿå…·ä½“å­˜åœ¨å“ªé‡Œï¼Ÿåˆ¤æ–­æ–¹å¼æ˜¯ä»€ä¹ˆï¼Ÿ","slug":"_2ã€js-æ•°æ®ç±»å‹æœ‰å“ªäº›-å…·ä½“å­˜åœ¨å“ªé‡Œ-åˆ¤æ–­æ–¹å¼æ˜¯ä»€ä¹ˆ","link":"#_2ã€js-æ•°æ®ç±»å‹æœ‰å“ªäº›-å…·ä½“å­˜åœ¨å“ªé‡Œ-åˆ¤æ–­æ–¹å¼æ˜¯ä»€ä¹ˆ","children":[]},{"level":2,"title":"3ã€ä»€ä¹ˆæ˜¯æµ…æ‹·è´ï¼Ÿä»€ä¹ˆæ˜¯æ·±æ‹·è´ï¼Ÿè¯´æ˜å¹¶åˆ†åˆ«å†™å‡ºä»£ç ã€‚","slug":"_3ã€ä»€ä¹ˆæ˜¯æµ…æ‹·è´-ä»€ä¹ˆæ˜¯æ·±æ‹·è´-è¯´æ˜å¹¶åˆ†åˆ«å†™å‡ºä»£ç ã€‚","link":"#_3ã€ä»€ä¹ˆæ˜¯æµ…æ‹·è´-ä»€ä¹ˆæ˜¯æ·±æ‹·è´-è¯´æ˜å¹¶åˆ†åˆ«å†™å‡ºä»£ç ã€‚","children":[{"level":3,"title":"ï¼ˆ1ï¼‰æµ…æ‹·è´","slug":"_1-æµ…æ‹·è´","link":"#_1-æµ…æ‹·è´","children":[]},{"level":3,"title":"ï¼ˆ2ï¼‰æ·±æ‹·è´","slug":"_2-æ·±æ‹·è´","link":"#_2-æ·±æ‹·è´","children":[]}]},{"level":2,"title":"4ã€JS æ•´æ•°æ˜¯æ€ä¹ˆè¡¨ç¤ºçš„ï¼Ÿ","slug":"_4ã€js-æ•´æ•°æ˜¯æ€ä¹ˆè¡¨ç¤ºçš„","link":"#_4ã€js-æ•´æ•°æ˜¯æ€ä¹ˆè¡¨ç¤ºçš„","children":[]},{"level":2,"title":"5ã€Number çš„å­˜å‚¨ç©ºé—´æ˜¯å¤šå¤§ï¼Ÿå¦‚æœåå°å‘é€äº†ä¸€ä¸ªè¶…è¿‡æœ€å¤§æ•°å­—æ€ä¹ˆåŠï¼Ÿ","slug":"_5ã€number-çš„å­˜å‚¨ç©ºé—´æ˜¯å¤šå¤§-å¦‚æœåå°å‘é€äº†ä¸€ä¸ªè¶…è¿‡æœ€å¤§æ•°å­—æ€ä¹ˆåŠ","link":"#_5ã€number-çš„å­˜å‚¨ç©ºé—´æ˜¯å¤šå¤§-å¦‚æœåå°å‘é€äº†ä¸€ä¸ªè¶…è¿‡æœ€å¤§æ•°å­—æ€ä¹ˆåŠ","children":[]},{"level":2,"title":"6ã€NAN æ˜¯ä»€ä¹ˆï¼Œç”¨ typeof ä¼šè¾“å‡ºä»€ä¹ˆï¼Ÿ","slug":"_6ã€nan-æ˜¯ä»€ä¹ˆ-ç”¨-typeof-ä¼šè¾“å‡ºä»€ä¹ˆ","link":"#_6ã€nan-æ˜¯ä»€ä¹ˆ-ç”¨-typeof-ä¼šè¾“å‡ºä»€ä¹ˆ","children":[]},{"level":2,"title":"7ã€Symbol æœ‰ä»€ä¹ˆç”¨å¤„ï¼Ÿ","slug":"_7ã€symbol-æœ‰ä»€ä¹ˆç”¨å¤„","link":"#_7ã€symbol-æœ‰ä»€ä¹ˆç”¨å¤„","children":[]},{"level":2,"title":"8ã€nullï¼Œundefined çš„åŒºåˆ«","slug":"_8ã€null-undefined-çš„åŒºåˆ«","link":"#_8ã€null-undefined-çš„åŒºåˆ«","children":[]},{"level":2,"title":"9ã€JS éšå¼è½¬æ¢ï¼Œæ˜¾ç¤ºè½¬æ¢","slug":"_9ã€js-éšå¼è½¬æ¢-æ˜¾ç¤ºè½¬æ¢","link":"#_9ã€js-éšå¼è½¬æ¢-æ˜¾ç¤ºè½¬æ¢","children":[]},{"level":2,"title":"10ã€ä»‹ç»ä¸‹ js æœ‰å“ªäº›å†…ç½®å¯¹è±¡","slug":"_10ã€ä»‹ç»ä¸‹-js-æœ‰å“ªäº›å†…ç½®å¯¹è±¡","link":"#_10ã€ä»‹ç»ä¸‹-js-æœ‰å“ªäº›å†…ç½®å¯¹è±¡","children":[]},{"level":2,"title":"11ã€js æœ‰å“ªäº›æ–¹æ³•å®šä¹‰å¯¹è±¡","slug":"_11ã€js-æœ‰å“ªäº›æ–¹æ³•å®šä¹‰å¯¹è±¡","link":"#_11ã€js-æœ‰å“ªäº›æ–¹æ³•å®šä¹‰å¯¹è±¡","children":[]},{"level":2,"title":"12ã€å¦‚ä½•åˆ¤æ–­ä¸€ä¸ªå¯¹è±¡æ˜¯ä¸æ˜¯ç©ºå¯¹è±¡ï¼Ÿ","slug":"_12ã€å¦‚ä½•åˆ¤æ–­ä¸€ä¸ªå¯¹è±¡æ˜¯ä¸æ˜¯ç©ºå¯¹è±¡","link":"#_12ã€å¦‚ä½•åˆ¤æ–­ä¸€ä¸ªå¯¹è±¡æ˜¯ä¸æ˜¯ç©ºå¯¹è±¡","children":[]},{"level":2,"title":"13ã€æ‰‹å†™é¢˜ï¼šè·å– url å‚æ•° getUrlParams(url)","slug":"_13ã€æ‰‹å†™é¢˜-è·å–-url-å‚æ•°-geturlparams-url","link":"#_13ã€æ‰‹å†™é¢˜-è·å–-url-å‚æ•°-geturlparams-url","children":[]},{"level":2,"title":"14ã€æ•°ç»„èƒ½å¤Ÿè°ƒç”¨çš„å‡½æ•°æœ‰å“ªäº›ï¼Ÿ","slug":"_14ã€æ•°ç»„èƒ½å¤Ÿè°ƒç”¨çš„å‡½æ•°æœ‰å“ªäº›","link":"#_14ã€æ•°ç»„èƒ½å¤Ÿè°ƒç”¨çš„å‡½æ•°æœ‰å“ªäº›","children":[]},{"level":2,"title":"15ã€å‡½æ•°ä¸­çš„ arguments æ˜¯æ•°ç»„å—ï¼Ÿç±»æ•°ç»„è½¬æ•°ç»„çš„æ–¹æ³•äº†è§£ä¸€ä¸‹ï¼Ÿ","slug":"_15ã€å‡½æ•°ä¸­çš„-arguments-æ˜¯æ•°ç»„å—-ç±»æ•°ç»„è½¬æ•°ç»„çš„æ–¹æ³•äº†è§£ä¸€ä¸‹","link":"#_15ã€å‡½æ•°ä¸­çš„-arguments-æ˜¯æ•°ç»„å—-ç±»æ•°ç»„è½¬æ•°ç»„çš„æ–¹æ³•äº†è§£ä¸€ä¸‹","children":[]},{"level":2,"title":"16ã€æ‰‹å†™é¢˜ï¼šå¦‚ä½•åˆ¤æ–­æ•°ç»„ç±»å‹ï¼Ÿ","slug":"_16ã€æ‰‹å†™é¢˜-å¦‚ä½•åˆ¤æ–­æ•°ç»„ç±»å‹","link":"#_16ã€æ‰‹å†™é¢˜-å¦‚ä½•åˆ¤æ–­æ•°ç»„ç±»å‹","children":[]},{"level":2,"title":"17ã€æ‰‹å†™é¢˜ï¼šsort å¿«é€Ÿæ‰“ä¹±æ•°ç»„","slug":"_17ã€æ‰‹å†™é¢˜-sort-å¿«é€Ÿæ‰“ä¹±æ•°ç»„","link":"#_17ã€æ‰‹å†™é¢˜-sort-å¿«é€Ÿæ‰“ä¹±æ•°ç»„","children":[]},{"level":2,"title":"18ã€æ‰‹å†™é¢˜ï¼šæ•°ç»„å»é‡æ“ä½œ","slug":"_18ã€æ‰‹å†™é¢˜-æ•°ç»„å»é‡æ“ä½œ","link":"#_18ã€æ‰‹å†™é¢˜-æ•°ç»„å»é‡æ“ä½œ","children":[]},{"level":2,"title":"19ã€æ‰‹å†™é¢˜ï¼šæ•°ç»„æ‰å¹³åŒ–","slug":"_19ã€æ‰‹å†™é¢˜-æ•°ç»„æ‰å¹³åŒ–","link":"#_19ã€æ‰‹å†™é¢˜-æ•°ç»„æ‰å¹³åŒ–","children":[]},{"level":2,"title":"20ã€new æ“ä½œç¬¦å…·ä½“å¹²äº†ä»€ä¹ˆå‘¢ï¼Ÿ","slug":"_20ã€new-æ“ä½œç¬¦å…·ä½“å¹²äº†ä»€ä¹ˆå‘¢","link":"#_20ã€new-æ“ä½œç¬¦å…·ä½“å¹²äº†ä»€ä¹ˆå‘¢","children":[]},{"level":2,"title":"21ã€æ‰‹å†™é¢˜ï¼šæ‰‹å†™ä¸€ä¸ª new æ–¹æ³•","slug":"_21ã€æ‰‹å†™é¢˜-æ‰‹å†™ä¸€ä¸ª-new-æ–¹æ³•","link":"#_21ã€æ‰‹å†™é¢˜-æ‰‹å†™ä¸€ä¸ª-new-æ–¹æ³•","children":[]},{"level":2,"title":"22ã€js å¦‚ä½•å®ç°ç»§æ‰¿ï¼Ÿ","slug":"_22ã€js-å¦‚ä½•å®ç°ç»§æ‰¿","link":"#_22ã€js-å¦‚ä½•å®ç°ç»§æ‰¿","children":[]},{"level":2,"title":"23ã€JS ä¸­çš„åƒåœ¾å›æ”¶æœºåˆ¶","slug":"_23ã€js-ä¸­çš„åƒåœ¾å›æ”¶æœºåˆ¶","link":"#_23ã€js-ä¸­çš„åƒåœ¾å›æ”¶æœºåˆ¶","children":[]}]},{"level":1,"title":"ğŸ¤ ä¸‰ã€ä½œç”¨åŸŸã€åŸå‹é“¾ã€é—­åŒ…","slug":"ğŸ¤-ä¸‰ã€ä½œç”¨åŸŸã€åŸå‹é“¾ã€é—­åŒ…","link":"#ğŸ¤-ä¸‰ã€ä½œç”¨åŸŸã€åŸå‹é“¾ã€é—­åŒ…","children":[{"level":2,"title":"1ã€ä½œç”¨åŸŸ","slug":"_1ã€ä½œç”¨åŸŸ","link":"#_1ã€ä½œç”¨åŸŸ","children":[{"level":3,"title":"ï¼ˆ1ï¼‰ä»€ä¹ˆæ˜¯ä½œç”¨åŸŸï¼Ÿ","slug":"_1-ä»€ä¹ˆæ˜¯ä½œç”¨åŸŸ","link":"#_1-ä»€ä¹ˆæ˜¯ä½œç”¨åŸŸ","children":[]},{"level":3,"title":"ï¼ˆ2ï¼‰ä»€ä¹ˆæ˜¯ä½œç”¨åŸŸé“¾ï¼Ÿ","slug":"_2-ä»€ä¹ˆæ˜¯ä½œç”¨åŸŸé“¾","link":"#_2-ä»€ä¹ˆæ˜¯ä½œç”¨åŸŸé“¾","children":[]}]},{"level":2,"title":"2ã€åŸå‹é“¾","slug":"_2ã€åŸå‹é“¾","link":"#_2ã€åŸå‹é“¾","children":[{"level":3,"title":"ï¼ˆ1ï¼‰ä»€ä¹ˆæ˜¯åŸå‹ï¼Ÿä»€ä¹ˆæ˜¯åŸå‹é“¾ï¼Ÿ","slug":"_1-ä»€ä¹ˆæ˜¯åŸå‹-ä»€ä¹ˆæ˜¯åŸå‹é“¾","link":"#_1-ä»€ä¹ˆæ˜¯åŸå‹-ä»€ä¹ˆæ˜¯åŸå‹é“¾","children":[]},{"level":3,"title":"ï¼ˆ2ï¼‰ä»€ä¹ˆæ˜¯åŸå‹é“¾ç»§æ‰¿ï¼Ÿ","slug":"_2-ä»€ä¹ˆæ˜¯åŸå‹é“¾ç»§æ‰¿","link":"#_2-ä»€ä¹ˆæ˜¯åŸå‹é“¾ç»§æ‰¿","children":[]},{"level":3,"title":"ï¼ˆ3ï¼‰æ‰‹å†™é¢˜ï¼šåŸå‹é“¾ä¹‹ instance åŸç†","slug":"_3-æ‰‹å†™é¢˜-åŸå‹é“¾ä¹‹-instance-åŸç†","link":"#_3-æ‰‹å†™é¢˜-åŸå‹é“¾ä¹‹-instance-åŸç†","children":[]}]},{"level":2,"title":"3ã€é—­åŒ…","slug":"_3ã€é—­åŒ…","link":"#_3ã€é—­åŒ…","children":[{"level":3,"title":"ï¼ˆ1ï¼‰é—­åŒ…æ˜¯ä»€ä¹ˆï¼Ÿ","slug":"_1-é—­åŒ…æ˜¯ä»€ä¹ˆ","link":"#_1-é—­åŒ…æ˜¯ä»€ä¹ˆ","children":[]},{"level":3,"title":"ï¼ˆ2ï¼‰js ä»£ç çš„æ‰§è¡Œè¿‡ç¨‹","slug":"_2-js-ä»£ç çš„æ‰§è¡Œè¿‡ç¨‹","link":"#_2-js-ä»£ç çš„æ‰§è¡Œè¿‡ç¨‹","children":[]},{"level":3,"title":"ï¼ˆ3ï¼‰ä¸€èˆ¬å¦‚ä½•äº§ç”Ÿé—­åŒ…ï¼Ÿ","slug":"_3-ä¸€èˆ¬å¦‚ä½•äº§ç”Ÿé—­åŒ…","link":"#_3-ä¸€èˆ¬å¦‚ä½•äº§ç”Ÿé—­åŒ…","children":[]},{"level":3,"title":"ï¼ˆ4ï¼‰é—­åŒ…äº§ç”Ÿçš„æœ¬è´¨","slug":"_4-é—­åŒ…äº§ç”Ÿçš„æœ¬è´¨","link":"#_4-é—­åŒ…äº§ç”Ÿçš„æœ¬è´¨","children":[]},{"level":3,"title":"ï¼ˆ5ï¼‰é—­åŒ…çš„ç‰¹æ€§","slug":"_5-é—­åŒ…çš„ç‰¹æ€§","link":"#_5-é—­åŒ…çš„ç‰¹æ€§","children":[]},{"level":3,"title":"ï¼ˆ6ï¼‰é—­åŒ…çš„ä¼˜ç¼ºç‚¹","slug":"_6-é—­åŒ…çš„ä¼˜ç¼ºç‚¹","link":"#_6-é—­åŒ…çš„ä¼˜ç¼ºç‚¹","children":[]},{"level":3,"title":"ï¼ˆ7ï¼‰è§£å†³æ–¹æ³•","slug":"_7-è§£å†³æ–¹æ³•","link":"#_7-è§£å†³æ–¹æ³•","children":[]},{"level":3,"title":"ï¼ˆ8ï¼‰let é—­åŒ…","slug":"_8-let-é—­åŒ…","link":"#_8-let-é—­åŒ…","children":[]},{"level":3,"title":"ï¼ˆ9ï¼‰é—­åŒ…çš„åº”ç”¨åœºæ™¯","slug":"_9-é—­åŒ…çš„åº”ç”¨åœºæ™¯","link":"#_9-é—­åŒ…çš„åº”ç”¨åœºæ™¯","children":[]},{"level":3,"title":"ï¼ˆ10ï¼‰æ‰‹å†™é¢˜ï¼šå‡½æ•°æŸ¯é‡ŒåŒ–","slug":"_10-æ‰‹å†™é¢˜-å‡½æ•°æŸ¯é‡ŒåŒ–","link":"#_10-æ‰‹å†™é¢˜-å‡½æ•°æŸ¯é‡ŒåŒ–","children":[]},{"level":3,"title":"ï¼ˆ11ï¼‰è¡¥å……","slug":"_11-è¡¥å……","link":"#_11-è¡¥å……","children":[]}]},{"level":2,"title":"4ã€å˜é‡å¯¹è±¡","slug":"_4ã€å˜é‡å¯¹è±¡","link":"#_4ã€å˜é‡å¯¹è±¡","children":[{"level":3,"title":"ï¼ˆ1ï¼‰å˜é‡å¯¹è±¡","slug":"_1-å˜é‡å¯¹è±¡","link":"#_1-å˜é‡å¯¹è±¡","children":[]},{"level":3,"title":"ï¼ˆ2ï¼‰æ´»åŠ¨å¯¹è±¡","slug":"_2-æ´»åŠ¨å¯¹è±¡","link":"#_2-æ´»åŠ¨å¯¹è±¡","children":[]},{"level":3,"title":"ï¼ˆ3ï¼‰å˜é‡æå‡","slug":"_3-å˜é‡æå‡","link":"#_3-å˜é‡æå‡","children":[]}]}]},{"level":1,"title":"ğŸ˜œ å››ã€äº‹ä»¶","slug":"ğŸ˜œ-å››ã€äº‹ä»¶","link":"#ğŸ˜œ-å››ã€äº‹ä»¶","children":[{"level":2,"title":"1ã€äº‹ä»¶æ¨¡å‹","slug":"_1ã€äº‹ä»¶æ¨¡å‹","link":"#_1ã€äº‹ä»¶æ¨¡å‹","children":[]},{"level":2,"title":"2ã€äº‹ä»¶æ˜¯å¦‚ä½•å®ç°çš„ï¼Ÿ","slug":"_2ã€äº‹ä»¶æ˜¯å¦‚ä½•å®ç°çš„","link":"#_2ã€äº‹ä»¶æ˜¯å¦‚ä½•å®ç°çš„","children":[]},{"level":2,"title":"3ã€æ€ä¹ˆåŠ äº‹ä»¶ç›‘å¬ï¼Ÿ","slug":"_3ã€æ€ä¹ˆåŠ äº‹ä»¶ç›‘å¬","link":"#_3ã€æ€ä¹ˆåŠ äº‹ä»¶ç›‘å¬","children":[]},{"level":2,"title":"4ã€ä»€ä¹ˆæ˜¯äº‹ä»¶å§”æ‰˜ï¼Ÿ","slug":"_4ã€ä»€ä¹ˆæ˜¯äº‹ä»¶å§”æ‰˜","link":"#_4ã€ä»€ä¹ˆæ˜¯äº‹ä»¶å§”æ‰˜","children":[{"level":3,"title":"ï¼ˆ1ï¼‰å®šä¹‰","slug":"_1-å®šä¹‰","link":"#_1-å®šä¹‰","children":[]},{"level":3,"title":"ï¼ˆ2ï¼‰åŸç†","slug":"_2-åŸç†","link":"#_2-åŸç†","children":[]},{"level":3,"title":"ï¼ˆ3ï¼‰å¥½å¤„","slug":"_3-å¥½å¤„","link":"#_3-å¥½å¤„","children":[]},{"level":3,"title":"ï¼ˆ4ï¼‰è¡¥å……","slug":"_4-è¡¥å……","link":"#_4-è¡¥å……","children":[]}]},{"level":2,"title":"5ã€è¯´è¯´äº‹ä»¶å¾ªç¯ event loop","slug":"_5ã€è¯´è¯´äº‹ä»¶å¾ªç¯-event-loop","link":"#_5ã€è¯´è¯´äº‹ä»¶å¾ªç¯-event-loop","children":[{"level":3,"title":"ï¼ˆ1ï¼‰å®šä¹‰","slug":"_1-å®šä¹‰-1","link":"#_1-å®šä¹‰-1","children":[]},{"level":3,"title":"ï¼ˆ2ï¼‰å¸¸ç”¨çš„å®ä»»åŠ¡å’Œå¾®ä»»åŠ¡","slug":"_2-å¸¸ç”¨çš„å®ä»»åŠ¡å’Œå¾®ä»»åŠ¡","link":"#_2-å¸¸ç”¨çš„å®ä»»åŠ¡å’Œå¾®ä»»åŠ¡","children":[]},{"level":3,"title":"ï¼ˆ3ï¼‰setTimeout(fn,0)å¤šä¹…æ‰æ‰§è¡Œï¼ŒEvent loopï¼Ÿ","slug":"_3-settimeout-fn-0-å¤šä¹…æ‰æ‰§è¡Œ-event-loop","link":"#_3-settimeout-fn-0-å¤šä¹…æ‰æ‰§è¡Œ-event-loop","children":[]},{"level":3,"title":"ï¼ˆ4ï¼‰è¡¥å……","slug":"_4-è¡¥å……-1","link":"#_4-è¡¥å……-1","children":[]}]}]},{"level":1,"title":"ğŸ¤ª äº”ã€this é—®é¢˜","slug":"ğŸ¤ª-äº”ã€this-é—®é¢˜","link":"#ğŸ¤ª-äº”ã€this-é—®é¢˜","children":[{"level":2,"title":"1ã€æè¿°ä¸‹ thisï¼ˆè°ˆè°ˆå¯¹ this å¯¹è±¡çš„ç†è§£ï¼‰","slug":"_1ã€æè¿°ä¸‹-this-è°ˆè°ˆå¯¹-this-å¯¹è±¡çš„ç†è§£","link":"#_1ã€æè¿°ä¸‹-this-è°ˆè°ˆå¯¹-this-å¯¹è±¡çš„ç†è§£","children":[]},{"level":2,"title":"2ã€this ç»‘å®šçš„å››å¤§è§„åˆ™","slug":"_2ã€this-ç»‘å®šçš„å››å¤§è§„åˆ™","link":"#_2ã€this-ç»‘å®šçš„å››å¤§è§„åˆ™","children":[{"level":3,"title":"ï¼ˆ1ï¼‰New ç»‘å®š","slug":"_1-new-ç»‘å®š","link":"#_1-new-ç»‘å®š","children":[]},{"level":3,"title":"ï¼ˆ2ï¼‰æ˜¾å¼ç»‘å®š","slug":"_2-æ˜¾å¼ç»‘å®š","link":"#_2-æ˜¾å¼ç»‘å®š","children":[]},{"level":3,"title":"ï¼ˆ3ï¼‰éšå¼ç»‘å®š","slug":"_3-éšå¼ç»‘å®š","link":"#_3-éšå¼ç»‘å®š","children":[]},{"level":3,"title":"ï¼ˆ4ï¼‰é»˜è®¤ç»‘å®š","slug":"_4-é»˜è®¤ç»‘å®š","link":"#_4-é»˜è®¤ç»‘å®š","children":[]}]},{"level":2,"title":"3ã€å¦‚æœä¸€ä¸ªæ„é€ å‡½æ•°ï¼Œbind äº†ä¸€ä¸ªå¯¹è±¡ï¼Œç”¨è¿™ä¸ªæ„é€ å‡½æ•°åˆ›å»ºå‡ºçš„å®ä¾‹ä¼šç»§æ‰¿è¿™ä¸ªå¯¹è±¡çš„å±æ€§å—ï¼Ÿä¸ºä»€ä¹ˆï¼Ÿ","slug":"_3ã€å¦‚æœä¸€ä¸ªæ„é€ å‡½æ•°-bind-äº†ä¸€ä¸ªå¯¹è±¡-ç”¨è¿™ä¸ªæ„é€ å‡½æ•°åˆ›å»ºå‡ºçš„å®ä¾‹ä¼šç»§æ‰¿è¿™ä¸ªå¯¹è±¡çš„å±æ€§å—-ä¸ºä»€ä¹ˆ","link":"#_3ã€å¦‚æœä¸€ä¸ªæ„é€ å‡½æ•°-bind-äº†ä¸€ä¸ªå¯¹è±¡-ç”¨è¿™ä¸ªæ„é€ å‡½æ•°åˆ›å»ºå‡ºçš„å®ä¾‹ä¼šç»§æ‰¿è¿™ä¸ªå¯¹è±¡çš„å±æ€§å—-ä¸ºä»€ä¹ˆ","children":[]},{"level":2,"title":"4ã€ç®­å¤´å‡½æ•°å’Œæ™®é€šå‡½æ•°æœ‰å•¥åŒºåˆ«ï¼Ÿç®­å¤´å‡½æ•°èƒ½å½“æ„é€ å‡½æ•°å—ï¼Ÿ","slug":"_4ã€ç®­å¤´å‡½æ•°å’Œæ™®é€šå‡½æ•°æœ‰å•¥åŒºåˆ«-ç®­å¤´å‡½æ•°èƒ½å½“æ„é€ å‡½æ•°å—","link":"#_4ã€ç®­å¤´å‡½æ•°å’Œæ™®é€šå‡½æ•°æœ‰å•¥åŒºåˆ«-ç®­å¤´å‡½æ•°èƒ½å½“æ„é€ å‡½æ•°å—","children":[{"level":3,"title":"ï¼ˆ1ï¼‰ç®­å¤´å‡½æ•°å’Œæ™®é€šå‡½æ•°å®šä¹‰","slug":"_1-ç®­å¤´å‡½æ•°å’Œæ™®é€šå‡½æ•°å®šä¹‰","link":"#_1-ç®­å¤´å‡½æ•°å’Œæ™®é€šå‡½æ•°å®šä¹‰","children":[]},{"level":3,"title":"ï¼ˆ2ï¼‰ç®­å¤´å‡½æ•°å’Œæ™®é€šå‡½æ•°çš„åŒºåˆ«","slug":"_2-ç®­å¤´å‡½æ•°å’Œæ™®é€šå‡½æ•°çš„åŒºåˆ«","link":"#_2-ç®­å¤´å‡½æ•°å’Œæ™®é€šå‡½æ•°çš„åŒºåˆ«","children":[]}]},{"level":2,"title":"5ã€äº†è§£ this å˜›ï¼Œapplyï¼Œcallï¼Œbind å…·ä½“æŒ‡ä»€ä¹ˆï¼Ÿ","slug":"_5ã€äº†è§£-this-å˜›-apply-call-bind-å…·ä½“æŒ‡ä»€ä¹ˆ","link":"#_5ã€äº†è§£-this-å˜›-apply-call-bind-å…·ä½“æŒ‡ä»€ä¹ˆ","children":[{"level":3,"title":"ï¼ˆ1ï¼‰ä¸‰è€…çš„åŒºåˆ«","slug":"_1-ä¸‰è€…çš„åŒºåˆ«","link":"#_1-ä¸‰è€…çš„åŒºåˆ«","children":[]},{"level":3,"title":"ï¼ˆ2ï¼‰ä¼ å‚æ–¹å¼","slug":"_2-ä¼ å‚æ–¹å¼","link":"#_2-ä¼ å‚æ–¹å¼","children":[]},{"level":3,"title":"ï¼ˆ3ï¼‰æ‰‹å†™ applyã€callã€bind","slug":"_3-æ‰‹å†™-applyã€callã€bind","link":"#_3-æ‰‹å†™-applyã€callã€bind","children":[]}]}]},{"level":1,"title":"ğŸ˜‹ å…­ã€Ajax é—®é¢˜","slug":"ğŸ˜‹-å…­ã€ajax-é—®é¢˜","link":"#ğŸ˜‹-å…­ã€ajax-é—®é¢˜","children":[{"level":2,"title":"1ã€Ajax åŸç†","slug":"_1ã€ajax-åŸç†","link":"#_1ã€ajax-åŸç†","children":[]},{"level":2,"title":"2ã€Ajax è§£å†³æµè§ˆå™¨ç¼“å­˜é—®é¢˜","slug":"_2ã€ajax-è§£å†³æµè§ˆå™¨ç¼“å­˜é—®é¢˜","link":"#_2ã€ajax-è§£å†³æµè§ˆå™¨ç¼“å­˜é—®é¢˜","children":[]},{"level":2,"title":"3ã€js å•çº¿ç¨‹","slug":"_3ã€js-å•çº¿ç¨‹","link":"#_3ã€js-å•çº¿ç¨‹","children":[]},{"level":2,"title":"4ã€å¼‚æ­¥ç¼–ç¨‹çš„å®ç°æ–¹å¼","slug":"_4ã€å¼‚æ­¥ç¼–ç¨‹çš„å®ç°æ–¹å¼","link":"#_4ã€å¼‚æ­¥ç¼–ç¨‹çš„å®ç°æ–¹å¼","children":[{"level":3,"title":"ï¼ˆ1ï¼‰å›è°ƒå‡½æ•°","slug":"_1-å›è°ƒå‡½æ•°","link":"#_1-å›è°ƒå‡½æ•°","children":[]},{"level":3,"title":"ï¼ˆ2ï¼‰äº‹ä»¶ç›‘å¬ï¼ˆé‡‡ç”¨æ—¶é—´é©±åŠ¨æ¨¡å¼ï¼Œå–å†³äºæŸä¸ªäº‹ä»¶æ˜¯å¦å‘ç”Ÿï¼‰","slug":"_2-äº‹ä»¶ç›‘å¬-é‡‡ç”¨æ—¶é—´é©±åŠ¨æ¨¡å¼-å–å†³äºæŸä¸ªäº‹ä»¶æ˜¯å¦å‘ç”Ÿ","link":"#_2-äº‹ä»¶ç›‘å¬-é‡‡ç”¨æ—¶é—´é©±åŠ¨æ¨¡å¼-å–å†³äºæŸä¸ªäº‹ä»¶æ˜¯å¦å‘ç”Ÿ","children":[]},{"level":3,"title":"ï¼ˆ3ï¼‰å‘å¸ƒ/è®¢é˜…(è§‚å¯Ÿè€…æ¨¡å¼)","slug":"_3-å‘å¸ƒ-è®¢é˜…-è§‚å¯Ÿè€…æ¨¡å¼","link":"#_3-å‘å¸ƒ-è®¢é˜…-è§‚å¯Ÿè€…æ¨¡å¼","children":[]},{"level":3,"title":"ï¼ˆ4ï¼‰Promise å¯¹è±¡","slug":"_4-promise-å¯¹è±¡","link":"#_4-promise-å¯¹è±¡","children":[]},{"level":3,"title":"ï¼ˆ5ï¼‰Generator å‡½æ•°","slug":"_5-generator-å‡½æ•°","link":"#_5-generator-å‡½æ•°","children":[]},{"level":3,"title":"ï¼ˆ6ï¼‰async å‡½æ•°","slug":"_6-async-å‡½æ•°","link":"#_6-async-å‡½æ•°","children":[]}]},{"level":2,"title":"5ã€js è„šæœ¬åŠ è½½é—®é¢˜ï¼Œasyncã€defer é—®é¢˜","slug":"_5ã€js-è„šæœ¬åŠ è½½é—®é¢˜-asyncã€defer-é—®é¢˜","link":"#_5ã€js-è„šæœ¬åŠ è½½é—®é¢˜-asyncã€defer-é—®é¢˜","children":[]},{"level":2,"title":"6ã€å…³äº window.onload å’Œ DOMContentLoaded","slug":"_6ã€å…³äº-window-onload-å’Œ-domcontentloaded","link":"#_6ã€å…³äº-window-onload-å’Œ-domcontentloaded","children":[]},{"level":2,"title":"7ã€ajaxã€axiosã€fetch åŒºåˆ«","slug":"_7ã€ajaxã€axiosã€fetch-åŒºåˆ«","link":"#_7ã€ajaxã€axiosã€fetch-åŒºåˆ«","children":[{"level":3,"title":"ï¼ˆ1ï¼‰ajax","slug":"_1-ajax","link":"#_1-ajax","children":[]},{"level":3,"title":"ï¼ˆ2ï¼‰axios","slug":"_2-axios","link":"#_2-axios","children":[]},{"level":3,"title":"ï¼ˆ3ï¼‰fetch","slug":"_3-fetch","link":"#_3-fetch","children":[]}]},{"level":2,"title":"8ã€æ‰‹å†™é¢˜ï¼šæ‰‹å†™ Ajax å‡½æ•°","slug":"_8ã€æ‰‹å†™é¢˜-æ‰‹å†™-ajax-å‡½æ•°","link":"#_8ã€æ‰‹å†™é¢˜-æ‰‹å†™-ajax-å‡½æ•°","children":[]},{"level":2,"title":"9ã€æ‰‹å†™é¢˜ï¼šæ‰‹å†™ Promise åŸç†","slug":"_9ã€æ‰‹å†™é¢˜-æ‰‹å†™-promise-åŸç†","link":"#_9ã€æ‰‹å†™é¢˜-æ‰‹å†™-promise-åŸç†","children":[]},{"level":2,"title":"10ã€æ‰‹å†™é¢˜ï¼šåŸºäº Promise æ‰‹å†™ Promise.all","slug":"_10ã€æ‰‹å†™é¢˜-åŸºäº-promise-æ‰‹å†™-promise-all","link":"#_10ã€æ‰‹å†™é¢˜-åŸºäº-promise-æ‰‹å†™-promise-all","children":[]}]},{"level":1,"title":"ğŸ¥° ä¸ƒã€æ‰‹å†™é¢˜è¡¥å……","slug":"ğŸ¥°-ä¸ƒã€æ‰‹å†™é¢˜è¡¥å……","link":"#ğŸ¥°-ä¸ƒã€æ‰‹å†™é¢˜è¡¥å……","children":[{"level":2,"title":"1ã€æ€§èƒ½ä¼˜åŒ–ç›¸å…³","slug":"_1ã€æ€§èƒ½ä¼˜åŒ–ç›¸å…³","link":"#_1ã€æ€§èƒ½ä¼˜åŒ–ç›¸å…³","children":[{"level":3,"title":"ï¼ˆ1ï¼‰æ‰‹å†™èŠ‚æµå‡½æ•°","slug":"_1-æ‰‹å†™èŠ‚æµå‡½æ•°","link":"#_1-æ‰‹å†™èŠ‚æµå‡½æ•°","children":[]},{"level":3,"title":"ï¼ˆ2ï¼‰æ‰‹å†™é˜²æŠ–å‡½æ•°","slug":"_2-æ‰‹å†™é˜²æŠ–å‡½æ•°","link":"#_2-æ‰‹å†™é˜²æŠ–å‡½æ•°","children":[]},{"level":3,"title":"ï¼ˆ3ï¼‰å›¾ç‰‡æ‡’åŠ è½½","slug":"_3-å›¾ç‰‡æ‡’åŠ è½½","link":"#_3-å›¾ç‰‡æ‡’åŠ è½½","children":[]}]},{"level":2,"title":"2ã€åŸç”Ÿ API æ‰‹å†™","slug":"_2ã€åŸç”Ÿ-api-æ‰‹å†™","link":"#_2ã€åŸç”Ÿ-api-æ‰‹å†™","children":[{"level":3,"title":"ï¼ˆ1ï¼‰forEach","slug":"_1-foreach","link":"#_1-foreach","children":[]},{"level":3,"title":"ï¼ˆ2ï¼‰map","slug":"_2-map","link":"#_2-map","children":[]},{"level":3,"title":"ï¼ˆ3ï¼‰filter","slug":"_3-filter","link":"#_3-filter","children":[]},{"level":3,"title":"ï¼ˆ4ï¼‰reduce","slug":"_4-reduce","link":"#_4-reduce","children":[]}]},{"level":2,"title":"3ã€å…¶ä½™æ‰‹å†™é¢˜","slug":"_3ã€å…¶ä½™æ‰‹å†™é¢˜","link":"#_3ã€å…¶ä½™æ‰‹å†™é¢˜","children":[{"level":3,"title":"ï¼ˆ1ï¼‰JSONP çš„å®ç°","slug":"_1-jsonp-çš„å®ç°","link":"#_1-jsonp-çš„å®ç°","children":[]},{"level":3,"title":"ï¼ˆ2ï¼‰Object.create","slug":"_2-object-create","link":"#_2-object-create","children":[]},{"level":3,"title":"ï¼ˆ3ï¼‰Object.assign","slug":"_3-object-assign","link":"#_3-object-assign","children":[]},{"level":3,"title":"ï¼ˆ4ï¼‰æ‰‹å†™å‘å¸ƒè®¢é˜…","slug":"_4-æ‰‹å†™å‘å¸ƒè®¢é˜…","link":"#_4-æ‰‹å†™å‘å¸ƒè®¢é˜…","children":[]}]}]},{"level":1,"title":"ğŸ˜‰ å…«ã€ç»“æŸè¯­","slug":"ğŸ˜‰-å…«ã€ç»“æŸè¯­","link":"#ğŸ˜‰-å…«ã€ç»“æŸè¯­","children":[]},{"level":1,"title":"ğŸ£ å½©è›‹ One More Thing","slug":"ğŸ£-å½©è›‹-one-more-thing","link":"#ğŸ£-å½©è›‹-one-more-thing","children":[{"level":2,"title":"ï¼ˆï¼špdf å†…å®¹è·å–","slug":"pdf-å†…å®¹è·å–","link":"#pdf-å†…å®¹è·å–","children":[]},{"level":2,"title":"ï¼ˆï¼šæ›´æ–°åœ°å€","slug":"æ›´æ–°åœ°å€","link":"#æ›´æ–°åœ°å€","children":[]},{"level":2,"title":"ï¼ˆï¼šç•ªå¤–ç¯‡","slug":"ç•ªå¤–ç¯‡","link":"#ç•ªå¤–ç¯‡","children":[]}]}],"relativePath":"column/Interview/JavaScript.md","lastUpdated":1644826256000}'),p={name:"column/Interview/JavaScript.md"},o=l(`<h1 id="ğŸ§-åºè¨€" tabindex="-1">ğŸ§ åºè¨€ <a class="header-anchor" href="#ğŸ§-åºè¨€" aria-label="Permalink to &quot;ğŸ§ åºè¨€&quot;">â€‹</a></h1><p>å¤§å®¶éƒ½çŸ¥é“ï¼Œ <code>js</code> åœ¨å‰ç«¯é¢è¯•ä¸­çš„å æ¯”å¯ä»¥è¯´æ˜¯éå¸¸å¤§äº†ã€‚åŸºæœ¬ä¸Šåœ¨æ¯ä¸€åœºé¢è¯•ä¸­ï¼Œæœ‰ 40% ä»¥ä¸Šçš„é¢˜éƒ½æ˜¯ <code>js</code> çš„é¢˜ç›®ã€‚ <code>js</code> ä¸ä»…è€ƒå¯Ÿä¸€ä¸ªå‰ç«¯äººçš„åŸºç¡€èƒ½åŠ›ï¼Œæ›´é‡è¦çš„æ˜¯å‰ç«¯å¯ä»¥è¯´æ˜¯ä»¥ <code>js</code> ä¸ºæœ¬ï¼Œæ‰€ä»¥ä¹Ÿå¾ˆè€ƒå¯Ÿæˆ‘ä»¬çš„ä»£ç èƒ½åŠ›å’Œé€»è¾‘æ€ç»´ã€‚å¦‚æœè¯´åœ¨é¢è¯•å‰ç«¯ä¸­ <code>js</code> éƒ½ä¸è¿‡å…³ï¼Œé‚£å…¶å®è¿˜æ˜¯è›®å±é™©çš„ã€‚</p><p>ä¸‹é¢çš„è¿™ç¯‡æ–‡ç« ä¸­ï¼Œå°†è®²è§£æˆ‘æ•´ä¸ªç§‹æ‹›å¤‡è¯•è¿‡ç¨‹çš„æ‰€æœ‰é¢˜ç›®ã€‚å…¶ä¸­ï¼Œæœ‰äº›çŸ¥è¯†ç‚¹æ˜¯ä¸€ä¸ªå¾ˆå¤§çš„èŒƒå›´ï¼Œä½†æ˜¯æ”¾åœ¨é¢è¯•ç³»åˆ—ä¸­æ•´ç†çš„è¯åªèƒ½æ˜¯æ¦‚æ‹¬æ€§ä»‹ç»ï¼Œæˆ‘å°†ä¼šä»¥é“¾æ¥çš„æ–¹å¼ï¼Œå°†æˆ‘ä¹‹å‰å†™çš„æ–‡ç« å’Œå…¶ä»–ç›¸å…³æ¨¡å—çš„æ–‡ç« ï¼Œæ”¾åœ¨é¢˜ç›®åè¿›è¡Œæ ‡æ³¨ï¼Œæ–¹ä¾¿å¤§å®¶æ›´è¯¦ç»†çš„äº†è§£å½“ä¸‹æ¨¡å—çš„æ‰©å±•çŸ¥è¯†ç‚¹ã€‚</p><p>ä¸‹é¢å¼€å§‹æœ¬æ–‡çš„è®²è§£~ğŸ“š</p><h1 id="ğŸ¥³-æ€ç»´å¯¼å›¾ç¯èŠ‚" tabindex="-1">ğŸ¥³ æ€ç»´å¯¼å›¾ç¯èŠ‚ <a class="header-anchor" href="#ğŸ¥³-æ€ç»´å¯¼å›¾ç¯èŠ‚" aria-label="Permalink to &quot;ğŸ¥³ æ€ç»´å¯¼å›¾ç¯èŠ‚&quot;">â€‹</a></h1><p>åœ¨çœŸæ­£å¼€ç¯‡ä¹‹å‰ï¼Œå…ˆç”¨ä¸€å¼ æ€ç»´å¯¼å›¾æ¥äº†è§£å…¨æ–‡çš„å†…å®¹ã€‚<strong>è¯¦æƒ…è§ä¸‹å›¾ ğŸ‘‡</strong></p><p><img src="https://img-blog.csdnimg.cn/075757d6bec644689c3165fb8913e9c6.png#pic_center" alt="jsé¢è¯•å¤ä¹ æ¡†æ¶"></p><p>æ€ç»´å¯¼å›¾æ”¶å…¥å›Šä¸­äº†ï¼Œå°±è¯¥å¼€å§‹æ¥æ¶èµ· <code>js</code> çš„çŸ¥è¯†ä½“ç³»å•¦~</p><h1 id="ğŸ˜-ä¸€ã€js-è§„èŒƒ" tabindex="-1">ğŸ˜ ä¸€ã€JS è§„èŒƒ <a class="header-anchor" href="#ğŸ˜-ä¸€ã€js-è§„èŒƒ" aria-label="Permalink to &quot;ğŸ˜ ä¸€ã€JS è§„èŒƒ&quot;">â€‹</a></h1><h2 id="_1ã€è¯´å‡ æ¡-javascript-çš„åŸºæœ¬è§„èŒƒã€‚" tabindex="-1">1ã€è¯´å‡ æ¡ JavaScript çš„åŸºæœ¬è§„èŒƒã€‚ <a class="header-anchor" href="#_1ã€è¯´å‡ æ¡-javascript-çš„åŸºæœ¬è§„èŒƒã€‚" aria-label="Permalink to &quot;1ã€è¯´å‡ æ¡ JavaScript çš„åŸºæœ¬è§„èŒƒã€‚&quot;">â€‹</a></h2><ul><li><code>for-in</code> å¾ªç¯ä¸­çš„å˜é‡åº”è¯¥ä½¿ç”¨ let å…³é”®å­—æ˜ç¡®é™å®šä½œç”¨åŸŸï¼Œä»è€Œé¿å…ä½œç”¨åŸŸæ±¡æŸ“ã€‚</li></ul><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;font-style:italic;">for</span><span style="color:#A6ACCD;"> (</span><span style="color:#C792EA;">let</span><span style="color:#A6ACCD;"> i </span><span style="color:#89DDFF;">in</span><span style="color:#A6ACCD;"> obj) </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><ul><li>æ¯”è¾ƒå¸ƒå°”å€¼/æ•°å€¼æ—¶ï¼Œéœ€ç”¨ <code>===</code> / <code>!==</code> æ¥æ¯”è¾ƒï¼›</li><li><code>switch</code> è¯­å¥å¿…é¡»å¸¦æœ‰ <code>default</code> åˆ†æ”¯ï¼›</li><li>ä¸è¦ä½¿ç”¨å…¨å±€å‡½æ•°ï¼›</li><li>ä½¿ç”¨å¯¹è±¡å­—é¢é‡æ›¿ä»£ <code>new Array</code> è¿™ç§å½¢å¼ï¼Œä»¥ä¸‹ç»™å‡ºå¯¹è±¡å­—é¢é‡çš„ä¾‹å­ã€‚</li></ul><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">let</span><span style="color:#A6ACCD;"> person </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">name</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">å¼ ä¸‰</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">age</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">13</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">like</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> [</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">æ‰“ç¯®çƒ</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">æ‰“æ’çƒ</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">]</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#89DDFF;">};</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h2 id="_2ã€å¯¹åŸç”Ÿ-javascript-çš„äº†è§£ã€‚" tabindex="-1">2ã€å¯¹åŸç”Ÿ JavaScript çš„äº†è§£ã€‚ <a class="header-anchor" href="#_2ã€å¯¹åŸç”Ÿ-javascript-çš„äº†è§£ã€‚" aria-label="Permalink to &quot;2ã€å¯¹åŸç”Ÿ JavaScript çš„äº†è§£ã€‚&quot;">â€‹</a></h2><p>æ•°æ®ç±»å‹ã€è¿ç®—ã€å¯¹è±¡ã€ <code>Function</code> ã€ç»§æ‰¿ã€é—­åŒ…ã€ä½œç”¨åŸŸã€åŸå‹é“¾ã€äº‹ä»¶ã€<code>RegExp</code> ã€<code>JSON</code> ã€<code>Ajax</code> ã€<code>DOM</code> ã€<code>BOM</code> ã€å†…å­˜æ³„æ¼ã€å¼‚æ­¥è£…è½½ã€æ¨¡æ¿å¼•æ“ã€å‰ç«¯<code>MVC</code> ã€è·¯ç”±ã€æ¨¡å—åŒ–ã€<code>Canvas</code> ã€<code>ECMAScript</code> ã€‚</p><h2 id="_3ã€è¯´ä¸‹å¯¹-js-çš„äº†è§£å§ã€‚" tabindex="-1">3ã€è¯´ä¸‹å¯¹ JS çš„äº†è§£å§ã€‚ <a class="header-anchor" href="#_3ã€è¯´ä¸‹å¯¹-js-çš„äº†è§£å§ã€‚" aria-label="Permalink to &quot;3ã€è¯´ä¸‹å¯¹ JS çš„äº†è§£å§ã€‚&quot;">â€‹</a></h2><p>æ˜¯åŸºäºåŸå‹çš„<strong>åŠ¨æ€è¯­è¨€</strong>ï¼Œä¸»è¦ç‰¹æ€§æœ‰<strong>this</strong>ã€<strong>åŸå‹</strong>å’Œ<strong>åŸå‹é“¾</strong>ã€‚</p><p>JS ä¸¥æ ¼æ„ä¹‰ä¸Šæ¥è¯´åˆ†ä¸ºï¼š<strong>è¯­è¨€æ ‡å‡†éƒ¨åˆ†</strong>ï¼ˆ <code>ECMAScript</code> ï¼‰+ <strong>å®¿ä¸»ç¯å¢ƒéƒ¨åˆ†</strong>ã€‚</p><p><strong>è¯­è¨€æ ‡å‡†éƒ¨åˆ†</strong></p><ul><li><code>2015å¹´</code>å‘å¸ƒ <code>ES6</code> ï¼Œå¼•å…¥è¯¸å¤šç‰¹æ€§ï¼Œä½¿å¾—èƒ½å¤Ÿç¼–å†™å¤§å‹é¡¹ç›®æˆä¸ºå¯èƒ½ï¼Œæ ‡å‡†è‡ª <code>2015å¹´</code> ä¹‹åä»¥å¹´å·ä½œä¸ºä»£å·ï¼Œæ¯å¹´ä¸€æ›´ã€‚</li></ul><p><strong>å®¿ä¸»ç¯å¢ƒéƒ¨åˆ†</strong></p><ul><li>åœ¨æµè§ˆå™¨å®¿ä¸»ç¯å¢ƒåŒ…æ‹¬ <code>DOM</code> + <code>BOM</code> ç­‰</li><li>åœ¨ <code>Node</code> ï¼Œå®¿ä¸»ç¯å¢ƒåŒ…æ‹¬ä¸€äº›æ–‡ä»¶ã€æ•°æ®åº“ã€ç½‘ç»œã€ä¸æ“ä½œç³»ç»Ÿçš„äº¤äº’ç­‰</li></ul><h2 id="_4ã€js-åŸç”Ÿæ‹–æ‹½èŠ‚ç‚¹" tabindex="-1">4ã€JS åŸç”Ÿæ‹–æ‹½èŠ‚ç‚¹ <a class="header-anchor" href="#_4ã€js-åŸç”Ÿæ‹–æ‹½èŠ‚ç‚¹" aria-label="Permalink to &quot;4ã€JS åŸç”Ÿæ‹–æ‹½èŠ‚ç‚¹&quot;">â€‹</a></h2><ul><li>ç»™éœ€è¦æ‹–æ‹½çš„èŠ‚ç‚¹ç»‘å®š <code>mousedown</code> ï¼Œ<code>mousemove</code> ï¼Œ<code>mouseup</code> äº‹ä»¶ã€‚</li><li><code>mousedown</code> äº‹ä»¶è§¦å‘åï¼Œå¼€å§‹æ‹–æ‹½ã€‚</li><li><code>mousemove</code> æ—¶ï¼Œéœ€è¦é€šè¿‡ <code>event.clientX</code> å’Œ <code>clientY</code> è·å–æ‹–æ‹½ä½ç½®ï¼Œå¹¶å®æ—¶<strong>æ›´æ–°ä½ç½®</strong>ã€‚</li><li><code>mouseup</code> æ—¶ï¼Œæ‹–æ‹½ç»“æŸã€‚</li><li>éœ€è¦æ³¨æ„<strong>æµè§ˆå™¨è¾¹ç•Œå€¼</strong>ï¼Œè®¾ç½®<strong>æ‹–æ‹½èŒƒå›´</strong>ã€‚</li></ul><h2 id="_5ã€è°ˆè°ˆä½ å¯¹-es6-çš„ç†è§£" tabindex="-1">5ã€è°ˆè°ˆä½ å¯¹ ES6 çš„ç†è§£ <a class="header-anchor" href="#_5ã€è°ˆè°ˆä½ å¯¹-es6-çš„ç†è§£" aria-label="Permalink to &quot;5ã€è°ˆè°ˆä½ å¯¹ ES6 çš„ç†è§£&quot;">â€‹</a></h2><ul><li>æ–°å¢æ¨¡æ¿å­—ç¬¦ä¸²ï¼ˆä¸º <code>JavaScript</code> æä¾›äº†ç®€å•çš„å­—ç¬¦ä¸²æ’å€¼åŠŸèƒ½ï¼‰ã€‚</li><li>ç®­å¤´å‡½æ•°ã€‚</li><li><code>for-of</code>ï¼ˆç”¨æ¥éå†æ•°æ®â€”â€”ä¾‹å¦‚æ•°ç»„ä¸­çš„å€¼ï¼‰ã€‚</li><li><code>arguments</code> å¯¹è±¡å¯ä»¥è¢«ä¸ç¡®å®šçš„å‚æ•°å’Œé»˜è®¤å‚æ•°å®Œç¾æ›¿ä»£ã€‚</li><li><code>ES6</code> å°† <code>promise</code> å¯¹è±¡çº³å…¥è§„èŒƒï¼Œæä¾›äº†åŸç”Ÿçš„ <code>promise</code> å¯¹è±¡ã€‚</li><li>å¢åŠ äº† <code>let</code> å’Œ <code>const</code> å‘½ä»¤ï¼Œç”¨æ¥å£°æ˜å˜é‡ã€‚</li><li>è¿˜æœ‰å°±æ˜¯å¼•å…¥ <code>module</code> æ¨¡å—çš„æ¦‚å¿µã€‚</li></ul><h2 id="_6ã€çŸ¥é“-es6-çš„-class-å˜›" tabindex="-1">6ã€çŸ¥é“ ES6 çš„ class å˜›ï¼Ÿ <a class="header-anchor" href="#_6ã€çŸ¥é“-es6-çš„-class-å˜›" aria-label="Permalink to &quot;6ã€çŸ¥é“ ES6 çš„ class å˜›ï¼Ÿ&quot;">â€‹</a></h2><p><code>ES6</code> ä¸­çš„ <code>class</code> æ˜¯ï¼Œä¸ºè¿™ä¸ªç±»çš„å‡½æ•°å¯¹è±¡ç›´æ¥æ·»åŠ æ–¹æ³•ï¼Œè€Œä¸æ˜¯åŠ åœ¨è¿™ä¸ªå‡½æ•°å¯¹è±¡çš„åŸå‹å¯¹è±¡ä¸Šã€‚</p><h2 id="_7ã€è¯´è¯´ä½ å¯¹-amd-å’Œ-commonjs-çš„ç†è§£" tabindex="-1">7ã€è¯´è¯´ä½ å¯¹ AMD å’Œ Commonjs çš„ç†è§£ <a class="header-anchor" href="#_7ã€è¯´è¯´ä½ å¯¹-amd-å’Œ-commonjs-çš„ç†è§£" aria-label="Permalink to &quot;7ã€è¯´è¯´ä½ å¯¹ AMD å’Œ Commonjs çš„ç†è§£&quot;">â€‹</a></h2><ul><li><code>CommonJS</code> æ˜¯æœåŠ¡å™¨ç«¯æ¨¡å—çš„è§„èŒƒï¼Œ<code>Node.js</code> é‡‡ç”¨äº†è¿™ä¸ªè§„èŒƒã€‚</li><li><code>CommonJS</code> è§„èŒƒåŠ è½½æ¨¡å—æ˜¯åŒæ­¥çš„ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œåªæœ‰åŠ è½½å®Œæˆï¼Œæ‰èƒ½æ‰§è¡Œåé¢çš„æ“ä½œã€‚<code>AMD</code> è§„èŒƒåˆ™æ˜¯éåŒæ­¥åŠ è½½æ¨¡å—ï¼Œå…è®¸æŒ‡å®šå›è°ƒå‡½æ•°ã€‚</li><li><code>AMD</code> æ¨èçš„é£æ ¼é€šè¿‡è¿”å›ä¸€ä¸ªå¯¹è±¡ä½œä¸ºæ¨¡å—å¯¹è±¡ã€‚<code>CommonJS</code> çš„é£æ ¼åˆ™æ˜¯é€šè¿‡å¯¹ <code>module.exports</code> æˆ– <code>exports</code> çš„å±æ€§èµ‹å€¼æ¥è¾¾åˆ°æš´éœ²æ¨¡å—å¯¹è±¡çš„ç›®çš„ã€‚</li></ul><h2 id="_8ã€å¦‚ä½•ç†è§£å‰ç«¯æ¨¡å—åŒ–" tabindex="-1">8ã€å¦‚ä½•ç†è§£å‰ç«¯æ¨¡å—åŒ– <a class="header-anchor" href="#_8ã€å¦‚ä½•ç†è§£å‰ç«¯æ¨¡å—åŒ–" aria-label="Permalink to &quot;8ã€å¦‚ä½•ç†è§£å‰ç«¯æ¨¡å—åŒ–&quot;">â€‹</a></h2><p>å‰ç«¯æ¨¡å—åŒ–å°±æ˜¯å¤æ‚çš„æ–‡ä»¶ç¼–ç¨‹ä¸­ä¸€ä¸ªä¸ªç‹¬ç«‹çš„æ¨¡å—ï¼Œæ¯”å¦‚ js æ–‡ä»¶ç­‰ç­‰ï¼Œåˆ†æˆç‹¬ç«‹çš„æ¨¡å—æœ‰åˆ©äºé‡ç”¨ï¼ˆå¤ç”¨æ€§ï¼‰å’Œç»´æŠ¤ï¼ˆç‰ˆæœ¬è¿­ä»£ï¼‰ï¼Œè¿™æ ·ä¼šå¼•æ¥æ¨¡å—ä¹‹é—´ç›¸äº’ä¾èµ–çš„é—®é¢˜ï¼Œæ‰€ä»¥æœ‰äº† commonJS è§„èŒƒï¼ŒAMDï¼ŒCMD è§„èŒƒç­‰ç­‰ï¼Œä»¥åŠç”¨äº js æ‰“åŒ…ï¼ˆå˜å¼‚ç­‰å¤„ç†ï¼‰çš„å·¥å…· webpackã€‚</p><h2 id="_9ã€é¢å‘å¯¹è±¡ç¼–ç¨‹æ€æƒ³" tabindex="-1">9ã€é¢å‘å¯¹è±¡ç¼–ç¨‹æ€æƒ³ <a class="header-anchor" href="#_9ã€é¢å‘å¯¹è±¡ç¼–ç¨‹æ€æƒ³" aria-label="Permalink to &quot;9ã€é¢å‘å¯¹è±¡ç¼–ç¨‹æ€æƒ³&quot;">â€‹</a></h2><ul><li>åŸºæœ¬æ€æƒ³æ˜¯ä½¿ç”¨å¯¹è±¡ï¼Œç±»ï¼Œç»§æ‰¿ï¼Œå°è£…ç­‰åŸºæœ¬æ¦‚å¿µæ¥è¿›è¡Œç¨‹åºè®¾è®¡ï¼›</li><li>æ˜“ç»´æŠ¤ï¼›</li><li>æ˜“æ‰©å±•ï¼›</li><li>å¼€å‘å·¥ä½œçš„é‡ç”¨æ€§ã€ç»§æ‰¿æ€§é«˜ï¼Œé™ä½é‡å¤å·¥ä½œé‡ï¼›</li><li>ç¼©çŸ­äº†å¼€å‘å‘¨æœŸã€‚</li></ul><h2 id="_10ã€ç”¨è¿‡-typescript-å—-å®ƒçš„ä½œç”¨æ˜¯ä»€ä¹ˆ" tabindex="-1">10ã€ç”¨è¿‡ TypeScript å—ï¼Ÿå®ƒçš„ä½œç”¨æ˜¯ä»€ä¹ˆï¼Ÿ <a class="header-anchor" href="#_10ã€ç”¨è¿‡-typescript-å—-å®ƒçš„ä½œç”¨æ˜¯ä»€ä¹ˆ" aria-label="Permalink to &quot;10ã€ç”¨è¿‡ TypeScript å—ï¼Ÿå®ƒçš„ä½œç”¨æ˜¯ä»€ä¹ˆï¼Ÿ&quot;">â€‹</a></h2><p><code>TypeScript</code> ä¸º <code>JS</code> æ·»åŠ ç±»å‹æ”¯æŒï¼Œä»¥åŠæä¾›æœ€æ–°ç‰ˆçš„ <code>ES</code> è¯­æ³•çš„æ”¯æŒï¼Œæœ‰åˆ©äºå›¢é˜Ÿåä½œå’Œæ’é”™ï¼Œå¼€å‘å¤§å‹é¡¹ç›®ã€‚</p><h2 id="_11ã€pwa-ä½¿ç”¨è¿‡å—-serviceworker-çš„ä½¿ç”¨åŸç†æ˜¯å•¥" tabindex="-1">11ã€PWA ä½¿ç”¨è¿‡å—ï¼ŸserviceWorker çš„ä½¿ç”¨åŸç†æ˜¯å•¥ï¼Ÿ <a class="header-anchor" href="#_11ã€pwa-ä½¿ç”¨è¿‡å—-serviceworker-çš„ä½¿ç”¨åŸç†æ˜¯å•¥" aria-label="Permalink to &quot;11ã€PWA ä½¿ç”¨è¿‡å—ï¼ŸserviceWorker çš„ä½¿ç”¨åŸç†æ˜¯å•¥ï¼Ÿ&quot;">â€‹</a></h2><p><code>æ¸è¿›å¼ç½‘ç»œåº”ç”¨ï¼ˆPWAï¼‰</code>æ˜¯è°·æ­Œåœ¨ <code>2015å¹´åº•</code> æå‡ºçš„æ¦‚å¿µã€‚åŸºæœ¬ä¸Šç®—æ˜¯<strong>web åº”ç”¨ç¨‹åº</strong>ï¼Œä½†åœ¨å¤–è§‚å’Œæ„Ÿè§‰ä¸Šä¸ <code>åŸç”Ÿapp</code> ç±»ä¼¼ã€‚æ”¯æŒ <code>PWA</code> çš„ç½‘ç«™å¯ä»¥æä¾›<strong>è„±æœºå·¥ä½œ</strong>ã€<strong>æ¨é€é€šçŸ¥</strong>å’Œ<strong>è®¾å¤‡ç¡¬ä»¶è®¿é—®</strong>ç­‰åŠŸèƒ½ã€‚</p><p><code>Service Worker</code> æ˜¯æµè§ˆå™¨åœ¨åå°ç‹¬ç«‹äºç½‘é¡µè¿è¡Œçš„è„šæœ¬ï¼Œå®ƒæ‰“å¼€äº†é€šå‘ä¸éœ€è¦ç½‘é¡µæˆ–ç”¨æˆ·äº¤äº’çš„åŠŸèƒ½çš„å¤§é—¨ã€‚ ç°åœ¨ï¼Œå®ƒä»¬å·²åŒ…æ‹¬å¦‚æ¨é€é€šçŸ¥å’Œåå°åŒæ­¥ç­‰åŠŸèƒ½ã€‚ å°†æ¥ï¼Œ <code>Service Worker</code> å°†ä¼šæ”¯æŒå¦‚å®šæœŸåŒæ­¥æˆ–åœ°ç†å›´æ ç­‰å…¶ä»–åŠŸèƒ½ã€‚</p><p><strong>æ³¨</strong>ï¼šæ¸è¿›å¼ç½‘ç»œåº”ç”¨ Progressive Network Application</p><h1 id="ğŸ˜²-äºŒã€æ•°æ®ç±»å‹" tabindex="-1">ğŸ˜² äºŒã€æ•°æ®ç±»å‹ <a class="header-anchor" href="#ğŸ˜²-äºŒã€æ•°æ®ç±»å‹" aria-label="Permalink to &quot;ğŸ˜² äºŒã€æ•°æ®ç±»å‹&quot;">â€‹</a></h1><h2 id="_1ã€é—®-0-1-0-2-0-3-å—-ä¸ºä»€ä¹ˆ" tabindex="-1">1ã€é—®ï¼š0.1+0.2 === 0.3 å—ï¼Ÿä¸ºä»€ä¹ˆï¼Ÿ <a class="header-anchor" href="#_1ã€é—®-0-1-0-2-0-3-å—-ä¸ºä»€ä¹ˆ" aria-label="Permalink to &quot;1ã€é—®ï¼š0.1+0.2 === 0.3 å—ï¼Ÿä¸ºä»€ä¹ˆï¼Ÿ&quot;">â€‹</a></h2><p>åœ¨æ­£å¸¸çš„æ•°å­¦é€»è¾‘æ€ç»´ä¸­ï¼Œ <code>0.1+0.2=0.3</code> è¿™ä¸ªé€»è¾‘æ˜¯æ­£ç¡®çš„ï¼Œä½†æ˜¯åœ¨ <code>JavaScript</code> ä¸­ <code>0.1+0.2 !== 0.3</code> ï¼Œè¿™æ˜¯ä¸ºä»€ä¹ˆå‘¢ï¼Ÿè¿™ä¸ªé—®é¢˜ä¹Ÿä¼šå¶å°”è¢«ç”¨æ¥å½“åšé¢è¯•é¢˜æ¥è€ƒæŸ¥é¢è¯•è€…å¯¹ <code>JavaScript</code> çš„æ•°å€¼çš„ç†è§£ç¨‹åº¦ã€‚</p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#F78C6C;">0.1</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">+</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">0.2</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">==</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">0.3</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;">// false</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>åœ¨ <code>JS</code> ä¸­ï¼ŒäºŒè¿›åˆ¶çš„æµ®ç‚¹æ•° <code>0.1</code> å’Œ <code>0.2</code> å¹¶ä¸æ˜¯ç²¾ç¡®çš„ï¼Œæ‰€ä»¥å®ƒä»¬ç›¸åŠ çš„ç»“æœå¹¶éæ­£å¥½ç­‰äº <code>0.3</code> ï¼Œè€Œæ˜¯ä¸€ä¸ªæ¯”è¾ƒæ¥è¿‘ <code>0.3</code> çš„æ•°å­— <code>0.30000000000000004</code> ï¼Œæ‰€ä»¥æ¡ä»¶åˆ¤æ–­ç»“æœä¸º <code>false</code> ã€‚</p><p>åŸå› åœ¨äºåœ¨ <code>JS</code> å½“ä¸­ï¼Œé‡‡ç”¨çš„æ˜¯ <code>IEEE 754</code> çš„åŒç²¾åº¦æ ‡å‡†ï¼Œæ‰€ä»¥è®¡ç®—æœºå†…éƒ¨åœ¨<strong>å­˜å‚¨æ•°æ®ç¼–ç </strong>çš„æ—¶å€™ï¼Œ0.1 åœ¨è®¡ç®—æœºå†…éƒ¨ä¸æ˜¯ç²¾ç¡®çš„ <code>0.1</code> ï¼Œè€Œæ˜¯ä¸€ä¸ªæœ‰èˆå…¥è¯¯å·®çš„ <code>0.1</code> ã€‚å½“ä»£ç è¢«ç¼–è¯‘æˆ–è§£æåï¼Œ <code>0.1</code> å·²ç»è¢«å››èˆäº”å…¥æˆä¸€ä¸ªä¸ä¹‹å¾ˆæ¥è¿‘çš„è®¡ç®—æœºå†…éƒ¨æ•°å­—ï¼Œä»¥è‡³äºè®¡ç®—è¿˜æ²¡å¼€å§‹ï¼Œä¸€ä¸ªå¾ˆå°çš„èˆå…¥é”™è¯¯å°±å·²ç»äº§ç”Ÿäº†ã€‚è¿™ä¹Ÿå°±æ˜¯ <code>0.1 + 0.2</code> ä¸ç­‰äº <code>0.3</code> çš„åŸå› ã€‚</p><p><strong>é‚£å¦‚ä½•é¿å…è¿™æ ·çš„é—®é¢˜ï¼Ÿ</strong></p><p>æœ€å¸¸ç”¨çš„æ–¹æ³•å°±æ˜¯<strong>å°†æµ®ç‚¹æ•°è½¬åŒ–æˆæ•´æ•°è®¡ç®—</strong>ï¼Œå› ä¸º<strong>æ•´æ•°</strong>éƒ½æ˜¯å¯ä»¥ç²¾ç¡®è¡¨ç¤ºçš„ã€‚</p><p>é€šå¸¸å°±æ˜¯æŠŠè®¡ç®—æ•°å­—æå‡ 10 çš„ N æ¬¡æ–¹å€å†é™¤ä»¥ <code>10</code> çš„ <code>N</code> æ¬¡æ–¹ï¼Œä¸€èˆ¬éƒ½ç”¨ <code>1000</code> å°±è¡Œäº†ã€‚</p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">(</span><span style="color:#F78C6C;">0.1</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">*</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">1000</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">+</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">0.2</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">*</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">1000</span><span style="color:#A6ACCD;">) </span><span style="color:#89DDFF;">/</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">1000</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">==</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">0.3</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;">//true</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h2 id="_2ã€js-æ•°æ®ç±»å‹æœ‰å“ªäº›-å…·ä½“å­˜åœ¨å“ªé‡Œ-åˆ¤æ–­æ–¹å¼æ˜¯ä»€ä¹ˆ" tabindex="-1">2ã€js æ•°æ®ç±»å‹æœ‰å“ªäº›ï¼Ÿå…·ä½“å­˜åœ¨å“ªé‡Œï¼Ÿåˆ¤æ–­æ–¹å¼æ˜¯ä»€ä¹ˆï¼Ÿ <a class="header-anchor" href="#_2ã€js-æ•°æ®ç±»å‹æœ‰å“ªäº›-å…·ä½“å­˜åœ¨å“ªé‡Œ-åˆ¤æ–­æ–¹å¼æ˜¯ä»€ä¹ˆ" aria-label="Permalink to &quot;2ã€js æ•°æ®ç±»å‹æœ‰å“ªäº›ï¼Ÿå…·ä½“å­˜åœ¨å“ªé‡Œï¼Ÿåˆ¤æ–­æ–¹å¼æ˜¯ä»€ä¹ˆï¼Ÿ&quot;">â€‹</a></h2><p><strong>ï¼ˆ1ï¼‰js æ•°æ®ç±»å‹</strong></p><p><code>js</code> æ•°æ®ç±»å‹åŒ…æ‹¬<strong>åŸºæœ¬æ•°æ®ç±»å‹</strong>å’Œ<strong>å¼•ç”¨æ•°æ®ç±»å‹</strong>ã€‚</p><p><strong>ï¼ˆ2ï¼‰å…·ä½“å­˜æ”¾åœ¨å“ªé‡Œï¼Ÿ</strong></p><p><strong>åŸºæœ¬æ•°æ®ç±»å‹ï¼š</strong></p><p>åŸºæœ¬æ•°æ®ç±»å‹ï¼Œæ˜¯æŒ‡ <code>Numer</code> ã€ <code>Boolean</code> ã€ <code>String</code> ã€ <code>null</code> ã€ <code>undefined</code> ã€ <code>Symbol</code> ï¼ˆES6 æ–°å¢çš„ï¼‰ã€ <code>BigIntï¼ˆES2020ï¼‰</code> ç­‰å€¼ï¼Œå®ƒä»¬åœ¨å†…å­˜ä¸­éƒ½æ˜¯å­˜å‚¨åœ¨æ ˆä¸­çš„ï¼Œå³ç›´æ¥è®¿é—®è¯¥å˜é‡å°±å¯ä»¥å¾—åˆ°å­˜å‚¨åœ¨<strong>æ ˆ</strong>ä¸­çš„å¯¹åº”è¯¥å˜é‡çš„å€¼ã€‚</p><p>è‹¥å°†ä¸€ä¸ªå˜é‡çš„å€¼èµ‹å€¼ç»™å¦ä¸€ä¸ªå˜é‡ï¼Œåˆ™è¿™ä¸¤ä¸ªå˜é‡åœ¨å†…å­˜ä¸­æ˜¯<strong>ç‹¬ç«‹çš„</strong>ï¼Œä¿®æ”¹å…¶ä¸­ä»»æ„ä¸€ä¸ªå˜é‡çš„å€¼ï¼Œä¸ä¼šå½±å“å¦ä¸€ä¸ªå˜é‡ã€‚è¿™å°±æ˜¯åŸºæœ¬æ•°æ®ç±»å‹ã€‚</p><p><strong>å¼•ç”¨æ•°æ®ç±»å‹ï¼š</strong></p><p>é‚£å¼•ç”¨æ•°æ®ç±»å‹å‘¢ï¼Œæ˜¯æŒ‡ <code>Object </code> ã€ <code>Array</code> ã€ <code>Function</code> ç­‰ï¼Œä»–ä»¬åœ¨å†…å­˜ä¸­æ˜¯å­˜åœ¨äº<strong>æ ˆå’Œå †</strong>å½“ä¸­çš„ï¼Œå³æˆ‘ä»¬è¦è®¿é—®åˆ°å¼•ç”¨ç±»å‹çš„å€¼æ—¶ï¼Œéœ€è¦å…ˆè®¿é—®åˆ°è¯¥å˜é‡åœ¨<strong>æ ˆ</strong>ä¸­çš„åœ°å€ï¼ˆæŒ‡å‘å †ä¸­çš„å€¼ï¼‰ï¼Œç„¶åå†é€šè¿‡è¿™ä¸ªåœ°å€ï¼Œè®¿é—®åˆ°å­˜æ”¾åœ¨<strong>å †</strong>ä¸­çš„æ•°æ®ã€‚è¿™å°±æ˜¯å¼•ç”¨æ•°æ®ç±»å‹ã€‚</p><p><strong>ï¼ˆ3ï¼‰ å¸¸ç”¨åˆ¤æ–­æ–¹å¼ï¼štypeofã€instanceofã€===</strong></p><p><strong>1ï¼‰typeofï¼š</strong></p><p><strong>å®šä¹‰</strong>ï¼šè¿”å›æ•°æ®ç±»å‹çš„å­—ç¬¦ä¸²è¡¨è¾¾ï¼ˆå°å†™ï¼‰</p><p><strong>ç”¨æ³•</strong>ï¼štypeof + å˜é‡</p><p><strong>å¯ä»¥åˆ¤æ–­</strong>ï¼š</p><ul><li><p>undefined/ æ•°å€¼ / å­—ç¬¦ä¸² / å¸ƒå°”å€¼ / function ï¼ˆè¿”å› &#39;undefined&#39; / &#39;number&#39; / &#39;string&#39; / &#39;boolean&#39; / &#39;function&#39;ï¼‰</p></li><li><p>null ä¸ object ã€object ä¸ array ï¼ˆnullã€arrayã€object éƒ½ä¼šè¿”å› &#39;object&#39; ï¼‰</p></li></ul><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">script</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">type</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">text/javascript</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">    console.log(typeof &quot;Tony&quot;);                // è¿”å› string</span></span>
<span class="line"><span style="color:#A6ACCD;">    console.log(typeof 5.01);                  // è¿”å› number</span></span>
<span class="line"><span style="color:#A6ACCD;">    console.log(typeof false);                 // è¿”å› boolean</span></span>
<span class="line"><span style="color:#A6ACCD;">    console.log(typeof undefined);             // è¿”å› undefined</span></span>
<span class="line"><span style="color:#A6ACCD;">    console.log(typeof null);                  // è¿”å› object</span></span>
<span class="line"><span style="color:#A6ACCD;">    console.log(typeof [1,2,3,4]);             // è¿”å› object</span></span>
<span class="line"><span style="color:#A6ACCD;">    console.log(typeof </span><span style="color:#89DDFF;">{</span><span style="color:#A6ACCD;">name:</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">John</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> age:</span><span style="color:#F78C6C;">34</span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">); // è¿”å› object</span></span>
<span class="line"><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">script</span><span style="color:#89DDFF;">&gt;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p><strong>2ï¼‰instanceofï¼š</strong></p><p><strong>å®šä¹‰</strong>ï¼šåˆ¤æ–­å¯¹è±¡çš„å…·ä½“ç±»å‹</p><p><strong>ç”¨æ³•</strong>ï¼š<code>b instanceof A</code> â†’ è¡¨æ˜ <code>b</code> æ˜¯å¦æ˜¯ <code>A</code> çš„å®ä¾‹å¯¹è±¡</p><p><strong>å¯ä»¥åˆ¤æ–­</strong>ï¼š</p><p>ä¸“é—¨ç”¨æ¥åˆ¤æ–­å¯¹è±¡æ•°æ®çš„ç±»å‹: <code>Object</code> , <code>Array</code> ä¸ <code>Function</code></p><p>åˆ¤æ–­ <code>String</code> ï¼Œ <code>Number</code> ï¼Œ <code>Boolean</code> è¿™ä¸‰ç§ç±»å‹çš„æ•°æ®æ—¶ï¼Œç›´æ¥èµ‹å€¼ä¸º <code>false</code> ï¼Œè°ƒç”¨æ„é€ å‡½æ•°åˆ›å»ºçš„æ•°æ®ä¸º <code>true</code></p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">script</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">type</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">text/javascript</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">  let str = new String(&quot;hello world&quot;) //console.log(str instanceof String); â†’</span></span>
<span class="line"><span style="color:#A6ACCD;">  true str = &quot;hello world&quot; //console.log(str instanceof String); â†’ false let num</span></span>
<span class="line"><span style="color:#A6ACCD;">  = new Number(44) //console.log(num instanceof Number); â†’ true num = 44</span></span>
<span class="line"><span style="color:#A6ACCD;">  //console.log(num instanceof Number); â†’ false let bool = new Boolean(true)</span></span>
<span class="line"><span style="color:#A6ACCD;">  //console.log(bool instanceof Boolean); â†’ true bool = true //console.log(bool</span></span>
<span class="line"><span style="color:#A6ACCD;">  instanceof Boolean); â†’ false</span></span>
<span class="line"><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">script</span><span style="color:#89DDFF;">&gt;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">script</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">type</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">text/javascript</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">    var items = [];</span></span>
<span class="line"><span style="color:#A6ACCD;">    var object = </span><span style="color:#89DDFF;">{}</span><span style="color:#A6ACCD;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">    function reflect(value) </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">        return value;</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">    console.log(items instanceof Array);        // true</span></span>
<span class="line"><span style="color:#A6ACCD;">    console.log(items instanceof Object);       // true</span></span>
<span class="line"><span style="color:#A6ACCD;">    console.log(object instanceof Object);      // true</span></span>
<span class="line"><span style="color:#A6ACCD;">    console.log(object instanceof Array);       // false</span></span>
<span class="line"><span style="color:#A6ACCD;">    console.log(reflect instanceof Function);   // true</span></span>
<span class="line"><span style="color:#A6ACCD;">    console.log(reflect instanceof Object);     // true</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><p><strong>3ï¼‰===ï¼š</strong></p><p><strong>å¯ä»¥åˆ¤æ–­</strong>ï¼š <code>undefined</code> ï¼Œ <code>null</code></p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">script</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">type</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">text/javascript</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">  let str; console.log(typeof str, str === undefined); //&#39;undefined&#39;, true let</span></span>
<span class="line"><span style="color:#A6ACCD;">  str2 = null; console.log(typeof str2, str2 === null); // &#39;object&#39;, true</span></span>
<span class="line"><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">script</span><span style="color:#89DDFF;">&gt;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h2 id="_3ã€ä»€ä¹ˆæ˜¯æµ…æ‹·è´-ä»€ä¹ˆæ˜¯æ·±æ‹·è´-è¯´æ˜å¹¶åˆ†åˆ«å†™å‡ºä»£ç ã€‚" tabindex="-1">3ã€ä»€ä¹ˆæ˜¯æµ…æ‹·è´ï¼Ÿä»€ä¹ˆæ˜¯æ·±æ‹·è´ï¼Ÿè¯´æ˜å¹¶åˆ†åˆ«å†™å‡ºä»£ç ã€‚ <a class="header-anchor" href="#_3ã€ä»€ä¹ˆæ˜¯æµ…æ‹·è´-ä»€ä¹ˆæ˜¯æ·±æ‹·è´-è¯´æ˜å¹¶åˆ†åˆ«å†™å‡ºä»£ç ã€‚" aria-label="Permalink to &quot;3ã€ä»€ä¹ˆæ˜¯æµ…æ‹·è´ï¼Ÿä»€ä¹ˆæ˜¯æ·±æ‹·è´ï¼Ÿè¯´æ˜å¹¶åˆ†åˆ«å†™å‡ºä»£ç ã€‚&quot;">â€‹</a></h2><h3 id="_1-æµ…æ‹·è´" tabindex="-1">ï¼ˆ1ï¼‰æµ…æ‹·è´ <a class="header-anchor" href="#_1-æµ…æ‹·è´" aria-label="Permalink to &quot;ï¼ˆ1ï¼‰æµ…æ‹·è´&quot;">â€‹</a></h3><p>æ‰€è°“æµ…æ‹·è´ï¼Œå°±æ˜¯ä¸€ä¸ªå˜é‡èµ‹å€¼ç»™å¦ä¸€ä¸ªå˜é‡ï¼Œå…¶ä¸­ä¸€ä¸ªå˜é‡çš„å€¼æ”¹å˜ï¼Œåˆ™ä¸¤ä¸ªå˜é‡çš„å€¼éƒ½å˜äº†ï¼Œå³å¯¹äºæµ…æ‹·è´æ¥è¯´ï¼Œæ˜¯æ•°æ®åœ¨æ‹·è´åï¼Œæ–°æ‹·è´çš„å¯¹è±¡å†…éƒ¨ä»ç„¶æœ‰ä¸€éƒ¨åˆ†æ•°æ®ä¼šéšç€æºå¯¹è±¡çš„å˜åŒ–è€Œå˜åŒ–ã€‚</p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;">// åˆ†æ</span></span>
<span class="line"><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">shallowCopy</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">obj</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#C792EA;">let</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">copyObj</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{};</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;font-style:italic;">for</span><span style="color:#F07178;"> (</span><span style="color:#C792EA;">let</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">i</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">in</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">obj</span><span style="color:#F07178;">) </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#A6ACCD;">copyObj</span><span style="color:#F07178;">[</span><span style="color:#A6ACCD;">i</span><span style="color:#F07178;">] </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">obj</span><span style="color:#F07178;">[</span><span style="color:#A6ACCD;">i</span><span style="color:#F07178;">]</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">copyObj</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// å®ä¾‹</span></span>
<span class="line"><span style="color:#C792EA;">let</span><span style="color:#A6ACCD;"> a </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">name</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">å¼ ä¸‰</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">age</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">19</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">like</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> [</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">æ‰“ç¯®çƒ</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">å”±æ­Œ</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">è·³èˆ</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">]</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#89DDFF;">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">let</span><span style="color:#A6ACCD;"> b </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">shallowCopy</span><span style="color:#A6ACCD;">(a)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">a</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">name </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">æå››</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">a</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">like[</span><span style="color:#F78C6C;">0</span><span style="color:#A6ACCD;">] </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">æ‰“æ‰“ä¹’ä¹“çƒ</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#A6ACCD;">(a)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#A6ACCD;">(b)</span><span style="color:#89DDFF;">;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br></div></div><h3 id="_2-æ·±æ‹·è´" tabindex="-1">ï¼ˆ2ï¼‰æ·±æ‹·è´ <a class="header-anchor" href="#_2-æ·±æ‹·è´" aria-label="Permalink to &quot;ï¼ˆ2ï¼‰æ·±æ‹·è´&quot;">â€‹</a></h3><p><strong>å®šä¹‰</strong>ï¼šæ·±æ‹·è´ å°±æ˜¯ï¼Œæ–°æ‹·è´çš„å¯¹è±¡å†…éƒ¨æ‰€æœ‰æ•°æ®éƒ½æ˜¯ç‹¬ç«‹å­˜åœ¨çš„ï¼Œä¸ä¼šéšç€æºå¯¹è±¡çš„æ”¹å˜è€Œæ”¹å˜ã€‚</p><p><strong>æ·±æ‹·è´æœ‰ä¸¤ç§æ–¹å¼</strong>ï¼šé€’å½’æ‹·è´å’Œåˆ©ç”¨ JSON å‡½æ•°è¿›è¡Œæ·±æ‹·è´ã€‚</p><ul><li><strong>é€’å½’æ‹·è´çš„å®ç°åŸç†æ˜¯</strong>ï¼šå¯¹å˜é‡ä¸­çš„æ¯ä¸ªå…ƒç´ è¿›è¡Œè·å–ï¼Œè‹¥é‡åˆ°<strong>åŸºæœ¬ç±»å‹å€¼</strong>ï¼Œç›´æ¥è·å–ï¼›è‹¥é‡åˆ°<strong>å¼•ç”¨ç±»å‹å€¼</strong>ï¼Œåˆ™ç»§ç»­å¯¹è¯¥å€¼å†…éƒ¨çš„æ¯ä¸ªå…ƒç´ è¿›è¡Œè·å–ã€‚</li><li><strong>JSON æ·±æ‹·è´çš„å®ç°åŸç†æ˜¯</strong>ï¼šå°†å˜é‡çš„å€¼è½¬ä¸ºå­—ç¬¦ä¸²å½¢å¼ï¼Œç„¶åå†è½¬åŒ–ä¸ºå¯¹è±¡èµ‹å€¼ç»™æ–°çš„å˜é‡ã€‚</li></ul><p><strong>å±€é™æ€§</strong>ï¼šæ·±æ‹·è´çš„å±€é™æ€§åœ¨äºï¼Œä¼šå¿½ç•¥ <code>undefined</code> ï¼Œä¸èƒ½åºåˆ—åŒ–å‡½æ•°ï¼Œä¸èƒ½è§£å†³å¾ªç¯å¼•ç”¨çš„å¯¹è±¡ã€‚</p><p><strong>é€’å½’æ‹·è´æ–¹å¼å®ç°ä»£ç ï¼š</strong></p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;">// åˆ†æ</span></span>
<span class="line"><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">deepCopy</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">obj</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#676E95;font-style:italic;">// åˆ¤æ–­æ˜¯å¦ä¸ºå¼•ç”¨æ•°æ®ç±»å‹</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;font-style:italic;">if</span><span style="color:#F07178;"> (</span><span style="color:#89DDFF;">typeof</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">obj</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">===</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">object</span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;">) </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#C792EA;">let</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">result</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">obj</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">constructor</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">===</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">Array</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">?</span><span style="color:#F07178;"> [] </span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{};</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">// å¯¹å¼•ç”¨ç±»å‹ç»§ç»­è¿›è¡Œéå†ï¼Œå¦‚æœéå†æ²¡æœ‰ç»“æŸçš„è¯</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;font-style:italic;">for</span><span style="color:#F07178;"> (</span><span style="color:#C792EA;">let</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">i</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">in</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">obj</span><span style="color:#F07178;">) </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#A6ACCD;">result</span><span style="color:#F07178;">[</span><span style="color:#A6ACCD;">i</span><span style="color:#F07178;">] </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">typeof</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">obj</span><span style="color:#F07178;">[</span><span style="color:#A6ACCD;">i</span><span style="color:#F07178;">] </span><span style="color:#89DDFF;">===</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">object</span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">?</span><span style="color:#F07178;"> </span><span style="color:#82AAFF;">deepCopy</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">obj</span><span style="color:#F07178;">[</span><span style="color:#A6ACCD;">i</span><span style="color:#F07178;">]) </span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">obj</span><span style="color:#F07178;">[</span><span style="color:#A6ACCD;">i</span><span style="color:#F07178;">]</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">result</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#676E95;font-style:italic;">// ä¸ºåŸºæœ¬æ•°æ®ç±»å‹ï¼Œç›´æ¥èµ‹å€¼è¿”å›</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;font-style:italic;">else</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">obj</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// å®ä¾‹ - åˆ©ç”¨é€’å½’å‡½æ•°åšæ·±æ‹·è´</span></span>
<span class="line"><span style="color:#C792EA;">let</span><span style="color:#A6ACCD;"> c </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">name</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">å¼ ä¸‰</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">age</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">12</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">like</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> [</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">æ‰“ä¹’ä¹“çƒ</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">æ‰“ç¾½æ¯›çƒ</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">æ‰“å¤ªæ</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">]</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#89DDFF;">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">let</span><span style="color:#A6ACCD;"> d </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">deepCopy</span><span style="color:#A6ACCD;">(c)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">c</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">name </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">æå››</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">c</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">like[</span><span style="color:#F78C6C;">0</span><span style="color:#A6ACCD;">] </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">æ‰“ç¯®çƒ</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#A6ACCD;">(c)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#A6ACCD;">(d)</span><span style="color:#89DDFF;">;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br></div></div><p><strong>JSON æ·±æ‹·è´å®ç°ä»£ç ï¼š</strong></p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;">// å®ä¾‹ - åˆ©ç”¨jsonå‡½æ•°åšæ·±æ‹·è´</span></span>
<span class="line"><span style="color:#C792EA;">let</span><span style="color:#A6ACCD;"> e </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">name</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">å¼ ä¸‰</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">age</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">19</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">like</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> [</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">æ‰“ç¾½æ¯›çƒ</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">å”±æ­Œ</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">è·³èˆ</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">]</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#89DDFF;">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">let</span><span style="color:#A6ACCD;"> f </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> JSON</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">parse</span><span style="color:#A6ACCD;">(JSON</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">stringify</span><span style="color:#A6ACCD;">(e))</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// æ³¨æ„ï¼š JSONå‡½æ•°åšæ·±åº¦æ‹·è´æ—¶ä¸èƒ½æ‹·è´æ­£åˆ™ï¼ŒDateï¼Œæ–¹æ³•å‡½æ•°ç­‰</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">e</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">name </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">æå››</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">e</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">like[</span><span style="color:#F78C6C;">0</span><span style="color:#A6ACCD;">] </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">æ‰“ä¹’ä¹“çƒ</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// console.log(e);</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// console.log(f);</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><p>è¿™é‡Œå¯ä»¥åœ¨å‚è€ƒæˆ‘ä¹‹å‰å†™è¿‡çš„ä¸€ç¯‡æ–‡ç« è¾…åŠ©ç†è§£ ğŸ‘‰<a href="https://juejin.cn/post/6963231689396977672" target="_blank" rel="noreferrer">æ ˆåœ¨å‰ç«¯ä¸­çš„åº”ç”¨ï¼Œé¡ºä¾¿å†äº†è§£ä¸‹æ·±æ‹·è´å’Œæµ…æ‹·è´ï¼</a></p><h2 id="_4ã€js-æ•´æ•°æ˜¯æ€ä¹ˆè¡¨ç¤ºçš„" tabindex="-1">4ã€JS æ•´æ•°æ˜¯æ€ä¹ˆè¡¨ç¤ºçš„ï¼Ÿ <a class="header-anchor" href="#_4ã€js-æ•´æ•°æ˜¯æ€ä¹ˆè¡¨ç¤ºçš„" aria-label="Permalink to &quot;4ã€JS æ•´æ•°æ˜¯æ€ä¹ˆè¡¨ç¤ºçš„ï¼Ÿ&quot;">â€‹</a></h2><p>JS æ•´æ•°é€šè¿‡ <code>Number</code> ç±»å‹æ¥è¡¨ç¤ºï¼Œéµå¾ª <code>IEEE 754</code> æ ‡å‡†ï¼Œé€šè¿‡ <code>64ä½</code> æ¥è¡¨ç¤ºä¸€ä¸ªæ•°å­—ï¼Œå³ <code>1+11+52</code> ï¼ˆç¬¦å·ä½+æŒ‡æ•°ä½+å°æ•°éƒ¨åˆ†æœ‰æ•ˆä½ï¼‰ï¼Œæœ€å¤§å®‰å…¨æ•°å­—æ˜¯ 2<sup>53</sup> - 1ï¼Œå¯¹åº” <code>16ä½</code> åè¿›åˆ¶æ•°ã€‚</p><p><strong>æ³¨</strong>ï¼š1 ä½åè¿›åˆ¶æ•°å¯¹åº” 4 ä½äºŒè¿›åˆ¶æ•°</p><h2 id="_5ã€number-çš„å­˜å‚¨ç©ºé—´æ˜¯å¤šå¤§-å¦‚æœåå°å‘é€äº†ä¸€ä¸ªè¶…è¿‡æœ€å¤§æ•°å­—æ€ä¹ˆåŠ" tabindex="-1">5ã€Number çš„å­˜å‚¨ç©ºé—´æ˜¯å¤šå¤§ï¼Ÿå¦‚æœåå°å‘é€äº†ä¸€ä¸ªè¶…è¿‡æœ€å¤§æ•°å­—æ€ä¹ˆåŠï¼Ÿ <a class="header-anchor" href="#_5ã€number-çš„å­˜å‚¨ç©ºé—´æ˜¯å¤šå¤§-å¦‚æœåå°å‘é€äº†ä¸€ä¸ªè¶…è¿‡æœ€å¤§æ•°å­—æ€ä¹ˆåŠ" aria-label="Permalink to &quot;5ã€Number çš„å­˜å‚¨ç©ºé—´æ˜¯å¤šå¤§ï¼Ÿå¦‚æœåå°å‘é€äº†ä¸€ä¸ªè¶…è¿‡æœ€å¤§æ•°å­—æ€ä¹ˆåŠï¼Ÿ&quot;">â€‹</a></h2><p>Math.pow(2,53)ï¼Œ53 ä¸ºæœ‰æ•ˆæ•°å­—ï¼›å¦‚æœåå°å‘é€ä¸€ä¸ªè¶…è¿‡æœ€å¤§æ•°å­—ï¼Œä¼šå‘ç”Ÿæˆªæ–­ï¼Œç­‰äº <code>JS</code> èƒ½æ”¯æŒçš„æœ€å¤§å®‰å…¨æ•°å­— 2<sup>53</sup> - 1ã€‚</p><h2 id="_6ã€nan-æ˜¯ä»€ä¹ˆ-ç”¨-typeof-ä¼šè¾“å‡ºä»€ä¹ˆ" tabindex="-1">6ã€NAN æ˜¯ä»€ä¹ˆï¼Œç”¨ typeof ä¼šè¾“å‡ºä»€ä¹ˆï¼Ÿ <a class="header-anchor" href="#_6ã€nan-æ˜¯ä»€ä¹ˆ-ç”¨-typeof-ä¼šè¾“å‡ºä»€ä¹ˆ" aria-label="Permalink to &quot;6ã€NAN æ˜¯ä»€ä¹ˆï¼Œç”¨ typeof ä¼šè¾“å‡ºä»€ä¹ˆï¼Ÿ&quot;">â€‹</a></h2><p>Not a Numberï¼Œè¡¨ç¤ºéæ•°å­—ã€‚</p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;">typeof</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">NaN</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">===</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">number</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;">//true</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h2 id="_7ã€symbol-æœ‰ä»€ä¹ˆç”¨å¤„" tabindex="-1">7ã€Symbol æœ‰ä»€ä¹ˆç”¨å¤„ï¼Ÿ <a class="header-anchor" href="#_7ã€symbol-æœ‰ä»€ä¹ˆç”¨å¤„" aria-label="Permalink to &quot;7ã€Symbol æœ‰ä»€ä¹ˆç”¨å¤„ï¼Ÿ&quot;">â€‹</a></h2><ul><li>å¯ä»¥ç”¨æ¥è¡¨ç¤ºä¸€ä¸ª<strong>ç‹¬ä¸€æ— äºŒ</strong>çš„å˜é‡ï¼Œ<strong>é˜²æ­¢å‘½åå†²çª</strong>ã€‚</li><li>é™¤æ­¤ä¹‹å¤–ï¼Œ <code>Symbol</code> è¿˜å¯ä»¥ç”¨æ¥<strong>æ¨¡æ‹Ÿç§æœ‰</strong>å±æ€§ã€‚</li></ul><blockquote><ul><li><strong>è¯¦ç»†æ–‡ç« è¡¥å…… ğŸ‘‡</strong></li><li>åŸæ–‡ï¼š<a href="https://www.cnblogs.com/lzkwin/p/12666300.html" target="_blank" rel="noreferrer">é¢è¯•å®˜ï¼šJavaScript åŸå§‹æ•°æ®ç±»å‹ Symbol æœ‰ä»€ä¹ˆç”¨ï¼Ÿ</a></li><li>é“¾æ¥ï¼š<a href="https://www.cnblogs.com/lzkwin/p/12666300.html" target="_blank" rel="noreferrer">https://www.cnblogs.com/lzkwin/p/12666300.html</a></li></ul></blockquote><h2 id="_8ã€null-undefined-çš„åŒºåˆ«" tabindex="-1">8ã€nullï¼Œundefined çš„åŒºåˆ« <a class="header-anchor" href="#_8ã€null-undefined-çš„åŒºåˆ«" aria-label="Permalink to &quot;8ã€nullï¼Œundefined çš„åŒºåˆ«&quot;">â€‹</a></h2><ul><li><code>undefined</code> è¡¨ç¤ºä¸å­˜åœ¨è¿™ä¸ªå€¼ã€‚</li><li><code>undefined</code> æ˜¯ä¸€ä¸ªè¡¨ç¤ºâ€œæ— â€çš„åŸå§‹å€¼æˆ–è€…è¯´è¡¨ç¤ºâ€œç¼ºå°‘å€¼â€ï¼Œå°±æ˜¯æ­¤å¤„åº”è¯¥æœ‰ä¸€ä¸ªå€¼ï¼Œä½†æ˜¯<strong>è¿˜æ²¡æœ‰å®šä¹‰</strong>ã€‚å°è¯•è¯»å–æ—¶å°±ä¼šè¿”å› <code>undefined</code> ã€‚</li><li>ä¾‹å¦‚å˜é‡è¢«å£°æ˜äº†ï¼Œä½†æ²¡æœ‰èµ‹å€¼æ—¶ï¼Œå°±ç­‰äº <code>undefined</code> ã€‚</li><li><code>null</code> è¡¨ç¤ºä¸€ä¸ªå¯¹è±¡è¢«å®šä¹‰äº†ï¼Œå€¼ä¸ºâ€œç©ºå€¼â€ã€‚</li><li><code>null</code> æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼ˆç©ºå¯¹è±¡ï¼Œæ²¡æœ‰<strong>ä»»ä½•å±æ€§å’Œæ–¹æ³•</strong>ï¼‰ã€‚</li><li>ä¾‹å¦‚ä½œä¸ºå‡½æ•°çš„å‚æ•°æ—¶ï¼Œè¡¨ç¤ºè¯¥å‡½æ•°çš„å‚æ•°ä¸æ˜¯å¯¹è±¡ã€‚</li><li>åœ¨éªŒè¯ <code>null</code> æ—¶ï¼Œä¸€å®šè¦ä½¿ç”¨ <code>===</code> ï¼Œå› ä¸º <code>==</code> æ— æ³•åŒºåˆ† <code>null</code> å’Œ <code>undefined</code> ã€‚</li></ul><h2 id="_9ã€js-éšå¼è½¬æ¢-æ˜¾ç¤ºè½¬æ¢" tabindex="-1">9ã€JS éšå¼è½¬æ¢ï¼Œæ˜¾ç¤ºè½¬æ¢ <a class="header-anchor" href="#_9ã€js-éšå¼è½¬æ¢-æ˜¾ç¤ºè½¬æ¢" aria-label="Permalink to &quot;9ã€JS éšå¼è½¬æ¢ï¼Œæ˜¾ç¤ºè½¬æ¢&quot;">â€‹</a></h2><p>ä¸€èˆ¬éåŸºç¡€ç±»å‹è¿›è¡Œè½¬æ¢æ—¶ä¼šè°ƒç”¨<strong>valueOf</strong>ï¼Œå¦‚æœ <code>valueOf</code> æ— æ³•è¿”å›åŸºæœ¬ç±»å‹å€¼ï¼Œå°±ä¼šè°ƒç”¨<strong>toString</strong>ã€‚</p><p><strong>ï¼ˆ1ï¼‰å­—ç¬¦ä¸²å’Œæ•°å­—</strong></p><ul><li>â€œ+â€æ“ä½œç¬¦ï¼Œå¦‚æœæœ‰ä¸€ä¸ªä¸ºå­—ç¬¦ä¸²ï¼Œé‚£ä¹ˆéƒ½è½¬åŒ–åˆ°å­—ç¬¦ä¸²ç„¶åæ‰§è¡Œå­—ç¬¦ä¸²æ‹¼æ¥ã€‚</li><li>â€œ-â€æ“ä½œç¬¦ï¼Œè½¬æ¢ä¸ºæ•°å­—ï¼Œç›¸å‡(-a, a*1, a/1)éƒ½èƒ½è¿›è¡Œéšå¼å¼ºåˆ¶ç±»å‹è½¬æ¢ã€‚</li></ul><div class="language- line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">[] + {} å’Œ {} + []</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p><strong>ï¼ˆ2ï¼‰å¸ƒå°”å€¼åˆ°æ•°å­—</strong></p><ul><li>1 + true = 2ï¼›</li><li>1 + false = 1;</li></ul><p><strong>ï¼ˆ3ï¼‰è½¬æ¢ä¸ºå¸ƒå°”å€¼</strong></p><ul><li>for ä¸­ç¬¬äºŒä¸ª</li><li>while</li><li>if</li><li>ä¸‰å…ƒè¡¨è¾¾å¼</li><li>|| ï¼ˆé€»è¾‘æˆ–ï¼‰å’Œ &amp;&amp;ï¼ˆé€»è¾‘ä¸ï¼‰å·¦è¾¹çš„æ“ä½œä¸ªæ•°</li></ul><p><strong>ï¼ˆ4ï¼‰ç¬¦å·</strong></p><ul><li>ä¸èƒ½è¢«è½¬æ¢ä¸ºæ•°å­—</li><li>èƒ½è¢«è½¬æ¢ä¸ºå¸ƒå°”å€¼ï¼ˆéƒ½æ˜¯ trueï¼‰</li><li>å¯ä»¥è¢«è½¬æ¢æˆå­—ç¬¦ä¸²â€œSymbol(cool)â€</li></ul><p><strong>ï¼ˆ5ï¼‰å®½æ¾ç›¸ç­‰å’Œä¸¥æ ¼ç›¸ç­‰</strong></p><p>å®½æ¾ç›¸ç­‰å…è®¸è¿›è¡Œå¼ºåˆ¶ç±»å‹è½¬æ¢ï¼Œè€Œä¸¥æ ¼ç›¸ç­‰ä¸å…è®¸ã€‚</p><p><strong>â‘  å­—ç¬¦ä¸²ä¸æ•°å­—</strong></p><ul><li>è½¬æ¢ä¸ºæ•°å­—ç„¶åæ¯”è¾ƒ</li></ul><p><strong>â‘¡ å…¶ä»–ç±»å‹ä¸å¸ƒå°”ç±»å‹</strong></p><ul><li>å…ˆæŠŠå¸ƒå°”ç±»å‹è½¬æ¢ä¸ºæ•°å­—ï¼Œç„¶åç»§ç»­è¿›è¡Œæ¯”è¾ƒ</li></ul><p><strong>â‘¢ å¯¹è±¡ä¸éå¯¹è±¡</strong></p><ul><li>æ‰§è¡Œå¯¹è±¡çš„ <code>ToPrimitive</code> ï¼ˆå¯¹è±¡ï¼‰ç„¶åç»§ç»­è¿›è¡Œæ¯”è¾ƒ</li></ul><p><strong>â‘£ å‡å€¼åˆ—è¡¨</strong></p><ul><li>undefined</li><li>null</li><li>false</li><li>+0ï¼Œ-0ï¼ŒNaN</li><li>â€œâ€</li></ul><h2 id="_10ã€ä»‹ç»ä¸‹-js-æœ‰å“ªäº›å†…ç½®å¯¹è±¡" tabindex="-1">10ã€ä»‹ç»ä¸‹ js æœ‰å“ªäº›å†…ç½®å¯¹è±¡ <a class="header-anchor" href="#_10ã€ä»‹ç»ä¸‹-js-æœ‰å“ªäº›å†…ç½®å¯¹è±¡" aria-label="Permalink to &quot;10ã€ä»‹ç»ä¸‹ js æœ‰å“ªäº›å†…ç½®å¯¹è±¡&quot;">â€‹</a></h2><ul><li><code>Object</code> æ˜¯ <code>Javascript</code> ä¸­æ‰€æœ‰å¯¹è±¡çš„çˆ¶å¯¹è±¡ï¼›</li><li>å…¶ä»–æ•°æ®å°è£…ç±»å¯¹è±¡ï¼š<code>Object</code> ã€<code>Array</code> ã€<code>Boolean</code> ã€<code>Number</code> å’Œ <code>String</code>ï¼›</li><li>å…¶ä»–å¯¹è±¡ï¼š<code>Function</code> ã€<code>Arguments</code> ã€<code>Math</code> ã€<code>Date</code> ã€<code>RegExp</code> ã€<code>Error</code>ã€‚</li></ul><h2 id="_11ã€js-æœ‰å“ªäº›æ–¹æ³•å®šä¹‰å¯¹è±¡" tabindex="-1">11ã€js æœ‰å“ªäº›æ–¹æ³•å®šä¹‰å¯¹è±¡ <a class="header-anchor" href="#_11ã€js-æœ‰å“ªäº›æ–¹æ³•å®šä¹‰å¯¹è±¡" aria-label="Permalink to &quot;11ã€js æœ‰å“ªäº›æ–¹æ³•å®šä¹‰å¯¹è±¡&quot;">â€‹</a></h2><ul><li>å¯¹è±¡å­—é¢é‡ï¼š<code>let obj = {}</code> ï¼›</li><li>æ„é€ å‡½æ•°ï¼š<code>let obj = new Object()</code> ï¼›</li><li>Object.create()ï¼š<code>let obj = Object.create(object.prototype)</code> ï¼›</li></ul><h2 id="_12ã€å¦‚ä½•åˆ¤æ–­ä¸€ä¸ªå¯¹è±¡æ˜¯ä¸æ˜¯ç©ºå¯¹è±¡" tabindex="-1">12ã€å¦‚ä½•åˆ¤æ–­ä¸€ä¸ªå¯¹è±¡æ˜¯ä¸æ˜¯ç©ºå¯¹è±¡ï¼Ÿ <a class="header-anchor" href="#_12ã€å¦‚ä½•åˆ¤æ–­ä¸€ä¸ªå¯¹è±¡æ˜¯ä¸æ˜¯ç©ºå¯¹è±¡" aria-label="Permalink to &quot;12ã€å¦‚ä½•åˆ¤æ–­ä¸€ä¸ªå¯¹è±¡æ˜¯ä¸æ˜¯ç©ºå¯¹è±¡ï¼Ÿ&quot;">â€‹</a></h2><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">Object</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">keys</span><span style="color:#A6ACCD;">(obj)</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">length </span><span style="color:#89DDFF;">===</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">0</span><span style="color:#89DDFF;">;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h2 id="_13ã€æ‰‹å†™é¢˜-è·å–-url-å‚æ•°-geturlparams-url" tabindex="-1">13ã€æ‰‹å†™é¢˜ï¼šè·å– url å‚æ•° getUrlParams(url) <a class="header-anchor" href="#_13ã€æ‰‹å†™é¢˜-è·å–-url-å‚æ•°-geturlparams-url" aria-label="Permalink to &quot;13ã€æ‰‹å†™é¢˜ï¼šè·å– url å‚æ•° getUrlParams(url)&quot;">â€‹</a></h2><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;">//å°è£…å‡½æ•°getUrlParams, å°†URLåœ°å€çš„å‚æ•°è§£æä¸ºå¯¹è±¡</span></span>
<span class="line"><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">getUrlParams</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">url</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#C792EA;">let</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">obj</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;font-style:italic;">if</span><span style="color:#F07178;"> (</span><span style="color:#A6ACCD;">url</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">indexOf</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">?</span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;">) </span><span style="color:#89DDFF;">===</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">-</span><span style="color:#F78C6C;">1</span><span style="color:#F07178;">) </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">obj</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#C792EA;">let</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">first_res</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">url</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">split</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">?</span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;">)[</span><span style="color:#F78C6C;">1</span><span style="color:#F07178;">]</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#C792EA;">let</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">second_res</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">first_res</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">split</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">&amp;</span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;font-style:italic;">for</span><span style="color:#F07178;"> (</span><span style="color:#C792EA;">let</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">i</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">in</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">second_res</span><span style="color:#F07178;">) </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#A6ACCD;">third</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">second_res</span><span style="color:#F07178;">[</span><span style="color:#A6ACCD;">i</span><span style="color:#F07178;">]</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">split</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">=</span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#A6ACCD;">obj</span><span style="color:#F07178;">[</span><span style="color:#A6ACCD;">third</span><span style="color:#F07178;">[</span><span style="color:#F78C6C;">0</span><span style="color:#F07178;">]] </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">third</span><span style="color:#F07178;">[</span><span style="color:#F78C6C;">1</span><span style="color:#F07178;">]</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">obj</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// æµ‹è¯•ä»£ç </span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">let</span><span style="color:#A6ACCD;"> URL </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">https://www.sogou.com/web?ie=UTF-8&amp;query=æœç´¢å†…å®¹&amp;_em=3</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#A6ACCD;">(</span><span style="color:#82AAFF;">getUrlParams</span><span style="color:#A6ACCD;">(URL))</span><span style="color:#89DDFF;">;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br></div></div><h2 id="_14ã€æ•°ç»„èƒ½å¤Ÿè°ƒç”¨çš„å‡½æ•°æœ‰å“ªäº›" tabindex="-1">14ã€æ•°ç»„èƒ½å¤Ÿè°ƒç”¨çš„å‡½æ•°æœ‰å“ªäº›ï¼Ÿ <a class="header-anchor" href="#_14ã€æ•°ç»„èƒ½å¤Ÿè°ƒç”¨çš„å‡½æ•°æœ‰å“ªäº›" aria-label="Permalink to &quot;14ã€æ•°ç»„èƒ½å¤Ÿè°ƒç”¨çš„å‡½æ•°æœ‰å“ªäº›ï¼Ÿ&quot;">â€‹</a></h2><ul><li><code>push</code> å‘æ•°ç»„å°¾éƒ¨æ·»åŠ å…ƒç´ </li><li><code>pop</code> åˆ é™¤å¹¶è¿”å›æ•°ç»„æœ€åä¸€ä¸ªå…ƒç´ </li><li><code>splice</code> æ·»åŠ /åˆ é™¤å…ƒç´ </li><li><code>slice</code> è¿”å›é€‰å®šçš„å…ƒç´ </li><li><code>shift</code> åˆ é™¤ç¬¬ä¸€ä¸ªå…ƒç´ å¹¶è¿”å›</li><li><code>unshift</code> å‘æ•°ç»„å¼€å¤´æ·»åŠ ä¸€ä¸ªæˆ–æ›´å¤šå…ƒç´ ï¼Œå¹¶è¿”å›æ–°é•¿åº¦</li><li><code>sort</code> å¯¹æ•°ç»„å…ƒç´ è¿›è¡Œæ’åº</li><li><code>find</code> è¿”å›é€šè¿‡æµ‹è¯•çš„æ•°ç»„çš„ç¬¬ä¸€ä¸ªå…ƒç´ </li><li><code>findIndex</code></li><li><code>map/filter/reduce</code> ç­‰å‡½æ•°å¼ç¼–ç¨‹æ–¹æ³•</li><li>åŸå‹é“¾ä¸Šçš„æ–¹æ³•ï¼š<code>toString/valueOf</code></li></ul><h2 id="_15ã€å‡½æ•°ä¸­çš„-arguments-æ˜¯æ•°ç»„å—-ç±»æ•°ç»„è½¬æ•°ç»„çš„æ–¹æ³•äº†è§£ä¸€ä¸‹" tabindex="-1">15ã€å‡½æ•°ä¸­çš„ arguments æ˜¯æ•°ç»„å—ï¼Ÿç±»æ•°ç»„è½¬æ•°ç»„çš„æ–¹æ³•äº†è§£ä¸€ä¸‹ï¼Ÿ <a class="header-anchor" href="#_15ã€å‡½æ•°ä¸­çš„-arguments-æ˜¯æ•°ç»„å—-ç±»æ•°ç»„è½¬æ•°ç»„çš„æ–¹æ³•äº†è§£ä¸€ä¸‹" aria-label="Permalink to &quot;15ã€å‡½æ•°ä¸­çš„ arguments æ˜¯æ•°ç»„å—ï¼Ÿç±»æ•°ç»„è½¬æ•°ç»„çš„æ–¹æ³•äº†è§£ä¸€ä¸‹ï¼Ÿ&quot;">â€‹</a></h2><p>æ˜¯ç±»æ•°ç»„ï¼Œæ˜¯å±äºé¸­å­ç±»å‹çš„èŒƒç•´ï¼Œåªæ˜¯é•¿å¾—åƒæ•°ç»„ã€‚</p><ul><li>... è¿ç®—ç¬¦</li><li>Array.from</li><li>Array.prototype.slice.apply(arguments)</li></ul><h2 id="_16ã€æ‰‹å†™é¢˜-å¦‚ä½•åˆ¤æ–­æ•°ç»„ç±»å‹" tabindex="-1">16ã€æ‰‹å†™é¢˜ï¼šå¦‚ä½•åˆ¤æ–­æ•°ç»„ç±»å‹ï¼Ÿ <a class="header-anchor" href="#_16ã€æ‰‹å†™é¢˜-å¦‚ä½•åˆ¤æ–­æ•°ç»„ç±»å‹" aria-label="Permalink to &quot;16ã€æ‰‹å†™é¢˜ï¼šå¦‚ä½•åˆ¤æ–­æ•°ç»„ç±»å‹ï¼Ÿ&quot;">â€‹</a></h2><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;">// æ–¹æ³•ä¸€ï¼šinstanceofæ–¹æ³•</span></span>
<span class="line"><span style="color:#C792EA;">let</span><span style="color:#A6ACCD;"> arr </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> [</span><span style="color:#F78C6C;">1</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">2</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">3</span><span style="color:#A6ACCD;">]</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#A6ACCD;">(arr </span><span style="color:#89DDFF;">instanceof</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">Array</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// æ–¹æ³•äºŒï¼šconstructoræ–¹æ³•</span></span>
<span class="line"><span style="color:#C792EA;">let</span><span style="color:#A6ACCD;"> arr </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> [</span><span style="color:#F78C6C;">1</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">2</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">3</span><span style="color:#A6ACCD;">]</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#A6ACCD;">(arr</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">constructor </span><span style="color:#89DDFF;">===</span><span style="color:#A6ACCD;"> Array)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// æ–¹æ³•ä¸‰ï¼šisArrayæ–¹æ³•</span></span>
<span class="line"><span style="color:#C792EA;">let</span><span style="color:#A6ACCD;"> arr </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> [</span><span style="color:#F78C6C;">1</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">2</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">3</span><span style="color:#A6ACCD;">]</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#A6ACCD;">(Array</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">isArray</span><span style="color:#A6ACCD;">(arr))</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// æ–¹æ³•å››ï¼šObject.prototypeæ–¹æ³•</span></span>
<span class="line"><span style="color:#C792EA;">let</span><span style="color:#A6ACCD;"> arr </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> [</span><span style="color:#F78C6C;">1</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">2</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">3</span><span style="color:#A6ACCD;">]</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#A6ACCD;">(</span><span style="color:#FFCB6B;">Object</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">prototype</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">toString</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">call</span><span style="color:#A6ACCD;">(arr) </span><span style="color:#89DDFF;">===</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">[object Array]</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// æ–¹æ³•äº”ï¼šArray.__proto__æ–¹æ³•</span></span>
<span class="line"><span style="color:#C792EA;">let</span><span style="color:#A6ACCD;"> arr </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> [</span><span style="color:#F78C6C;">1</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">2</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">3</span><span style="color:#A6ACCD;">]</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#A6ACCD;">(arr</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">__proto__ </span><span style="color:#89DDFF;">===</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">Array</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">prototype)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// æ–¹æ³•å…­ï¼šObject.getPrototypeOfæ–¹æ³•</span></span>
<span class="line"><span style="color:#C792EA;">let</span><span style="color:#A6ACCD;"> arr </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> [</span><span style="color:#F78C6C;">1</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">2</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">3</span><span style="color:#A6ACCD;">]</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#A6ACCD;">(Object</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">getPrototypeOf</span><span style="color:#A6ACCD;">(arr) </span><span style="color:#89DDFF;">===</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">Array</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">prototype)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// æ–¹æ³•ä¸ƒï¼šArray.prototype.isPrototypeOfæ–¹æ³•</span></span>
<span class="line"><span style="color:#C792EA;">let</span><span style="color:#A6ACCD;"> arr </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> [</span><span style="color:#F78C6C;">1</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">2</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">3</span><span style="color:#A6ACCD;">]</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#A6ACCD;">(</span><span style="color:#FFCB6B;">Array</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">prototype</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">isPrototypeOf</span><span style="color:#A6ACCD;">(arr))</span><span style="color:#89DDFF;">;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br></div></div><h2 id="_17ã€æ‰‹å†™é¢˜-sort-å¿«é€Ÿæ‰“ä¹±æ•°ç»„" tabindex="-1">17ã€æ‰‹å†™é¢˜ï¼šsort å¿«é€Ÿæ‰“ä¹±æ•°ç»„ <a class="header-anchor" href="#_17ã€æ‰‹å†™é¢˜-sort-å¿«é€Ÿæ‰“ä¹±æ•°ç»„" aria-label="Permalink to &quot;17ã€æ‰‹å†™é¢˜ï¼šsort å¿«é€Ÿæ‰“ä¹±æ•°ç»„&quot;">â€‹</a></h2><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">let</span><span style="color:#A6ACCD;"> arr </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> [</span><span style="color:#F78C6C;">1</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">2</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">3</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">4</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">5</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">6</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">7</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">8</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">9</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">10</span><span style="color:#A6ACCD;">]</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">arr</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">sort</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#A6ACCD;"> Math</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">random</span><span style="color:#A6ACCD;">() </span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">0.5</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">//åˆ©ç”¨sortï¼Œè¿”å›ç»“æœä¸ºå¤§äºç­‰äº0æ—¶è¢«äº¤æ¢ä½ç½®ï¼Œå°äº0æ—¶äº¤æ¢ä½ç½®ã€‚</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h2 id="_18ã€æ‰‹å†™é¢˜-æ•°ç»„å»é‡æ“ä½œ" tabindex="-1">18ã€æ‰‹å†™é¢˜ï¼šæ•°ç»„å»é‡æ“ä½œ <a class="header-anchor" href="#_18ã€æ‰‹å†™é¢˜-æ•°ç»„å»é‡æ“ä½œ" aria-label="Permalink to &quot;18ã€æ‰‹å†™é¢˜ï¼šæ•°ç»„å»é‡æ“ä½œ&quot;">â€‹</a></h2><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;">/*   æ•°ç»„å»é‡ï¼šè®©æ•°ç»„æ‰€æœ‰å…ƒç´ éƒ½ç‹¬ä¸€æ— äºŒï¼Œæ²¡æœ‰é‡å¤å…ƒç´    */</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// åˆ›å»ºä¸€ä¸ªå«æœ‰é‡å¤å…ƒç´ çš„æ•°ç»„</span></span>
<span class="line"><span style="color:#C792EA;">let</span><span style="color:#A6ACCD;"> arr </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> [</span><span style="color:#F78C6C;">1</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">1</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">2</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">3</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">3</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">6</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">7</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">2</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">9</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">9</span><span style="color:#A6ACCD;">]</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// ç¬¬ä¸€ç§æ–¹æ³•ï¼šåˆ©ç”¨ Setæ•°æ®ç»“æ„ + Array.from() å‡½æ•°</span></span>
<span class="line"><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">removeRepeat1</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">arr</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">Array</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">from</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">new</span><span style="color:#F07178;"> </span><span style="color:#82AAFF;">Set</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">arr</span><span style="color:#F07178;">))</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// ç¬¬äºŒç§æ–¹æ³•ï¼š åˆ©ç”¨ Setæ•°æ®ç»“æ„ + ...æ‰©å±•è¿ç®—ç¬¦</span></span>
<span class="line"><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">removeRepeat2</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">arr</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> [</span><span style="color:#89DDFF;">...new</span><span style="color:#F07178;"> </span><span style="color:#82AAFF;">Set</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">arr</span><span style="color:#F07178;">)]</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// ç¬¬ä¸‰ç§æ–¹æ³•ï¼š åˆ©ç”¨ indexOf å‡½æ•°</span></span>
<span class="line"><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">removeRepeat3</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">arr</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#C792EA;">let</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">new_arr</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> []</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;font-style:italic;">for</span><span style="color:#F07178;"> (</span><span style="color:#C792EA;">let</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">i</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">in</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">arr</span><span style="color:#F07178;">) </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#C792EA;">let</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">item</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">arr</span><span style="color:#F07178;">[</span><span style="color:#A6ACCD;">i</span><span style="color:#F07178;">]</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;font-style:italic;">if</span><span style="color:#F07178;"> (</span><span style="color:#A6ACCD;">new_arr</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">indexOf</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">item</span><span style="color:#F07178;">) </span><span style="color:#89DDFF;">===</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">-</span><span style="color:#F78C6C;">1</span><span style="color:#F07178;">) </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#A6ACCD;">new_arr</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">push</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">item</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">new_arr</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// ç¬¬å››ç§æ–¹æ³•ï¼š åˆ©ç”¨ includes å‡½æ•°</span></span>
<span class="line"><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">removeRepeat4</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">arr</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#C792EA;">let</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">new_arr</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> []</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;font-style:italic;">for</span><span style="color:#F07178;"> (</span><span style="color:#C792EA;">let</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">i</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">in</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">arr</span><span style="color:#F07178;">) </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#C792EA;">let</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">item</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">arr</span><span style="color:#F07178;">[</span><span style="color:#A6ACCD;">i</span><span style="color:#F07178;">]</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;font-style:italic;">if</span><span style="color:#F07178;"> (</span><span style="color:#89DDFF;">!</span><span style="color:#A6ACCD;">new_arr</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">includes</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">item</span><span style="color:#F07178;">)) </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#A6ACCD;">new_arr</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">push</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">item</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">new_arr</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// ç¬¬äº”ç§æ–¹æ³•ï¼š åˆ©ç”¨ filter å‡½æ•°</span></span>
<span class="line"><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">removeRepeat5</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">arr</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">arr</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">filter</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">value</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;font-style:italic;">index</span><span style="color:#89DDFF;">)</span><span style="color:#F07178;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">arr</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">indexOf</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">value</span><span style="color:#F07178;">) </span><span style="color:#89DDFF;">===</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">index</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// ç¬¬å…­ç§æ–¹æ³•ï¼š åˆ©ç”¨ Map æ•°æ®ç»“æ„</span></span>
<span class="line"><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">removeRepeat6</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">arr</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#C792EA;">let</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">map</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">new</span><span style="color:#F07178;"> </span><span style="color:#82AAFF;">Map</span><span style="color:#F07178;">()</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#C792EA;">let</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">new_arr</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> []</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;font-style:italic;">for</span><span style="color:#F07178;"> (</span><span style="color:#C792EA;">let</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">i</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">in</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">arr</span><span style="color:#F07178;">) </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#C792EA;">let</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">item</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">arr</span><span style="color:#F07178;">[</span><span style="color:#A6ACCD;">i</span><span style="color:#F07178;">]</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;font-style:italic;">if</span><span style="color:#F07178;"> (</span><span style="color:#89DDFF;">!</span><span style="color:#A6ACCD;">map</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">has</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">item</span><span style="color:#F07178;">)) </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#A6ACCD;">map</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">set</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">item</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#FF9CAC;">true</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#A6ACCD;">new_arr</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">push</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">item</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">new_arr</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// æµ‹è¯•æ–¹æ³•</span></span>
<span class="line"><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#A6ACCD;">(</span><span style="color:#82AAFF;">removeRepeat1</span><span style="color:#A6ACCD;">(arr))</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#A6ACCD;">(</span><span style="color:#82AAFF;">removeRepeat2</span><span style="color:#A6ACCD;">(arr))</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#A6ACCD;">(</span><span style="color:#82AAFF;">removeRepeat3</span><span style="color:#A6ACCD;">(arr))</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#A6ACCD;">(</span><span style="color:#82AAFF;">removeRepeat4</span><span style="color:#A6ACCD;">(arr))</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#A6ACCD;">(</span><span style="color:#82AAFF;">removeRepeat5</span><span style="color:#A6ACCD;">(arr))</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#A6ACCD;">(</span><span style="color:#82AAFF;">removeRepeat6</span><span style="color:#A6ACCD;">(arr))</span><span style="color:#89DDFF;">;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br></div></div><h2 id="_19ã€æ‰‹å†™é¢˜-æ•°ç»„æ‰å¹³åŒ–" tabindex="-1">19ã€æ‰‹å†™é¢˜ï¼šæ•°ç»„æ‰å¹³åŒ– <a class="header-anchor" href="#_19ã€æ‰‹å†™é¢˜-æ•°ç»„æ‰å¹³åŒ–" aria-label="Permalink to &quot;19ã€æ‰‹å†™é¢˜ï¼šæ•°ç»„æ‰å¹³åŒ–&quot;">â€‹</a></h2><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;">/*  æ•°ç»„æ‰å¹³åŒ–å°±æ˜¯å°†å¤šç»´æ•°ç»„è½¬æˆä¸€ç»´æ•°ç»„   */</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// å¤šç»´æ•°ç»„</span></span>
<span class="line"><span style="color:#C792EA;">let</span><span style="color:#A6ACCD;"> arr </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> [</span><span style="color:#F78C6C;">1</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">2</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> [</span><span style="color:#F78C6C;">3</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">4</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> [</span><span style="color:#F78C6C;">6</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">7</span><span style="color:#A6ACCD;">]]]</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// ç¬¬ä¸€ç§æ–¹æ³•ï¼šåˆ©ç”¨ flat() å‡½æ•°</span></span>
<span class="line"><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">flatArr1</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">arr</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">arr</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">flat</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">Infinity</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// ç¬¬äºŒç§æ–¹æ³•ï¼š æ­£åˆ™åŒ¹é…</span></span>
<span class="line"><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">flatArr2</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">arr</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">JSON</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">parse</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">[</span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">+</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">JSON</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">stringify</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">arr</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">replace</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">/</span><span style="color:#A6ACCD;">\\[</span><span style="color:#89DDFF;">|</span><span style="color:#A6ACCD;">\\]</span><span style="color:#89DDFF;">/</span><span style="color:#F78C6C;">g</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&#39;&#39;</span><span style="color:#F07178;">) </span><span style="color:#89DDFF;">+</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">]</span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// ç¬¬ä¸‰ç§æ–¹æ³•ï¼šåˆ©ç”¨ reduce() éå†æ‰€æœ‰çš„å…ƒç´ </span></span>
<span class="line"><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">flatArr3</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">arr</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">arr</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">reduce</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">i</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;font-style:italic;">j</span><span style="color:#89DDFF;">)</span><span style="color:#F07178;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">i</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">concat</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">Array</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">isArray</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">j</span><span style="color:#F07178;">) </span><span style="color:#89DDFF;">?</span><span style="color:#F07178;"> </span><span style="color:#82AAFF;">flatArr3</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">j</span><span style="color:#F07178;">) </span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">j</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">},</span><span style="color:#F07178;"> [])</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// ç¬¬å››ç§æ–¹æ³•ï¼šç›´æ¥ä½¿ç”¨é€’å½’å‡½æ•°</span></span>
<span class="line"><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">flatArr4</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">arr</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#C792EA;">let</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">new_arr</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> []</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#C792EA;">function</span><span style="color:#F07178;"> </span><span style="color:#82AAFF;">innerArr</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">v</span><span style="color:#89DDFF;">)</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;font-style:italic;">for</span><span style="color:#F07178;"> (</span><span style="color:#C792EA;">let</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">i</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">in</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">v</span><span style="color:#F07178;">) </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#C792EA;">let</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">item</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">v</span><span style="color:#F07178;">[</span><span style="color:#A6ACCD;">i</span><span style="color:#F07178;">]</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#89DDFF;font-style:italic;">if</span><span style="color:#F07178;"> (</span><span style="color:#A6ACCD;">Array</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">isArray</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">item</span><span style="color:#F07178;">)) </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#82AAFF;">innerArr</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">item</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#89DDFF;">}</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;font-style:italic;">else</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#A6ACCD;">new_arr</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">push</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">item</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#82AAFF;">innerArr</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">arr</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">new_arr</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// æ–¹æ³•æµ‹è¯•</span></span>
<span class="line"><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#A6ACCD;">(</span><span style="color:#82AAFF;">flatArr1</span><span style="color:#A6ACCD;">(arr))</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#A6ACCD;">(</span><span style="color:#82AAFF;">flatArr2</span><span style="color:#A6ACCD;">(arr))</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#A6ACCD;">(</span><span style="color:#82AAFF;">flatArr3</span><span style="color:#A6ACCD;">(arr))</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#A6ACCD;">(</span><span style="color:#82AAFF;">flatArr4</span><span style="color:#A6ACCD;">(arr))</span><span style="color:#89DDFF;">;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br></div></div><h2 id="_20ã€new-æ“ä½œç¬¦å…·ä½“å¹²äº†ä»€ä¹ˆå‘¢" tabindex="-1">20ã€<code>new</code> æ“ä½œç¬¦å…·ä½“å¹²äº†ä»€ä¹ˆå‘¢ï¼Ÿ <a class="header-anchor" href="#_20ã€new-æ“ä½œç¬¦å…·ä½“å¹²äº†ä»€ä¹ˆå‘¢" aria-label="Permalink to &quot;20ã€\`new\` æ“ä½œç¬¦å…·ä½“å¹²äº†ä»€ä¹ˆå‘¢ï¼Ÿ&quot;">â€‹</a></h2><p><code>new</code> ä¸€ä¸ªå¯¹è±¡çš„è¿‡ç¨‹æ˜¯ï¼š</p><ul><li>åˆ›å»ºä¸€ä¸ª<strong>ç©ºå¯¹è±¡</strong>ï¼›</li><li>å¯¹æ–°å¯¹è±¡è¿›è¡Œ <code>[prototype]</code> ç»‘å®šï¼ˆå³ <code>son. __ proto __ =father.prototype</code> ï¼‰ï¼›</li><li>æ–°å¯¹è±¡å’Œå‡½æ•°è°ƒç”¨çš„ <code>this</code> ä¼šç»‘å®šèµ·æ¥ï¼›</li><li>æ‰§è¡Œæ„é€ å‡½æ•°ä¸­çš„æ–¹æ³•ï¼›</li><li>å¦‚æœå‡½æ•°<strong>æ²¡æœ‰è¿”å›å€¼</strong>åˆ™è‡ªåŠ¨è¿”å›è¿™ä¸ªæ–°å¯¹è±¡ã€‚</li></ul><h2 id="_21ã€æ‰‹å†™é¢˜-æ‰‹å†™ä¸€ä¸ª-new-æ–¹æ³•" tabindex="-1">21ã€æ‰‹å†™é¢˜ï¼šæ‰‹å†™ä¸€ä¸ª new æ–¹æ³• <a class="header-anchor" href="#_21ã€æ‰‹å†™é¢˜-æ‰‹å†™ä¸€ä¸ª-new-æ–¹æ³•" aria-label="Permalink to &quot;21ã€æ‰‹å†™é¢˜ï¼šæ‰‹å†™ä¸€ä¸ª new æ–¹æ³•&quot;">â€‹</a></h2><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">father</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">name</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">this.</span><span style="color:#A6ACCD;">name</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">name</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">this.</span><span style="color:#82AAFF;">sayname</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#C792EA;">function</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">()</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">this.</span><span style="color:#A6ACCD;">name</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">};</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">myNew</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">ctx</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">...</span><span style="color:#A6ACCD;font-style:italic;">args</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#676E95;font-style:italic;">//...argsä¸ºES6å±•å¼€ç¬¦ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨arguments</span></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#676E95;font-style:italic;">// å…ˆç”¨Ojectåˆ›å»ºä¸€ä¸ªç©ºçš„å¯¹è±¡</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#C792EA;">let</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">obj</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">new</span><span style="color:#F07178;"> </span><span style="color:#82AAFF;">Object</span><span style="color:#F07178;">()</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#676E95;font-style:italic;">// æ–°å¯¹è±¡ä¼šæ‰§è¡Œprototypeè¿æ¥</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#A6ACCD;">obj</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">__proto__</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#FFCB6B;">ctx</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">prototype</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#676E95;font-style:italic;">// æ–°å¯¹è±¡å’Œå‡½æ•°è°ƒç”¨çš„thisç»‘å®šèµ·æ¥</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#C792EA;">let</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">res</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">ctx</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">call</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">obj</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">...</span><span style="color:#A6ACCD;">args</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#676E95;font-style:italic;">// åˆ¤æ–­å‡½æ•°è¿”å›å€¼å¦‚æœæ˜¯nullæˆ–è€…undefinedåˆ™è¿”å›objï¼Œå¦åˆ™å°±è¿”å›res</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">res</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">instanceof</span><span style="color:#F07178;"> </span><span style="color:#FFCB6B;">Object</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">?</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">res</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">obj</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">let</span><span style="color:#A6ACCD;"> son </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">myNew</span><span style="color:#A6ACCD;">(father</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">Bob</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">son</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">sayname</span><span style="color:#A6ACCD;">()</span><span style="color:#89DDFF;">;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br></div></div><h2 id="_22ã€js-å¦‚ä½•å®ç°ç»§æ‰¿" tabindex="-1">22ã€js å¦‚ä½•å®ç°ç»§æ‰¿ï¼Ÿ <a class="header-anchor" href="#_22ã€js-å¦‚ä½•å®ç°ç»§æ‰¿" aria-label="Permalink to &quot;22ã€js å¦‚ä½•å®ç°ç»§æ‰¿ï¼Ÿ&quot;">â€‹</a></h2><ul><li>åŸå‹é“¾ç»§æ‰¿</li><li>ç›—ç”¨æ„é€ å‡½æ•°ç»§æ‰¿</li><li>ç»„åˆç»§æ‰¿</li><li>åŸå‹å¼ç»§æ‰¿</li><li>ç»§æ‰¿å¼ç»§æ‰¿</li><li>å¯„ç”Ÿå¼ç»„åˆç»§æ‰¿</li><li>class çš„ç»§æ‰¿</li></ul><blockquote><ul><li>è¯¦è§£æ–‡ç« è¡¥å…… ğŸ‘‡</li><li>åŸæ–‡ï¼š<a href="https://blog.csdn.net/weixin_44803753/article/details/119280627" target="_blank" rel="noreferrer">ä¸€æ–‡æ¢³ç† JavaScript ä¸­å¸¸è§çš„ä¸ƒå¤§ç»§æ‰¿æ–¹æ¡ˆ</a></li><li>é“¾æ¥ï¼š<a href="https://blog.csdn.net/weixin_44803753/article/details/119280627" target="_blank" rel="noreferrer">https://blog.csdn.net/weixin_44803753/article/details/119280627</a></li><li>ç¢ç¢å¿µï¼šå¯¹äº js çš„ç»§æ‰¿é—®é¢˜æ¥è¯´ï¼Œè¦æ˜ç¡®å‡ ç§ç»§æ‰¿ä¹‹é—´çš„å…³ç³»ï¼Œä»¥åŠå„è‡ªçš„ä¼˜ç¼ºç‚¹ï¼Œè¿˜æœ‰æ‰‹å†™æ¯ä¸€ç§ç»§æ‰¿ã€‚</li></ul></blockquote><h2 id="_23ã€js-ä¸­çš„åƒåœ¾å›æ”¶æœºåˆ¶" tabindex="-1">23ã€JS ä¸­çš„åƒåœ¾å›æ”¶æœºåˆ¶ <a class="header-anchor" href="#_23ã€js-ä¸­çš„åƒåœ¾å›æ”¶æœºåˆ¶" aria-label="Permalink to &quot;23ã€JS ä¸­çš„åƒåœ¾å›æ”¶æœºåˆ¶&quot;">â€‹</a></h2><p>ç®€å•æ¥è¯´ï¼Œåƒåœ¾å›æ”¶æœºåˆ¶å°±æ˜¯ï¼Œ<strong>æ¸…é™¤æ— ç”¨å˜é‡ï¼Œé‡Šæ”¾æ›´å¤šå†…å­˜ï¼Œå±•ç°æ›´å¥½æ€§èƒ½</strong>ã€‚</p><p><strong>å¿…è¦æ€§ï¼š<strong>ç”±äº</strong>å­—ç¬¦ä¸²</strong>ã€<strong>å¯¹è±¡</strong>å’Œ<strong>æ•°ç»„</strong>æ²¡æœ‰å›ºå®šå¤§å°ï¼Œæ‰€æœ‰åªæœ‰å½“ä»–ä»¬çš„å¤§å°å·²çŸ¥æ—¶ï¼Œæ‰èƒ½å¯¹ä»–ä»¬è¿›è¡ŒåŠ¨æ€çš„å­˜å‚¨åˆ†é…ã€‚</p><p><code>JavaScript</code> ç¨‹åºæ¯æ¬¡åˆ›å»ºå­—ç¬¦ä¸²ã€æ•°ç»„æˆ–å¯¹è±¡æ—¶ï¼Œè§£é‡Šå™¨éƒ½å¿…é¡»<strong>åˆ†é…å†…å­˜</strong>æ¥å­˜å‚¨é‚£ä¸ª<strong>å®ä½“</strong>ã€‚åªè¦åƒè¿™æ ·åŠ¨æ€åœ°åˆ†é…äº†å†…å­˜ï¼Œæœ€ç»ˆéƒ½è¦é‡Šæ”¾è¿™äº›å†…å­˜ä»¥ä¾¿ä»–ä»¬èƒ½å¤Ÿè¢«å†ç”¨ï¼Œå¦åˆ™ï¼Œ <code>JavaScript</code> çš„è§£é‡Šå™¨å°†ä¼šæ¶ˆè€—å®Œç³»ç»Ÿä¸­æ‰€æœ‰å¯ç”¨çš„å†…å­˜ï¼Œé€ æˆç³»ç»Ÿå´©æºƒã€‚</p><p>è¿™æ®µè¯è§£é‡Šäº†ä¸ºä»€ä¹ˆç³»ç»Ÿéœ€è¦åƒåœ¾å›æ”¶ï¼Œ <code>JS</code> ä¸åƒ <code>C/C++</code> ï¼Œå®ƒæœ‰è‡ªå·±çš„ä¸€å¥—<strong>åƒåœ¾å›æ”¶æœºåˆ¶</strong>ï¼ˆ<code>GarbageCollection</code>ï¼‰ã€‚</p><p><code>JavaScript</code> çš„è§£é‡Šå™¨å¯ä»¥æ£€æµ‹åˆ°ä½•æ—¶ç¨‹åºä¸å†ä½¿ç”¨ä¸€ä¸ªå¯¹è±¡äº†ï¼Œå½“ä»–ç¡®å®šäº†ä¸€ä¸ªå¯¹è±¡æ˜¯æ— ç”¨çš„æ—¶å€™ï¼Œä»–å°±çŸ¥é“ä¸å†éœ€è¦è¿™ä¸ªå¯¹è±¡ï¼Œå¯ä»¥æŠŠå®ƒæ‰€å ç”¨çš„å†…å­˜é‡Šæ”¾æ‰äº†ã€‚</p><p><strong>ä¾‹å¦‚ï¼š</strong></p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">var</span><span style="color:#A6ACCD;"> a </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">hello world</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#C792EA;">var</span><span style="color:#A6ACCD;"> b </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">world</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#C792EA;">var</span><span style="color:#A6ACCD;"> a </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> b</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">//è¿™æ—¶ï¼Œä¼šé‡Šæ”¾æ‰&quot;hello world&quot;ï¼Œé‡Šæ”¾å†…å­˜ä»¥ä¾¿å†å¼•ç”¨</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p><strong>åƒåœ¾å›æ”¶çš„æ–¹æ³•</strong>ï¼šæ ‡è®°æ¸…é™¤æ³•ã€å¼•ç”¨è®¡æ•°æ³•ã€‚</p><p><strong>æ ‡è®°æ¸…é™¤æ³•</strong></p><p>è¿™æ˜¯æœ€å¸¸è§çš„åƒåœ¾å›æ”¶æ–¹å¼ï¼Œå½“å˜é‡è¿›å…¥ç¯å¢ƒæ—¶ï¼Œå°±æ ‡è®°è¿™ä¸ªå˜é‡ä¸ºâ€<strong>è¿›å…¥ç¯å¢ƒ</strong>â€œï¼Œä»é€»è¾‘ä¸Šè®²ï¼Œæ°¸è¿œä¸èƒ½é‡Šæ”¾è¿›å…¥ç¯å¢ƒçš„å˜é‡æ‰€å çš„å†…å­˜ï¼Œåªè¦æ‰§è¡Œæµç¨‹è¿›å…¥ç›¸åº”çš„ç¯å¢ƒï¼Œå°±å¯èƒ½ç”¨åˆ°ä»–ä»¬ã€‚å½“ç¦»å¼€ç¯å¢ƒæ—¶ï¼Œå°±æ ‡è®°ä¸ºâ€œ<strong>ç¦»å¼€ç¯å¢ƒ</strong>â€ã€‚</p><p>åƒåœ¾å›æ”¶å™¨åœ¨è¿è¡Œçš„æ—¶å€™ä¼šç»™å­˜å‚¨åœ¨å†…å­˜ä¸­çš„å˜é‡éƒ½<strong>åŠ ä¸Šæ ‡è®°</strong>ï¼ˆæ‰€æœ‰éƒ½åŠ ï¼‰ï¼Œç„¶åå»æ‰ç¯å¢ƒå˜é‡ä¸­çš„å˜é‡ï¼Œä»¥åŠè¢«ç¯å¢ƒå˜é‡ä¸­çš„å˜é‡æ‰€å¼•ç”¨çš„å˜é‡ï¼ˆæ¡ä»¶æ€§å»é™¤æ ‡è®°ï¼‰ï¼Œåˆ é™¤æ‰€æœ‰è¢«æ ‡è®°çš„å˜é‡ï¼Œåˆ é™¤çš„å˜é‡æ— æ³•åœ¨ç¯å¢ƒå˜é‡ä¸­è¢«è®¿é—®æ‰€ä»¥ä¼šè¢«åˆ é™¤ï¼Œæœ€ååƒåœ¾å›æ”¶å™¨å®Œæˆäº†å†…å­˜çš„æ¸…é™¤å·¥ä½œï¼Œå¹¶å›æ”¶ä»–ä»¬æ‰€å ç”¨çš„å†…å­˜ã€‚</p><p><strong>å¼•ç”¨è®¡æ•°æ³•</strong></p><p>å¦ä¸€ç§ä¸å¤ªå¸¸è§çš„æ–¹æ³•å°±æ˜¯<strong>å¼•ç”¨è®¡æ•°æ³•</strong>ï¼Œå¼•ç”¨è®¡æ•°æ³•çš„æ„æ€å°±æ˜¯æ¯ä¸ªå€¼æ²¡æœ‰å¼•ç”¨çš„æ¬¡æ•°ã€‚å½“å£°æ˜äº†ä¸€ä¸ªå˜é‡ï¼Œå¹¶ç”¨ä¸€ä¸ªå¼•ç”¨ç±»å‹çš„å€¼èµ‹å€¼ç»™è¯¥å˜é‡ï¼Œåˆ™è¿™ä¸ªå€¼çš„å¼•ç”¨æ¬¡æ•°ä¸º <code>1</code> ï¼›ç›¸åçš„ï¼Œå¦‚æœåŒ…å«äº†å¯¹è¿™ä¸ªå€¼å¼•ç”¨çš„å˜é‡åˆå–å¾—äº†å¦å¤–ä¸€ä¸ªå€¼ï¼Œåˆ™åŸå…ˆçš„å¼•ç”¨å€¼å¼•ç”¨æ¬¡æ•°å°±å‡ <code>1</code> ï¼Œå½“è¿™ä¸ªå€¼çš„å¼•ç”¨æ¬¡æ•°ä¸º <code>0</code> çš„æ—¶å€™ï¼Œè¯´æ˜æ²¡æœ‰åŠæ³•å†è®¿é—®è¿™ä¸ªå€¼äº†ï¼Œå› æ­¤å°±æŠŠæ‰€å çš„å†…å­˜ç»™å›æ”¶è¿›æ¥ï¼Œè¿™æ ·åƒåœ¾æ”¶é›†å™¨å†æ¬¡è¿è¡Œçš„æ—¶å€™ï¼Œå°±ä¼šé‡Šæ”¾å¼•ç”¨æ¬¡æ•°ä¸º <code>0</code> çš„è¿™äº›å€¼ã€‚</p><p>ç”¨å¼•ç”¨è®¡æ•°æ³•ä¼šå­˜åœ¨å†…å­˜æ³„éœ²ï¼Œ<strong>ä¸‹é¢æ¥çœ‹åŸå› ï¼š</strong></p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">problem</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#C792EA;">var</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">objA</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">new</span><span style="color:#F07178;"> </span><span style="color:#82AAFF;">Object</span><span style="color:#F07178;">()</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#C792EA;">var</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">objB</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">new</span><span style="color:#F07178;"> </span><span style="color:#82AAFF;">Object</span><span style="color:#F07178;">()</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#A6ACCD;">objA</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">someOtherObject</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">objB</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#A6ACCD;">objB</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">anotherObject</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">objA</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>åœ¨è¿™ä¸ªä¾‹å­é‡Œé¢ï¼Œ <code>objA</code> å’Œ <code>objB</code> é€šè¿‡å„è‡ªçš„å±æ€§ç›¸äº’å¼•ç”¨ï¼Œè¿™æ ·çš„è¯ï¼Œä¸¤ä¸ªå¯¹è±¡çš„å¼•ç”¨æ¬¡æ•°éƒ½ä¸º <code>2</code> ï¼Œåœ¨é‡‡ç”¨å¼•ç”¨è®¡æ•°çš„ç­–ç•¥ä¸­ï¼Œç”±äºå‡½æ•°æ‰§è¡Œä¹‹åï¼Œè¿™ä¸¤ä¸ªå¯¹è±¡éƒ½ç¦»å¼€äº†ä½œç”¨åŸŸï¼Œå‡½æ•°æ‰§è¡Œå®Œæˆä¹‹åï¼Œå› ä¸ºè®¡æ•°ä¸ä¸º <code>0</code> ï¼Œè¿™æ ·çš„ç›¸äº’å¼•ç”¨å¦‚æœå¤§é‡å­˜åœ¨å°±ä¼šå¯¼è‡´å†…å­˜æ³„éœ²ã€‚</p><p>ç‰¹åˆ«æ˜¯åœ¨ <code>DOM</code> å¯¹è±¡ä¸­ï¼Œä¹Ÿå®¹æ˜“å­˜åœ¨è¿™ç§é—®é¢˜ï¼š</p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">var</span><span style="color:#A6ACCD;"> element</span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;">document</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">getElementByIdï¼ˆâ€™â€˜ï¼‰</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#C792EA;">var</span><span style="color:#A6ACCD;"> myObj</span><span style="color:#89DDFF;">=new</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">Object</span><span style="color:#A6ACCD;">()</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">myObj</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">element</span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;">element</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">element</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">someObject</span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;">myObj</span><span style="color:#89DDFF;">;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>è¿™æ ·å°±ä¸ä¼šæœ‰åƒåœ¾å›æ”¶çš„è¿‡ç¨‹ã€‚</p><blockquote><ul><li><p>è¯¦è§£æ–‡ç« è¡¥å…… ğŸ‘‡</p></li><li><p>åŸæ–‡ï¼š<a href="https://blog.csdn.net/l_ppp/article/details/106858295" target="_blank" rel="noreferrer">JavaScript çš„åƒåœ¾å›æ”¶æœºåˆ¶ï¼Œæ¸…é™¤æ— ç”¨å˜é‡ï¼Œé‡Šæ”¾å¤šä½™å†…å­˜ï¼Œå±•ç°æ›´å¥½çš„æ€§èƒ½</a></p></li><li><p>é“¾æ¥ï¼š<a href="https://blog.csdn.net/l_ppp/article/details/106858295" target="_blank" rel="noreferrer">https://blog.csdn.net/l_ppp/article/details/106858295</a></p></li></ul></blockquote><h1 id="ğŸ¤-ä¸‰ã€ä½œç”¨åŸŸã€åŸå‹é“¾ã€é—­åŒ…" tabindex="-1">ğŸ¤ ä¸‰ã€ä½œç”¨åŸŸã€åŸå‹é“¾ã€é—­åŒ… <a class="header-anchor" href="#ğŸ¤-ä¸‰ã€ä½œç”¨åŸŸã€åŸå‹é“¾ã€é—­åŒ…" aria-label="Permalink to &quot;ğŸ¤ ä¸‰ã€ä½œç”¨åŸŸã€åŸå‹é“¾ã€é—­åŒ…&quot;">â€‹</a></h1><h2 id="_1ã€ä½œç”¨åŸŸ" tabindex="-1">1ã€ä½œç”¨åŸŸ <a class="header-anchor" href="#_1ã€ä½œç”¨åŸŸ" aria-label="Permalink to &quot;1ã€ä½œç”¨åŸŸ&quot;">â€‹</a></h2><h3 id="_1-ä»€ä¹ˆæ˜¯ä½œç”¨åŸŸ" tabindex="-1">ï¼ˆ1ï¼‰ä»€ä¹ˆæ˜¯ä½œç”¨åŸŸï¼Ÿ <a class="header-anchor" href="#_1-ä»€ä¹ˆæ˜¯ä½œç”¨åŸŸ" aria-label="Permalink to &quot;ï¼ˆ1ï¼‰ä»€ä¹ˆæ˜¯ä½œç”¨åŸŸï¼Ÿ&quot;">â€‹</a></h3><p><code>ES5</code> ä¸­åªå­˜åœ¨ä¸¤ç§ä½œç”¨åŸŸï¼š<strong>å…¨å±€ä½œç”¨åŸŸ</strong>å’Œ<strong>å‡½æ•°ä½œç”¨åŸŸ</strong>ã€‚åœ¨ <code>Javascript</code> ä¸­ï¼Œæˆ‘ä»¬å°†ä½œç”¨åŸŸå®šä¹‰ä¸º<strong>ä¸€å¥—è§„åˆ™</strong>ï¼Œè¿™å¥—è§„åˆ™ç”¨æ¥ç®¡ç†å¼•æ“å¦‚ä½•åœ¨å½“å‰ä½œç”¨åŸŸä»¥åŠåµŒå¥—å­ä½œç”¨åŸŸä¸­æ ¹æ®æ ‡è¯†ç¬¦åç§°è¿›è¡Œå˜é‡ï¼ˆå˜é‡åå’Œå‡½æ•°åï¼‰æŸ¥æ‰¾ã€‚</p><p><strong>ä½œç”¨åŸŸ</strong>ï¼Œå°±æ˜¯å½“è®¿é—®ä¸€ä¸ªå˜é‡æ—¶ï¼Œç¼–è¯‘å™¨åœ¨æ‰§è¡Œè¿™æ®µä»£ç æ—¶ï¼Œä¼šé¦–å…ˆä»<strong>å½“å‰çš„ä½œç”¨åŸŸ</strong>ä¸­æŸ¥æ‰¾æ˜¯å¦æœ‰è¿™ä¸ªæ ‡è¯†ç¬¦ï¼Œå¦‚æœæ²¡æœ‰æ‰¾åˆ°ï¼Œå°±ä¼šå»<strong>çˆ¶ä½œç”¨åŸŸ</strong>æŸ¥æ‰¾ï¼Œå¦‚æœçˆ¶ä½œç”¨åŸŸè¿˜æ²¡æœ‰æ‰¾åˆ°åˆ™ç»§ç»­<strong>å‘ä¸ŠæŸ¥æ‰¾</strong>ï¼Œç›´åˆ°<strong>å…¨å±€ä½œç”¨åŸŸ</strong>ä¸ºæ­¢ã€‚å¯ç†è§£ä¸ºè¯¥ä¸Šä¸‹æ–‡ä¸­å£°æ˜çš„<strong>å˜é‡</strong>å’Œå£°æ˜çš„<strong>ä½œç”¨èŒƒå›´</strong>ï¼Œå¯åˆ†ä¸º<strong>å—çº§ä½œç”¨åŸŸ</strong>å’Œ<strong>å‡½æ•°ä½œç”¨åŸŸ</strong>ã€‚</p><h3 id="_2-ä»€ä¹ˆæ˜¯ä½œç”¨åŸŸé“¾" tabindex="-1">ï¼ˆ2ï¼‰ä»€ä¹ˆæ˜¯ä½œç”¨åŸŸé“¾ï¼Ÿ <a class="header-anchor" href="#_2-ä»€ä¹ˆæ˜¯ä½œç”¨åŸŸé“¾" aria-label="Permalink to &quot;ï¼ˆ2ï¼‰ä»€ä¹ˆæ˜¯ä½œç”¨åŸŸé“¾ï¼Ÿ&quot;">â€‹</a></h3><ul><li>ä½œç”¨åŸŸé“¾å¯ä»¥çœ‹æˆæ˜¯å°†å˜é‡å¯¹è±¡æŒ‰é¡ºåºè¿æ¥èµ·æ¥çš„ä¸€æ¡é“¾å­ã€‚</li><li>æ¯ä¸ªæ‰§è¡Œç¯å¢ƒä¸­çš„ä½œç”¨åŸŸéƒ½æ˜¯ä¸åŒçš„ã€‚</li><li>å½“æˆ‘ä»¬å¼•ç”¨å˜é‡æ—¶ï¼Œä¼šé¡ºç€å½“å‰æ‰§è¡Œç¯å¢ƒçš„ä½œç”¨åŸŸé“¾ï¼Œä»ä½œç”¨åŸŸé“¾çš„å¼€å¤´å¼€å§‹ï¼Œä¾æ¬¡å¾€ä¸Šå¯»æ‰¾å¯¹åº”çš„å˜é‡ï¼Œç›´åˆ°æ‰¾åˆ°ä½œç”¨åŸŸé“¾çš„å°¾éƒ¨ï¼ŒæŠ¥é”™ <code>undefined</code> ã€‚</li><li>ä½œç”¨åŸŸé“¾ä¿è¯äº†<strong>å˜é‡çš„æœ‰åºè®¿é—®</strong>ã€‚</li><li><strong>æ³¨æ„</strong>ï¼šä½œç”¨åŸŸé“¾åªèƒ½<strong>å‘ä¸Šè®¿é—®</strong>ï¼Œåˆ° <code>window</code> å¯¹è±¡å³è¢«ç»ˆæ­¢ã€‚</li></ul><h2 id="_2ã€åŸå‹é“¾" tabindex="-1">2ã€åŸå‹é“¾ <a class="header-anchor" href="#_2ã€åŸå‹é“¾" aria-label="Permalink to &quot;2ã€åŸå‹é“¾&quot;">â€‹</a></h2><h3 id="_1-ä»€ä¹ˆæ˜¯åŸå‹-ä»€ä¹ˆæ˜¯åŸå‹é“¾" tabindex="-1">ï¼ˆ1ï¼‰ä»€ä¹ˆæ˜¯åŸå‹ï¼Ÿä»€ä¹ˆæ˜¯åŸå‹é“¾ï¼Ÿ <a class="header-anchor" href="#_1-ä»€ä¹ˆæ˜¯åŸå‹-ä»€ä¹ˆæ˜¯åŸå‹é“¾" aria-label="Permalink to &quot;ï¼ˆ1ï¼‰ä»€ä¹ˆæ˜¯åŸå‹ï¼Ÿä»€ä¹ˆæ˜¯åŸå‹é“¾ï¼Ÿ&quot;">â€‹</a></h3><ul><li><strong>åŸå‹å’ŒåŸå‹é“¾</strong>ï¼šåœ¨ <code>Javascript</code> ä¸­ï¼Œæ¯ä¸ªå¯¹è±¡éƒ½ä¼šåœ¨å…¶å†…éƒ¨åˆå§‹åŒ–ä¸€ä¸ªå±æ€§ï¼Œè¿™ä¸ªå±æ€§å°±æ˜¯ <code>prototype</code>ï¼ˆåŸå‹ï¼‰ã€‚å½“æˆ‘ä»¬è®¿é—®ä¸€ä¸ªå¯¹è±¡çš„å±æ€§æ—¶ï¼Œå¦‚æœè¿™ä¸ªå¯¹è±¡å†…éƒ¨ä¸å­˜åœ¨è¿™ä¸ªå±æ€§ï¼Œé‚£ä¹ˆå®ƒå°±ä¼šå» <code>prototype</code> é‡Œæ‰¾è¿™ä¸ªå±æ€§ï¼Œè¿™ä¸ª <code>prototype</code> åˆä¼šæœ‰è‡ªå·±çš„ <code>prototype</code> ï¼Œäºæ˜¯å°±è¿™æ ·ä¸€ç›´æ‰¾ä¸‹å»ï¼Œè¿™æ ·é€çº§æŸ¥æ‰¾å½¢ä¼¼ä¸€ä¸ªé“¾æ¡ï¼Œä¸”é€šè¿‡ <code>[[prototype]]</code> å±æ€§è¿æ¥ï¼Œè¿™ä¸ªè¿æ¥çš„è¿‡ç¨‹è¢«ç§°ä¸º<strong>åŸå‹é“¾</strong>ã€‚</li><li><strong>å…³ç³»</strong>ï¼š<code>instance.constructor.prototype === instance.__ proto __</code> ï¼›</li></ul><h3 id="_2-ä»€ä¹ˆæ˜¯åŸå‹é“¾ç»§æ‰¿" tabindex="-1">ï¼ˆ2ï¼‰ä»€ä¹ˆæ˜¯åŸå‹é“¾ç»§æ‰¿ï¼Ÿ <a class="header-anchor" href="#_2-ä»€ä¹ˆæ˜¯åŸå‹é“¾ç»§æ‰¿" aria-label="Permalink to &quot;ï¼ˆ2ï¼‰ä»€ä¹ˆæ˜¯åŸå‹é“¾ç»§æ‰¿ï¼Ÿ&quot;">â€‹</a></h3><p><strong>åŸå‹é“¾ç»§æ‰¿</strong>ï¼Œæ˜¯ç±»æ¯”ç±»çš„ç»§æ‰¿ï¼Œå³å½“æœ‰ä¸¤ä¸ªæ„é€ å‡½æ•° <code>A</code> å’Œ <code>B</code> ï¼Œå°†ä¸€ä¸ªæ„é€ å‡½æ•° <code>A</code> çš„åŸå‹å¯¹è±¡ï¼Œé€šè¿‡å…¶ <code>[[prototype]]</code> å±æ€§è¿æ¥å¦å¤–ä¸€ä¸ªæ„é€ å‡½æ•° B çš„åŸå‹å¯¹è±¡æ—¶ï¼Œè¿™ä¸ªè¿‡ç¨‹è¢«ç§°ä¸º<strong>åŸå‹ç»§æ‰¿</strong>ã€‚</p><h3 id="_3-æ‰‹å†™é¢˜-åŸå‹é“¾ä¹‹-instance-åŸç†" tabindex="-1">ï¼ˆ3ï¼‰æ‰‹å†™é¢˜ï¼šåŸå‹é“¾ä¹‹ instance åŸç† <a class="header-anchor" href="#_3-æ‰‹å†™é¢˜-åŸå‹é“¾ä¹‹-instance-åŸç†" aria-label="Permalink to &quot;ï¼ˆ3ï¼‰æ‰‹å†™é¢˜ï¼šåŸå‹é“¾ä¹‹ instance åŸç†&quot;">â€‹</a></h3><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;">// åˆ¤æ–­Aæ˜¯å¦ä¸ºBçš„å®ä¾‹</span></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> instanceOf </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">A</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">B</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#676E95;font-style:italic;">// å®šä¹‰ä¸€ä¸ªæŒ‡é’ˆPæŒ‡å‘A</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#C792EA;">let</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">p</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">A</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#676E95;font-style:italic;">// å½“På­˜åœ¨æ—¶åˆ™ç»§ç»­æ‰§è¡Œ</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;font-style:italic;">while</span><span style="color:#F07178;"> (</span><span style="color:#A6ACCD;">p</span><span style="color:#F07178;">) </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">// åˆ¤æ–­På€¼æ˜¯å¦ç­‰äºBçš„prototypeå¯¹è±¡ï¼Œæ˜¯åˆ™è¯´æ˜Aæ˜¯Bçš„å®ä¾‹</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;font-style:italic;">if</span><span style="color:#F07178;"> (</span><span style="color:#A6ACCD;">p</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">===</span><span style="color:#F07178;"> </span><span style="color:#FFCB6B;">B</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">prototype</span><span style="color:#F07178;">) </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#FF9CAC;">true</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">// ä¸æ–­éå†Açš„åŸå‹é“¾ï¼Œç›´åˆ°æ‰¾åˆ°Bçš„åŸå‹ä¸ºæ­¢</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#A6ACCD;">p</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">p</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">__proto__</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#FF9CAC;">false</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#A6ACCD;">(</span><span style="color:#82AAFF;">instanceOf</span><span style="color:#A6ACCD;">([]</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> Array))</span><span style="color:#89DDFF;">;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><h2 id="_3ã€é—­åŒ…" tabindex="-1">3ã€é—­åŒ… <a class="header-anchor" href="#_3ã€é—­åŒ…" aria-label="Permalink to &quot;3ã€é—­åŒ…&quot;">â€‹</a></h2><h3 id="_1-é—­åŒ…æ˜¯ä»€ä¹ˆ" tabindex="-1">ï¼ˆ1ï¼‰é—­åŒ…æ˜¯ä»€ä¹ˆï¼Ÿ <a class="header-anchor" href="#_1-é—­åŒ…æ˜¯ä»€ä¹ˆ" aria-label="Permalink to &quot;ï¼ˆ1ï¼‰é—­åŒ…æ˜¯ä»€ä¹ˆï¼Ÿ&quot;">â€‹</a></h3><p>é—­åŒ…ï¼Œæ˜¯æŒ‡å‡½æ•°å†…éƒ¨å†åµŒå¥—å‡½æ•°ï¼Œä¸”åœ¨åµŒå¥—çš„å‡½æ•°å†…æœ‰æƒè®¿é—®å¦å¤–ä¸€ä¸ªå‡½æ•°ä½œç”¨åŸŸä¸­çš„å˜é‡ã€‚</p><h3 id="_2-js-ä»£ç çš„æ‰§è¡Œè¿‡ç¨‹" tabindex="-1">ï¼ˆ2ï¼‰js ä»£ç çš„æ‰§è¡Œè¿‡ç¨‹ <a class="header-anchor" href="#_2-js-ä»£ç çš„æ‰§è¡Œè¿‡ç¨‹" aria-label="Permalink to &quot;ï¼ˆ2ï¼‰js ä»£ç çš„æ‰§è¡Œè¿‡ç¨‹&quot;">â€‹</a></h3><p>çœ‹å®Œé—­åŒ…çš„å®šä¹‰ï¼Œæˆ‘ä»¬å†æ¥äº†è§£ <code>js</code> ä»£ç çš„æ•´ä¸ªæ‰§è¡Œè¿‡ç¨‹ï¼Œ<strong>å…·ä½“å¦‚ä¸‹ï¼š</strong></p><p><code>JavaScript</code> ä»£ç çš„æ•´ä¸ªæ‰§è¡Œè¿‡ç¨‹ï¼Œåˆ†ä¸ºä¸¤ä¸ªé˜¶æ®µï¼Œ<strong>ä»£ç ç¼–è¯‘é˜¶æ®µ</strong>ä¸<strong>ä»£ç æ‰§è¡Œé˜¶æ®µ</strong>ã€‚ç¼–è¯‘é˜¶æ®µç”±<strong>ç¼–è¯‘å™¨</strong>å®Œæˆï¼Œå°†ä»£ç ç¿»è¯‘æˆå¯æ‰§è¡Œä»£ç ï¼Œè¿™ä¸ªé˜¶æ®µ<strong>ä½œç”¨åŸŸè§„åˆ™</strong>ä¼šç¡®å®šã€‚æ‰§è¡Œé˜¶æ®µç”±<strong>å¼•æ“</strong>å®Œæˆï¼Œä¸»è¦ä»»åŠ¡æ˜¯æ‰§è¡Œå¯æ‰§è¡Œä»£ç ï¼Œæ‰§è¡Œä¸Šä¸‹æ–‡åœ¨è¿™ä¸ªé˜¶æ®µåˆ›å»ºã€‚</p><p><img src="https://img-blog.csdnimg.cn/20210502145239801.png#pic_center" alt="é—­åŒ…æ˜¯ä»€ä¹ˆ"></p><h3 id="_3-ä¸€èˆ¬å¦‚ä½•äº§ç”Ÿé—­åŒ…" tabindex="-1">ï¼ˆ3ï¼‰ä¸€èˆ¬å¦‚ä½•äº§ç”Ÿé—­åŒ…ï¼Ÿ <a class="header-anchor" href="#_3-ä¸€èˆ¬å¦‚ä½•äº§ç”Ÿé—­åŒ…" aria-label="Permalink to &quot;ï¼ˆ3ï¼‰ä¸€èˆ¬å¦‚ä½•äº§ç”Ÿé—­åŒ…ï¼Ÿ&quot;">â€‹</a></h3><ul><li>å‡½æ•°ä½œä¸ºè¿”å›å€¼è¢«ä¼ é€’</li><li>å‡½æ•°ä½œä¸ºå‚æ•°è¢«è¿”å›</li></ul><h3 id="_4-é—­åŒ…äº§ç”Ÿçš„æœ¬è´¨" tabindex="-1">ï¼ˆ4ï¼‰é—­åŒ…äº§ç”Ÿçš„æœ¬è´¨ <a class="header-anchor" href="#_4-é—­åŒ…äº§ç”Ÿçš„æœ¬è´¨" aria-label="Permalink to &quot;ï¼ˆ4ï¼‰é—­åŒ…äº§ç”Ÿçš„æœ¬è´¨&quot;">â€‹</a></h3><ul><li>å½“å‰ç¯å¢ƒä¸­å­˜åœ¨æŒ‡å‘<strong>çˆ¶çº§ä½œç”¨åŸŸ</strong>çš„å¼•ç”¨</li></ul><h3 id="_5-é—­åŒ…çš„ç‰¹æ€§" tabindex="-1">ï¼ˆ5ï¼‰é—­åŒ…çš„ç‰¹æ€§ <a class="header-anchor" href="#_5-é—­åŒ…çš„ç‰¹æ€§" aria-label="Permalink to &quot;ï¼ˆ5ï¼‰é—­åŒ…çš„ç‰¹æ€§&quot;">â€‹</a></h3><ul><li>å‡½æ•°å†…å†åµŒå¥—å‡½æ•°</li><li>å†…éƒ¨å‡½æ•°å¯ä»¥å¼•ç”¨å¤–å±‚çš„å‚æ•°å’Œå˜é‡</li><li>å‚æ•°å’Œå˜é‡ä¸ä¼šè¢«åƒåœ¾å›æ”¶æœºåˆ¶å›æ”¶</li></ul><h3 id="_6-é—­åŒ…çš„ä¼˜ç¼ºç‚¹" tabindex="-1">ï¼ˆ6ï¼‰é—­åŒ…çš„ä¼˜ç¼ºç‚¹ <a class="header-anchor" href="#_6-é—­åŒ…çš„ä¼˜ç¼ºç‚¹" aria-label="Permalink to &quot;ï¼ˆ6ï¼‰é—­åŒ…çš„ä¼˜ç¼ºç‚¹&quot;">â€‹</a></h3><ul><li><strong>ä¼˜ç‚¹</strong>ï¼šèƒ½å¤Ÿå®ç°å°è£…å’Œç¼“å­˜ç­‰ã€‚</li><li><strong>ç¼ºç‚¹</strong>ï¼š<strong>â‘ </strong>æ¶ˆè€—å†…å­˜ï¼›<strong>â‘¡</strong>ä½¿ç”¨ä¸å½“ä¼šå†…å­˜æº¢å‡ºã€‚</li></ul><h3 id="_7-è§£å†³æ–¹æ³•" tabindex="-1">ï¼ˆ7ï¼‰è§£å†³æ–¹æ³• <a class="header-anchor" href="#_7-è§£å†³æ–¹æ³•" aria-label="Permalink to &quot;ï¼ˆ7ï¼‰è§£å†³æ–¹æ³•&quot;">â€‹</a></h3><ul><li>åœ¨é€€å‡ºå‡½æ•°ä¹‹å‰ï¼Œå°†ä¸ä½¿ç”¨çš„å±€éƒ¨å˜é‡å…¨éƒ¨åˆ é™¤ã€‚</li></ul><h3 id="_8-let-é—­åŒ…" tabindex="-1">ï¼ˆ8ï¼‰let é—­åŒ… <a class="header-anchor" href="#_8-let-é—­åŒ…" aria-label="Permalink to &quot;ï¼ˆ8ï¼‰let é—­åŒ…&quot;">â€‹</a></h3><p>let ä¼šäº§ç”Ÿ<strong>ä¸´æ—¶æ€§æ­»åŒº</strong>ï¼Œåœ¨å½“å‰çš„<strong>æ‰§è¡Œä¸Šä¸‹æ–‡</strong>ä¸­ï¼Œä¼šè¿›è¡Œ<strong>å˜é‡æå‡</strong>ï¼Œä½†æ˜¯æœªè¢«åˆå§‹åŒ–ï¼Œæ‰€ä»¥åœ¨ä¸Šä¸‹æ–‡æ‰§è¡Œé˜¶æ®µæ—¶ï¼Œæ‰§è¡Œä»£ç å¦‚æœè¿˜æ²¡æœ‰æ‰§è¡Œåˆ°å˜é‡èµ‹å€¼ï¼Œå°±å¼•ç”¨æ­¤å˜é‡ä¼šå¼•å‘æŠ¥é”™ï¼Œå› ä¸ºæ­¤å˜é‡æœªè¢«åˆå§‹åŒ–ã€‚</p><h3 id="_9-é—­åŒ…çš„åº”ç”¨åœºæ™¯" tabindex="-1">ï¼ˆ9ï¼‰é—­åŒ…çš„åº”ç”¨åœºæ™¯ <a class="header-anchor" href="#_9-é—­åŒ…çš„åº”ç”¨åœºæ™¯" aria-label="Permalink to &quot;ï¼ˆ9ï¼‰é—­åŒ…çš„åº”ç”¨åœºæ™¯&quot;">â€‹</a></h3><ul><li>å‡½æ•°æŸ¯é‡ŒåŒ–</li><li>æ¨¡å—</li></ul><h3 id="_10-æ‰‹å†™é¢˜-å‡½æ•°æŸ¯é‡ŒåŒ–" tabindex="-1">ï¼ˆ10ï¼‰æ‰‹å†™é¢˜ï¼šå‡½æ•°æŸ¯é‡ŒåŒ– <a class="header-anchor" href="#_10-æ‰‹å†™é¢˜-å‡½æ•°æŸ¯é‡ŒåŒ–" aria-label="Permalink to &quot;ï¼ˆ10ï¼‰æ‰‹å†™é¢˜ï¼šå‡½æ•°æŸ¯é‡ŒåŒ–&quot;">â€‹</a></h3><p><strong>1ï¼‰æŸ¯é‡ŒåŒ–æ˜¯ä»€ä¹ˆ</strong></p><p>æŸ¯é‡ŒåŒ–æŒ‡çš„æ˜¯ï¼Œæœ‰è¿™æ ·ä¸€ä¸ªå‡½æ•°ï¼Œå®ƒæ¥æ”¶å‡½æ•° <code>A</code> ï¼Œå¹¶ä¸”èƒ½è¿”å›ä¸€ä¸ªæ–°çš„å‡½æ•°ï¼Œè¿™ä¸ªæ–°çš„å‡½æ•°èƒ½å¤Ÿå¤„ç†å‡½æ•° <code>A</code> çš„<strong>å‰©ä½™å‚æ•°</strong>ã€‚</p><p><strong>2ï¼‰ä»£ç å®ç°</strong></p><p>ä¸‹é¢ç»™å‡ºä¸‰ç§å…·ä½“çš„å®ç°æ–¹å¼ï¼Œ<strong>ä»£ç å¦‚ä¸‹ï¼š</strong></p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;">/**</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"> *  å‡½æ•°æŸ¯é‡ŒåŒ–ï¼šå°†ä¸€ä¸ªæ¥æ”¶å¤šä¸ªå‚æ•°çš„å‡½æ•°å˜ä¸ºæ¥æ”¶ä»»æ„å‚æ•°è¿”å›ä¸€ä¸ªå‡½æ•°çš„å½¢å¼ï¼Œä¾¿äºä¹‹åç»§ç»­è°ƒç”¨ï¼Œç›´åˆ°æœ€åä¸€æ¬¡è°ƒç”¨ï¼Œæ‰è¿”å›ç»“æœå€¼  </span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">    ä¾‹å­ï¼šæœ‰ä¸€ä¸ªaddå‡½æ•°ï¼Œç”¨äºè¿”å›æ‰€æœ‰å‚æ•°çš„å’Œï¼Œadd(1, 2, 3, 4, 5) è¿”å›çš„æ˜¯15</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">          ç°åœ¨è¦å°†å…¶å˜ä¸ºç±»ä¼¼ add(1)(2)(3)(4)(5) æˆ–è€… add(1)(2, 3, 4)(5) çš„å½¢å¼ï¼Œå¹¶ä¸”åŠŸèƒ½ç›¸åŒ</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"> */</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// æ™®é€šçš„add()å‡½æ•°</span></span>
<span class="line"><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">add</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#C792EA;">let</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">sum</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">0</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#C792EA;">let</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">args</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> [</span><span style="color:#89DDFF;">...</span><span style="color:#A6ACCD;">arguments</span><span style="color:#F07178;">]</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;font-style:italic;">for</span><span style="color:#F07178;"> (</span><span style="color:#C792EA;">let</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">i</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">in</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">args</span><span style="color:#F07178;">) </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#A6ACCD;">sum</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">+=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">args</span><span style="color:#F07178;">[</span><span style="color:#A6ACCD;">i</span><span style="color:#F07178;">]</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">sum</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// ç¬¬ä¸€ç§add()å‡½æ•°æŸ¯é‡ŒåŒ–æ–¹å¼</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// ç¼ºç‚¹ï¼šæœ€åè¿”å›çš„ç»“æœæ˜¯å‡½æ•°ç±»å‹ï¼Œä½†ä¼šè¢«éšå¼è½¬åŒ–ä¸ºå­—ç¬¦ä¸²ï¼Œè°ƒç”¨toString()æ–¹æ³•</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">add1</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#676E95;font-style:italic;">// åˆ›å»ºæ•°ç»„ï¼Œç”¨äºå­˜æ”¾ä¹‹åæ¥æ”¶çš„æ‰€æœ‰å‚æ•°</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#C792EA;">let</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">args</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> [</span><span style="color:#89DDFF;">...</span><span style="color:#A6ACCD;">arguments</span><span style="color:#F07178;">]</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#C792EA;">function</span><span style="color:#F07178;"> </span><span style="color:#82AAFF;">getArgs</span><span style="color:#89DDFF;">()</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#A6ACCD;">args</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">push</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">...</span><span style="color:#A6ACCD;">arguments</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">getArgs</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#A6ACCD;">getArgs</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">toString</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#C792EA;">function</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">()</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">args</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">reduce</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">a</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;font-style:italic;">b</span><span style="color:#89DDFF;">)</span><span style="color:#F07178;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">a</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">+</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">b</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">}</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">getArgs</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// ç¬¬äºŒç§add()å‡½æ•°æŸ¯é‡ŒåŒ–æ–¹å¼</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// ç¼ºç‚¹ï¼šéœ€è¦åœ¨æœ€åå†è‡ªè°ƒç”¨ä¸€æ¬¡ï¼Œå³ä¸ä¼ å‚è°ƒç”¨è¡¨ç¤ºå·²æ²¡æœ‰å‚æ•°äº†</span></span>
<span class="line"><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">add2</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#C792EA;">let</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">args</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> [</span><span style="color:#89DDFF;">...</span><span style="color:#A6ACCD;">arguments</span><span style="color:#F07178;">]</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#C792EA;">function</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">()</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">// é•¿åº¦ä¸º0æ—¶ç›´æ¥æŠŠæ‰€æœ‰æ•°è¿›è¡Œç›¸åŠ </span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;font-style:italic;">if</span><span style="color:#F07178;"> (</span><span style="color:#A6ACCD;">arguments</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">length</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">===</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">0</span><span style="color:#F07178;">) </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">args</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">reduce</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">a</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;font-style:italic;">b</span><span style="color:#89DDFF;">)</span><span style="color:#F07178;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">a</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">+</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">b</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#89DDFF;">}</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">}</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;font-style:italic;">else</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">      </span><span style="color:#676E95;font-style:italic;">// å®šä¹‰ä¸€ä¸ª_argsä¸ºäº†ç”¨æ¥éå†</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#C792EA;">let</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">_args</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> [</span><span style="color:#89DDFF;">...</span><span style="color:#A6ACCD;">arguments</span><span style="color:#F07178;">]</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">      </span><span style="color:#676E95;font-style:italic;">// é•¿åº¦ä¸ä¸º0æ—¶è¦è¿›è¡Œéå†</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#89DDFF;font-style:italic;">for</span><span style="color:#F07178;"> (</span><span style="color:#C792EA;">let</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">i</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">0</span><span style="color:#89DDFF;">;</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">i</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">_args</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">length</span><span style="color:#89DDFF;">;</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">i</span><span style="color:#89DDFF;">++</span><span style="color:#F07178;">) </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#A6ACCD;">args</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">push</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">_args</span><span style="color:#F07178;">[</span><span style="color:#A6ACCD;">i</span><span style="color:#F07178;">])</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">arguments</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">callee</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">};</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// ç¬¬ä¸‰ç§add()å‡½æ•°æŸ¯é‡ŒåŒ–æ–¹å¼</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// ç¼ºç‚¹ï¼šåœ¨åˆšå¼€å§‹ä¼ å‚ä¹‹å‰ï¼Œè®¾å®šæ€»å…±éœ€è¦ä¼ å…¥å‚æ•°çš„ä¸ªæ•°</span></span>
<span class="line"><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">add3</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">length</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#676E95;font-style:italic;">// slice(1)è¡¨ç¤ºä»ç¬¬äºŒä¸ªå…ƒç´ å¼€å§‹å–å€¼</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#C792EA;">let</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">args</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> [</span><span style="color:#89DDFF;">...</span><span style="color:#A6ACCD;">arguments</span><span style="color:#F07178;">]</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">slice</span><span style="color:#F07178;">(</span><span style="color:#F78C6C;">1</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#C792EA;">function</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">()</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#A6ACCD;">args</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">args</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">concat</span><span style="color:#F07178;">([</span><span style="color:#89DDFF;">...</span><span style="color:#A6ACCD;">arguments</span><span style="color:#F07178;">])</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;font-style:italic;">if</span><span style="color:#F07178;"> (</span><span style="color:#A6ACCD;">arguments</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">length</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">length</span><span style="color:#F07178;">) </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">add3</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">apply</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">this,</span><span style="color:#F07178;"> [</span><span style="color:#A6ACCD;">length</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">-</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">arguments</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">length</span><span style="color:#F07178;">]</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">concat</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">args</span><span style="color:#F07178;">))</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">}</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;font-style:italic;">else</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">      </span><span style="color:#676E95;font-style:italic;">// è¿”å›æƒ³è¦å®ç°çš„ç›®çš„</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">args</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">reduce</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">a</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;font-style:italic;">b</span><span style="color:#89DDFF;">)</span><span style="color:#F07178;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">a</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">+</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">b</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">};</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// æµ‹è¯•ä»£ç </span></span>
<span class="line"><span style="color:#C792EA;">let</span><span style="color:#A6ACCD;"> res </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">add</span><span style="color:#A6ACCD;">(</span><span style="color:#F78C6C;">1</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">2</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">3</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">4</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">5</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#C792EA;">let</span><span style="color:#A6ACCD;"> res1 </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">add1</span><span style="color:#A6ACCD;">(</span><span style="color:#F78C6C;">1</span><span style="color:#A6ACCD;">)(</span><span style="color:#F78C6C;">2</span><span style="color:#A6ACCD;">)(</span><span style="color:#F78C6C;">3</span><span style="color:#A6ACCD;">)(</span><span style="color:#F78C6C;">4</span><span style="color:#A6ACCD;">)(</span><span style="color:#F78C6C;">5</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#C792EA;">let</span><span style="color:#A6ACCD;"> res2 </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">add2</span><span style="color:#A6ACCD;">(</span><span style="color:#F78C6C;">1</span><span style="color:#A6ACCD;">)(</span><span style="color:#F78C6C;">2</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">3</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">4</span><span style="color:#A6ACCD;">)(</span><span style="color:#F78C6C;">5</span><span style="color:#A6ACCD;">)()</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#C792EA;">let</span><span style="color:#A6ACCD;"> res3 </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">add3</span><span style="color:#A6ACCD;">(</span><span style="color:#F78C6C;">5</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#A6ACCD;">(res)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#A6ACCD;">(res1)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#A6ACCD;">(res2)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#A6ACCD;">(</span><span style="color:#82AAFF;">res3</span><span style="color:#A6ACCD;">(</span><span style="color:#F78C6C;">1</span><span style="color:#A6ACCD;">)(</span><span style="color:#F78C6C;">2</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">3</span><span style="color:#A6ACCD;">)(</span><span style="color:#F78C6C;">4</span><span style="color:#A6ACCD;">)(</span><span style="color:#F78C6C;">5</span><span style="color:#A6ACCD;">))</span><span style="color:#89DDFF;">;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br><span class="line-number">80</span><br><span class="line-number">81</span><br><span class="line-number">82</span><br><span class="line-number">83</span><br><span class="line-number">84</span><br><span class="line-number">85</span><br><span class="line-number">86</span><br><span class="line-number">87</span><br></div></div><h3 id="_11-è¡¥å……" tabindex="-1">ï¼ˆ11ï¼‰è¡¥å…… <a class="header-anchor" href="#_11-è¡¥å……" aria-label="Permalink to &quot;ï¼ˆ11ï¼‰è¡¥å……&quot;">â€‹</a></h3><blockquote><p>è¯¦è§£æ–‡ç« è¡¥å…… ğŸ‘‡</p><ul><li>åŸæ–‡ï¼š<a href="https://juejin.cn/post/6970469489938792455" target="_blank" rel="noreferrer">å‰–æä½œç”¨åŸŸå’Œé—­åŒ…ï¼Œæµ…æå‡½æ•°æŸ¯é‡ŒåŒ–</a></li><li>é“¾æ¥ï¼š<a href="https://juejin.cn/post/6970469489938792455" target="_blank" rel="noreferrer">https://juejin.cn/post/6970469489938792455</a></li></ul></blockquote><h2 id="_4ã€å˜é‡å¯¹è±¡" tabindex="-1">4ã€å˜é‡å¯¹è±¡ <a class="header-anchor" href="#_4ã€å˜é‡å¯¹è±¡" aria-label="Permalink to &quot;4ã€å˜é‡å¯¹è±¡&quot;">â€‹</a></h2><h3 id="_1-å˜é‡å¯¹è±¡" tabindex="-1">ï¼ˆ1ï¼‰å˜é‡å¯¹è±¡ <a class="header-anchor" href="#_1-å˜é‡å¯¹è±¡" aria-label="Permalink to &quot;ï¼ˆ1ï¼‰å˜é‡å¯¹è±¡&quot;">â€‹</a></h3><p><strong>å˜é‡å¯¹è±¡</strong>ï¼Œæ˜¯æ‰§è¡Œä¸Šä¸‹æ–‡ä¸­çš„ä¸€éƒ¨åˆ†ï¼Œå¯ä»¥æŠ½è±¡ä¸ºä¸€ç§<strong>æ•°æ®ä½œç”¨åŸŸ</strong>ï¼Œä¹Ÿå¯ä»¥ç†è§£ä¸ºå°±æ˜¯<strong>ä¸€ä¸ªç®€å•çš„å¯¹è±¡</strong>ï¼Œå®ƒå­˜å‚¨ç€è¯¥æ‰§è¡Œä¸Šä¸‹æ–‡ä¸­çš„<strong>æ‰€æœ‰å˜é‡</strong>å’Œ<strong>å‡½æ•°å£°æ˜</strong>ï¼ˆä¸åŒ…å«å‡½æ•°è¡¨è¾¾å¼ï¼‰ã€‚</p><h3 id="_2-æ´»åŠ¨å¯¹è±¡" tabindex="-1">ï¼ˆ2ï¼‰æ´»åŠ¨å¯¹è±¡ <a class="header-anchor" href="#_2-æ´»åŠ¨å¯¹è±¡" aria-label="Permalink to &quot;ï¼ˆ2ï¼‰æ´»åŠ¨å¯¹è±¡&quot;">â€‹</a></h3><p><strong>æ´»åŠ¨å¯¹è±¡(AO)</strong>ï¼šå½“å˜é‡å¯¹è±¡æ‰€å¤„çš„ä¸Šä¸‹æ–‡ä¸º <code>active EC</code> æ—¶ï¼Œæˆä¸º<strong>æ´»åŠ¨å¯¹è±¡</strong>ã€‚</p><h3 id="_3-å˜é‡æå‡" tabindex="-1">ï¼ˆ3ï¼‰å˜é‡æå‡ <a class="header-anchor" href="#_3-å˜é‡æå‡" aria-label="Permalink to &quot;ï¼ˆ3ï¼‰å˜é‡æå‡&quot;">â€‹</a></h3><p>å‡½æ•°åœ¨è¿è¡Œçš„æ—¶å€™ï¼Œä¼šé¦–å…ˆåˆ›å»º<strong>æ‰§è¡Œä¸Šä¸‹æ–‡</strong>ï¼Œç„¶åå°†æ‰§è¡Œä¸Šä¸‹æ–‡å…¥æ ˆï¼Œå½“æ­¤æ‰§è¡Œä¸Šä¸‹æ–‡å¤„äº<strong>æ ˆé¡¶</strong>æ—¶ï¼Œå¼€å§‹è¿è¡Œæ‰§è¡Œä¸Šä¸‹æ–‡ã€‚</p><p>åœ¨åˆ›å»ºæ‰§è¡Œä¸Šä¸‹æ–‡çš„è¿‡ç¨‹ä¸­ä¼šåšä¸‰ä»¶äº‹ï¼š<strong>åˆ›å»ºå˜é‡å¯¹è±¡</strong>ï¼Œ<strong>åˆ›å»ºä½œç”¨åŸŸé“¾</strong>ï¼Œ<strong>ç¡®å®š this æŒ‡å‘</strong>ï¼Œå…¶ä¸­åˆ›å»ºå˜é‡å¯¹è±¡çš„è¿‡ç¨‹ä¸­ï¼Œé¦–å…ˆä¼šä¸º <code>arguments</code> åˆ›å»ºä¸€ä¸ªå±æ€§ï¼Œå€¼ä¸º <code>arguments</code> ï¼Œç„¶åä¼šæ‰«æ <code>function</code> å‡½æ•°å£°æ˜ï¼Œåˆ›å»ºä¸€ä¸ªåŒåå±æ€§ï¼Œå€¼ä¸ºå‡½æ•°çš„å¼•ç”¨ï¼Œæ¥ç€ä¼šæ‰«ç  <code>var</code> å˜é‡å£°æ˜ï¼Œåˆ›å»ºä¸€ä¸ªåŒåå±æ€§ï¼Œå€¼ä¸º <code>undefined</code> ï¼Œè¿™å°±æ˜¯å˜é‡æå‡ ã€‚</p><p><strong>ä»¥ä¸‹ç»™å‡ºå…·ä½“å®ä¾‹ï¼š</strong></p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#82AAFF;">js</span><span style="color:#A6ACCD;">(b)</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;">//call b</span></span>
<span class="line"><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#A6ACCD;">(a)</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;">//undefined</span></span>
<span class="line"><span style="color:#C792EA;">let</span><span style="color:#A6ACCD;"> a </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">Hello World</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">b</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">call b</span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#82AAFF;">b</span><span style="color:#A6ACCD;">()</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;">// call b second</span></span>
<span class="line"><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">b</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">call b fist</span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">b</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">call b second</span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#C792EA;">var</span><span style="color:#A6ACCD;"> b </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">Hello world</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h1 id="ğŸ˜œ-å››ã€äº‹ä»¶" tabindex="-1">ğŸ˜œ å››ã€äº‹ä»¶ <a class="header-anchor" href="#ğŸ˜œ-å››ã€äº‹ä»¶" aria-label="Permalink to &quot;ğŸ˜œ å››ã€äº‹ä»¶&quot;">â€‹</a></h1><h2 id="_1ã€äº‹ä»¶æ¨¡å‹" tabindex="-1">1ã€äº‹ä»¶æ¨¡å‹ <a class="header-anchor" href="#_1ã€äº‹ä»¶æ¨¡å‹" aria-label="Permalink to &quot;1ã€äº‹ä»¶æ¨¡å‹&quot;">â€‹</a></h2><blockquote><p>W3C ä¸­å®šä¹‰äº‹ä»¶çš„å‘ç”Ÿç»å†ä¸‰ä¸ªé˜¶æ®µï¼šæ•è·é˜¶æ®µï¼ˆcapturingï¼‰ã€ç›®æ ‡é˜¶æ®µï¼ˆtargetinï¼‰ã€å†’æ³¡é˜¶æ®µï¼ˆbubblingï¼‰ã€‚</p></blockquote><ul><li>å†’æ³¡å‹äº‹ä»¶ï¼šå½“ä½ ä½¿ç”¨äº‹ä»¶å†’æ³¡æ—¶ï¼Œå­çº§å…ƒç´ å…ˆè§¦å‘ï¼Œçˆ¶çº§å…ƒç´ åè§¦å‘ã€‚</li><li>æ•è·å‹äº‹ä»¶ï¼šå½“ä½ ä½¿ç”¨äº‹ä»¶æ•è·æ—¶ï¼Œçˆ¶çº§å…ƒç´ å…ˆè§¦å‘ï¼Œå­çº§å…ƒç´ åè§¦å‘ã€‚</li><li><code>DOM</code> äº‹ä»¶æµï¼šåŒæ—¶æ”¯æŒä¸¤ç§äº‹ä»¶æ¨¡å‹ï¼šæ•è·å‹äº‹ä»¶å’Œå†’æ³¡å‹äº‹ä»¶ã€‚</li></ul><h2 id="_2ã€äº‹ä»¶æ˜¯å¦‚ä½•å®ç°çš„" tabindex="-1">2ã€äº‹ä»¶æ˜¯å¦‚ä½•å®ç°çš„ï¼Ÿ <a class="header-anchor" href="#_2ã€äº‹ä»¶æ˜¯å¦‚ä½•å®ç°çš„" aria-label="Permalink to &quot;2ã€äº‹ä»¶æ˜¯å¦‚ä½•å®ç°çš„ï¼Ÿ&quot;">â€‹</a></h2><p>åŸºäº<strong>å‘å¸ƒè®¢é˜…æ¨¡å¼</strong>ï¼Œå°±æ˜¯åœ¨æµè§ˆå™¨åŠ è½½çš„æ—¶å€™ä¼šè¯»å–äº‹ä»¶ç›¸å…³çš„ä»£ç ï¼Œä½†æ˜¯åªæœ‰å®é™…ç­‰åˆ°å…·ä½“çš„äº‹ä»¶è§¦å‘çš„æ—¶å€™æ‰ä¼šæ‰§è¡Œã€‚</p><p>æ¯”å¦‚ç‚¹å‡»æŒ‰é’®ï¼Œè¿™æ˜¯ä¸ªäº‹ä»¶ï¼ˆ <code>Event</code> ï¼‰ï¼Œè€Œè´Ÿè´£å¤„ç†äº‹ä»¶çš„ä»£ç æ®µé€šå¸¸è¢«ç§°ä¸ºäº‹ä»¶å¤„ç†ç¨‹åºï¼ˆEvent Handlerï¼‰ï¼Œä¹Ÿå°±æ˜¯ã€Œå¯åŠ¨å¯¹è¯æ¡†çš„æ˜¾ç¤ºã€è¿™ä¸ªåŠ¨ä½œã€‚</p><p>åœ¨ <code>Web</code> ç«¯ï¼Œæˆ‘ä»¬å¸¸è§çš„å°±æ˜¯ <code>DOM</code> äº‹ä»¶ï¼š</p><ul><li><strong>DOM0 çº§äº‹ä»¶</strong>ï¼Œç›´æ¥åœ¨ <code>html</code> å…ƒç´ ä¸Šç»‘å®š <code>on-event</code> ï¼Œæ¯”å¦‚ <code>onclick</code>ï¼Œå–æ¶ˆçš„è¯ï¼Œ<code>dom.onclick = null</code>ï¼Œ<strong>åŒä¸€ä¸ªäº‹ä»¶åªèƒ½æœ‰ä¸€ä¸ªå¤„ç†ç¨‹åº</strong>ï¼Œåé¢çš„ä¼šè¦†ç›–å‰é¢çš„ã€‚</li><li><strong>DOM2 çº§äº‹ä»¶</strong>ï¼Œé€šè¿‡ <code>addEventListener</code> æ³¨å†Œäº‹ä»¶ï¼Œé€šè¿‡ <code>removeEventListener</code> æ¥åˆ é™¤äº‹ä»¶ï¼Œä¸€ä¸ªäº‹ä»¶å¯ä»¥æœ‰å¤šä¸ªäº‹ä»¶å¤„ç†ç¨‹åºï¼ŒæŒ‰é¡ºåºæ‰§è¡Œï¼Œæ•è·äº‹ä»¶å’Œå†’æ³¡äº‹ä»¶ã€‚</li><li><strong>DOM3 çº§äº‹ä»¶</strong>ï¼Œå¢åŠ äº†äº‹ä»¶ç±»å‹ï¼Œæ¯”å¦‚ <code>UI</code> äº‹ä»¶ï¼Œç„¦ç‚¹äº‹ä»¶ï¼Œé¼ æ ‡äº‹ä»¶ã€‚</li></ul><h2 id="_3ã€æ€ä¹ˆåŠ äº‹ä»¶ç›‘å¬" tabindex="-1">3ã€æ€ä¹ˆåŠ äº‹ä»¶ç›‘å¬ï¼Ÿ <a class="header-anchor" href="#_3ã€æ€ä¹ˆåŠ äº‹ä»¶ç›‘å¬" aria-label="Permalink to &quot;3ã€æ€ä¹ˆåŠ äº‹ä»¶ç›‘å¬ï¼Ÿ&quot;">â€‹</a></h2><blockquote><p>é€šè¿‡ onclick å’Œ addEventListener æ¥å¯¹äº‹ä»¶è¿›è¡Œç›‘å¬ã€‚</p></blockquote><h2 id="_4ã€ä»€ä¹ˆæ˜¯äº‹ä»¶å§”æ‰˜" tabindex="-1">4ã€ä»€ä¹ˆæ˜¯äº‹ä»¶å§”æ‰˜ï¼Ÿ <a class="header-anchor" href="#_4ã€ä»€ä¹ˆæ˜¯äº‹ä»¶å§”æ‰˜" aria-label="Permalink to &quot;4ã€ä»€ä¹ˆæ˜¯äº‹ä»¶å§”æ‰˜ï¼Ÿ&quot;">â€‹</a></h2><h3 id="_1-å®šä¹‰" tabindex="-1">ï¼ˆ1ï¼‰å®šä¹‰ <a class="header-anchor" href="#_1-å®šä¹‰" aria-label="Permalink to &quot;ï¼ˆ1ï¼‰å®šä¹‰&quot;">â€‹</a></h3><ul><li>äº‹ä»¶ä»£ç†(Event Delegation)ï¼Œåˆç§°ä¸º<strong>äº‹ä»¶å§”æ‰˜</strong>ï¼Œæ˜¯ <code>Javascript</code> ä¸­å¸¸ç”¨çš„<strong>ç»‘å®šäº‹ä»¶</strong>æŠ€å·§ã€‚</li><li>â€œäº‹ä»¶ä»£ç†â€å³æ˜¯æŠŠ<strong>åŸæœ¬éœ€è¦ç»‘å®šçš„äº‹ä»¶</strong>å§”æ‰˜ç»™<strong>çˆ¶å…ƒç´ </strong>ï¼Œè®©çˆ¶å…ƒç´ æ‹…å½“äº‹ä»¶ç›‘å¬çš„èŒåŠ¡ã€‚</li></ul><h3 id="_2-åŸç†" tabindex="-1">ï¼ˆ2ï¼‰åŸç† <a class="header-anchor" href="#_2-åŸç†" aria-label="Permalink to &quot;ï¼ˆ2ï¼‰åŸç†&quot;">â€‹</a></h3><ul><li>äº‹ä»¶ä»£ç†çš„åŸç†æ˜¯ <code>DOM</code> å…ƒç´ çš„äº‹ä»¶å†’æ³¡ã€‚</li></ul><h3 id="_3-å¥½å¤„" tabindex="-1">ï¼ˆ3ï¼‰å¥½å¤„ <a class="header-anchor" href="#_3-å¥½å¤„" aria-label="Permalink to &quot;ï¼ˆ3ï¼‰å¥½å¤„&quot;">â€‹</a></h3><ul><li>ä½¿ç”¨äº‹ä»¶ä»£ç†çš„å¥½å¤„æ˜¯å¯ä»¥<strong>æé«˜æ€§èƒ½</strong>ã€‚</li><li>å¯ä»¥å¤§é‡èŠ‚çœå†…å­˜å ç”¨ï¼Œå‡å°‘äº‹ä»¶æ³¨å†Œï¼Œæ¯”å¦‚è¯´åœ¨ <code>ul</code> ä¸Šä»£ç†æ‰€æœ‰ <code>li</code> çš„ <code>click</code> äº‹ä»¶ã€‚</li><li>å¯ä»¥å®ç°å½“<strong>æ–°å¢å­å¯¹è±¡</strong>æ—¶æ— éœ€å†æ¬¡å¯¹å…¶è¿›è¡Œç»‘å®šã€‚</li></ul><h3 id="_4-è¡¥å……" tabindex="-1">ï¼ˆ4ï¼‰è¡¥å…… <a class="header-anchor" href="#_4-è¡¥å……" aria-label="Permalink to &quot;ï¼ˆ4ï¼‰è¡¥å……&quot;">â€‹</a></h3><blockquote><p><strong>è¯¦è§£æ–‡ç« è¡¥å……ï¼ˆäº‹ä»¶ï¼‰ğŸ‘‡</strong></p><ul><li>åŸæ–‡ï¼š<a href="https://juejin.cn/post/6971940848439132196" target="_blank" rel="noreferrer">ä½ çœŸçš„ç†è§£äº‹ä»¶ç»‘å®šã€äº‹ä»¶å†’æ³¡å’Œäº‹ä»¶å§”æ‰˜å—ï¼Ÿ</a></li><li>é“¾æ¥ï¼š<a href="https://juejin.cn/post/6971940848439132196" target="_blank" rel="noreferrer">https://juejin.cn/post/6971940848439132196</a></li></ul></blockquote><h2 id="_5ã€è¯´è¯´äº‹ä»¶å¾ªç¯-event-loop" tabindex="-1">5ã€è¯´è¯´äº‹ä»¶å¾ªç¯ event loop <a class="header-anchor" href="#_5ã€è¯´è¯´äº‹ä»¶å¾ªç¯-event-loop" aria-label="Permalink to &quot;5ã€è¯´è¯´äº‹ä»¶å¾ªç¯ event loop&quot;">â€‹</a></h2><h3 id="_1-å®šä¹‰-1" tabindex="-1">ï¼ˆ1ï¼‰å®šä¹‰ <a class="header-anchor" href="#_1-å®šä¹‰-1" aria-label="Permalink to &quot;ï¼ˆ1ï¼‰å®šä¹‰&quot;">â€‹</a></h3><p>é¦–å…ˆï¼Œ <code>js</code> æ˜¯<strong>å•çº¿ç¨‹</strong>çš„ï¼Œä¸»è¦çš„ä»»åŠ¡æ˜¯<strong>å¤„ç†ç”¨æˆ·çš„äº¤äº’</strong>ï¼Œè€Œç”¨æˆ·çš„äº¤äº’æ— éå°±æ˜¯å“åº” <code>DOM</code> çš„å¢åˆ æ”¹ï¼Œé‚£å¦‚ä½•å¤„ç†äº‹ä»¶å“åº”å‘¢ï¼Ÿ</p><p>æµè§ˆå™¨çš„å„ç§ <code>Web API</code> ä¼šä¸ºå¼‚æ­¥çš„ä»£ç æä¾›äº†ä¸€ä¸ªå•ç‹¬çš„è¿è¡Œç©ºé—´ï¼Œå½“å¼‚æ­¥çš„ä»£ç è¿è¡Œå®Œæ¯•ä»¥åï¼Œä¼šå°†ä»£ç ä¸­çš„å›è°ƒé€å…¥åˆ° <code>Task Queue</code>ï¼ˆä»»åŠ¡é˜Ÿåˆ—ï¼‰ä¸­å»ï¼Œç­‰åˆ°è°ƒç”¨æ ˆç©ºæ—¶ï¼Œå†å°†é˜Ÿåˆ—ä¸­çš„å›è°ƒå‡½æ•°å‹å…¥è°ƒç”¨æ ˆä¸­æ‰§è¡Œï¼Œç­‰åˆ°æ ˆç©ºä»¥åŠä»»åŠ¡é˜Ÿåˆ—ä¹Ÿä¸ºç©ºæ—¶ï¼Œè°ƒç”¨æ ˆä»ç„¶ä¼šä¸æ–­æ£€æµ‹ä»»åŠ¡é˜Ÿåˆ—ä¸­æ˜¯å¦æœ‰ä»£ç éœ€è¦æ‰§è¡Œï¼Œè¿™ä¸€è¿‡ç¨‹å°±æ˜¯å®Œæ•´çš„ <code>Event loop</code> äº†ã€‚</p><p>åŒæ—¶éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œ<code>js</code> å¼•æ“åœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­æœ‰ä¼˜å…ˆçº§ä¹‹åˆ†ï¼Œ <code>js</code> å¼•æ“åœ¨ä¸€æ¬¡äº‹ä»¶å¾ªç¯ä¸­ï¼Œ ä¼šå…ˆæ‰§è¡Œ <code>js</code> çº¿ç¨‹çš„ä¸»ä»»åŠ¡ï¼Œç„¶åä¼šå»æŸ¥æ‰¾æ˜¯å¦æœ‰<strong>å¾®ä»»åŠ¡</strong> <code>microtaskï¼ˆpromiseï¼‰</code>ï¼Œå¦‚æœæœ‰é‚£å°±ä¼˜å…ˆæ‰§è¡Œå¾®ä»»åŠ¡ï¼Œå¦‚æœæ²¡æœ‰ï¼Œå†å»æŸ¥æ‰¾<strong>å®ä»»åŠ¡</strong> <code>macrotaskï¼ˆsetTimeoutã€setIntervalï¼‰</code> è¿›è¡Œæ‰§è¡Œã€‚</p><p><img src="https://img-blog.csdnimg.cn/20210502174821289.png#pic_center" alt="äº‹ä»¶å¾ªç¯ä¸ä»»åŠ¡é˜Ÿåˆ—"></p><h3 id="_2-å¸¸ç”¨çš„å®ä»»åŠ¡å’Œå¾®ä»»åŠ¡" tabindex="-1">ï¼ˆ2ï¼‰å¸¸ç”¨çš„å®ä»»åŠ¡å’Œå¾®ä»»åŠ¡ <a class="header-anchor" href="#_2-å¸¸ç”¨çš„å®ä»»åŠ¡å’Œå¾®ä»»åŠ¡" aria-label="Permalink to &quot;ï¼ˆ2ï¼‰å¸¸ç”¨çš„å®ä»»åŠ¡å’Œå¾®ä»»åŠ¡&quot;">â€‹</a></h3><p><strong>1ï¼‰å¸¸ç”¨çš„å®ä»»åŠ¡å’Œå¾®ä»»åŠ¡æœ‰ï¼š</strong></p><table><thead><tr><th>åç§°</th><th>ä¸¾ä¾‹ï¼ˆå¸¸ç”¨ï¼‰</th></tr></thead><tbody><tr><td>å®ä»»åŠ¡</td><td>scriptã€setTimeout ã€setInterval ã€setImmediateã€I/Oã€UI Rendering</td></tr><tr><td>å¾®ä»»åŠ¡</td><td>process.nextTick()ã€Promise</td></tr></tbody></table><p>ä¸Šè¯‰çš„ <code>setTimeout</code> å’Œ <code>setInterval</code> ç­‰éƒ½æ˜¯ä»»åŠ¡æºï¼ŒçœŸæ­£è¿›å…¥ä»»åŠ¡é˜Ÿåˆ—çš„æ˜¯ä»–ä»¬åˆ†å‘çš„ä»»åŠ¡ã€‚</p><p><strong>2ï¼‰ä¼˜å…ˆçº§</strong></p><ul><li>setTimeout = setInterval ä¸€ä¸ªé˜Ÿåˆ—</li><li>setTimeout &gt; setImmediate</li><li>process.nextTick &gt; Promise</li></ul><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;font-style:italic;">for</span><span style="color:#A6ACCD;"> (</span><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> macroTask </span><span style="color:#89DDFF;">of</span><span style="color:#A6ACCD;"> macroTaskQueue) </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#676E95;font-style:italic;">// 2.å†æ‰§è¡Œå®ä»»åŠ¡</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#82AAFF;">handleMacroTask</span><span style="color:#F07178;">()</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;font-style:italic;">for</span><span style="color:#F07178;"> (</span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">microTask</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">of</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">microTaskQueue</span><span style="color:#F07178;">) </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">// 1.å…ˆæ‰§è¡Œå¾®ä»»åŠ¡</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#82AAFF;">handleMicroTask</span><span style="color:#F07178;">()</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h3 id="_3-settimeout-fn-0-å¤šä¹…æ‰æ‰§è¡Œ-event-loop" tabindex="-1">ï¼ˆ3ï¼‰setTimeout(fn,0)å¤šä¹…æ‰æ‰§è¡Œï¼ŒEvent loopï¼Ÿ <a class="header-anchor" href="#_3-settimeout-fn-0-å¤šä¹…æ‰æ‰§è¡Œ-event-loop" aria-label="Permalink to &quot;ï¼ˆ3ï¼‰setTimeout(fn,0)å¤šä¹…æ‰æ‰§è¡Œï¼ŒEvent loopï¼Ÿ&quot;">â€‹</a></h3><p><code>setTimeout</code> æŒ‰ç…§é¡ºåºæ”¾åˆ°<strong>é˜Ÿåˆ—</strong>é‡Œé¢ï¼Œç„¶åç­‰å¾…å‡½æ•°è°ƒç”¨æ ˆæ¸…ç©ºä¹‹åæ‰å¼€å§‹æ‰§è¡Œï¼Œè€Œè¿™äº›æ“ä½œè¿›å…¥é˜Ÿåˆ—çš„é¡ºåºï¼Œåˆ™ç”±è®¾å®šçš„å»¶è¿Ÿæ—¶é—´æ¥å†³å®šã€‚</p><h3 id="_4-è¡¥å……-1" tabindex="-1">ï¼ˆ4ï¼‰è¡¥å…… <a class="header-anchor" href="#_4-è¡¥å……-1" aria-label="Permalink to &quot;ï¼ˆ4ï¼‰è¡¥å……&quot;">â€‹</a></h3><blockquote><p><strong>è¯¦è§£æ–‡ç« è¡¥å……ï¼ˆäº‹ä»¶å¾ªç¯ï¼‰ğŸ‘‡</strong></p><ul><li>åŸæ–‡ 1ï¼š<a href="https://juejin.cn/post/6968750855071727630" target="_blank" rel="noreferrer">è¯¦è§£é˜Ÿåˆ—åœ¨å‰ç«¯çš„åº”ç”¨ï¼Œæ·±å‰– JS ä¸­çš„äº‹ä»¶å¾ªç¯ Eventloopï¼Œå†äº†è§£å¾®ä»»åŠ¡å’Œå®ä»»åŠ¡</a></li><li>é“¾æ¥ 1ï¼š<a href="https://juejin.cn/post/6968750855071727630" target="_blank" rel="noreferrer">https://juejin.cn/post/6968750855071727630</a></li><li>åŸæ–‡ 2ï¼š<a href="https://juejin.cn/post/6886992599006380045" target="_blank" rel="noreferrer">æµè§ˆå™¨ä¸ Node ç¯å¢ƒä¸‹çš„ Event Loop</a></li><li>é“¾æ¥ 2ï¼š<a href="https://juejin.cn/post/6886992599006380045" target="_blank" rel="noreferrer">https://juejin.cn/post/6886992599006380045</a></li></ul></blockquote><h1 id="ğŸ¤ª-äº”ã€this-é—®é¢˜" tabindex="-1">ğŸ¤ª äº”ã€this é—®é¢˜ <a class="header-anchor" href="#ğŸ¤ª-äº”ã€this-é—®é¢˜" aria-label="Permalink to &quot;ğŸ¤ª äº”ã€this é—®é¢˜&quot;">â€‹</a></h1><h2 id="_1ã€æè¿°ä¸‹-this-è°ˆè°ˆå¯¹-this-å¯¹è±¡çš„ç†è§£" tabindex="-1">1ã€æè¿°ä¸‹ thisï¼ˆè°ˆè°ˆå¯¹ this å¯¹è±¡çš„ç†è§£ï¼‰ <a class="header-anchor" href="#_1ã€æè¿°ä¸‹-this-è°ˆè°ˆå¯¹-this-å¯¹è±¡çš„ç†è§£" aria-label="Permalink to &quot;1ã€æè¿°ä¸‹ thisï¼ˆè°ˆè°ˆå¯¹ this å¯¹è±¡çš„ç†è§£ï¼‰&quot;">â€‹</a></h2><ul><li><code>this</code> ï¼Œå‡½æ•°æ‰§è¡Œçš„ä¸Šä¸‹æ–‡ï¼Œæ€»æ˜¯æŒ‡å‘å‡½æ•°çš„<strong>ç›´æ¥è°ƒç”¨è€…</strong>ï¼ˆè€Œéé—´æ¥è°ƒç”¨è€…ï¼‰ï¼Œå¯ä»¥é€šè¿‡ <code>apply</code> ï¼Œ <code>call</code> ï¼Œ <code>bind</code> æ”¹å˜ <code>this</code> çš„æŒ‡å‘ã€‚</li><li>å¦‚æœæœ‰ <code>new</code> å…³é”®å­—ï¼Œ<code>this</code> æŒ‡å‘ <code>new</code> å‡ºæ¥çš„é‚£ä¸ªå¯¹è±¡ã€‚</li><li>åœ¨äº‹ä»¶ä¸­ï¼Œ<code>this</code> æŒ‡å‘è§¦å‘è¿™ä¸ªäº‹ä»¶çš„å¯¹è±¡ï¼Œç‰¹æ®Šçš„æ˜¯ï¼Œ<code>IE</code> ä¸­çš„ <code>attachEvent</code> ä¸­çš„ <code>this</code> æ€»æ˜¯æŒ‡å‘å…¨å±€å¯¹è±¡ <code>window</code> ã€‚</li><li>å¯¹äº<strong>åŒ¿åå‡½æ•°</strong>æˆ–è€…<strong>ç›´æ¥è°ƒç”¨çš„å‡½æ•°</strong>æ¥è¯´ï¼Œ<code>this</code> æŒ‡å‘<strong>å…¨å±€ä¸Šä¸‹æ–‡</strong>ï¼ˆæµè§ˆå™¨ä¸º <code>window</code> ï¼Œ<code>NodeJS</code> ä¸º <code>global</code>ï¼‰ï¼Œå‰©ä¸‹çš„å‡½æ•°è°ƒç”¨ï¼Œé‚£å°±æ˜¯è°è°ƒç”¨å®ƒï¼Œ <code>this</code> å°±æŒ‡å‘è°ã€‚</li><li>å¯¹äº <code>es6</code> çš„ç®­å¤´å‡½æ•°ï¼Œç®­å¤´å‡½æ•°çš„æŒ‡å‘å–å†³äº<strong>è¯¥ç®­å¤´å‡½æ•°å£°æ˜çš„ä½ç½®</strong>ï¼Œåœ¨å“ªé‡Œå£°æ˜ï¼Œ <code>this</code> å°±æŒ‡å‘å“ªé‡Œã€‚</li></ul><h2 id="_2ã€this-ç»‘å®šçš„å››å¤§è§„åˆ™" tabindex="-1">2ã€this ç»‘å®šçš„å››å¤§è§„åˆ™ <a class="header-anchor" href="#_2ã€this-ç»‘å®šçš„å››å¤§è§„åˆ™" aria-label="Permalink to &quot;2ã€this ç»‘å®šçš„å››å¤§è§„åˆ™&quot;">â€‹</a></h2><p>this ç»‘å®šå››å¤§è§„åˆ™éµå¾ªä»¥ä¸‹é¡ºåºï¼š</p><p><strong>New ç»‘å®š &gt; æ˜¾ç¤ºç»‘å®š &gt; éšå¼ç»‘å®š &gt; é»˜è®¤ç»‘å®š</strong></p><p>ä¸‹é¢ä¸€ä¸€ä»‹ç»å››å¤§è§„åˆ™ã€‚</p><h3 id="_1-new-ç»‘å®š" tabindex="-1">ï¼ˆ1ï¼‰New ç»‘å®š <a class="header-anchor" href="#_1-new-ç»‘å®š" aria-label="Permalink to &quot;ï¼ˆ1ï¼‰New ç»‘å®š&quot;">â€‹</a></h3><ul><li><strong>New ç»‘å®š</strong>ï¼š <code>new</code> è°ƒç”¨å‡½æ•°ä¼šåˆ›å»ºä¸€ä¸ªå…¨æ–°çš„å¯¹è±¡ï¼Œå¹¶å°†è¿™ä¸ªå¯¹è±¡ç»‘å®šåˆ°å‡½æ•°è°ƒç”¨çš„ <code>this</code> ã€‚<code>New</code> ç»‘å®šæ—¶ï¼Œå¦‚æœæ˜¯ <code>new</code> ä¸€ä¸ªç¡¬ç»‘å®šå‡½æ•°ï¼Œé‚£ä¹ˆä¼šç”¨ <code>new</code> æ–°å»ºçš„å¯¹è±¡æ›¿æ¢è¿™ä¸ªç¡¬ç»‘å®š <code>this</code> ã€‚<strong>å…·ä½“å®ç°ä»£ç å¦‚ä¸‹ï¼š</strong></li></ul><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">foo</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">a</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">this.</span><span style="color:#A6ACCD;">a</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">a</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#C792EA;">var</span><span style="color:#A6ACCD;"> bar </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">new</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">foo</span><span style="color:#A6ACCD;">(</span><span style="color:#F78C6C;">2</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#A6ACCD;">(bar</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">a)</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;">//2</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h3 id="_2-æ˜¾å¼ç»‘å®š" tabindex="-1">ï¼ˆ2ï¼‰æ˜¾å¼ç»‘å®š <a class="header-anchor" href="#_2-æ˜¾å¼ç»‘å®š" aria-label="Permalink to &quot;ï¼ˆ2ï¼‰æ˜¾å¼ç»‘å®š&quot;">â€‹</a></h3><ul><li><strong>æ˜¾ç¤ºç»‘å®š</strong>ï¼šé€šè¿‡åœ¨å‡½æ•°ä¸Šè¿è¡Œ <code>call</code> å’Œ <code>apply</code> ï¼Œæ¥æ˜¾ç¤ºç»‘å®šçš„ <code>this</code> ã€‚<strong>å…·ä½“å®ç°ä»£ç å¦‚ä¸‹ï¼š</strong></li></ul><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">foo</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">this.</span><span style="color:#A6ACCD;">a</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#C792EA;">var</span><span style="color:#A6ACCD;"> obj </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">a</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">2</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#89DDFF;">};</span></span>
<span class="line"><span style="color:#A6ACCD;">foo</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">call</span><span style="color:#A6ACCD;">(obj)</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;">//2</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><ul><li>æ˜¾ç¤ºç»‘å®šä¹‹<strong>ç¡¬ç»‘å®š</strong></li></ul><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">foo</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">something</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">this.</span><span style="color:#A6ACCD;">a</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">something</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">this.</span><span style="color:#A6ACCD;">a</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">+</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">something</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">bind</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">fn</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">obj</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#C792EA;">function</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">()</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">fn</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">apply</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">obj</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">arguments</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">};</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#C792EA;">var</span><span style="color:#A6ACCD;"> obj </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">a</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">2</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#89DDFF;">};</span></span>
<span class="line"><span style="color:#C792EA;">var</span><span style="color:#A6ACCD;"> bar </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">bind</span><span style="color:#A6ACCD;">(foo</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> obj)</span><span style="color:#89DDFF;">;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><h3 id="_3-éšå¼ç»‘å®š" tabindex="-1">ï¼ˆ3ï¼‰éšå¼ç»‘å®š <a class="header-anchor" href="#_3-éšå¼ç»‘å®š" aria-label="Permalink to &quot;ï¼ˆ3ï¼‰éšå¼ç»‘å®š&quot;">â€‹</a></h3><ul><li><strong>éšå¼ç»‘å®š</strong>ï¼šè°ƒç”¨ä½ç½®æ˜¯å¦æœ‰<strong>ä¸Šä¸‹æ–‡å¯¹è±¡</strong>ï¼Œæˆ–è€…æ˜¯å¦è¢«æŸä¸ªå¯¹è±¡æ‹¥æœ‰æˆ–è€…åŒ…å«ï¼Œé‚£ä¹ˆéšå¼ç»‘å®šè§„åˆ™ä¼šæŠŠå‡½æ•°è°ƒç”¨ä¸­çš„ <code>this</code> ç»‘å®šåˆ°è¿™ä¸ªä¸Šä¸‹æ–‡å¯¹è±¡ã€‚è€Œä¸”ï¼Œå¯¹è±¡å±æ€§é“¾åªæœ‰ä¸Šä¸€å±‚æˆ–è€…è¯´æœ€åä¸€å±‚åœ¨<strong>è°ƒç”¨ä½ç½®</strong>ä¸­èµ·ä½œç”¨ã€‚<strong>å…·ä½“å®ç°ä»£ç å¦‚ä¸‹ï¼š</strong></li></ul><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">foo</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">this.</span><span style="color:#A6ACCD;">a</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#C792EA;">var</span><span style="color:#A6ACCD;"> obj </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">a</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">2</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">foo</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> foo</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#89DDFF;">};</span></span>
<span class="line"><span style="color:#A6ACCD;">obj</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">foo</span><span style="color:#A6ACCD;">()</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;">// 2</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h3 id="_4-é»˜è®¤ç»‘å®š" tabindex="-1">ï¼ˆ4ï¼‰é»˜è®¤ç»‘å®š <a class="header-anchor" href="#_4-é»˜è®¤ç»‘å®š" aria-label="Permalink to &quot;ï¼ˆ4ï¼‰é»˜è®¤ç»‘å®š&quot;">â€‹</a></h3><ul><li><strong>é»˜è®¤ç»‘å®š</strong>ï¼šæ²¡æœ‰å…¶ä»–ä¿®é¥°ï¼ˆ <code>bind</code> ã€ <code>apply</code> ã€ <code>call</code> ï¼‰ï¼Œåœ¨<u>éä¸¥æ ¼æ¨¡å¼ä¸‹</u>å®šä¹‰æŒ‡å‘<strong>å…¨å±€å¯¹è±¡</strong>ï¼Œåœ¨<u>ä¸¥æ ¼æ¨¡å¼ä¸‹</u>å®šä¹‰æŒ‡å‘ <code>undefined</code> ã€‚<strong>å…·ä½“å®ç°ä»£ç å¦‚ä¸‹ï¼š</strong></li></ul><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">foo</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">this.</span><span style="color:#A6ACCD;">a</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#C792EA;">var</span><span style="color:#A6ACCD;"> a </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">2</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#82AAFF;">foo</span><span style="color:#A6ACCD;">()</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;">//undefined</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h2 id="_3ã€å¦‚æœä¸€ä¸ªæ„é€ å‡½æ•°-bind-äº†ä¸€ä¸ªå¯¹è±¡-ç”¨è¿™ä¸ªæ„é€ å‡½æ•°åˆ›å»ºå‡ºçš„å®ä¾‹ä¼šç»§æ‰¿è¿™ä¸ªå¯¹è±¡çš„å±æ€§å—-ä¸ºä»€ä¹ˆ" tabindex="-1">3ã€å¦‚æœä¸€ä¸ªæ„é€ å‡½æ•°ï¼Œbind äº†ä¸€ä¸ªå¯¹è±¡ï¼Œç”¨è¿™ä¸ªæ„é€ å‡½æ•°åˆ›å»ºå‡ºçš„å®ä¾‹ä¼šç»§æ‰¿è¿™ä¸ªå¯¹è±¡çš„å±æ€§å—ï¼Ÿä¸ºä»€ä¹ˆï¼Ÿ <a class="header-anchor" href="#_3ã€å¦‚æœä¸€ä¸ªæ„é€ å‡½æ•°-bind-äº†ä¸€ä¸ªå¯¹è±¡-ç”¨è¿™ä¸ªæ„é€ å‡½æ•°åˆ›å»ºå‡ºçš„å®ä¾‹ä¼šç»§æ‰¿è¿™ä¸ªå¯¹è±¡çš„å±æ€§å—-ä¸ºä»€ä¹ˆ" aria-label="Permalink to &quot;3ã€å¦‚æœä¸€ä¸ªæ„é€ å‡½æ•°ï¼Œbind äº†ä¸€ä¸ªå¯¹è±¡ï¼Œç”¨è¿™ä¸ªæ„é€ å‡½æ•°åˆ›å»ºå‡ºçš„å®ä¾‹ä¼šç»§æ‰¿è¿™ä¸ªå¯¹è±¡çš„å±æ€§å—ï¼Ÿä¸ºä»€ä¹ˆï¼Ÿ&quot;">â€‹</a></h2><blockquote><p>ä¸ä¼šç»§æ‰¿ï¼Œå› ä¸ºæ ¹æ® <code>this</code> ç»‘å®šå››å¤§è§„åˆ™ï¼Œ<code>new</code> ç»‘å®šçš„ä¼˜å…ˆçº§é«˜äº <code>bind</code> æ˜¾ç¤ºç»‘å®šï¼Œé€šè¿‡ <code>new</code> è¿›è¡Œæ„é€ å‡½æ•°è°ƒç”¨æ—¶ï¼Œä¼šåˆ›å»ºä¸€ä¸ªæ–°å¯¹è±¡ï¼Œè¿™ä¸ªæ–°å¯¹è±¡ä¼šä»£æ›¿ <code>bind</code> çš„å¯¹è±¡ç»‘å®šï¼Œä½œä¸ºæ­¤å‡½æ•°çš„ <code>this</code>ï¼Œå¹¶ä¸”åœ¨æ­¤å‡½æ•°æ²¡æœ‰è¿”å›å¯¹è±¡çš„æƒ…å†µä¸‹ï¼Œè¿”å›è¿™ä¸ªæ–°å»ºçš„å¯¹è±¡ã€‚</p></blockquote><h2 id="_4ã€ç®­å¤´å‡½æ•°å’Œæ™®é€šå‡½æ•°æœ‰å•¥åŒºåˆ«-ç®­å¤´å‡½æ•°èƒ½å½“æ„é€ å‡½æ•°å—" tabindex="-1">4ã€ç®­å¤´å‡½æ•°å’Œæ™®é€šå‡½æ•°æœ‰å•¥åŒºåˆ«ï¼Ÿç®­å¤´å‡½æ•°èƒ½å½“æ„é€ å‡½æ•°å—ï¼Ÿ <a class="header-anchor" href="#_4ã€ç®­å¤´å‡½æ•°å’Œæ™®é€šå‡½æ•°æœ‰å•¥åŒºåˆ«-ç®­å¤´å‡½æ•°èƒ½å½“æ„é€ å‡½æ•°å—" aria-label="Permalink to &quot;4ã€ç®­å¤´å‡½æ•°å’Œæ™®é€šå‡½æ•°æœ‰å•¥åŒºåˆ«ï¼Ÿç®­å¤´å‡½æ•°èƒ½å½“æ„é€ å‡½æ•°å—ï¼Ÿ&quot;">â€‹</a></h2><h3 id="_1-ç®­å¤´å‡½æ•°å’Œæ™®é€šå‡½æ•°å®šä¹‰" tabindex="-1">ï¼ˆ1ï¼‰ç®­å¤´å‡½æ•°å’Œæ™®é€šå‡½æ•°å®šä¹‰ <a class="header-anchor" href="#_1-ç®­å¤´å‡½æ•°å’Œæ™®é€šå‡½æ•°å®šä¹‰" aria-label="Permalink to &quot;ï¼ˆ1ï¼‰ç®­å¤´å‡½æ•°å’Œæ™®é€šå‡½æ•°å®šä¹‰&quot;">â€‹</a></h3><p><strong>æ™®é€šå‡½æ•°</strong>é€šè¿‡ <code>function</code> å…³é”®å­—å®šä¹‰ï¼Œ <code>this</code> æ— æ³•ç»“åˆ<strong>è¯æ³•ä½œç”¨åŸŸ</strong>ä½¿ç”¨ï¼Œåœ¨è¿è¡Œæ—¶ç»‘å®šï¼Œåªå–å†³äºå‡½æ•°çš„è°ƒç”¨æ–¹å¼ï¼Œåœ¨å“ªé‡Œè¢«è°ƒç”¨ï¼Œè°ƒç”¨ä½ç½®ã€‚ï¼ˆå–å†³äºè°ƒç”¨è€…ï¼Œå’Œæ˜¯å¦ç‹¬ç«‹è¿è¡Œï¼‰ã€‚</p><p>ç®­å¤´å‡½æ•°ä½¿ç”¨è¢«ç§°ä¸º<strong>èƒ–ç®­å¤´</strong>çš„æ“ä½œ <code>=&gt;</code> æ¥å®šä¹‰ï¼Œç®­å¤´å‡½æ•°ä¸åº”ç”¨æ™®é€šå‡½æ•° <code>this</code> ç»‘å®šçš„å››ç§è§„åˆ™ï¼Œè€Œæ˜¯æ ¹æ®å¤–å±‚ï¼ˆå‡½æ•°æˆ–å…¨å±€ï¼‰çš„ä½œç”¨åŸŸæ¥å†³å®š <code>this</code> ï¼Œä¸”<strong>ç®­å¤´å‡½æ•°çš„ç»‘å®šæ— æ³•è¢«ä¿®æ”¹</strong>ï¼ˆ <code>new</code> ä¹Ÿä¸è¡Œï¼‰ã€‚</p><h3 id="_2-ç®­å¤´å‡½æ•°å’Œæ™®é€šå‡½æ•°çš„åŒºåˆ«" tabindex="-1">ï¼ˆ2ï¼‰ç®­å¤´å‡½æ•°å’Œæ™®é€šå‡½æ•°çš„åŒºåˆ« <a class="header-anchor" href="#_2-ç®­å¤´å‡½æ•°å’Œæ™®é€šå‡½æ•°çš„åŒºåˆ«" aria-label="Permalink to &quot;ï¼ˆ2ï¼‰ç®­å¤´å‡½æ•°å’Œæ™®é€šå‡½æ•°çš„åŒºåˆ«&quot;">â€‹</a></h3><ul><li>ç®­å¤´å‡½æ•°å¸¸ç”¨äº<strong>å›è°ƒå‡½æ•°</strong>ä¸­ï¼ŒåŒ…æ‹¬<strong>äº‹ä»¶å¤„ç†å™¨</strong>æˆ–<strong>å®šæ—¶å™¨</strong>ã€‚</li><li>ç®­å¤´å‡½æ•°å’Œ <code>var self = this</code> ï¼Œéƒ½è¯•å›¾å–ä»£ä¼ ç»Ÿçš„ <code>this</code> è¿è¡Œæœºåˆ¶ï¼Œå°† <code>this</code> çš„ç»‘å®šæ‹‰å›åˆ°<strong>è¯æ³•ä½œç”¨åŸŸ</strong>ã€‚</li><li>æ²¡æœ‰åŸå‹ã€æ²¡æœ‰ <code>this</code> ã€æ²¡æœ‰ <code>super</code>ï¼Œæ²¡æœ‰ <code>arguments</code> ï¼Œæ²¡æœ‰ <code>new.target</code> ã€‚</li><li>ä¸èƒ½é€šè¿‡ <code>new</code> å…³é”®å­—è°ƒç”¨ã€‚ <ul><li>ä¸€ä¸ªå‡½æ•°å†…éƒ¨æœ‰ä¸¤ä¸ªæ–¹æ³•ï¼š<code>[[Call]]</code> å’Œ <code>[[Construct]]</code>ï¼Œåœ¨é€šè¿‡ <code>new</code> è¿›è¡Œå‡½æ•°è°ƒç”¨æ—¶ï¼Œä¼šæ‰§è¡Œ <code>[[construct]]</code> æ–¹æ³•ï¼Œåˆ›å»ºä¸€ä¸ªå®ä¾‹å¯¹è±¡ï¼Œç„¶åå†æ‰§è¡Œè¿™ä¸ªå‡½æ•°ä½“ï¼Œå°†å‡½æ•°çš„ <code>this</code> ç»‘å®šåœ¨è¿™ä¸ªå®ä¾‹å¯¹è±¡ä¸Šã€‚</li><li>å½“ç›´æ¥è°ƒç”¨æ—¶ï¼Œæ‰§è¡Œ <code>[[Call]]</code> æ–¹æ³•ï¼Œç›´æ¥æ‰§è¡Œ<strong>å‡½æ•°ä½“</strong>ã€‚</li><li>ç®­å¤´å‡½æ•°æ²¡æœ‰ <code>[[Construct]]</code> æ–¹æ³•ï¼Œ<strong>ä¸èƒ½è¢«ç”¨ä½œæ„é€ å‡½æ•°è°ƒç”¨</strong>ï¼Œå½“ä½¿ç”¨ <code>new</code> è¿›è¡Œå‡½æ•°è°ƒç”¨æ—¶ä¼šæŠ¥é”™ã€‚</li></ul></li></ul><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">foo</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">a</span><span style="color:#89DDFF;">)</span><span style="color:#F07178;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">this.</span><span style="color:#A6ACCD;">a</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">};</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">let</span><span style="color:#A6ACCD;"> obj1 </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">a</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">2</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#89DDFF;">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">let</span><span style="color:#A6ACCD;"> obj2 </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">a</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">3</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#89DDFF;">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">let</span><span style="color:#A6ACCD;"> bar1 </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> foo</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">call</span><span style="color:#A6ACCD;">(obj1)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#C792EA;">let</span><span style="color:#A6ACCD;"> bar2 </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> bar1</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">call</span><span style="color:#A6ACCD;">(obj2)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#A6ACCD;">(bar1)</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;">// object</span></span>
<span class="line"><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#A6ACCD;">(bar2)</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;">// 2 undefind</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><h2 id="_5ã€äº†è§£-this-å˜›-apply-call-bind-å…·ä½“æŒ‡ä»€ä¹ˆ" tabindex="-1">5ã€äº†è§£ this å˜›ï¼Œapplyï¼Œcallï¼Œbind å…·ä½“æŒ‡ä»€ä¹ˆï¼Ÿ <a class="header-anchor" href="#_5ã€äº†è§£-this-å˜›-apply-call-bind-å…·ä½“æŒ‡ä»€ä¹ˆ" aria-label="Permalink to &quot;5ã€äº†è§£ this å˜›ï¼Œapplyï¼Œcallï¼Œbind å…·ä½“æŒ‡ä»€ä¹ˆï¼Ÿ&quot;">â€‹</a></h2><h3 id="_1-ä¸‰è€…çš„åŒºåˆ«" tabindex="-1">ï¼ˆ1ï¼‰ä¸‰è€…çš„åŒºåˆ« <a class="header-anchor" href="#_1-ä¸‰è€…çš„åŒºåˆ«" aria-label="Permalink to &quot;ï¼ˆ1ï¼‰ä¸‰è€…çš„åŒºåˆ«&quot;">â€‹</a></h3><ul><li><code>apply</code> ã€<code>call</code> ã€<code>bind</code> ä¸‰è€…éƒ½æ˜¯å‡½æ•°çš„æ–¹æ³•ï¼Œéƒ½å¯ä»¥æ”¹å˜å‡½æ•°çš„ <code>this</code> æŒ‡å‘ã€‚</li><li><code>apply</code> å’Œ <code>call</code> éƒ½æ˜¯æ”¹å˜å‡½æ•° <code>this</code> æŒ‡å‘ï¼Œå¹¶åœ¨<strong>ä¼ å…¥å‚æ•°</strong>åç«‹å³è°ƒç”¨æ‰§è¡Œè¯¥å‡½æ•°ã€‚</li><li><code>bind</code> æ˜¯åœ¨æ”¹å˜å‡½æ•° <code>this</code> æŒ‡å‘åï¼Œå¹¶ä¼ å…¥å‚æ•°åè¿”å›ä¸€ä¸ªæ–°çš„å‡½æ•°ï¼Œä¸ä¼šç«‹å³è°ƒç”¨æ‰§è¡Œã€‚</li></ul><h3 id="_2-ä¼ å‚æ–¹å¼" tabindex="-1">ï¼ˆ2ï¼‰ä¼ å‚æ–¹å¼ <a class="header-anchor" href="#_2-ä¼ å‚æ–¹å¼" aria-label="Permalink to &quot;ï¼ˆ2ï¼‰ä¼ å‚æ–¹å¼&quot;">â€‹</a></h3><p><code>apply</code> ä¼ å…¥çš„å‚æ•°æ˜¯<strong>æ•°ç»„</strong>å½¢å¼çš„ï¼Œ<code>call</code> ä¼ å…¥çš„å‚æ•°æ˜¯<strong>æŒ‰é¡ºåºçš„é€ä¸ªä¼ å…¥å¹¶ä»¥é€—å·éš”å¼€</strong>ï¼Œ <code>bind</code> ä¼ å…¥çš„å‚æ•°æ—¢å¯ä»¥æ˜¯<strong>æ•°ç»„</strong>å½¢å¼ï¼Œä¹Ÿå¯ä»¥æ˜¯<strong>æŒ‰é¡ºåºé€ä¸ªä¼ å…¥</strong>ã€‚<strong>å…·ä½“æ–¹å¼è§ä¸‹æ–¹ï¼š</strong></p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">apply</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#FFCB6B;">Array</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">prototype</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">apply</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">this,</span><span style="color:#A6ACCD;"> [args1</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> args2])</span></span>
<span class="line"><span style="color:#A6ACCD;">ES6 ä¹‹å‰ç”¨æ¥å±•å¼€æ•°ç»„è°ƒç”¨</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;">  foo</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">apply</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">null,</span><span style="color:#A6ACCD;"> []) ï¼Œ ES6 ä¹‹åä½¿ç”¨ </span><span style="color:#89DDFF;">...</span><span style="color:#A6ACCD;"> æ“ä½œç¬¦ï¼›</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FFCB6B;">call</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#FFCB6B;">Array</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">prototype</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">call</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">this,</span><span style="color:#A6ACCD;"> args1</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> args2)ã€‚</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FFCB6B;">bind</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#FFCB6B;">Array</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">prototype</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">bind</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">this,</span><span style="color:#A6ACCD;"> args1</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> args2)ï¼›</span></span>
<span class="line"><span style="color:#FFCB6B;">Array</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">prototype</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">bind</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">this,</span><span style="color:#A6ACCD;"> [args1</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> args2])ã€‚</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><h3 id="_3-æ‰‹å†™-applyã€callã€bind" tabindex="-1">ï¼ˆ3ï¼‰æ‰‹å†™ applyã€callã€bind <a class="header-anchor" href="#_3-æ‰‹å†™-applyã€callã€bind" aria-label="Permalink to &quot;ï¼ˆ3ï¼‰æ‰‹å†™ applyã€callã€bind&quot;">â€‹</a></h3><p><strong>applyï¼š</strong></p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;">// å®ç°applyå‡½æ•°ï¼Œåœ¨å‡½æ•°åŸå‹ä¸Šå°è£…myApplyå‡½æ•° , å®ç°å’ŒåŸç”Ÿapplyå‡½æ•°ä¸€æ ·çš„æ•ˆæœ</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FFCB6B;">Function</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">prototype</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">myApply</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">context</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#676E95;font-style:italic;">// å­˜å‚¨è¦è½¬ç§»çš„ç›®æ ‡å¯¹è±¡</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#A6ACCD;">_this</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">context</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">?</span><span style="color:#F07178;"> </span><span style="color:#82AAFF;">Object</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">context</span><span style="color:#F07178;">) </span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">window</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#676E95;font-style:italic;">// åœ¨è½¬ç§»thisçš„å¯¹è±¡ä¸Šè®¾å®šä¸€ä¸ªç‹¬ä¸€æ— äºŒçš„å±æ€§ï¼Œå¹¶å°†å‡½æ•°èµ‹å€¼ç»™å®ƒ</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#C792EA;">let</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">key</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#82AAFF;">Symbol</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">key</span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#A6ACCD;">_this</span><span style="color:#F07178;">[</span><span style="color:#A6ACCD;">key</span><span style="color:#F07178;">] </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">this;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#676E95;font-style:italic;">// å°†æ•°ç»„é‡Œå­˜å‚¨çš„å‚æ•°æ‹†åˆ†å¼€ï¼Œä½œä¸ºå‚æ•°è°ƒç”¨å‡½æ•°</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#C792EA;">let</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">res</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">arguments</span><span style="color:#F07178;">[</span><span style="color:#F78C6C;">1</span><span style="color:#F07178;">] </span><span style="color:#89DDFF;">?</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">_this</span><span style="color:#F07178;">[</span><span style="color:#A6ACCD;">key</span><span style="color:#F07178;">](</span><span style="color:#89DDFF;">...</span><span style="color:#A6ACCD;">arguments</span><span style="color:#F07178;">[</span><span style="color:#F78C6C;">1</span><span style="color:#F07178;">]) </span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">_this</span><span style="color:#F07178;">[</span><span style="color:#A6ACCD;">key</span><span style="color:#F07178;">]()</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#676E95;font-style:italic;">// åˆ é™¤</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">delete</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">_this</span><span style="color:#F07178;">[</span><span style="color:#A6ACCD;">key</span><span style="color:#F07178;">]</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#676E95;font-style:italic;">// è¿”å›å‡½æ•°è¿”å›å€¼</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">res</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// æµ‹è¯•ä»£ç </span></span>
<span class="line"><span style="color:#C792EA;">let</span><span style="color:#A6ACCD;"> obj </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">name</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">å¼ ä¸‰</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#89DDFF;">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">showName</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">first</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">second</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">third</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">first</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">second</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">third</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">this.</span><span style="color:#A6ACCD;">name</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">showName</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">myApply</span><span style="color:#A6ACCD;">(obj</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> [</span><span style="color:#F78C6C;">7</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">8</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">9</span><span style="color:#A6ACCD;">])</span><span style="color:#89DDFF;">;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br></div></div><p><strong>callï¼š</strong></p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;">// å®ç°callå‡½æ•°ï¼Œåœ¨å‡½æ•°åŸå‹ä¸Šå°è£…myCallå‡½æ•° , å®ç°å’ŒåŸç”Ÿcallå‡½æ•°ä¸€æ ·çš„æ•ˆæœ</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FFCB6B;">Function</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">prototype</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">myCall</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">context</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#676E95;font-style:italic;">// å­˜å‚¨è¦è½¬ç§»çš„ç›®æ ‡å¯¹è±¡</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#C792EA;">let</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">_this</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">context</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">?</span><span style="color:#F07178;"> </span><span style="color:#82AAFF;">Object</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">context</span><span style="color:#F07178;">) </span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">window</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#676E95;font-style:italic;">// åœ¨è½¬ç§»thisçš„å¯¹è±¡ä¸Šè®¾å®šä¸€ä¸ªç‹¬ä¸€æ— äºŒçš„å±æ€§ï¼Œå¹¶å°†å‡½æ•°èµ‹å€¼ç»™å®ƒ</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#C792EA;">let</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">key</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#82AAFF;">Symbol</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">key</span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#A6ACCD;">_this</span><span style="color:#F07178;">[</span><span style="color:#A6ACCD;">key</span><span style="color:#F07178;">] </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">this;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#676E95;font-style:italic;">// åˆ›å»ºç©ºæ•°ç»„ï¼Œå­˜å‚¨å¤šä¸ªä¼ å…¥å‚æ•°</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#C792EA;">let</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">args</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> []</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#676E95;font-style:italic;">// å°†æ‰€æœ‰ä¼ å…¥çš„å‚æ•°æ·»åŠ åˆ°æ–°æ•°ç»„ä¸­</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;font-style:italic;">for</span><span style="color:#F07178;"> (</span><span style="color:#C792EA;">let</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">i</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">1</span><span style="color:#89DDFF;">;</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">i</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">arguments</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">length</span><span style="color:#89DDFF;">;</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">i</span><span style="color:#89DDFF;">++</span><span style="color:#F07178;">) </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#A6ACCD;">args</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">push</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">arguments</span><span style="color:#F07178;">[</span><span style="color:#A6ACCD;">i</span><span style="color:#F07178;">])</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#676E95;font-style:italic;">// å°†æ–°æ•°ç»„æ‹†å¼€ä½œä¸ºå¤šä¸ªå‚æ•°ä¼ å…¥ï¼Œå¹¶è°ƒç”¨å‡½æ•°</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#C792EA;">let</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">res</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">_this</span><span style="color:#F07178;">[</span><span style="color:#A6ACCD;">key</span><span style="color:#F07178;">](</span><span style="color:#89DDFF;">...</span><span style="color:#A6ACCD;">args</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#676E95;font-style:italic;">// åˆ é™¤</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">delete</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">_this</span><span style="color:#F07178;">[</span><span style="color:#A6ACCD;">key</span><span style="color:#F07178;">]</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#676E95;font-style:italic;">// è¿”å›å‡½æ•°è¿”å›å€¼</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">res</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">let</span><span style="color:#A6ACCD;"> obj </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">name</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">å¼ ä¸‰</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#89DDFF;">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">showName</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">first</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">second</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">third</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">first</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">second</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">third</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">this.</span><span style="color:#A6ACCD;">name</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">showName</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">myCall</span><span style="color:#A6ACCD;">(obj</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">7</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">8</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">9</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br></div></div><p><strong>bindï¼š</strong></p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;">// å®ç°Bindå‡½æ•°ï¼Œåœ¨å‡½æ•°åŸå‹ä¸Šå°è£…myBindå‡½æ•° , å®ç°å’ŒåŸç”Ÿbindå‡½æ•°ä¸€æ ·çš„æ•ˆæœ</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FFCB6B;">Function</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">prototype</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">myBind</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">context</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#676E95;font-style:italic;">// å­˜å‚¨è¦è½¬ç§»çš„ç›®æ ‡å¯¹è±¡</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#C792EA;">let</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">_this</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">context</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">?</span><span style="color:#F07178;"> </span><span style="color:#82AAFF;">Object</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">context</span><span style="color:#F07178;">) </span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">window</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#676E95;font-style:italic;">// åœ¨è½¬ç§»thisçš„å¯¹è±¡ä¸Šè®¾å®šä¸€ä¸ªç‹¬ä¸€æ— äºŒçš„å±æ€§ï¼Œå¹¶å°†å‡½æ•°èµ‹å€¼ç»™å®ƒ</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#C792EA;">let</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">key</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#82AAFF;">Symbol</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">key</span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#A6ACCD;">_this</span><span style="color:#F07178;">[</span><span style="color:#A6ACCD;">key</span><span style="color:#F07178;">] </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">this;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#676E95;font-style:italic;">// åˆ›å»ºå‡½æ•°é—­åŒ…</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#C792EA;">function</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">()</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">// å°†æ‰€æœ‰å‚æ•°å…ˆæ‹†åˆ†å¼€ï¼Œå†æ·»åŠ åˆ°æ–°æ•°ç»„ä¸­ï¼Œä»¥æ­¤æ¥æ”¯æŒå¤šå‚æ•°ä¼ å…¥ä»¥åŠæ•°ç»„å‚æ•°ä¼ å…¥çš„éœ€æ±‚</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#C792EA;">let</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">args</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> []</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">concat</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">...</span><span style="color:#A6ACCD;">arguments</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">// è°ƒç”¨å‡½æ•°</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#C792EA;">let</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">res</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">_this</span><span style="color:#F07178;">[</span><span style="color:#A6ACCD;">key</span><span style="color:#F07178;">](</span><span style="color:#89DDFF;">...</span><span style="color:#A6ACCD;">args</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">// åˆ é™¤</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">delete</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">_this</span><span style="color:#F07178;">[</span><span style="color:#A6ACCD;">key</span><span style="color:#F07178;">]</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">// è¿”å›å‡½æ•°è¿”å›å€¼</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">res</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">};</span></span>
<span class="line"><span style="color:#89DDFF;">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// æµ‹è¯•ä»£ç </span></span>
<span class="line"><span style="color:#C792EA;">let</span><span style="color:#A6ACCD;"> obj </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">name</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">å¼ ä¸‰</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#89DDFF;">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">showName</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">first</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">second</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">third</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">first</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">second</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">third</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">this.</span><span style="color:#A6ACCD;">name</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">showName</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">myBind</span><span style="color:#A6ACCD;">(obj)([</span><span style="color:#F78C6C;">7</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">8</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">9</span><span style="color:#A6ACCD;">])</span><span style="color:#89DDFF;">;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br></div></div><h1 id="ğŸ˜‹-å…­ã€ajax-é—®é¢˜" tabindex="-1">ğŸ˜‹ å…­ã€Ajax é—®é¢˜ <a class="header-anchor" href="#ğŸ˜‹-å…­ã€ajax-é—®é¢˜" aria-label="Permalink to &quot;ğŸ˜‹ å…­ã€Ajax é—®é¢˜&quot;">â€‹</a></h1><h2 id="_1ã€ajax-åŸç†" tabindex="-1">1ã€Ajax åŸç† <a class="header-anchor" href="#_1ã€ajax-åŸç†" aria-label="Permalink to &quot;1ã€Ajax åŸç†&quot;">â€‹</a></h2><ul><li><code>Ajax</code> çš„åŸç†ç®€å•æ¥è¯´æ˜¯åœ¨<strong>ç”¨æˆ·</strong>å’Œ<strong>æœåŠ¡å™¨</strong>ä¹‹é—´åŠ äº†ä¸€ä¸ª<strong>ä¸­é—´å±‚</strong>ï¼ˆAJAX å¼•æ“ï¼‰ï¼Œé€šè¿‡ <code>XMLHTTPRequest</code> å¯¹è±¡æ¥å‘æœåŠ¡å™¨å‘èµ·å¼‚æ­¥è¯·æ±‚ï¼Œä»æœåŠ¡å™¨è·å¾—æ•°æ®ï¼Œç„¶åç”¨ <code>javascript</code> æ¥æ“ä½œ <code>DOM</code> è€Œæ›´æ–°é¡µé¢ã€‚</li><li>ä½¿ç”¨æˆ·æ“ä½œä¸æœåŠ¡å™¨å“åº”å¼‚æ­¥åŒ–ã€‚è¿™å…¶ä¸­æœ€å…³é”®çš„ä¸€æ­¥å°±æ˜¯<strong>ä»æœåŠ¡å™¨è·å¾—è¯·æ±‚æ•°æ®</strong>ã€‚</li><li><code>Ajax</code> çš„è¿‡ç¨‹åªæ¶‰åŠ <code>Javascript</code> ã€<code>XMLHttpRequest</code> å’Œ <code>DOM</code> ï¼Œå…¶ä¸­ <code>XMLHttpRequest</code> æ˜¯ <code>ajax</code> çš„æ ¸å¿ƒæœºåˆ¶ã€‚</li></ul><h2 id="_2ã€ajax-è§£å†³æµè§ˆå™¨ç¼“å­˜é—®é¢˜" tabindex="-1">2ã€Ajax è§£å†³æµè§ˆå™¨ç¼“å­˜é—®é¢˜ <a class="header-anchor" href="#_2ã€ajax-è§£å†³æµè§ˆå™¨ç¼“å­˜é—®é¢˜" aria-label="Permalink to &quot;2ã€Ajax è§£å†³æµè§ˆå™¨ç¼“å­˜é—®é¢˜&quot;">â€‹</a></h2><ul><li>åœ¨ <code>ajax</code> å‘é€è¯·æ±‚å‰åŠ ä¸Š <code>anyAjaxObj.setRequestHeader(&quot;If-Modified-Since&quot;,&quot;0&quot;)</code> ã€‚</li><li>åœ¨ <code>ajax</code> å‘é€è¯·æ±‚å‰åŠ ä¸Š <code>anyAjaxObj.setRequestHeader(&quot;Cache-Control&quot;,&quot;no-cache&quot;)</code> ã€‚</li><li>åœ¨ <code>URL</code> åé¢åŠ ä¸Šä¸€ä¸ªéšæœºæ•°ï¼š <code>&quot;fresh=&quot; + Math.random()</code> ã€‚</li><li>åœ¨ <code>URL</code> åé¢åŠ ä¸Šæ—¶é—´æ“ï¼š<code>&quot;nowtime=&quot; + new Date().getTime()</code> ã€‚</li></ul><h2 id="_3ã€js-å•çº¿ç¨‹" tabindex="-1">3ã€js å•çº¿ç¨‹ <a class="header-anchor" href="#_3ã€js-å•çº¿ç¨‹" aria-label="Permalink to &quot;3ã€js å•çº¿ç¨‹&quot;">â€‹</a></h2><ul><li><p><strong>å•çº¿ç¨‹</strong>ï¼šåªæœ‰ä¸€ä¸ªçº¿ç¨‹ï¼Œåªèƒ½åšä¸€ä»¶äº‹æƒ…ã€‚</p></li><li><p><strong>åŸå› </strong>ï¼šé¿å… <code>DOM</code> æ¸²æŸ“çš„å†²çªã€‚</p><ul><li>æµè§ˆå™¨éœ€è¦æ¸²æŸ“ <code>DOM</code> ï¼›</li><li><code>JS</code> å¯ä»¥ä¿®æ”¹ <code>DOM</code> ç»“æ„ï¼›</li><li><code>JS</code> æ‰§è¡Œçš„æ—¶å€™ï¼Œæµè§ˆå™¨ <code>DOM</code> æ¸²æŸ“ä¼šæš‚åœï¼›</li><li>ä¸¤æ®µ <code>JS</code> ä¹Ÿä¸èƒ½åŒæ—¶æ‰§è¡Œï¼ˆéƒ½ä¿®æ”¹ <code>DOM</code> å°±å†²çªäº†ï¼‰ï¼›</li><li><code>Webworker</code> æ”¯æŒå¤šçº¿ç¨‹ï¼Œä½†æ˜¯ä¸èƒ½è®¿é—® <code>DOM</code>ã€‚</li></ul></li><li><p><strong>è§£å†³æ–¹æ¡ˆ</strong>ï¼šå¼‚æ­¥ã€‚</p></li></ul><h2 id="_4ã€å¼‚æ­¥ç¼–ç¨‹çš„å®ç°æ–¹å¼" tabindex="-1">4ã€å¼‚æ­¥ç¼–ç¨‹çš„å®ç°æ–¹å¼ <a class="header-anchor" href="#_4ã€å¼‚æ­¥ç¼–ç¨‹çš„å®ç°æ–¹å¼" aria-label="Permalink to &quot;4ã€å¼‚æ­¥ç¼–ç¨‹çš„å®ç°æ–¹å¼&quot;">â€‹</a></h2><h3 id="_1-å›è°ƒå‡½æ•°" tabindex="-1">ï¼ˆ1ï¼‰å›è°ƒå‡½æ•° <a class="header-anchor" href="#_1-å›è°ƒå‡½æ•°" aria-label="Permalink to &quot;ï¼ˆ1ï¼‰å›è°ƒå‡½æ•°&quot;">â€‹</a></h3><ul><li>ä¼˜ç‚¹ï¼šç®€å•ã€å®¹æ˜“ç†è§£</li><li>ç¼ºç‚¹ï¼šä¸åˆ©äºç»´æŠ¤ï¼Œä»£ç è€¦åˆé«˜</li></ul><h3 id="_2-äº‹ä»¶ç›‘å¬-é‡‡ç”¨æ—¶é—´é©±åŠ¨æ¨¡å¼-å–å†³äºæŸä¸ªäº‹ä»¶æ˜¯å¦å‘ç”Ÿ" tabindex="-1">ï¼ˆ2ï¼‰äº‹ä»¶ç›‘å¬ï¼ˆé‡‡ç”¨æ—¶é—´é©±åŠ¨æ¨¡å¼ï¼Œå–å†³äºæŸä¸ªäº‹ä»¶æ˜¯å¦å‘ç”Ÿï¼‰ <a class="header-anchor" href="#_2-äº‹ä»¶ç›‘å¬-é‡‡ç”¨æ—¶é—´é©±åŠ¨æ¨¡å¼-å–å†³äºæŸä¸ªäº‹ä»¶æ˜¯å¦å‘ç”Ÿ" aria-label="Permalink to &quot;ï¼ˆ2ï¼‰äº‹ä»¶ç›‘å¬ï¼ˆé‡‡ç”¨æ—¶é—´é©±åŠ¨æ¨¡å¼ï¼Œå–å†³äºæŸä¸ªäº‹ä»¶æ˜¯å¦å‘ç”Ÿï¼‰&quot;">â€‹</a></h3><ul><li>ä¼˜ç‚¹ï¼šå®¹æ˜“ç†è§£ï¼Œå¯ä»¥ç»‘å®šå¤šä¸ªäº‹ä»¶ï¼Œæ¯ä¸ªäº‹ä»¶å¯ä»¥æŒ‡å®šå¤šä¸ªå›è°ƒå‡½æ•°</li><li>ç¼ºç‚¹ï¼š<strong>äº‹ä»¶é©±åŠ¨å‹</strong>ï¼Œæµç¨‹ä¸å¤Ÿæ¸…æ™°</li></ul><h3 id="_3-å‘å¸ƒ-è®¢é˜…-è§‚å¯Ÿè€…æ¨¡å¼" tabindex="-1">ï¼ˆ3ï¼‰å‘å¸ƒ/è®¢é˜…(è§‚å¯Ÿè€…æ¨¡å¼) <a class="header-anchor" href="#_3-å‘å¸ƒ-è®¢é˜…-è§‚å¯Ÿè€…æ¨¡å¼" aria-label="Permalink to &quot;ï¼ˆ3ï¼‰å‘å¸ƒ/è®¢é˜…(è§‚å¯Ÿè€…æ¨¡å¼)&quot;">â€‹</a></h3><ul><li>ç±»ä¼¼äºäº‹ä»¶ç›‘å¬ï¼Œä½†æ˜¯å¯ä»¥é€šè¿‡â€œ<strong>æ¶ˆæ¯ä¸­å¿ƒ</strong>â€ï¼Œäº†è§£ç°åœ¨æœ‰å¤šå°‘å‘å¸ƒè€…ï¼Œå¤šå°‘è®¢é˜…è€…</li></ul><h3 id="_4-promise-å¯¹è±¡" tabindex="-1">ï¼ˆ4ï¼‰Promise å¯¹è±¡ <a class="header-anchor" href="#_4-promise-å¯¹è±¡" aria-label="Permalink to &quot;ï¼ˆ4ï¼‰Promise å¯¹è±¡&quot;">â€‹</a></h3><ul><li>ä¼˜ç‚¹ï¼šå¯ä»¥åˆ©ç”¨ <code>then</code> æ–¹æ³•ï¼Œè¿›è¡Œ<strong>é“¾å¼å†™æ³•</strong>ï¼›å¯ä»¥ä¹¦å†™é”™è¯¯æ—¶çš„<strong>å›è°ƒå‡½æ•°</strong>ï¼›</li><li>ç¼ºç‚¹ï¼šç¼–å†™å’Œç†è§£ï¼Œç›¸å¯¹æ¯”è¾ƒéš¾</li></ul><h3 id="_5-generator-å‡½æ•°" tabindex="-1">ï¼ˆ5ï¼‰Generator å‡½æ•° <a class="header-anchor" href="#_5-generator-å‡½æ•°" aria-label="Permalink to &quot;ï¼ˆ5ï¼‰Generator å‡½æ•°&quot;">â€‹</a></h3><ul><li>ä¼˜ç‚¹ï¼šå‡½æ•°ä½“å†…å¤–çš„<strong>æ•°æ®äº¤æ¢</strong>ã€<strong>é”™è¯¯å¤„ç†æœºåˆ¶</strong></li><li>ç¼ºç‚¹ï¼š<strong>æµç¨‹ç®¡ç†</strong>ä¸æ–¹ä¾¿</li></ul><h3 id="_6-async-å‡½æ•°" tabindex="-1">ï¼ˆ6ï¼‰async å‡½æ•° <a class="header-anchor" href="#_6-async-å‡½æ•°" aria-label="Permalink to &quot;ï¼ˆ6ï¼‰async å‡½æ•°&quot;">â€‹</a></h3><ul><li>ä¼˜ç‚¹ï¼šå†…ç½®æ‰§è¡Œå™¨ã€æ›´å¥½çš„è¯­ä¹‰ã€æ›´å¹¿çš„é€‚ç”¨æ€§ã€è¿”å›çš„æ˜¯ <code>Promise</code> ã€ç»“æ„æ¸…æ™°ã€‚</li><li>ç¼ºç‚¹ï¼šé”™è¯¯å¤„ç†æœºåˆ¶</li></ul><h2 id="_5ã€js-è„šæœ¬åŠ è½½é—®é¢˜-asyncã€defer-é—®é¢˜" tabindex="-1">5ã€js è„šæœ¬åŠ è½½é—®é¢˜ï¼Œasyncã€defer é—®é¢˜ <a class="header-anchor" href="#_5ã€js-è„šæœ¬åŠ è½½é—®é¢˜-asyncã€defer-é—®é¢˜" aria-label="Permalink to &quot;5ã€js è„šæœ¬åŠ è½½é—®é¢˜ï¼Œasyncã€defer é—®é¢˜&quot;">â€‹</a></h2><ul><li>å¦‚æœä¾èµ–å…¶ä»–è„šæœ¬å’Œ <code>DOM</code> ç»“æœï¼Œä½¿ç”¨ <code>defer</code>ã€‚</li><li>å¦‚æœä¸ <code>DOM</code> å’Œå…¶ä»–è„šæœ¬ä¾èµ–ä¸å¼ºæ—¶ï¼Œä½¿ç”¨ <code>async</code>ã€‚</li><li>æ€»ç»“ï¼šä¾èµ–æ€§å¼ºç”¨ <code>defer</code> ï¼Œä¾èµ–æ€§ä¸å¼ºç”¨ <code>async</code> ã€‚</li></ul><h2 id="_6ã€å…³äº-window-onload-å’Œ-domcontentloaded" tabindex="-1">6ã€å…³äº window.onload å’Œ DOMContentLoaded <a class="header-anchor" href="#_6ã€å…³äº-window-onload-å’Œ-domcontentloaded" aria-label="Permalink to &quot;6ã€å…³äº window.onload å’Œ DOMContentLoaded&quot;">â€‹</a></h2><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">window</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">addEventListener</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">load</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#676E95;font-style:italic;">//é¡µé¢çš„å…¨éƒ¨èµ„æºåŠ è½½å®Œæ‰ä¼šæ‰§è¡Œï¼ŒåŒ…æ‹¬å›¾ç‰‡ã€è§†é¢‘ç­‰</span></span>
<span class="line"><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">document</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">addEventListener</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">DOMContentLoaded</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#676E95;font-style:italic;">//DOM æ¸²æŸ“å®Œå³å¯æ‰§è¡Œï¼Œæ­¤æ—¶å›¾ç‰‡ã€è§†é¢‘è¿˜å¯èƒ½æ²¡åŠ è½½å®Œ -&gt; å°½é‡é€‰æ‹©æ­¤æ–¹æ³•</span></span>
<span class="line"><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><blockquote><ul><li><p>å…³äº DOM å’Œ BOM æ“ä½œçš„è¡¥å…… ğŸ‘‡</p></li><li><p>åŸæ–‡ï¼š<a href="https://juejin.cn/post/6971567246174846989" target="_blank" rel="noreferrer">æå‡å¯¹å‰ç«¯çš„è®¤çŸ¥ï¼Œä¸å¾—ä¸äº†è§£ Web API çš„ DOM å’Œ BOM</a></p></li><li><p>é“¾æ¥ï¼š<a href="https://juejin.cn/post/6971567246174846989" target="_blank" rel="noreferrer">https://juejin.cn/post/6971567246174846989</a></p></li></ul></blockquote><h2 id="_7ã€ajaxã€axiosã€fetch-åŒºåˆ«" tabindex="-1">7ã€ajaxã€axiosã€fetch åŒºåˆ« <a class="header-anchor" href="#_7ã€ajaxã€axiosã€fetch-åŒºåˆ«" aria-label="Permalink to &quot;7ã€ajaxã€axiosã€fetch åŒºåˆ«&quot;">â€‹</a></h2><h3 id="_1-ajax" tabindex="-1">ï¼ˆ1ï¼‰ajax <a class="header-anchor" href="#_1-ajax" aria-label="Permalink to &quot;ï¼ˆ1ï¼‰ajax&quot;">â€‹</a></h3><ul><li>æœ¬èº«æ˜¯é’ˆå¯¹ <code>MVC</code> çš„ç¼–ç¨‹,ä¸ç¬¦åˆç°åœ¨å‰ç«¯ <code>MVVM</code> çš„æµªæ½®ã€‚</li><li>åŸºäºåŸç”Ÿçš„ <code>XHR</code> å¼€å‘ï¼Œ <code>XHR</code> æœ¬èº«çš„æ¶æ„ä¸æ¸…æ™°ï¼Œå·²ç»æœ‰äº† <code>fetch</code> çš„æ›¿ä»£æ–¹æ¡ˆã€‚</li><li><code>JQuery</code> æ•´ä¸ªé¡¹ç›®å¤ªå¤§ï¼Œå•çº¯ä½¿ç”¨ <code>ajax</code> å´è¦å¼•å…¥æ•´ä¸ª <code>JQuery</code> éå¸¸çš„ä¸åˆç†ï¼ˆé‡‡å–ä¸ªæ€§åŒ–æ‰“åŒ…çš„æ–¹æ¡ˆåˆä¸èƒ½äº«å— <code>CDN</code> æœåŠ¡ï¼‰ã€‚</li></ul><h3 id="_2-axios" tabindex="-1">ï¼ˆ2ï¼‰axios <a class="header-anchor" href="#_2-axios" aria-label="Permalink to &quot;ï¼ˆ2ï¼‰axios&quot;">â€‹</a></h3><ul><li>ä»æµè§ˆå™¨ä¸­åˆ›å»º <code>XMLHttpRequest</code>ã€‚</li><li>ä» <code>node.js</code> å‘å‡º <code>http</code> è¯·æ±‚ã€‚</li><li>æ”¯æŒ <code>Promise API</code> ã€‚</li><li>æ‹¦æˆªè¯·æ±‚å’Œå“åº”ã€‚</li><li>è½¬æ¢è¯·æ±‚å’Œå“åº”æ•°æ®ã€‚</li><li>å–æ¶ˆè¯·æ±‚ã€‚</li><li>è‡ªåŠ¨è½¬æ¢ <code>JSON</code> æ•°æ®ã€‚</li><li>å®¢æˆ·ç«¯æ”¯æŒé˜²æ­¢ <code>CSRF/XSRF</code>ã€‚</li></ul><h3 id="_3-fetch" tabindex="-1">ï¼ˆ3ï¼‰fetch <a class="header-anchor" href="#_3-fetch" aria-label="Permalink to &quot;ï¼ˆ3ï¼‰fetch&quot;">â€‹</a></h3><ul><li><code>fetch</code> è¿”å›çš„ <code>promise</code> ä¸ä¼šè¢«æ ‡è®°ä¸º <code>reject</code> ï¼Œå³ä½¿è¯¥ <code>http</code> å“åº”çš„çŠ¶æ€ç æ˜¯ <code>404</code> æˆ– <code>500</code> ã€‚ä»…å½“ç½‘ç»œæ•…éšœæˆ–è¯·æ±‚è¢«é˜»æ­¢æ—¶ï¼Œæ‰ä¼šæ ‡è®°ä¸º <code>reject</code> ã€‚</li><li>åªå¯¹ç½‘ç»œè¯·æ±‚æŠ¥é”™ï¼Œå¯¹ <code>400</code> ï¼Œ <code>500</code> éƒ½å½“åšæˆåŠŸçš„è¯·æ±‚ï¼Œéœ€è¦å°è£…å»å¤„ç†ã€‚</li><li>è¿™é‡Œå¯¹äº <code>cookie</code> çš„å¤„ç†æ¯”è¾ƒç‰¹æ®Šï¼Œä¸åŒæµè§ˆå™¨å¯¹ <code>credentials</code> çš„é»˜è®¤å€¼ä¸ä¸€æ ·ï¼Œä¹Ÿå°±ä½¿å¾—é»˜è®¤æƒ…å†µä¸‹ <code>cookie</code> å˜çš„ä¸å¯æ§ã€‚</li><li>æœ¬èº«æ— è‡ªå¸¦ <code>abort</code> ï¼Œæ— æ³•è¶…æ—¶æ§åˆ¶ï¼Œå¯ä»¥ä½¿ç”¨ <code>AbortController</code> è§£å†³å–æ¶ˆè¯·æ±‚é—®é¢˜ã€‚</li><li>æ²¡æœ‰åŠæ³•åŸç”Ÿç›‘æµ‹è¯·æ±‚çš„è¿›åº¦ï¼Œè€Œ <code>XHR</code> å¯ä»¥ã€‚</li></ul><h2 id="_8ã€æ‰‹å†™é¢˜-æ‰‹å†™-ajax-å‡½æ•°" tabindex="-1">8ã€æ‰‹å†™é¢˜ï¼šæ‰‹å†™ Ajax å‡½æ•° <a class="header-anchor" href="#_8ã€æ‰‹å†™é¢˜-æ‰‹å†™-ajax-å‡½æ•°" aria-label="Permalink to &quot;8ã€æ‰‹å†™é¢˜ï¼šæ‰‹å†™ Ajax å‡½æ•°&quot;">â€‹</a></h2><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;">/*</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">	1. get()æ–¹æ³•</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">	   å‚æ•°ï¼šurlï¼ˆè¯·æ±‚çš„åœ°å€ï¼‰ã€dataï¼ˆæºå¸¦æ•°æ®ï¼‰ã€callbackï¼ˆæˆåŠŸå›è°ƒå‡½æ•°ï¼‰ã€dataTypeï¼ˆè¿”å›æ•°æ®ç±»å‹ï¼‰</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">	2. post()æ–¹æ³•</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">	   å‚æ•°ï¼šurlï¼ˆè¯·æ±‚çš„åœ°å€ï¼‰ã€dataï¼ˆæºå¸¦æ•°æ®ï¼‰ã€callbackï¼ˆæˆåŠŸå›è°ƒå‡½æ•°ï¼‰ã€dataTypeï¼ˆè¿”å›æ•°æ®ç±»å‹ï¼‰</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">	3. ajax()æ–¹æ³•</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">	   å‚æ•°ï¼šobjï¼ˆå¯¹è±¡ä¸­åŒ…å«äº†å„ç§å‚æ•°ï¼‰ï¼Œå…¶ä¸­æœ‰urlã€dataã€dataTypeã€asyncã€type</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">*/</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">let</span><span style="color:#A6ACCD;"> $ </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#82AAFF;">createXHR</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;font-style:italic;">if</span><span style="color:#F07178;"> (</span><span style="color:#A6ACCD;">window</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">XMLHttpRequest</span><span style="color:#F07178;">) </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">new</span><span style="color:#F07178;"> </span><span style="color:#82AAFF;">XMLHttpRequest</span><span style="color:#F07178;">()</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">}</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;font-style:italic;">else</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">new</span><span style="color:#F07178;"> </span><span style="color:#82AAFF;">ActiveXObject</span><span style="color:#F07178;">()</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#82AAFF;">get</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">url</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">data</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">callback</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">dataType</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#C792EA;">let</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">dataType</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">dataType</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">toLowerCase</span><span style="color:#F07178;">()</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;font-style:italic;">if</span><span style="color:#F07178;"> (</span><span style="color:#A6ACCD;">data</span><span style="color:#F07178;">) </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#A6ACCD;">url</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">+=</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">?</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#A6ACCD;">Object</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">keys</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">data</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">forEach</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">key</span><span style="color:#89DDFF;">)</span><span style="color:#F07178;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#F07178;"> (</span><span style="color:#A6ACCD;">url</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">+=</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">\`\${</span><span style="color:#A6ACCD;">key</span><span style="color:#89DDFF;">}</span><span style="color:#C3E88D;">=</span><span style="color:#89DDFF;">\${</span><span style="color:#A6ACCD;">data[key]</span><span style="color:#89DDFF;">}</span><span style="color:#C3E88D;">&amp;</span><span style="color:#89DDFF;">\`</span><span style="color:#F07178;">))</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#A6ACCD;">url</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">url</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">slice</span><span style="color:#F07178;">(</span><span style="color:#F78C6C;">0</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">-</span><span style="color:#F78C6C;">1</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#C792EA;">let</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">xhr</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">this.</span><span style="color:#82AAFF;">createXHR</span><span style="color:#F07178;">()</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#A6ACCD;">xhr</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">open</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">get</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">url</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#A6ACCD;">xhr</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">send</span><span style="color:#F07178;">()</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#A6ACCD;">xhr</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">onreadystatechange</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#C792EA;">function</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">()</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#89DDFF;font-style:italic;">if</span><span style="color:#F07178;"> (</span><span style="color:#A6ACCD;">xhr</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">readyState</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">===</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">4</span><span style="color:#F07178;">) </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#89DDFF;font-style:italic;">if</span><span style="color:#F07178;"> ((</span><span style="color:#A6ACCD;">xhr</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">status</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&gt;=</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">200</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&amp;&amp;</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">xhr</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">status</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">300</span><span style="color:#F07178;">) </span><span style="color:#89DDFF;">||</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">xhr</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">status</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">==</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">304</span><span style="color:#F07178;">) </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">          </span><span style="color:#C792EA;">let</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">res</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span></span>
<span class="line"><span style="color:#F07178;">            </span><span style="color:#A6ACCD;">dataType</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">===</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">json</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#F07178;">              </span><span style="color:#89DDFF;">?</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">JSON</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">parse</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">xhr</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">responseText</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#F07178;">              </span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">xhr</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">responseText</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">          </span><span style="color:#82AAFF;">callback</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">res</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">xhr</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">status</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">xhr</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">};</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#82AAFF;">post</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">url</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">data</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">callback</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">dataType</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#C792EA;">let</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">dataType</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">dataType</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">toLowerCase</span><span style="color:#F07178;">()</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#C792EA;">let</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">xhr</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">this.</span><span style="color:#82AAFF;">createXHR</span><span style="color:#F07178;">()</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#C792EA;">let</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">str</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&#39;&#39;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;font-style:italic;">if</span><span style="color:#F07178;"> (</span><span style="color:#A6ACCD;">data</span><span style="color:#F07178;">) </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#A6ACCD;">Object</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">keys</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">data</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">forEach</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">key</span><span style="color:#89DDFF;">)</span><span style="color:#F07178;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#F07178;"> (</span><span style="color:#A6ACCD;">str</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">+=</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">\`\${</span><span style="color:#A6ACCD;">key</span><span style="color:#89DDFF;">}</span><span style="color:#C3E88D;">=</span><span style="color:#89DDFF;">\${</span><span style="color:#A6ACCD;">data[key]</span><span style="color:#89DDFF;">}</span><span style="color:#C3E88D;">&amp;</span><span style="color:#89DDFF;">\`</span><span style="color:#F07178;">))</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#A6ACCD;">str</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">str</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">slice</span><span style="color:#F07178;">(</span><span style="color:#F78C6C;">0</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">-</span><span style="color:#F78C6C;">1</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#A6ACCD;">xhr</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">setRequestHeader</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">Content-Type</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">application/x-www-form-urlencoded</span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#A6ACCD;">xhr</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">send</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">str</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#A6ACCD;">xhr</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">onreadystatechange</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#C792EA;">function</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">()</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#89DDFF;font-style:italic;">if</span><span style="color:#F07178;"> (</span><span style="color:#A6ACCD;">xhr</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">readyState</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">===</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">4</span><span style="color:#F07178;">) </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#89DDFF;font-style:italic;">if</span><span style="color:#F07178;"> ((</span><span style="color:#A6ACCD;">xhr</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">status</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&gt;=</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">200</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&amp;&amp;</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">xhr</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">status</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">300</span><span style="color:#F07178;">) </span><span style="color:#89DDFF;">||</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">xhr</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">status</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">==</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">304</span><span style="color:#F07178;">) </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">          </span><span style="color:#C792EA;">let</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">res</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span></span>
<span class="line"><span style="color:#F07178;">            </span><span style="color:#A6ACCD;">dataType</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">===</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">json</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#F07178;">              </span><span style="color:#89DDFF;">?</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">JSON</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">parse</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">xhr</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">responseText</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#F07178;">              </span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">xhr</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">responseText</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">          </span><span style="color:#82AAFF;">callback</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">res</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">xhr</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">status</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">xhr</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">};</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#82AAFF;">ajax</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">params</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">// åˆå§‹åŒ–å‚æ•°</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#C792EA;">let</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">type</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">params</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">type</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">?</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">params</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">type</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">toLowerCase</span><span style="color:#F07178;">() </span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">get</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#C792EA;">let</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">isAsync</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">params</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">isAsync</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">?</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">params</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">isAsync</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">true</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#C792EA;">let</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">url</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">params</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">url</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#C792EA;">let</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">data</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">params</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">data</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">?</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">params</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">data</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{};</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#C792EA;">let</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">dataType</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">params</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">dataType</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">toLowerCase</span><span style="color:#F07178;">()</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#C792EA;">let</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">xhr</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">this.</span><span style="color:#82AAFF;">createXHR</span><span style="color:#F07178;">()</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#C792EA;">let</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">str</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&#39;&#39;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">// æ‹¼æ¥å­—ç¬¦ä¸²</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#A6ACCD;">Object</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">keys</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">data</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">forEach</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">key</span><span style="color:#89DDFF;">)</span><span style="color:#F07178;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#F07178;"> (</span><span style="color:#A6ACCD;">str</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">+=</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">\`\${</span><span style="color:#A6ACCD;">key</span><span style="color:#89DDFF;">}</span><span style="color:#C3E88D;">=</span><span style="color:#89DDFF;">\${</span><span style="color:#A6ACCD;">data[key]</span><span style="color:#89DDFF;">}</span><span style="color:#C3E88D;">&amp;</span><span style="color:#89DDFF;">\`</span><span style="color:#F07178;">))</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#A6ACCD;">str</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">str</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">slice</span><span style="color:#F07178;">(</span><span style="color:#F78C6C;">0</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">-</span><span style="color:#F78C6C;">1</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;font-style:italic;">if</span><span style="color:#F07178;"> (</span><span style="color:#A6ACCD;">type</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">===</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">get</span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;">) </span><span style="color:#A6ACCD;">url</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">+=</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">\`</span><span style="color:#C3E88D;">?</span><span style="color:#89DDFF;">\${</span><span style="color:#A6ACCD;">str</span><span style="color:#89DDFF;">}\`</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">new</span><span style="color:#F07178;"> </span><span style="color:#FFCB6B;">Promise</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">resolve</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;font-style:italic;">reject</span><span style="color:#89DDFF;">)</span><span style="color:#F07178;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">      </span><span style="color:#676E95;font-style:italic;">// åˆ›å»ºè¯·æ±‚</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#A6ACCD;">xhr</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">open</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">type</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">url</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">isAsync</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#89DDFF;font-style:italic;">if</span><span style="color:#F07178;"> (</span><span style="color:#A6ACCD;">type</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">===</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">post</span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;">) </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#A6ACCD;">xhr</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">setRequestHeader</span><span style="color:#F07178;">(</span></span>
<span class="line"><span style="color:#F07178;">          </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">Content-Type</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">          </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">application/x-www-form-rulencoded</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#F07178;">        )</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#A6ACCD;">xhr</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">send</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">str</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#89DDFF;">}</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;font-style:italic;">else</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#A6ACCD;">xhr</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">send</span><span style="color:#F07178;">()</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#A6ACCD;">xhr</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">onreadystatechange</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#C792EA;">function</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">()</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#89DDFF;font-style:italic;">if</span><span style="color:#F07178;"> (</span><span style="color:#A6ACCD;">xhr</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">readyState</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">===</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">4</span><span style="color:#F07178;">) </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">          </span><span style="color:#89DDFF;font-style:italic;">if</span><span style="color:#F07178;"> ((</span><span style="color:#A6ACCD;">xhr</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">status</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&gt;=</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">200</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&amp;&amp;</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">xhr</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">status</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">300</span><span style="color:#F07178;">) </span><span style="color:#89DDFF;">||</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">xhr</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">status</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">==</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">304</span><span style="color:#F07178;">) </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">            </span><span style="color:#C792EA;">let</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">res</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span></span>
<span class="line"><span style="color:#F07178;">              </span><span style="color:#A6ACCD;">dataType</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">===</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">json</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#F07178;">                </span><span style="color:#89DDFF;">?</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">JSON</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">parse</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">xhr</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">responseText</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#F07178;">                </span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">xhr</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">responseText</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">            </span><span style="color:#82AAFF;">resolve</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">res</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span><span style="color:#F07178;"> </span><span style="color:#676E95;font-style:italic;">// è¯·æ±‚æˆåŠŸï¼Œè¿”å›æ•°æ®</span></span>
<span class="line"><span style="color:#F07178;">          </span><span style="color:#89DDFF;">}</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;font-style:italic;">else</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">            </span><span style="color:#82AAFF;">reject</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">xhr</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">status</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span><span style="color:#F07178;"> </span><span style="color:#676E95;font-style:italic;">// è¯·æ±‚å¤±è´¥ï¼Œè¿”å›çŠ¶æ€ç </span></span>
<span class="line"><span style="color:#F07178;">          </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#89DDFF;">};</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">}</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#89DDFF;">};</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br><span class="line-number">80</span><br><span class="line-number">81</span><br><span class="line-number">82</span><br><span class="line-number">83</span><br><span class="line-number">84</span><br><span class="line-number">85</span><br><span class="line-number">86</span><br><span class="line-number">87</span><br><span class="line-number">88</span><br><span class="line-number">89</span><br><span class="line-number">90</span><br><span class="line-number">91</span><br><span class="line-number">92</span><br><span class="line-number">93</span><br><span class="line-number">94</span><br><span class="line-number">95</span><br><span class="line-number">96</span><br><span class="line-number">97</span><br><span class="line-number">98</span><br><span class="line-number">99</span><br><span class="line-number">100</span><br><span class="line-number">101</span><br><span class="line-number">102</span><br><span class="line-number">103</span><br><span class="line-number">104</span><br><span class="line-number">105</span><br><span class="line-number">106</span><br><span class="line-number">107</span><br><span class="line-number">108</span><br><span class="line-number">109</span><br><span class="line-number">110</span><br><span class="line-number">111</span><br><span class="line-number">112</span><br></div></div><h2 id="_9ã€æ‰‹å†™é¢˜-æ‰‹å†™-promise-åŸç†" tabindex="-1">9ã€æ‰‹å†™é¢˜ï¼šæ‰‹å†™ Promise åŸç† <a class="header-anchor" href="#_9ã€æ‰‹å†™é¢˜-æ‰‹å†™-promise-åŸç†" aria-label="Permalink to &quot;9ã€æ‰‹å†™é¢˜ï¼šæ‰‹å†™ Promise åŸç†&quot;">â€‹</a></h2><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">class</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">MyPromise</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#C792EA;">constructor</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">fn</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">this.</span><span style="color:#A6ACCD;">resolvedCallbacks</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> []</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">this.</span><span style="color:#A6ACCD;">rejectCallbacks</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> []</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">// pending å³åœ¨ç­‰å¾…çŠ¶æ€</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">this.</span><span style="color:#A6ACCD;">state</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">PENDING</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">this.</span><span style="color:#A6ACCD;">value</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&#39;&#39;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#82AAFF;">fn</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">this.</span><span style="color:#A6ACCD;">resolve</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">bind</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">this</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">this.</span><span style="color:#A6ACCD;">reject</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">bind</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">this</span><span style="color:#F07178;">))</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">resolve</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">value</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;font-style:italic;">if</span><span style="color:#F07178;"> (</span><span style="color:#89DDFF;">this.</span><span style="color:#A6ACCD;">state</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">===</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">PENDING</span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;">) </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#89DDFF;">this.</span><span style="color:#A6ACCD;">state</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">RESOLVED</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#89DDFF;">this.</span><span style="color:#A6ACCD;">value</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">value</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#89DDFF;">this.</span><span style="color:#A6ACCD;">resolvedCallbacks</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">map</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">cb</span><span style="color:#89DDFF;">)</span><span style="color:#F07178;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#F07178;"> </span><span style="color:#82AAFF;">cb</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">value</span><span style="color:#F07178;">))</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">reject</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">value</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;font-style:italic;">if</span><span style="color:#F07178;"> (</span><span style="color:#89DDFF;">this.</span><span style="color:#A6ACCD;">state</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">===</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">PENDING</span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;">) </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#89DDFF;">this.</span><span style="color:#A6ACCD;">state</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">REJECTED</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#89DDFF;">this.</span><span style="color:#A6ACCD;">value</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">value</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#89DDFF;">this.</span><span style="color:#A6ACCD;">rejectCallbacks</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">map</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">cb</span><span style="color:#89DDFF;">)</span><span style="color:#F07178;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#F07178;"> </span><span style="color:#82AAFF;">cb</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">value</span><span style="color:#F07178;">))</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">then</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">onFulfilled</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">onRejected</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;font-style:italic;">if</span><span style="color:#F07178;"> (</span><span style="color:#89DDFF;">this.</span><span style="color:#A6ACCD;">state</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">===</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">PENDING</span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;">) </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#89DDFF;">this.</span><span style="color:#A6ACCD;">resolvedCallbacks</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">map</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">cb</span><span style="color:#89DDFF;">)</span><span style="color:#F07178;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#F07178;"> </span><span style="color:#82AAFF;">cb</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">onFulfilled</span><span style="color:#F07178;">))</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#89DDFF;">this.</span><span style="color:#A6ACCD;">rejectCallbacks</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">map</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">cb</span><span style="color:#89DDFF;">)</span><span style="color:#F07178;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#F07178;"> </span><span style="color:#82AAFF;">cb</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">onRejected</span><span style="color:#F07178;">))</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;font-style:italic;">if</span><span style="color:#F07178;"> (</span><span style="color:#89DDFF;">this.</span><span style="color:#A6ACCD;">state</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">===</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">RESOLVED</span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;">) </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#82AAFF;">onFulfilled</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">this.</span><span style="color:#A6ACCD;">value</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;font-style:italic;">if</span><span style="color:#F07178;"> (</span><span style="color:#89DDFF;">this.</span><span style="color:#A6ACCD;">state</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">===</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">REJECTED</span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;">) </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#82AAFF;">onRejected</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">this.</span><span style="color:#A6ACCD;">value</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br></div></div><h2 id="_10ã€æ‰‹å†™é¢˜-åŸºäº-promise-æ‰‹å†™-promise-all" tabindex="-1">10ã€æ‰‹å†™é¢˜ï¼šåŸºäº Promise æ‰‹å†™ Promise.all <a class="header-anchor" href="#_10ã€æ‰‹å†™é¢˜-åŸºäº-promise-æ‰‹å†™-promise-all" aria-label="Permalink to &quot;10ã€æ‰‹å†™é¢˜ï¼šåŸºäº Promise æ‰‹å†™ Promise.all&quot;">â€‹</a></h2><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;">/**</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"> * promiseçš„ä¸‰ç§çŠ¶æ€ï¼š</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"> * 1.pendingï¼šç­‰å¾…çŠ¶æ€ï¼Œæ¯”å¦‚æ­£åœ¨ç½‘ç»œè¯·æ±‚ï¼Œæˆ–å®šæ—¶å™¨æ²¡æœ‰åˆ°æ—¶é—´ï¼›</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"> * 2.fulfillï¼šæ»¡è¶³çŠ¶æ€ï¼Œå½“æˆ‘ä»¬ä¸»åŠ¨å›è°ƒäº†resolveæ—¶ï¼Œå°±å¤„äºè¯¥çŠ¶æ€ï¼Œå¹¶ä¸”ä¼šå›è°ƒthenå‡½æ•°</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"> * 3.rejectï¼šæ‹’ç»çŠ¶æ€ï¼Œå½“æˆ‘ä»¬ä¸»åŠ¨å›è°ƒäº†rejectæ—¶ï¼Œå°±å¤„äºè¯¥çŠ¶æ€ï¼Œå¹¶ä¸”ä¼šå›è°ƒcatchå‡½æ•°</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"> */</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">/*----------------------------------------------------------------- */</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// å‡½æ•°.then()</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// å‡½æ•°thenæ˜¯Promiseä¸­çš„ä¸€ä¸ªæ–¹æ³•ï¼Œå®ƒä¼šåœ¨Promiseå¤„äºfulfillçŠ¶æ€æ—¶è°ƒç”¨è§¦å‘</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// resolveå’Œrejectæ˜¯é»˜è®¤ä¼ å…¥çš„å‡½æ•°å‚æ•°</span></span>
<span class="line"><span style="color:#89DDFF;">new</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">Promise</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">resolve</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">reject</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#82AAFF;">setTimeout</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">()</span><span style="color:#F07178;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">// åœ¨Promiseä¸­è°ƒç”¨resolveå‡½æ•°ï¼Œä¼šä½¿Promiseå˜ä¸ºfulfillçŠ¶æ€</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">// resolveå‡½æ•°å¯ä»¥ä¼ å…¥ä¸€ä¸ªå‚æ•°ï¼Œä½œä¸ºthenå‡½æ•°çš„é»˜è®¤ä¼ å…¥å‚æ•°</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#82AAFF;">resolve</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">æˆåŠŸ</span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">},</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">1000</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">then</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">data</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">data</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span><span style="color:#F07178;"> </span><span style="color:#676E95;font-style:italic;">//ç»“æœè¾“å‡ºæˆåŠŸ</span></span>
<span class="line"><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">/*----------------------------------------------------------------- */</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// å‡½æ•° .catch()</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// å‡½æ•°catchæ˜¯Promiseçš„ä¸€ä¸ªæ–¹æ³•ã€‚å®ƒä¼šåœ¨Promiseå¤„äºrejectçŠ¶æ€æ—¶è°ƒç”¨è§¦å‘</span></span>
<span class="line"><span style="color:#89DDFF;">new</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">Promise</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">resolve</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">reject</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#82AAFF;">setTimeout</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">()</span><span style="color:#F07178;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">// åœ¨Promiseè°ƒç”¨rejectå‡½æ•°ï¼Œä¼šä½¿Promiseå˜ä¸ºrejectçŠ¶æ€</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">// rejectå‡½æ•°å¯ä»¥ä¼ å…¥ä¸€ä¸ªå‚æ•°ï¼Œä½œä¸ºcatchå‡½æ•°çš„é»˜è®¤ä¼ å…¥å‚æ•°</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#82AAFF;">reject</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">å¤±è´¥</span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">},</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">1000</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">catch</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">err</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">err</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span><span style="color:#F07178;"> </span><span style="color:#676E95;font-style:italic;">//ç»“æœè¾“å‡ºï¼šå¤±è´¥</span></span>
<span class="line"><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">/*----------------------------------------------------------------- */</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// å‡½æ•°.finally()</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// å‡½æ•°finallyæ˜¯Promiseä¸­çš„ä¸€ä¸ªæ–¹æ³•ï¼Œå®ƒä¼šåœ¨Promiseçš„æœ€åè§¦å‘ï¼Œæ— è®ºPromiseå¤„äºä»€ä¹ˆçŠ¶æ€</span></span>
<span class="line"><span style="color:#89DDFF;">new</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">Promise</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">resolve</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">reject</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#82AAFF;">setTimeout</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">()</span><span style="color:#F07178;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#82AAFF;">resolve</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">æˆåŠŸå•¦ï¼</span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">},</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">1000</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">then</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">data</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">data</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">finally</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">Promiseç»“æŸ</span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">/* </span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">    ç»“æœè¾“å‡ºï¼šæˆåŠŸå•¦ï¼</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">            Promiseç»“æŸ</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">*/</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">/*----------------------------------------------------------------- */</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// å‡½æ•°all()</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// å‡½æ•°allæ˜¯Promiseä¸­çš„ä¸€ä¸ªæ–¹æ³•ï¼Œå®ƒç”¨äºå°†å¤šä¸ªpromiseå®ä¾‹ï¼ŒåŒ…è£…æˆä¸€ä¸ªæ–°çš„promiseå®ä¾‹</span></span>
<span class="line"><span style="color:#FFCB6B;">Promise</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">all</span><span style="color:#A6ACCD;">([</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">new</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">Promise</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">resolve</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">reject</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#82AAFF;">setTimeout</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">()</span><span style="color:#F07178;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#82AAFF;">resolve</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">æˆ‘æ˜¯ç¬¬ä¸€ä¸ªå¼‚æ­¥è¯·æ±‚çš„æ•°æ®</span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">}</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">},</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">1000</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">new</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">Promise</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">resolve</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">reject</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#82AAFF;">setTimeout</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">()</span><span style="color:#F07178;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#82AAFF;">resolve</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">æˆ‘æ˜¯ç¬¬äºŒä¸ªå¼‚æ­¥è¯·æ±‚çš„æ•°æ®</span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">},</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">1000</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">])</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">then</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">results</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">results</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span><span style="color:#F07178;"> </span><span style="color:#676E95;font-style:italic;">// [&#39;æˆ‘æ˜¯ç¬¬ä¸€ä¸ªå¼‚æ­¥è¯·æ±‚çš„æ•°æ®&#39;, &#39;æˆ‘æ˜¯ç¬¬äºŒä¸ªå¼‚æ­¥è¯·æ±‚çš„æ•°æ®&#39;]</span></span>
<span class="line"><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">/*----------------------------------------------------------------- */</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// å®é™…åº”ç”¨</span></span>
<span class="line"><span style="color:#C792EA;">let</span><span style="color:#A6ACCD;"> string1 </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">I am</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">new</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">Promise</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">resolve</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">reject</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#82AAFF;">setTimeout</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">()</span><span style="color:#F07178;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#C792EA;">let</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">string2</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">string1</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">+</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">Monday</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#82AAFF;">resolve</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">string2</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">},</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">1000</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">then</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">data</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">new</span><span style="color:#F07178;"> </span><span style="color:#FFCB6B;">Promise</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">resolve</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;font-style:italic;">reject</span><span style="color:#89DDFF;">)</span><span style="color:#F07178;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#C792EA;">let</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">string3</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">data</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">+</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">in CSDN</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#82AAFF;">resolve</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">string3</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">}</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">then</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">data</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">data</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">finally</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">Promiseç»“æŸ</span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">/*</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">    è¾“å‡ºç»“æœï¼š</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">    I am Monday in CSDNï¼</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">    Promiseç»“æŸ</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">*/</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br><span class="line-number">80</span><br><span class="line-number">81</span><br><span class="line-number">82</span><br><span class="line-number">83</span><br><span class="line-number">84</span><br><span class="line-number">85</span><br><span class="line-number">86</span><br><span class="line-number">87</span><br><span class="line-number">88</span><br><span class="line-number">89</span><br><span class="line-number">90</span><br><span class="line-number">91</span><br><span class="line-number">92</span><br><span class="line-number">93</span><br><span class="line-number">94</span><br><span class="line-number">95</span><br><span class="line-number">96</span><br><span class="line-number">97</span><br><span class="line-number">98</span><br></div></div><blockquote><p><strong>è¯¦è§£æ–‡ç« è¡¥å……ï¼ˆPromiseï¼‰ğŸ‘‡</strong></p><ul><li>åŸæ–‡ï¼š<a href="https://blog.csdn.net/weixin_44803753/article/details/119392804" target="_blank" rel="noreferrer">ä¿å§†çº§ä¸€æ­¥æ­¥å¸¦ä½ å®ç° promise çš„æ ¸å¿ƒåŠŸèƒ½</a></li><li>é“¾æ¥ï¼š<a href="https://blog.csdn.net/weixin_44803753/article/details/119392804" target="_blank" rel="noreferrer">https://blog.csdn.net/weixin_44803753/article/details/119392804</a></li></ul></blockquote><h1 id="ğŸ¥°-ä¸ƒã€æ‰‹å†™é¢˜è¡¥å……" tabindex="-1">ğŸ¥° ä¸ƒã€æ‰‹å†™é¢˜è¡¥å…… <a class="header-anchor" href="#ğŸ¥°-ä¸ƒã€æ‰‹å†™é¢˜è¡¥å……" aria-label="Permalink to &quot;ğŸ¥° ä¸ƒã€æ‰‹å†™é¢˜è¡¥å……&quot;">â€‹</a></h1><h2 id="_1ã€æ€§èƒ½ä¼˜åŒ–ç›¸å…³" tabindex="-1">1ã€æ€§èƒ½ä¼˜åŒ–ç›¸å…³ <a class="header-anchor" href="#_1ã€æ€§èƒ½ä¼˜åŒ–ç›¸å…³" aria-label="Permalink to &quot;1ã€æ€§èƒ½ä¼˜åŒ–ç›¸å…³&quot;">â€‹</a></h2><h3 id="_1-æ‰‹å†™èŠ‚æµå‡½æ•°" tabindex="-1">ï¼ˆ1ï¼‰æ‰‹å†™èŠ‚æµå‡½æ•° <a class="header-anchor" href="#_1-æ‰‹å†™èŠ‚æµå‡½æ•°" aria-label="Permalink to &quot;ï¼ˆ1ï¼‰æ‰‹å†™èŠ‚æµå‡½æ•°&quot;">â€‹</a></h3><p><strong>èŠ‚æµ</strong>ï¼šæ¯éš”ä¸€æ®µæ—¶é—´æ‰§è¡Œä¸€æ¬¡ï¼Œé€šå¸¸ç”¨åœ¨é«˜é¢‘ç‡è§¦å‘çš„åœ°æ–¹ï¼Œé™ä½é¢‘ç‡ã€‚â€”â€” å¦‚ï¼šé¼ æ ‡æ»‘åŠ¨ã€æ‹–æ‹½</p><p>é€šä¿—æ¥è®²ï¼ŒèŠ‚æµæ˜¯ä»é¢‘ç¹è§¦å‘æ‰§è¡Œå˜ä¸ºæ¯éš”ä¸€æ®µæ—¶é—´æ‰æ‰§è¡Œä¸€æ¬¡ã€‚</p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;">//å°è£…èŠ‚æµå‡½æ•°ï¼Œå®ç°èŠ‚æµ</span></span>
<span class="line"><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">throttle</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">func</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">delay</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">500</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#C792EA;">let</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">timer</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">null;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#C792EA;">let</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">status</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#FF9CAC;">false</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#C792EA;">function</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">(...</span><span style="color:#A6ACCD;font-style:italic;">args</span><span style="color:#89DDFF;">)</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;font-style:italic;">if</span><span style="color:#F07178;"> (</span><span style="color:#A6ACCD;">status</span><span style="color:#F07178;">) </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#A6ACCD;">status</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#FF9CAC;">true</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#A6ACCD;">timer</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#82AAFF;">setTimeout</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">()</span><span style="color:#F07178;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#A6ACCD;">func</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">apply</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">this,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">args</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#A6ACCD;">status</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#FF9CAC;">false</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">},</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">delay</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">};</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><h3 id="_2-æ‰‹å†™é˜²æŠ–å‡½æ•°" tabindex="-1">ï¼ˆ2ï¼‰æ‰‹å†™é˜²æŠ–å‡½æ•° <a class="header-anchor" href="#_2-æ‰‹å†™é˜²æŠ–å‡½æ•°" aria-label="Permalink to &quot;ï¼ˆ2ï¼‰æ‰‹å†™é˜²æŠ–å‡½æ•°&quot;">â€‹</a></h3><p><strong>é˜²æŠ–</strong>ï¼šä¸€æ®µæ—¶é—´å†…è¿ç»­è§¦å‘ï¼Œä¸æ‰§è¡Œï¼Œç›´åˆ°è¶…å‡ºé™å®šæ—¶é—´æ‰§è¡Œæœ€åä¸€æ¬¡ã€‚â€”â€” å¦‚ï¼š <code>input</code> ã€ <code>scroll</code> æ»šåŠ¨</p><p>é€šä¿—æ¥è®²ï¼Œé˜²æŠ–æ˜¯ä»é¢‘ç¹è§¦å‘æ‰§è¡Œå˜ä¸ºæœ€åä¸€æ¬¡æ‰æ‰§è¡Œã€‚</p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;">//å°è£…é˜²æŠ–å‡½æ•°ï¼Œå®ç°é˜²æŠ–</span></span>
<span class="line"><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">denounce</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">func</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">delay</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">500</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#C792EA;">let</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">timer</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">null;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#C792EA;">function</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">(...</span><span style="color:#A6ACCD;font-style:italic;">args</span><span style="color:#89DDFF;">)</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">// å¦‚æœæœ‰å€¼ï¼Œæ¸…é™¤å®šæ—¶å™¨ï¼Œä¹‹åç»§ç»­æ‰§è¡Œ</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;font-style:italic;">if</span><span style="color:#F07178;"> (</span><span style="color:#A6ACCD;">timer</span><span style="color:#F07178;">) </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#82AAFF;">clearTimeout</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">timer</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#A6ACCD;">timer</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#82AAFF;">setTimeout</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">()</span><span style="color:#F07178;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#A6ACCD;">func</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">apply</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">this,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">args</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">},</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">delay</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">};</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><blockquote><ul><li><p><strong>è¯¦è§£æ–‡ç« è¡¥å……ï¼ˆé˜²æŠ–èŠ‚æµï¼‰ğŸ‘‡</strong></p></li><li><p>åŸæ–‡ï¼š<a href="https://juejin.cn/post/6973062729925918756" target="_blank" rel="noreferrer">å…³äºå‰ç«¯æ€§èƒ½ä¼˜åŒ–é—®é¢˜ï¼Œè®¤è¯†ç½‘é¡µåŠ è½½è¿‡ç¨‹å’Œé˜²æŠ–èŠ‚æµ</a></p></li><li><p>é“¾æ¥ï¼š<a href="https://juejin.cn/post/6973062729925918756" target="_blank" rel="noreferrer">https://juejin.cn/post/6973062729925918756</a></p></li></ul></blockquote><h3 id="_3-å›¾ç‰‡æ‡’åŠ è½½" tabindex="-1">ï¼ˆ3ï¼‰å›¾ç‰‡æ‡’åŠ è½½ <a class="header-anchor" href="#_3-å›¾ç‰‡æ‡’åŠ è½½" aria-label="Permalink to &quot;ï¼ˆ3ï¼‰å›¾ç‰‡æ‡’åŠ è½½&quot;">â€‹</a></h3><p><strong>å®šä¹‰ï¼š</strong></p><p>æ‡’åŠ è½½çªå‡ºä¸€ä¸ªâ€œæ‡’â€å­—ï¼Œæ‡’å°±æ˜¯æ‹–å»¶è¿Ÿçš„æ„æ€ï¼Œæ‰€ä»¥â€œæ‡’åŠ è½½â€è¯´ç™½äº†å°±æ˜¯<strong>å»¶è¿ŸåŠ è½½</strong>ï¼Œæ¯”å¦‚æˆ‘ä»¬åŠ è½½ä¸€ä¸ªé¡µé¢ï¼Œè¿™ä¸ªé¡µé¢å¾ˆé•¿å¾ˆé•¿ï¼Œé•¿åˆ°æˆ‘ä»¬çš„æµè§ˆå™¨å¯è§†åŒºåŸŸè£…ä¸ä¸‹ï¼Œé‚£ä¹ˆæ‡’åŠ è½½å°±æ˜¯ä¼˜å…ˆåŠ è½½å¯è§†åŒºåŸŸçš„å†…å®¹ï¼Œå…¶ä»–éƒ¨åˆ†ç­‰è¿›å…¥äº†å¯è§†åŒºåŸŸåœ¨åŠ è½½ã€‚</p><p><strong>ä»£ç å®ç°ï¼š</strong></p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">let</span><span style="color:#A6ACCD;"> img </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> document</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">getElementsByTagName</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">img</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;">// è·å–imgæ ‡ç­¾ç›¸å…³çš„</span></span>
<span class="line"><span style="color:#C792EA;">let</span><span style="color:#A6ACCD;"> num </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> img</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">length</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;">// è®°å½•æœ‰å¤šå°‘å¼ å›¾ç‰‡</span></span>
<span class="line"><span style="color:#C792EA;">let</span><span style="color:#A6ACCD;"> count </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">0</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;">// è®¡æ•°å™¨ï¼Œä»ç¬¬ä¸€å¼ å›¾ç‰‡å¼€å§‹è®¡æ•°</span></span>
<span class="line"></span>
<span class="line"><span style="color:#82AAFF;">lazyload</span><span style="color:#A6ACCD;">()</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;">// é¦–æ¬¡åŠ è½½åˆ«å¿˜äº†åŠ è½½å›¾ç‰‡</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">lazyload</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#C792EA;">let</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">viewHeight</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">document</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">documentElement</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">clientHeight</span><span style="color:#89DDFF;">;</span><span style="color:#F07178;"> </span><span style="color:#676E95;font-style:italic;">// clientHeight è·å–å±å¹•å¯è§†åŒºåŸŸçš„é«˜åº¦</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#C792EA;">let</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">scrollHeight</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#A6ACCD;">document</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">documentElement</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">scrollTop</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">||</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">document</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">body</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">scrollTop</span><span style="color:#89DDFF;">;</span><span style="color:#F07178;"> </span><span style="color:#676E95;font-style:italic;">// æ»šåŠ¨æ¡å·å»çš„é«˜åº¦</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;font-style:italic;">for</span><span style="color:#F07178;"> (</span><span style="color:#C792EA;">let</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">i</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">0</span><span style="color:#89DDFF;">;</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">i</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">num</span><span style="color:#89DDFF;">;</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">i</span><span style="color:#89DDFF;">++</span><span style="color:#F07178;">) </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">// å…ƒç´ ç°åœ¨å·²ç»å‡ºç°åœ¨è§†è§‰åŒºåŸŸä¸­</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;font-style:italic;">if</span><span style="color:#F07178;"> (</span><span style="color:#A6ACCD;">img</span><span style="color:#F07178;">[</span><span style="color:#A6ACCD;">i</span><span style="color:#F07178;">]</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">offsetTop</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">scrollHeight</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">+</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">viewHeight</span><span style="color:#F07178;">) </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">      </span><span style="color:#676E95;font-style:italic;">// å½“srcä¸å­˜åœ¨æ—¶ï¼Œè·³å‡ºæœ¬è½®å¾ªç¯ï¼Œç»§ç»­ä¸‹ä¸€è½®</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#89DDFF;font-style:italic;">if</span><span style="color:#F07178;"> (</span><span style="color:#A6ACCD;">img</span><span style="color:#F07178;">[</span><span style="color:#A6ACCD;">i</span><span style="color:#F07178;">]</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">getAttribute</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">src</span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;">) </span><span style="color:#89DDFF;">!==</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">default.jpg</span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;">) </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#89DDFF;font-style:italic;">continue</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#89DDFF;">}</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;font-style:italic;">else</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">        </span><span style="color:#676E95;font-style:italic;">// å½“srcå±æ€§å­˜åœ¨æ—¶ï¼Œè·å–srcçš„å€¼ï¼Œå¹¶å°†å…¶èµ‹å€¼ç»™img</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#A6ACCD;">img</span><span style="color:#F07178;">[</span><span style="color:#A6ACCD;">i</span><span style="color:#F07178;">]</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">src</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">img</span><span style="color:#F07178;">[</span><span style="color:#A6ACCD;">i</span><span style="color:#F07178;">]</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">getAttribute</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">data-src</span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#A6ACCD;">count</span><span style="color:#89DDFF;">++;</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br></div></div><blockquote><ul><li><strong>è¯¦ç»†æ–‡ç« è¡¥å…… ğŸ‘‡</strong></li><li>åŸæ–‡ï¼š<a href="https://zhuanlan.zhihu.com/p/55311726" target="_blank" rel="noreferrer">åŸç”Ÿ js å®ç°å›¾ç‰‡æ‡’åŠ è½½ï¼ˆlazyLoadï¼‰</a></li><li>é“¾æ¥ï¼š<a href="https://zhuanlan.zhihu.com/p/55311726" target="_blank" rel="noreferrer">https://zhuanlan.zhihu.com/p/55311726</a></li></ul></blockquote><h2 id="_2ã€åŸç”Ÿ-api-æ‰‹å†™" tabindex="-1">2ã€åŸç”Ÿ API æ‰‹å†™ <a class="header-anchor" href="#_2ã€åŸç”Ÿ-api-æ‰‹å†™" aria-label="Permalink to &quot;2ã€åŸç”Ÿ API æ‰‹å†™&quot;">â€‹</a></h2><h3 id="_1-foreach" tabindex="-1">ï¼ˆ1ï¼‰forEach <a class="header-anchor" href="#_1-foreach" aria-label="Permalink to &quot;ï¼ˆ1ï¼‰forEach&quot;">â€‹</a></h3><p><strong>ç”¨æ³•ï¼š</strong></p><p><code>forEach()</code> æ–¹æ³•å¯¹æ•°ç»„çš„æ¯ä¸ªå…ƒç´ æ‰§è¡Œä¸€æ¬¡ç»™å®šçš„å‡½æ•°ã€‚åŸç”Ÿ <code>API</code> å…·ä½“è§£æå¦‚ä¸‹ï¼š</p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">arr</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">forEach</span><span style="color:#A6ACCD;">(</span><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">currentValue</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">currentIndex</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">arr</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{},</span><span style="color:#A6ACCD;"> thisArg)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">//currentValue  å¿…éœ€ã€‚å½“å‰å…ƒç´ </span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">//currentIndex  å¯é€‰ã€‚å½“å‰å…ƒç´ çš„ç´¢å¼•</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">//arr           å¯é€‰ã€‚å½“å‰å…ƒç´ æ‰€å±çš„æ•°ç»„å¯¹è±¡ã€‚</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">//thisArg       å¯é€‰å‚æ•°ã€‚å½“æ‰§è¡Œå›è°ƒå‡½æ•°æ—¶ï¼Œç”¨ä½œ this çš„å€¼ã€‚</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p><strong>ä»£ç å®ç°ï¼š</strong></p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">Array</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">prototype</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">myForEach</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">fn</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">thisArg</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;font-style:italic;">if</span><span style="color:#F07178;"> (</span><span style="color:#89DDFF;">typeof</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">fn</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">!==</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">function</span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;">) </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;font-style:italic;">throw</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">new</span><span style="color:#F07178;"> </span><span style="color:#82AAFF;">Error</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">å‚æ•°å¿…é¡»ä¸ºå‡½æ•°</span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;font-style:italic;">if</span><span style="color:#F07178;"> (</span><span style="color:#89DDFF;">!</span><span style="color:#A6ACCD;">Array</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">isArray</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">this</span><span style="color:#F07178;">)) </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;font-style:italic;">throw</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">new</span><span style="color:#F07178;"> </span><span style="color:#82AAFF;">Error</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">åªèƒ½å¯¹æ•°ç»„ä½¿ç”¨forEachæ–¹æ³•</span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#C792EA;">let</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">arr</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">this;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;font-style:italic;">for</span><span style="color:#F07178;"> (</span><span style="color:#C792EA;">let</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">i</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">0</span><span style="color:#89DDFF;">;</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">i</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">arr</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">length</span><span style="color:#89DDFF;">;</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">i</span><span style="color:#89DDFF;">++</span><span style="color:#F07178;">) </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#A6ACCD;">fn</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">call</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">thisArg</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">arr</span><span style="color:#F07178;">[</span><span style="color:#A6ACCD;">i</span><span style="color:#F07178;">]</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">i</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">arr</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// æµ‹è¯•</span></span>
<span class="line"><span style="color:#C792EA;">let</span><span style="color:#A6ACCD;"> arr </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> [</span><span style="color:#F78C6C;">1</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">2</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">3</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">4</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">5</span><span style="color:#A6ACCD;">]</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">arr</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">myForEach</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">item</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">index</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">item</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">index</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// æµ‹è¯• thisArg</span></span>
<span class="line"><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">Counter</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">this.</span><span style="color:#A6ACCD;">sum</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">0</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">this.</span><span style="color:#A6ACCD;">count</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">0</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// å› ä¸º thisArg å‚æ•°ï¼ˆthisï¼‰ä¼ ç»™äº†forEach()ï¼Œæ¯æ¬¡è°ƒç”¨æ—¶ï¼Œå®ƒéƒ½è¢«ä¼ ç»™ callback å‡½æ•°ï¼Œä½œä¸ºå®ƒçš„ this å€¼</span></span>
<span class="line"><span style="color:#FFCB6B;">Counter</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">prototype</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">add</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">array</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#A6ACCD;">array</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">myForEach</span><span style="color:#F07178;">(</span><span style="color:#C792EA;">function</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">entry</span><span style="color:#89DDFF;">)</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">this.</span><span style="color:#A6ACCD;">sum</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">+=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">entry</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">++this.</span><span style="color:#A6ACCD;">count</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">},</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">this</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> obj </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">new</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">Counter</span><span style="color:#A6ACCD;">()</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">obj</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">add</span><span style="color:#A6ACCD;">([</span><span style="color:#F78C6C;">2</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">5</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">9</span><span style="color:#A6ACCD;">])</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#A6ACCD;">(obj</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">count)</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;">// 3 === (1 + 1 + 1)</span></span>
<span class="line"><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#A6ACCD;">(obj</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">sum)</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;">// 16 === (2 + 5 + 9)</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br></div></div><h3 id="_2-map" tabindex="-1">ï¼ˆ2ï¼‰map <a class="header-anchor" href="#_2-map" aria-label="Permalink to &quot;ï¼ˆ2ï¼‰map&quot;">â€‹</a></h3><p><strong>ç”¨æ³•ï¼š</strong></p><p><code>map</code> å‡½æ•°ä¼šä¾æ¬¡å¤„ç†æ•°ç»„ä¸­çš„æ¯ä¸€ä¸ªå…ƒç´ ï¼Œå¹¶è¿”å›ä¸€ä¸ªæ–°çš„æ•°ç»„ï¼Œä¸”å¯¹åŸæ¥çš„æ•°ç»„ä¸ä¼šäº§ç”Ÿå½±å“ã€‚</p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">array</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">map</span><span style="color:#A6ACCD;">(</span><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">currentValue</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">index</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">arr</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{}</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p><strong>ä»£ç å®ç°ï¼š</strong></p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">Array</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">prototype</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">myMap</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">arr</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">mapCallback</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#676E95;font-style:italic;">// æ£€æŸ¥å‚æ•°æ˜¯å¦æ­£ç¡®</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;font-style:italic;">if</span><span style="color:#F07178;"> (</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">!</span><span style="color:#A6ACCD;">Array</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">isArray</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">arr</span><span style="color:#F07178;">) </span><span style="color:#89DDFF;">||</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">!</span><span style="color:#A6ACCD;">Array</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">length</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">||</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">typeof</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">mapCallback</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">!==</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">function</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#F07178;">  ) </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> []</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;font-style:italic;">else</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#C792EA;">let</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">result</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> []</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;font-style:italic;">for</span><span style="color:#F07178;"> (</span><span style="color:#C792EA;">let</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">i</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">0</span><span style="color:#89DDFF;">;</span><span style="color:#F07178;"> (</span><span style="color:#A6ACCD;">len</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">arr</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">length</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">i</span><span style="color:#89DDFF;">++</span><span style="color:#F07178;">) </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#A6ACCD;">result</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">push</span><span style="color:#F07178;">(</span><span style="color:#82AAFF;">mapCallback</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">arr</span><span style="color:#F07178;">[</span><span style="color:#A6ACCD;">i</span><span style="color:#F07178;">]</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">i</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">arr</span><span style="color:#F07178;">))</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">result</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// æµ‹è¯•</span></span>
<span class="line"><span style="color:#C792EA;">let</span><span style="color:#A6ACCD;"> arr </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> [</span><span style="color:#F78C6C;">1</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">2</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">3</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">4</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">5</span><span style="color:#A6ACCD;">]</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">arr</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">map</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">item</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">index</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">item</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">*</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">2</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;">// 2, 4, 6, 8, 10</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br></div></div><h3 id="_3-filter" tabindex="-1">ï¼ˆ3ï¼‰filter <a class="header-anchor" href="#_3-filter" aria-label="Permalink to &quot;ï¼ˆ3ï¼‰filter&quot;">â€‹</a></h3><p><strong>ç”¨æ³•ï¼š</strong></p><p><code>filter()</code> æ–¹æ³•è¿”å›<strong>æ‰§è¡Œç»“æœä¸º true çš„é¡¹ç»„æˆçš„æ•°ç»„</strong>ã€‚</p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">arr</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">filter</span><span style="color:#A6ACCD;">(</span><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">item</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">index</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">arr</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{},</span><span style="color:#A6ACCD;"> context)</span><span style="color:#89DDFF;">;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p><strong>ä»£ç å®ç°ï¼š</strong></p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">Array</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">prototype</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">myFilter</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">fn</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">context</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;font-style:italic;">if</span><span style="color:#F07178;"> (</span><span style="color:#89DDFF;">typeof</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">fn</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">!==</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">function</span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;">) </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;font-style:italic;">throw</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">new</span><span style="color:#F07178;"> </span><span style="color:#82AAFF;">Error</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">\`\${</span><span style="color:#A6ACCD;">fn</span><span style="color:#89DDFF;">}</span><span style="color:#C3E88D;"> is not a function</span><span style="color:#89DDFF;">\`</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#C792EA;">let</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">arr</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">this;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#C792EA;">let</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">temp</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> []</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;font-style:italic;">for</span><span style="color:#F07178;"> (</span><span style="color:#C792EA;">let</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">i</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">0</span><span style="color:#89DDFF;">;</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">i</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">arr</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">length</span><span style="color:#89DDFF;">;</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">i</span><span style="color:#89DDFF;">++</span><span style="color:#F07178;">) </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#C792EA;">let</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">result</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">fn</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">call</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">context</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">arr</span><span style="color:#F07178;">[</span><span style="color:#A6ACCD;">i</span><span style="color:#F07178;">]</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">i</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">arr</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">// åˆ¤æ–­æ¡ä»¶æ˜¯å¦ä¸ºçœŸ</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;font-style:italic;">if</span><span style="color:#F07178;"> (</span><span style="color:#A6ACCD;">result</span><span style="color:#F07178;">) </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#A6ACCD;">temp</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">push</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">arr</span><span style="color:#F07178;">[</span><span style="color:#A6ACCD;">i</span><span style="color:#F07178;">])</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">temp</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// æµ‹è¯•</span></span>
<span class="line"><span style="color:#C792EA;">let</span><span style="color:#A6ACCD;"> arr </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> [</span><span style="color:#F78C6C;">1</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">2</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">3</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">4</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">5</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">A</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">B</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">C</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">]</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#A6ACCD;">(arr</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">myFilter</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">item</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">typeof</span><span style="color:#A6ACCD;"> item </span><span style="color:#89DDFF;">===</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">string</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">))</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;">// [ &#39;A&#39;, &#39;B&#39;, &#39;C&#39; ]</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br></div></div><h3 id="_4-reduce" tabindex="-1">ï¼ˆ4ï¼‰reduce <a class="header-anchor" href="#_4-reduce" aria-label="Permalink to &quot;ï¼ˆ4ï¼‰reduce&quot;">â€‹</a></h3><p><strong>ç”¨æ³•ï¼š</strong></p><ul><li>å‚æ•°ï¼š ä¸€ä¸ªå›è°ƒå‡½æ•°ï¼Œä¸€ä¸ªåˆå§‹åŒ–å‚æ•° (éå¿…é¡»)</li><li>å›è°ƒå‡½æ•°å‚æ•°æœ‰ 4 ä¸ªå€¼( <code>res</code> : ä»£è¡¨ç´¯åŠ å€¼ï¼Œ <code>cur</code> : ç›®å‰å€¼ï¼Œ <code>index</code> : ç¬¬å‡ ä¸ªï¼Œ <code>arr</code> ï¼šè°ƒç”¨ <code>reduce</code> çš„æ•°ç»„)</li><li>æ•´ä½“è¿”å› <code>res</code> ç´¯åŠ å€¼</li></ul><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">arr</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">reduce</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">res</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">cur</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">index</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">arr</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#A6ACCD;"> res </span><span style="color:#89DDFF;">+</span><span style="color:#A6ACCD;"> cur</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">0</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p><strong>ä»£ç å®ç°ï¼š</strong></p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;">/**</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"> *</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"> * </span><span style="color:#89DDFF;font-style:italic;">@</span><span style="color:#C792EA;font-style:italic;">param</span><span style="color:#676E95;font-style:italic;"> </span><span style="color:#89DDFF;font-style:italic;">{</span><span style="color:#FFCB6B;font-style:italic;">fn</span><span style="color:#89DDFF;font-style:italic;">}</span><span style="color:#676E95;font-style:italic;"> </span><span style="color:#A6ACCD;font-style:italic;">callback</span><span style="color:#676E95;font-style:italic;"> resâ†’ä»£è¡¨ç´¯åŠ å€¼ï¼Œcurâ†’ç›®å‰å€¼ï¼Œindexâ†’ç¬¬å‡ ä¸ªï¼Œarrâ†’è°ƒç”¨reduceçš„æ•°ç»„</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"> * </span><span style="color:#89DDFF;font-style:italic;">@</span><span style="color:#C792EA;font-style:italic;">param</span><span style="color:#676E95;font-style:italic;"> </span><span style="color:#89DDFF;font-style:italic;">{</span><span style="color:#FFCB6B;font-style:italic;">*</span><span style="color:#89DDFF;font-style:italic;">}</span><span style="color:#676E95;font-style:italic;"> </span><span style="color:#A6ACCD;font-style:italic;">initialValue</span><span style="color:#676E95;font-style:italic;"> åˆå§‹åŒ–å‚æ•°(å¯é€‰)</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"> */</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FFCB6B;">Array</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">prototype</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">myReduce</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">cb</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">initValue</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;font-style:italic;">if</span><span style="color:#F07178;"> (</span><span style="color:#89DDFF;">!</span><span style="color:#A6ACCD;">Array</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">isArray</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">this</span><span style="color:#F07178;">)) </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;font-style:italic;">throw</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">new</span><span style="color:#F07178;"> </span><span style="color:#82AAFF;">TypeError</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">not a array</span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#676E95;font-style:italic;">// æ•°ç»„ä¸ºç©ºï¼Œå¹¶ä¸”æœ‰åˆå§‹å€¼ï¼ŒæŠ¥é”™</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;font-style:italic;">if</span><span style="color:#F07178;"> (</span><span style="color:#89DDFF;">this.</span><span style="color:#A6ACCD;">length</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">===</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">0</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&amp;&amp;</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">arguments</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">length</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">2</span><span style="color:#F07178;">) </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;font-style:italic;">throw</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">new</span><span style="color:#F07178;"> </span><span style="color:#82AAFF;">TypeError</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">Reduce of empty array with no initial value</span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#C792EA;">let</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">arr</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">this;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#C792EA;">let</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">res</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">null;</span></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#676E95;font-style:italic;">// åˆ¤æ–­æœ‰æ²¡æœ‰åˆå§‹å€¼</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;font-style:italic;">if</span><span style="color:#F07178;"> (</span><span style="color:#A6ACCD;">arguments</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">length</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&gt;</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">1</span><span style="color:#F07178;">) </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#A6ACCD;">res</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">initValue</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;font-style:italic;">else</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#A6ACCD;">res</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">arr</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">splice</span><span style="color:#F07178;">(</span><span style="color:#F78C6C;">0</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">1</span><span style="color:#F07178;">)[</span><span style="color:#F78C6C;">0</span><span style="color:#F07178;">]</span><span style="color:#89DDFF;">;</span><span style="color:#F07178;"> </span><span style="color:#676E95;font-style:italic;">//æ²¡æœ‰å°±å–ç¬¬ä¸€ä¸ªå€¼</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#A6ACCD;">arr</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">forEach</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">item</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;font-style:italic;">index</span><span style="color:#89DDFF;">)</span><span style="color:#F07178;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#A6ACCD;">res</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#82AAFF;">cb</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">res</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">item</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">index</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">arr</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span><span style="color:#F07178;"> </span><span style="color:#676E95;font-style:italic;">// cb æ¯æ¬¡æ‰§è¡Œå®Œéƒ½ä¼šè¿”å›ä¸€ä¸ªæ–°çš„ reså€¼ï¼Œè¦†ç›–ä¹‹å‰çš„ res</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">res</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// æµ‹è¯•ç»“æœ</span></span>
<span class="line"><span style="color:#C792EA;">let</span><span style="color:#A6ACCD;"> arr </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> [</span><span style="color:#F78C6C;">1</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">2</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">3</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">4</span><span style="color:#A6ACCD;">]</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#C792EA;">let</span><span style="color:#A6ACCD;"> result </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> arr</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">myReduce</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">res</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">cur</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">res</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">+</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">cur</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#A6ACCD;">(result)</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;">// 10</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br></div></div><h2 id="_3ã€å…¶ä½™æ‰‹å†™é¢˜" tabindex="-1">3ã€å…¶ä½™æ‰‹å†™é¢˜ <a class="header-anchor" href="#_3ã€å…¶ä½™æ‰‹å†™é¢˜" aria-label="Permalink to &quot;3ã€å…¶ä½™æ‰‹å†™é¢˜&quot;">â€‹</a></h2><h3 id="_1-jsonp-çš„å®ç°" tabindex="-1">ï¼ˆ1ï¼‰JSONP çš„å®ç° <a class="header-anchor" href="#_1-jsonp-çš„å®ç°" aria-label="Permalink to &quot;ï¼ˆ1ï¼‰JSONP çš„å®ç°&quot;">â€‹</a></h3><p><code>JSONP</code> çš„åŸç†ï¼š<code>JSONP</code> çš„å‡ºç°ä½¿å¾— <code>script</code> æ ‡ç­¾ä¸å—<strong>åŒæºç­–ç•¥</strong>çº¦æŸï¼Œç”¨æ¥è¿›è¡Œè·¨åŸŸè¯·æ±‚ï¼Œä¼˜ç‚¹æ˜¯<strong>å…¼å®¹æ€§å¥½</strong>ï¼Œç¼ºç‚¹å°±æ˜¯<strong>åªèƒ½ç”¨äº <code>GET</code> è¯·æ±‚</strong>ã€‚</p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> jsonp </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">({</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">url</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">params</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">callbackName</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">})</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">generateUrl</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">()</span><span style="color:#F07178;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#C792EA;">let</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">dataSrc</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&#39;&#39;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;font-style:italic;">for</span><span style="color:#F07178;"> (</span><span style="color:#C792EA;">let</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">key</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">in</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">params</span><span style="color:#F07178;">) </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#89DDFF;font-style:italic;">if</span><span style="color:#F07178;"> (</span><span style="color:#A6ACCD;">params</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">hasOwnProperty</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">key</span><span style="color:#F07178;">)) </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#A6ACCD;">dataSrc</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">+=</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">\`\${</span><span style="color:#A6ACCD;">key</span><span style="color:#89DDFF;">}</span><span style="color:#C3E88D;">=</span><span style="color:#89DDFF;">\${</span><span style="color:#A6ACCD;">params[key]</span><span style="color:#89DDFF;">}</span><span style="color:#C3E88D;">&amp;</span><span style="color:#89DDFF;">\`</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#A6ACCD;">dataSrc</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">+=</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">\`</span><span style="color:#C3E88D;">callback=</span><span style="color:#89DDFF;">\${</span><span style="color:#A6ACCD;">callbackName</span><span style="color:#89DDFF;">}\`</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">\`\${</span><span style="color:#A6ACCD;">url</span><span style="color:#89DDFF;">}</span><span style="color:#C3E88D;">?</span><span style="color:#89DDFF;">\${</span><span style="color:#A6ACCD;">dataSrc</span><span style="color:#89DDFF;">}\`</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">};</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">new</span><span style="color:#F07178;"> </span><span style="color:#FFCB6B;">Promise</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">resolve</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;font-style:italic;">reject</span><span style="color:#89DDFF;">)</span><span style="color:#F07178;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">scriptElement</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">document</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">createElement</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">script</span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#A6ACCD;">scriptElement</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">src</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#82AAFF;">generateUrl</span><span style="color:#F07178;">()</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#A6ACCD;">document</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">body</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">appendChild</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">scriptElement</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#A6ACCD;">window</span><span style="color:#F07178;">[</span><span style="color:#A6ACCD;">callbackName</span><span style="color:#F07178;">] </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">data</span><span style="color:#89DDFF;">)</span><span style="color:#F07178;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#82AAFF;">resolve</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">data</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#A6ACCD;">document</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">removeChild</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">scriptElement</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">};</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">};</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br></div></div><h3 id="_2-object-create" tabindex="-1">ï¼ˆ2ï¼‰Object.create <a class="header-anchor" href="#_2-object-create" aria-label="Permalink to &quot;ï¼ˆ2ï¼‰Object.create&quot;">â€‹</a></h3><p><strong>ç”¨æ³•ï¼š</strong></p><p><code>Object.creat(object[,propertiesObject])</code> ï¼Œç”¨äºåˆ›å»ºä¸€ä¸ªæ–°å¯¹è±¡ï¼Œä¸”è¿™ä¸ªæ–°å¯¹è±¡ç»§æ‰¿ <code>object</code> çš„å±æ€§ã€‚ç¬¬äºŒä¸ªå‚æ•° <code>propertyObject</code> ä¹Ÿæ˜¯å¯¹è±¡ï¼Œæ˜¯ä¸€ä¸ªå¯é€‰å‚æ•°ï¼Œå®ƒæ—¨åœ¨ä¸ºæ–°åˆ›å»ºçš„å¯¹è±¡æŒ‡å®š<strong>å±æ€§å¯¹è±¡</strong>ã€‚è¯¥å±æ€§å¯¹è±¡å¯èƒ½åŒ…å«ä»¥ä¸‹å€¼ï¼š</p><table><thead><tr><th>å±æ€§</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>configurable</td><td>è¡¨ç¤ºæ–°åˆ›å»ºçš„å¯¹è±¡æ˜¯å¦æ˜¯å¯é…ç½®çš„ï¼Œå³å¯¹è±¡çš„å±æ€§æ˜¯å¦å¯ä»¥è¢«åˆ é™¤æˆ–ä¿®æ”¹ï¼Œé»˜è®¤ false</td></tr><tr><td>enumerable</td><td>å¯¹è±¡å±æ€§æ˜¯å¦å¯æšä¸¾çš„ï¼Œå³æ˜¯å¦å¯ä»¥æšä¸¾ï¼Œé»˜è®¤ false</td></tr><tr><td>writable</td><td>å¯¹è±¡æ˜¯å¦å¯å†™ï¼Œæ˜¯å¦æˆ–ä»¥ä¸ºå¯¹è±¡æ·»åŠ æ–°å±æ€§ï¼Œé»˜è®¤ false</td></tr><tr><td>get</td><td>å¯¹è±¡ getter å‡½æ•°ï¼Œé»˜è®¤ undefined</td></tr><tr><td>set</td><td>å¯¹è±¡ setter å‡½æ•°ï¼Œé»˜è®¤ undefined</td></tr></tbody></table><p><strong>ä»£ç å®ç°ï¼š</strong></p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;">/**</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"> *</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"> * </span><span style="color:#89DDFF;font-style:italic;">@</span><span style="color:#C792EA;font-style:italic;">param</span><span style="color:#676E95;font-style:italic;"> </span><span style="color:#89DDFF;font-style:italic;">{</span><span style="color:#FFCB6B;font-style:italic;">*</span><span style="color:#89DDFF;font-style:italic;">}</span><span style="color:#676E95;font-style:italic;"> </span><span style="color:#A6ACCD;font-style:italic;">proto</span><span style="color:#676E95;font-style:italic;"> æ–°åˆ›å»ºå¯¹è±¡çš„åŸå‹å¯¹è±¡</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"> * </span><span style="color:#89DDFF;font-style:italic;">@</span><span style="color:#C792EA;font-style:italic;">param</span><span style="color:#676E95;font-style:italic;"> </span><span style="color:#89DDFF;font-style:italic;">{</span><span style="color:#FFCB6B;font-style:italic;">*</span><span style="color:#89DDFF;font-style:italic;">}</span><span style="color:#676E95;font-style:italic;"> </span><span style="color:#A6ACCD;font-style:italic;">propertyObject</span><span style="color:#676E95;font-style:italic;"> è¦å®šä¹‰å…¶å¯æšä¸¾å±æ€§æˆ–ä¿®æ”¹çš„å±æ€§æè¿°ç¬¦çš„å¯¹è±¡</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"> * </span><span style="color:#89DDFF;font-style:italic;">@</span><span style="color:#C792EA;font-style:italic;">returns</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"> */</span></span>
<span class="line"><span style="color:#A6ACCD;">Object</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">create2</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">proto</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">propertyObject</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">undefined)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;font-style:italic;">if</span><span style="color:#F07178;"> (</span><span style="color:#89DDFF;">typeof</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">proto</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">!==</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">object</span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&amp;&amp;</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">typeof</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">proto</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">!==</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">function</span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;">) </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;font-style:italic;">throw</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">new</span><span style="color:#F07178;"> </span><span style="color:#82AAFF;">TypeError</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">Object prototype may only be an Object or null.</span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#676E95;font-style:italic;">// åˆ›å»ºä¸€ä¸ªç©ºçš„æ„é€ å‡½æ•° F</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#C792EA;">function</span><span style="color:#F07178;"> </span><span style="color:#82AAFF;">F</span><span style="color:#89DDFF;">()</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{}</span></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#676E95;font-style:italic;">// F åŸå‹æŒ‡å‘ proto</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#FFCB6B;">F</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">prototype</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">proto</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#676E95;font-style:italic;">// åˆ›å»º F çš„å®ä¾‹</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">obj</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">new</span><span style="color:#F07178;"> </span><span style="color:#82AAFF;">F</span><span style="color:#F07178;">()</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#676E95;font-style:italic;">// propertiesObjectæœ‰å€¼åˆ™è°ƒç”¨ Object.defineProperties</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;font-style:italic;">if</span><span style="color:#F07178;"> (</span><span style="color:#A6ACCD;">propertyObject</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">!=</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">undefined</span><span style="color:#F07178;">) </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#A6ACCD;">Object</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">defineProperties</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">obj</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">propertyObject</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;font-style:italic;">if</span><span style="color:#F07178;"> (</span><span style="color:#A6ACCD;">proto</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">===</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">null</span><span style="color:#F07178;">) </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">// åˆ›å»ºä¸€ä¸ªæ²¡æœ‰åŸå‹å¯¹è±¡çš„å¯¹è±¡ï¼ŒObject.create(null)</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#A6ACCD;">obj</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">__proto__</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">null;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#676E95;font-style:italic;">// è¿”å› è¿™ä¸ª obj</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">obj</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> person </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">name</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">monday</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#82AAFF;">printIntroduction</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">\`</span><span style="color:#C3E88D;">My name is </span><span style="color:#89DDFF;">\${</span><span style="color:#89DDFF;">this.</span><span style="color:#A6ACCD;">name</span><span style="color:#89DDFF;">}</span><span style="color:#C3E88D;">, and my age is </span><span style="color:#89DDFF;">\${</span><span style="color:#89DDFF;">this.</span><span style="color:#A6ACCD;">age</span><span style="color:#89DDFF;">}\`</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#89DDFF;">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> me </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> Object</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">create2</span><span style="color:#A6ACCD;">(person)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">me</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">name </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">Tuesday</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">me</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">age </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">18</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">me</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">printIntroduction</span><span style="color:#A6ACCD;">()</span><span style="color:#89DDFF;">;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br></div></div><h3 id="_3-object-assign" tabindex="-1">ï¼ˆ3ï¼‰Object.assign <a class="header-anchor" href="#_3-object-assign" aria-label="Permalink to &quot;ï¼ˆ3ï¼‰Object.assign&quot;">â€‹</a></h3><p><strong>ç”¨æ³•ï¼š</strong></p><p><code>Object.assign()</code> æ–¹æ³•ç”¨äºå°†æ‰€æœ‰å¯æšä¸¾å±æ€§çš„å€¼ä»ä¸€ä¸ªæˆ–å¤šä¸ªæºå¯¹è±¡åˆ†é…åˆ°ç›®æ ‡å¯¹è±¡ã€‚å®ƒå°†è¿”å›ç›®æ ‡å¯¹è±¡ã€‚</p><p><strong>ä»£ç å®ç°ï¼š</strong></p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">Object</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">assign2</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">target</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">...</span><span style="color:#A6ACCD;font-style:italic;">source</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;font-style:italic;">if</span><span style="color:#F07178;"> (</span><span style="color:#A6ACCD;">target</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">==</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">null</span><span style="color:#F07178;">) </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;font-style:italic;">throw</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">new</span><span style="color:#F07178;"> </span><span style="color:#82AAFF;">TypeError</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">Cannot convert undefined or null to object</span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#C792EA;">let</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">res</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#82AAFF;">Object</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">target</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#A6ACCD;">source</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">forEach</span><span style="color:#F07178;">(</span><span style="color:#C792EA;">function</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">obj</span><span style="color:#89DDFF;">)</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;font-style:italic;">if</span><span style="color:#F07178;"> (</span><span style="color:#A6ACCD;">obj</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">!=</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">null</span><span style="color:#F07178;">) </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#89DDFF;font-style:italic;">for</span><span style="color:#F07178;"> (</span><span style="color:#C792EA;">let</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">key</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">in</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">obj</span><span style="color:#F07178;">) </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#89DDFF;font-style:italic;">if</span><span style="color:#F07178;"> (</span><span style="color:#A6ACCD;">obj</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">hasOwnProperty</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">key</span><span style="color:#F07178;">)) </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">          </span><span style="color:#A6ACCD;">res</span><span style="color:#F07178;">[</span><span style="color:#A6ACCD;">key</span><span style="color:#F07178;">] </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">obj</span><span style="color:#F07178;">[</span><span style="color:#A6ACCD;">key</span><span style="color:#F07178;">]</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">res</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> target </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span><span style="color:#A6ACCD;"> </span><span style="color:#F07178;">a</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">1</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F07178;">b</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">2</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">};</span></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> source </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span><span style="color:#A6ACCD;"> </span><span style="color:#F07178;">b</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">4</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F07178;">c</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">5</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> returnedTarget </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> Object</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">assign2</span><span style="color:#A6ACCD;">(target</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> source)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#A6ACCD;">(target)</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;">// { a: 1, b: 4, c: 5 }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#A6ACCD;">(returnedTarget)</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;">// { a: 1, b: 4, c: 5 }</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br></div></div><h3 id="_4-æ‰‹å†™å‘å¸ƒè®¢é˜…" tabindex="-1">ï¼ˆ4ï¼‰æ‰‹å†™å‘å¸ƒè®¢é˜… <a class="header-anchor" href="#_4-æ‰‹å†™å‘å¸ƒè®¢é˜…" aria-label="Permalink to &quot;ï¼ˆ4ï¼‰æ‰‹å†™å‘å¸ƒè®¢é˜…&quot;">â€‹</a></h3><p><strong>ä»£ç å®ç°ï¼š</strong></p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">class</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">Subject</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#C792EA;">constructor</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">name</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">this.</span><span style="color:#A6ACCD;">name</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">name</span><span style="color:#89DDFF;">;</span><span style="color:#F07178;"> </span><span style="color:#676E95;font-style:italic;">// è¢«è§‚å¯Ÿè€…çš„åå­—</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">this.</span><span style="color:#A6ACCD;">message</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">ä»Šå¤©æ˜¯æ™´å¤©</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">;</span><span style="color:#F07178;"> </span><span style="color:#676E95;font-style:italic;">// å­˜æ”¾ä¸€ä¸ªå€¼</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">this.</span><span style="color:#A6ACCD;">observers</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> []</span><span style="color:#89DDFF;">;</span><span style="color:#F07178;"> </span><span style="color:#676E95;font-style:italic;">// å­˜æ”¾æ‰€æœ‰è§‚å¯Ÿè€…</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">on</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">observer</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">this.</span><span style="color:#A6ACCD;">observers</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">push</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">observer</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">triggle</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">data</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">this.</span><span style="color:#A6ACCD;">message</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">data</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">this.</span><span style="color:#A6ACCD;">observers</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">forEach</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">item</span><span style="color:#89DDFF;">)</span><span style="color:#F07178;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">item</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">update</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">data</span><span style="color:#F07178;">))</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">class</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">Observer</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#C792EA;">constructor</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">name</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">this.</span><span style="color:#A6ACCD;">name</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">name</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">update</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">newDate</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">\`</span><span style="color:#C3E88D;">æˆ‘æ˜¯è§‚å¯Ÿè€…</span><span style="color:#89DDFF;">\${</span><span style="color:#89DDFF;">this.</span><span style="color:#A6ACCD;">name</span><span style="color:#89DDFF;">}</span><span style="color:#C3E88D;">: </span><span style="color:#89DDFF;">\${</span><span style="color:#A6ACCD;">newDate</span><span style="color:#89DDFF;">}\`</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// æµ‹è¯•ä»£ç </span></span>
<span class="line"><span style="color:#C792EA;">let</span><span style="color:#A6ACCD;"> subject </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">new</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">Subject</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">message</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">let</span><span style="color:#A6ACCD;"> o1 </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">new</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">Observer</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">å°çº¢</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#C792EA;">let</span><span style="color:#A6ACCD;"> o2 </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">new</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">Observer</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">å°æ˜</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">subject</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">on</span><span style="color:#A6ACCD;">(o1)</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;">// æˆ‘æ˜¯è§‚å¯Ÿè€…å°çº¢: æ˜å¤©ä¼šä¸‹é›¨</span></span>
<span class="line"><span style="color:#A6ACCD;">subject</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">on</span><span style="color:#A6ACCD;">(o2)</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;">// æˆ‘æ˜¯è§‚å¯Ÿè€…å°æ˜: æ˜å¤©ä¼šä¸‹é›¨</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">subject</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">triggle</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">æ˜å¤©ä¼šä¸‹é›¨</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br></div></div><h1 id="ğŸ˜‰-å…«ã€ç»“æŸè¯­" tabindex="-1">ğŸ˜‰ å…«ã€ç»“æŸè¯­ <a class="header-anchor" href="#ğŸ˜‰-å…«ã€ç»“æŸè¯­" aria-label="Permalink to &quot;ğŸ˜‰ å…«ã€ç»“æŸè¯­&quot;">â€‹</a></h1><p>ä»¥ä¸Šæ”¶å½•å‘¨ä¸€æ•´ä¸ªç§‹æ‹›å¤‡è¯•è¿‡ç¨‹ä¸­ <code>JavaScript</code> çš„æ‰€æœ‰é¢è¯•é¢˜ï¼Œä¸Šé¢çš„é¢è¯•é¢˜å¯èƒ½è¿˜ä¸å¤Ÿå…¨ï¼Œå¦‚æœ‰æƒ³è¦è¡¥å……çš„å†…å®¹ä¹Ÿæ¬¢è¿è”ç³» <code>vx:MondayLaboratory</code> ï¼Œå¸Œæœ›èƒ½å¤Ÿè®©æ–‡ç« å†…å®¹æ›´åŠ å°½å–„å°½ç¾ï¼Œé€ ç¦æ›´å¤šå¤‡è¯•çš„å°ä¼™ä¼´~</p><p>æœ€åï¼Œé¢„ç¥å„ä½çœ‹åˆ°è¿™ç¯‡æ–‡ç« çš„å°ä¼™ä¼´ä»¬ï¼Œéƒ½èƒ½å¤Ÿæ–©è·åˆ°è‡ªå·±å¿ƒä»ªçš„ <code>offer</code> ~</p><h1 id="ğŸ£-å½©è›‹-one-more-thing" tabindex="-1">ğŸ£ å½©è›‹ One More Thing <a class="header-anchor" href="#ğŸ£-å½©è›‹-one-more-thing" aria-label="Permalink to &quot;ğŸ£ å½©è›‹ One More Thing&quot;">â€‹</a></h1><h2 id="pdf-å†…å®¹è·å–" tabindex="-1">ï¼ˆï¼špdf å†…å®¹è·å– <a class="header-anchor" href="#pdf-å†…å®¹è·å–" aria-label="Permalink to &quot;ï¼ˆï¼špdf å†…å®¹è·å–&quot;">â€‹</a></h2><p>ğŸ‘‰ å¾®ä¿¡å…³æ³¨å…¬ä¼—å· <code>æ˜ŸæœŸä¸€ç ”ç©¶å®¤</code> ï¼Œå›å¤å…³é”®å­— <code>jsé¢è¯•pdf</code> å³å¯è·å–ç›¸å…³ <code>pdf</code> å†…å®¹~</p><p>ğŸ‘‰ å›å¤ <code>é¢è¯•å¤§å…¨pdf</code> å¯è·å–å…¨ä¸“æ å†…å®¹ï¼</p><h2 id="æ›´æ–°åœ°å€" tabindex="-1">ï¼ˆï¼šæ›´æ–°åœ°å€ <a class="header-anchor" href="#æ›´æ–°åœ°å€" aria-label="Permalink to &quot;ï¼ˆï¼šæ›´æ–°åœ°å€&quot;">â€‹</a></h2><p>ğŸ‘‰ <a href="https://juejin.cn/column/7007991853089849351" target="_blank" rel="noreferrer">offer æ¥äº†é¢è¯•ä¸“æ </a></p><h2 id="ç•ªå¤–ç¯‡" tabindex="-1">ï¼ˆï¼šç•ªå¤–ç¯‡ <a class="header-anchor" href="#ç•ªå¤–ç¯‡" aria-label="Permalink to &quot;ï¼ˆï¼šç•ªå¤–ç¯‡&quot;">â€‹</a></h2><ul><li>å¦‚æœæ‚¨è§‰å¾—è¿™ç¯‡æ–‡ç« æœ‰å¸®åŠ©åˆ°æ‚¨çš„çš„è¯ä¸å¦¨ç‚¹èµæ”¯æŒä¸€ä¸‹å“Ÿ~~ğŸ˜‰</li><li>ä»¥ä¸Šå°±æ˜¯æœ¬æ–‡çš„å…¨éƒ¨å†…å®¹ï¼æˆ‘ä»¬ä¸‹æœŸè§ï¼ğŸ‘‹ğŸ‘‹ğŸ‘‹</li></ul>`,420),e=[o];function r(t,c,y,F,D,i){return a(),n("div",null,e)}const b=s(p,[["render",r]]);export{C as __pageData,b as default};
