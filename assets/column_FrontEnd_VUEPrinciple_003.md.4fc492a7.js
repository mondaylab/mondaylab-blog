import{_ as s,c as n,o as a,N as l}from"./chunks/framework.6510d215.js";const u=JSON.parse('{"title":"æ¨¡æ¿ç¼–è¯‘templateçš„èƒŒåï¼Œç©¶ç«Ÿå‘ç”Ÿäº†ä»€ä¹ˆäº‹ï¼Ÿå¸¦ä½ äº†è§£templateçš„çº¸çŸ­æƒ…é•¿","description":"","frontmatter":{"title":"æ¨¡æ¿ç¼–è¯‘templateçš„èƒŒåï¼Œç©¶ç«Ÿå‘ç”Ÿäº†ä»€ä¹ˆäº‹ï¼Ÿå¸¦ä½ äº†è§£templateçš„çº¸çŸ­æƒ…é•¿","author":"å‘¨ä¸€","date":"2021-06-29","categories":["å‰ç«¯å¼€å‘"],"tags":["vue.jsåŸç†è§£æ"],"sidebar":"auto"},"headers":[{"level":1,"title":"å‰è¨€","slug":"å‰è¨€","link":"#å‰è¨€","children":[]},{"level":1,"title":"ä¸€ã€ğŸ“‘ åˆè¯†æ¨¡æ¿ç¼–è¯‘","slug":"ä¸€ã€ğŸ“‘-åˆè¯†æ¨¡æ¿ç¼–è¯‘","link":"#ä¸€ã€ğŸ“‘-åˆè¯†æ¨¡æ¿ç¼–è¯‘","children":[{"level":2,"title":"1ã€vue ç»„ä»¶ä¸­ä½¿ç”¨ render ä»£æ›¿ template","slug":"_1ã€vue-ç»„ä»¶ä¸­ä½¿ç”¨-render-ä»£æ›¿-template","link":"#_1ã€vue-ç»„ä»¶ä¸­ä½¿ç”¨-render-ä»£æ›¿-template","children":[]},{"level":2,"title":"2ã€æ¨¡æ¿ç¼–è¯‘æ€»ç»“","slug":"_2ã€æ¨¡æ¿ç¼–è¯‘æ€»ç»“","link":"#_2ã€æ¨¡æ¿ç¼–è¯‘æ€»ç»“","children":[]}]},{"level":1,"title":"äºŒã€âœï¸ æ„Ÿå—æ¨¡æ¿ç¼–è¯‘çš„ç¾","slug":"äºŒã€âœï¸-æ„Ÿå—æ¨¡æ¿ç¼–è¯‘çš„ç¾","link":"#äºŒã€âœï¸-æ„Ÿå—æ¨¡æ¿ç¼–è¯‘çš„ç¾","children":[{"level":2,"title":"1ã€with è¯­æ³•","slug":"_1ã€with-è¯­æ³•","link":"#_1ã€with-è¯­æ³•","children":[{"level":3,"title":"ï¼ˆ1ï¼‰ä¾‹å­å±•ç¤º ğŸŒ°","slug":"_1-ä¾‹å­å±•ç¤º-ğŸŒ°","link":"#_1-ä¾‹å­å±•ç¤º-ğŸŒ°","children":[]},{"level":3,"title":"ï¼ˆ2ï¼‰çŸ¥è¯†ç‚¹å½’çº³","slug":"_2-çŸ¥è¯†ç‚¹å½’çº³","link":"#_2-çŸ¥è¯†ç‚¹å½’çº³","children":[]}]}]},{"level":1,"title":"ä¸‰ã€ğŸ“ˆ ç¼–è¯‘æ¨¡æ¿","slug":"ä¸‰ã€ğŸ“ˆ-ç¼–è¯‘æ¨¡æ¿","link":"#ä¸‰ã€ğŸ“ˆ-ç¼–è¯‘æ¨¡æ¿","children":[{"level":2,"title":"1ã€ç¼–è¯‘æ¨¡æ¿ç¢ç¢å¿µ","slug":"_1ã€ç¼–è¯‘æ¨¡æ¿ç¢ç¢å¿µ","link":"#_1ã€ç¼–è¯‘æ¨¡æ¿ç¢ç¢å¿µ","children":[]},{"level":2,"title":"2ã€ç¼–è¯‘æ¨¡æ¿è¿‡ç¨‹","slug":"_2ã€ç¼–è¯‘æ¨¡æ¿è¿‡ç¨‹","link":"#_2ã€ç¼–è¯‘æ¨¡æ¿è¿‡ç¨‹","children":[{"level":3,"title":"ï¼ˆ1ï¼‰åˆå§‹åŒ–ä¸€ä¸ª npm ç¯å¢ƒ","slug":"_1-åˆå§‹åŒ–ä¸€ä¸ª-npm-ç¯å¢ƒ","link":"#_1-åˆå§‹åŒ–ä¸€ä¸ª-npm-ç¯å¢ƒ","children":[]},{"level":3,"title":"ï¼ˆ2ï¼‰å®‰è£…ç¼–è¯‘å™¨","slug":"_2-å®‰è£…ç¼–è¯‘å™¨","link":"#_2-å®‰è£…ç¼–è¯‘å™¨","children":[]},{"level":3,"title":"ï¼ˆ3ï¼‰æ–°å»ºæ–°æ–‡ä»¶","slug":"_3-æ–°å»ºæ–°æ–‡ä»¶","link":"#_3-æ–°å»ºæ–°æ–‡ä»¶","children":[]},{"level":3,"title":"ï¼ˆ4ï¼‰äº†è§£ç¼©å†™å‡½æ•°","slug":"_4-äº†è§£ç¼©å†™å‡½æ•°","link":"#_4-äº†è§£ç¼©å†™å‡½æ•°","children":[]},{"level":3,"title":"ï¼ˆ5ï¼‰ç¼–è¯‘æ’å€¼","slug":"_5-ç¼–è¯‘æ’å€¼","link":"#_5-ç¼–è¯‘æ’å€¼","children":[]},{"level":3,"title":"ï¼ˆ6ï¼‰ç¼–è¯‘è¡¨è¾¾å¼","slug":"_6-ç¼–è¯‘è¡¨è¾¾å¼","link":"#_6-ç¼–è¯‘è¡¨è¾¾å¼","children":[]},{"level":3,"title":"ï¼ˆ7ï¼‰ç¼–è¯‘å±æ€§å’ŒåŠ¨æ€å±æ€§","slug":"_7-ç¼–è¯‘å±æ€§å’ŒåŠ¨æ€å±æ€§","link":"#_7-ç¼–è¯‘å±æ€§å’ŒåŠ¨æ€å±æ€§","children":[]},{"level":3,"title":"ï¼ˆ8ï¼‰ç¼–è¯‘æ¡ä»¶","slug":"_8-ç¼–è¯‘æ¡ä»¶","link":"#_8-ç¼–è¯‘æ¡ä»¶","children":[]},{"level":3,"title":"ï¼ˆ9ï¼‰ç¼–è¯‘å¾ªç¯","slug":"_9-ç¼–è¯‘å¾ªç¯","link":"#_9-ç¼–è¯‘å¾ªç¯","children":[]},{"level":3,"title":"ï¼ˆ10ï¼‰ç¼–è¯‘äº‹ä»¶","slug":"_10-ç¼–è¯‘äº‹ä»¶","link":"#_10-ç¼–è¯‘äº‹ä»¶","children":[]},{"level":3,"title":"ï¼ˆ11ï¼‰ç¼–è¯‘ v-model","slug":"_11-ç¼–è¯‘-v-model","link":"#_11-ç¼–è¯‘-v-model","children":[]}]},{"level":2,"title":"3ã€æ¨¡æ¿ç¼–è¯‘æ€»ç»“","slug":"_3ã€æ¨¡æ¿ç¼–è¯‘æ€»ç»“","link":"#_3ã€æ¨¡æ¿ç¼–è¯‘æ€»ç»“","children":[]}]},{"level":1,"title":"å››ã€ğŸ”‘ ç»„ä»¶æ¸²æŸ“/æ›´æ–°è¿‡ç¨‹","slug":"å››ã€ğŸ”‘-ç»„ä»¶æ¸²æŸ“-æ›´æ–°è¿‡ç¨‹","link":"#å››ã€ğŸ”‘-ç»„ä»¶æ¸²æŸ“-æ›´æ–°è¿‡ç¨‹","children":[{"level":2,"title":"1ã€åˆè¯†ç»„ä»¶æ¸²æŸ“/æ›´æ–°","slug":"_1ã€åˆè¯†ç»„ä»¶æ¸²æŸ“-æ›´æ–°","link":"#_1ã€åˆè¯†ç»„ä»¶æ¸²æŸ“-æ›´æ–°","children":[]},{"level":2,"title":"2ã€ç»„ä»¶æ¸²æŸ“/æ›´æ–°è¿‡ç¨‹","slug":"_2ã€ç»„ä»¶æ¸²æŸ“-æ›´æ–°è¿‡ç¨‹","link":"#_2ã€ç»„ä»¶æ¸²æŸ“-æ›´æ–°è¿‡ç¨‹","children":[{"level":3,"title":"ï¼ˆ1ï¼‰åˆæ¬¡æ¸²æŸ“è¿‡ç¨‹","slug":"_1-åˆæ¬¡æ¸²æŸ“è¿‡ç¨‹","link":"#_1-åˆæ¬¡æ¸²æŸ“è¿‡ç¨‹","children":[{"level":4,"title":"1ï¼‰è§£ææ¨¡æ¿ä¸º render å‡½æ•°","slug":"_1-è§£ææ¨¡æ¿ä¸º-render-å‡½æ•°","link":"#_1-è§£ææ¨¡æ¿ä¸º-render-å‡½æ•°","children":[]},{"level":4,"title":"2ï¼‰è§¦å‘å“åº”å¼","slug":"_2-è§¦å‘å“åº”å¼","link":"#_2-è§¦å‘å“åº”å¼","children":[]},{"level":4,"title":"3ï¼‰æ‰§è¡Œ render å‡½æ•°ï¼Œç”Ÿæˆ vnode","slug":"_3-æ‰§è¡Œ-render-å‡½æ•°-ç”Ÿæˆ-vnode","link":"#_3-æ‰§è¡Œ-render-å‡½æ•°-ç”Ÿæˆ-vnode","children":[]}]},{"level":3,"title":"ï¼ˆ2ï¼‰æ›´æ–°è¿‡ç¨‹","slug":"_2-æ›´æ–°è¿‡ç¨‹","link":"#_2-æ›´æ–°è¿‡ç¨‹","children":[{"level":4,"title":"1ï¼‰æ›´æ–°è¿‡ç¨‹ç»†è¿°","slug":"_1-æ›´æ–°è¿‡ç¨‹ç»†è¿°","link":"#_1-æ›´æ–°è¿‡ç¨‹ç»†è¿°","children":[]},{"level":4,"title":"2ï¼‰å®Œæˆæµç¨‹å›¾","slug":"_2-å®Œæˆæµç¨‹å›¾","link":"#_2-å®Œæˆæµç¨‹å›¾","children":[]}]},{"level":3,"title":"ï¼ˆ3ï¼‰å¼‚æ­¥æ¸²æŸ“","slug":"_3-å¼‚æ­¥æ¸²æŸ“","link":"#_3-å¼‚æ­¥æ¸²æŸ“","children":[]}]},{"level":2,"title":"3ã€å°ç»“","slug":"_3ã€å°ç»“","link":"#_3ã€å°ç»“","children":[]}]},{"level":1,"title":"äº”ã€âœ”ï¸ ç»“æŸè¯­","slug":"äº”ã€âœ”ï¸-ç»“æŸè¯­","link":"#äº”ã€âœ”ï¸-ç»“æŸè¯­","children":[]}],"relativePath":"column/FrontEnd/VUEPrinciple/003.md","lastUpdated":1685151998000}'),e={name:"column/FrontEnd/VUEPrinciple/003.md"},p=l(`<h1 id="å‰è¨€" tabindex="-1">å‰è¨€ <a class="header-anchor" href="#å‰è¨€" aria-label="Permalink to &quot;å‰è¨€&quot;">â€‹</a></h1><p>ä¾ç¨€è®°å¾—æˆ‘ä»¬åœ¨ vue æ—¶ï¼Œæœ€ä¸Šæ–¹æ€»æ˜¯æœ‰ä¸€ä¸ª <code>template</code> åŒ…å›´ç€ã€‚è€Œå¾ˆå¤šæ—¶å€™ï¼Œæˆ‘ä»¬ä¹Ÿæ²¡æœ‰å¾ˆåœ¨æ„çš„å»æ„è¯†åˆ° <code>&lt;template&gt;&lt;/template&gt;</code> ç©¶ç«Ÿæ˜¯ä»€ä¹ˆã€‚</p><p>åœ¨ä»Šå¤©çš„è¿™ç¯‡æ–‡ç« ä¸­ï¼Œå°±å¸¦å¤§å®¶ä¸€èµ·æ¥äº†è§£ï¼Œæ¨¡æ¿ç¼–è¯‘ <code>template</code> çš„èƒŒåï¼Œç©¶ç«Ÿå‘ç”Ÿäº†ä»€ä¹ˆäº‹æƒ…ï¼Ÿ</p><p>ä¸€èµ·æ¥äº†è§£æ¨¡æ¿ç¼–è¯‘çš„çº¸çŸ­æƒ…é•¿ ğŸš‹ğŸš‹ğŸš‹</p><h1 id="ä¸€ã€ğŸ“‘-åˆè¯†æ¨¡æ¿ç¼–è¯‘" tabindex="-1">ä¸€ã€ğŸ“‘ åˆè¯†æ¨¡æ¿ç¼–è¯‘ <a class="header-anchor" href="#ä¸€ã€ğŸ“‘-åˆè¯†æ¨¡æ¿ç¼–è¯‘" aria-label="Permalink to &quot;ä¸€ã€ğŸ“‘ åˆè¯†æ¨¡æ¿ç¼–è¯‘&quot;">â€‹</a></h1><h2 id="_1ã€vue-ç»„ä»¶ä¸­ä½¿ç”¨-render-ä»£æ›¿-template" tabindex="-1">1ã€vue ç»„ä»¶ä¸­ä½¿ç”¨ render ä»£æ›¿ template <a class="header-anchor" href="#_1ã€vue-ç»„ä»¶ä¸­ä½¿ç”¨-render-ä»£æ›¿-template" aria-label="Permalink to &quot;1ã€vue ç»„ä»¶ä¸­ä½¿ç”¨ render ä»£æ›¿ template&quot;">â€‹</a></h2><p><code>template</code> ï¼Œå³æ¨¡æ¿ã€‚æ¨¡æ¿æ˜¯ <code>vue</code> å¼€å‘ä¸­æœ€å¸¸ç”¨çš„éƒ¨åˆ†ï¼Œå³ä¸ vue çš„ä½¿ç”¨å…³è”æœ€ç´§å¯†çš„åŸç†ã€‚å®ƒä¸æ˜¯ <code>html</code> ï¼Œå®ƒæœ‰æŒ‡ä»¤ã€æœ‰æ’å€¼ã€ä¹Ÿæœ‰ <code>JS</code> è¡¨è¾¾å¼ï¼Œé‚£å®ƒï¼Œåˆ°åº•æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿæˆ‘ä»¬æ¥çœ‹ä¸ªä¾‹å­ã€‚</p><p>åœ¨ <code>vue</code> ä¸­å®šä¹‰ä¸€ä¸ªç»„ä»¶ï¼Œé€šå¸¸ä¼šä½¿ç”¨ <code>template</code> æ¨¡æ¿å­—ç¬¦ä¸²æ¥å®šä¹‰ä¸€ä¸ªç»„ä»¶ã€‚<strong>æ¯”å¦‚ï¼š</strong></p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">Vue</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">component</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">heading</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">template</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">\`</span><span style="color:#C3E88D;">xxx</span><span style="color:#89DDFF;">\`</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œæ¨¡æ¿çš„å®šä¹‰æ˜¯ä¸Šé¢è¿™ç§æƒ…å†µã€‚åŒæ—¶ï¼Œåœ¨ç¨‹åºç¼–è¯‘æœŸé—´ï¼Œæ¨¡æ¿ä¼šå°† <code>template</code> çš„è¿™ç§<strong>å­—ç¬¦ä¸²ç±»å‹</strong>ï¼Œç¼–è¯‘æˆ <code>render</code> å‡½æ•°ã€‚</p><hr><p>ä½†æ˜¯å‘¢ï¼Œåœ¨æœ‰äº›å¤æ‚çš„æƒ…å†µä¸‹ï¼Œå¯èƒ½å°±ä¸èƒ½ç”¨ <code>template</code> å‡½æ•°äº†ï¼Œè¿™ä¸ªæ—¶å€™ä¼šè€ƒè™‘ç›´æ¥ç”¨ <code>render</code> å‡½æ•°æ¥å®šä¹‰ä¸€ä¸ªç»„ä»¶ã€‚<strong>æ¯”å¦‚ï¼š</strong></p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">Vue</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">component</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">heading</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#82AAFF;">render</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">createElement</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#82AAFF;">createElement</span><span style="color:#F07178;">(</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">h</span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">+</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">this.</span><span style="color:#A6ACCD;">level</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#676E95;font-style:italic;">//tag props</span></span>
<span class="line"><span style="color:#F07178;">      [</span></span>
<span class="line"><span style="color:#89DDFF;">        </span><span style="color:#676E95;font-style:italic;">//children</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#82AAFF;">createElement</span><span style="color:#F07178;">(</span></span>
<span class="line"><span style="color:#F07178;">          </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">a</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">          </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">            attrs</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">              name</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">headerId</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">              href</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">#</span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">+</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">headerId</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">            </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#F07178;">          </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#F07178;">          </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">this is a tag</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#F07178;">        )</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">      ]</span></span>
<span class="line"><span style="color:#F07178;">    )</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div><p>å°±åƒä¸Šé¢è¿™æ ·å­ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥é€šè¿‡ä½¿ç”¨ä¸€ä¸ª <code>render</code> å‡½æ•°æ¥å®šä¹‰ä¸€ä¸ªç»„ä»¶ã€‚</p><h2 id="_2ã€æ¨¡æ¿ç¼–è¯‘æ€»ç»“" tabindex="-1">2ã€æ¨¡æ¿ç¼–è¯‘æ€»ç»“ <a class="header-anchor" href="#_2ã€æ¨¡æ¿ç¼–è¯‘æ€»ç»“" aria-label="Permalink to &quot;2ã€æ¨¡æ¿ç¼–è¯‘æ€»ç»“&quot;">â€‹</a></h2><p>çœ‹å®Œä¸Šé¢çš„ä¾‹å­ï¼Œæˆ‘ä»¬æ¥åšä¸ªå°ç»“ âœ¨</p><ul><li>templateï¼Œå³æ¨¡æ¿ã€‚è¿™ä¸ªæ¨¡æ¿ä¼šç¼–è¯‘æˆ <code>render</code> å‡½æ•°ï¼Œå…¶ä¸­ <code>render</code> å‡½æ•°ç”¨çš„æ˜¯ <code>with</code> è¯­æ³•ã€‚</li><li>è¿‡ç¨‹ï¼šæ¨¡æ¿ â†’ <code>render</code> å‡½æ•° â†’ <code>vnode</code> â†’ ç»„ä»¶æ¸²æŸ“å’Œæ›´æ–°è¿‡ç¨‹ã€‚</li><li><code>vue</code> ç»„ä»¶å¯ä»¥ç”¨ <code>render</code> å‡½æ•°ä»£æ›¿ <code>template</code> ã€‚</li><li><code>React</code> ä¸€ç›´éƒ½ç”¨ <code>render</code> ï¼Œæ²¡æœ‰æ¨¡æ¿ï¼ˆè¿™é‡Œä»…ä½œçŸ¥è¯†è¡¥å……ï¼Œä¸åšè®²è§£ï¼‰ã€‚</li></ul><h1 id="äºŒã€âœï¸-æ„Ÿå—æ¨¡æ¿ç¼–è¯‘çš„ç¾" tabindex="-1">äºŒã€âœï¸ æ„Ÿå—æ¨¡æ¿ç¼–è¯‘çš„ç¾ <a class="header-anchor" href="#äºŒã€âœï¸-æ„Ÿå—æ¨¡æ¿ç¼–è¯‘çš„ç¾" aria-label="Permalink to &quot;äºŒã€âœï¸ æ„Ÿå—æ¨¡æ¿ç¼–è¯‘çš„ç¾&quot;">â€‹</a></h1><h2 id="_1ã€with-è¯­æ³•" tabindex="-1">1ã€with è¯­æ³• <a class="header-anchor" href="#_1ã€with-è¯­æ³•" aria-label="Permalink to &quot;1ã€with è¯­æ³•&quot;">â€‹</a></h2><h3 id="_1-ä¾‹å­å±•ç¤º-ğŸŒ°" tabindex="-1">ï¼ˆ1ï¼‰ä¾‹å­å±•ç¤º ğŸŒ° <a class="header-anchor" href="#_1-ä¾‹å­å±•ç¤º-ğŸŒ°" aria-label="Permalink to &quot;ï¼ˆ1ï¼‰ä¾‹å­å±•ç¤º ğŸŒ°&quot;">â€‹</a></h3><p>å…ˆæ¥äº†è§£æ¨¡æ¿ç¼–è¯‘ä¸­ä¸€ä¸ªå¾ˆé‡è¦çš„çŸ¥è¯†ç‚¹ï¼Œ <code>with</code> è¯­æ³•ã€‚ä¸‹é¢å…ˆç”¨ä¸€ä¸ªä¾‹å­æ¥å±•ç¤º with è¯­æ³•ä¸æ™®é€šè¯­æ³•çš„ä¸åŒã€‚</p><p><strong>ä¸ä½¿ç”¨ with è¯­æ³•æ‰§è¡Œç¨‹åºæ—¶ï¼š</strong></p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> obj </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span><span style="color:#A6ACCD;"> </span><span style="color:#F07178;">a</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">100</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F07178;">b</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">200</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#A6ACCD;">(obj</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">a)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#A6ACCD;">(obj</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">b)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#A6ACCD;">(obj</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">c)</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;">//undefined</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p><strong>ä½¿ç”¨ with è¯­æ³•æ‰§è¡Œç¨‹åºæ—¶ï¼š</strong></p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;">//ä½¿ç”¨withï¼Œèƒ½æ”¹å˜ {} å†…è‡ªç”±å˜é‡çš„æŸ¥æ‰¾æ–¹å¼</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// å°† {} å†…è‡ªç”±å˜é‡ï¼Œå½“ä½œ obj çš„å±æ€§æ¥æŸ¥æ‰¾</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">with</span><span style="color:#A6ACCD;"> (obj) </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">a</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">b</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">c</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span><span style="color:#F07178;"> </span><span style="color:#676E95;font-style:italic;">//ä¼šæŠ¥é”™ï¼ï¼ï¼</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h3 id="_2-çŸ¥è¯†ç‚¹å½’çº³" tabindex="-1">ï¼ˆ2ï¼‰çŸ¥è¯†ç‚¹å½’çº³ <a class="header-anchor" href="#_2-çŸ¥è¯†ç‚¹å½’çº³" aria-label="Permalink to &quot;ï¼ˆ2ï¼‰çŸ¥è¯†ç‚¹å½’çº³&quot;">â€‹</a></h3><p>çœ‹å®Œä¸Šé¢ with è¯­æ³•çš„ä¾‹å­ï¼Œæˆ‘ä»¬æ¥å¯¹ <code>with</code> è¯­æ³•åšä¸€ä¸ªçŸ¥è¯†ç‚¹å½’çº³ã€‚</p><ul><li><code>with</code> è¯­æ³•ä¼šæ”¹å˜ <code>{}</code> å†…<strong>è‡ªç”±å˜é‡çš„æŸ¥æ‰¾è§„åˆ™</strong>ï¼Œå½“ä½œ <code>obj</code> å±æ€§æ¥æŸ¥æ‰¾ï¼›</li><li>å¦‚æœåœ¨å½“å‰ <code>{}</code> å†…æ‰¾ä¸åˆ°åŒ¹é…çš„ <code>obj</code> å±æ€§ï¼Œå°±ä¼šæŠ¥é”™ï¼›</li><li><code>with</code> è¦è°¨æ…ä½¿ç”¨ï¼Œå®ƒæ‰“ç ´äº†<strong>ä½œç”¨åŸŸè§„åˆ™</strong>ï¼Œä¼šè®©å…¶<strong>æ˜“è¯»æ€§å˜å·®</strong>ã€‚</li></ul><h1 id="ä¸‰ã€ğŸ“ˆ-ç¼–è¯‘æ¨¡æ¿" tabindex="-1">ä¸‰ã€ğŸ“ˆ ç¼–è¯‘æ¨¡æ¿ <a class="header-anchor" href="#ä¸‰ã€ğŸ“ˆ-ç¼–è¯‘æ¨¡æ¿" aria-label="Permalink to &quot;ä¸‰ã€ğŸ“ˆ ç¼–è¯‘æ¨¡æ¿&quot;">â€‹</a></h1><h2 id="_1ã€ç¼–è¯‘æ¨¡æ¿ç¢ç¢å¿µ" tabindex="-1">1ã€ç¼–è¯‘æ¨¡æ¿ç¢ç¢å¿µ <a class="header-anchor" href="#_1ã€ç¼–è¯‘æ¨¡æ¿ç¢ç¢å¿µ" aria-label="Permalink to &quot;1ã€ç¼–è¯‘æ¨¡æ¿ç¢ç¢å¿µ&quot;">â€‹</a></h2><p>åœ¨å‰é¢ä¸­æˆ‘ä»¬è®²è¿‡ï¼Œæ¨¡æ¿å®ƒä¸æ˜¯ <code>html</code> ï¼Œå®ƒæœ‰<strong>æŒ‡ä»¤</strong>ã€æœ‰<strong>æ’å€¼</strong>ã€ä¹Ÿæœ‰<strong>JS è¡¨è¾¾å¼</strong>ï¼Œå®ƒèƒ½å®ç°åˆ¤æ–­ã€ä¹Ÿèƒ½å®ç°å¾ªç¯ã€‚</p><p>è¯•æƒ³ä¸€ä¸‹æ¨¡æ¿ä¸ºä»€ä¹ˆä¸æ˜¯ <code>html</code> ï¼Ÿ</p><p>æ€è€ƒä¸€ä¸‹ï¼Œå‡å¦‚ä½ åœ¨å†™ç¨‹åºæ—¶ï¼Œèƒ½ç”¨ <code>html</code> å†™å‡ºä¸€ä¸ªåˆ¤æ–­æˆ–è€…å¾ªç¯å‡ºæ¥å—ï¼Ÿç­”æ¡ˆè‡ªç„¶æ—¶ä¸è¡Œçš„ã€‚</p><p>æ‰€ä»¥è¯´ï¼Œ <code>html</code> åªæ˜¯ä¸€ä¸ª<strong>é™æ€çš„æ ‡ç­¾è¯­è¨€</strong>ï¼Œä½ å†™ä»€ä¹ˆå®ƒå°±æ˜¾ç¤ºä»€ä¹ˆï¼Œå®ƒæ²¡æœ‰åŠæ³•å®ç°ä¸€ä¸ªé€»è¾‘ï¼Œæˆ–è€…åšå¾ªç¯å’Œåˆ¤æ–­ã€‚</p><p>å› æ­¤ï¼Œå¯¹äºå‰ç«¯æµè§ˆå™¨è€Œè¨€ï¼Œåªæœ‰ <code>JS</code> æ‰èƒ½å®ç°åˆ¤æ–­å’Œå¾ªç¯ç­‰å„ç§é€»è¾‘åŠŸèƒ½ã€‚</p><p>æ‰€ä»¥ï¼Œ<strong>æ¨¡æ¿</strong>ä¸€å®šæ˜¯<strong>è½¬æ¢ä¸ºæŸç§ <code>JS</code> ä»£ç </strong>ä¹‹åæ‰è¿›è¡Œè¿è¡Œçš„ã€‚è€Œè¿™ä¸ªæ¨¡æ¿æ€ä¹ˆè½¬æ¢æˆ <code>js</code> ä»£ç çš„è¿™ä¸ªè¿‡ç¨‹ï¼Œå°±ç§°ä¸º<strong>ç¼–è¯‘æ¨¡æ¿</strong>ã€‚</p><p>é‚£è¿™ä¸ªæ¨¡æ¿æ˜¯æ€ä¹ˆè½¬çš„å‘¢ï¼Ÿæ¥ä¸‹æ¥æˆ‘ä»¬æ¥çœ‹ä¸‹ç¼–è¯‘æ¨¡æ¿çš„è¿‡ç¨‹ã€‚</p><h2 id="_2ã€ç¼–è¯‘æ¨¡æ¿è¿‡ç¨‹" tabindex="-1">2ã€ç¼–è¯‘æ¨¡æ¿è¿‡ç¨‹ <a class="header-anchor" href="#_2ã€ç¼–è¯‘æ¨¡æ¿è¿‡ç¨‹" aria-label="Permalink to &quot;2ã€ç¼–è¯‘æ¨¡æ¿è¿‡ç¨‹&quot;">â€‹</a></h2><h3 id="_1-åˆå§‹åŒ–ä¸€ä¸ª-npm-ç¯å¢ƒ" tabindex="-1">ï¼ˆ1ï¼‰åˆå§‹åŒ–ä¸€ä¸ª npm ç¯å¢ƒ <a class="header-anchor" href="#_1-åˆå§‹åŒ–ä¸€ä¸ª-npm-ç¯å¢ƒ" aria-label="Permalink to &quot;ï¼ˆ1ï¼‰åˆå§‹åŒ–ä¸€ä¸ª npm ç¯å¢ƒ&quot;">â€‹</a></h3><p>é¦–å…ˆå…ˆå»ºç«‹ä¸€ä¸ªæ–°æ–‡ä»¶ï¼Œå¯ä»¥å‘½åä¸º <code>vue-template-complier-demo</code> ã€‚ä¹‹åç”¨ä»¥ä¸‹å‘½ä»¤è¡Œåˆå§‹åŒ–ä¸€ä¸ª npm çš„ç¯å¢ƒï¼š</p><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">npm</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">init</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-y</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h3 id="_2-å®‰è£…ç¼–è¯‘å™¨" tabindex="-1">ï¼ˆ2ï¼‰å®‰è£…ç¼–è¯‘å™¨ <a class="header-anchor" href="#_2-å®‰è£…ç¼–è¯‘å™¨" aria-label="Permalink to &quot;ï¼ˆ2ï¼‰å®‰è£…ç¼–è¯‘å™¨&quot;">â€‹</a></h3><p><code>npm</code> å®‰è£…æ¨¡æ¿ç¼–è¯‘å™¨ã€‚<strong>å‘½ä»¤è¡Œå¦‚ä¸‹ï¼š</strong></p><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">npm</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">install</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">vue-template-compiler</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">--save</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h3 id="_3-æ–°å»ºæ–°æ–‡ä»¶" tabindex="-1">ï¼ˆ3ï¼‰æ–°å»ºæ–°æ–‡ä»¶ <a class="header-anchor" href="#_3-æ–°å»ºæ–°æ–‡ä»¶" aria-label="Permalink to &quot;ï¼ˆ3ï¼‰æ–°å»ºæ–°æ–‡ä»¶&quot;">â€‹</a></h3><p>åœ¨æ ¹ç›®å½•ä¸‹åˆå§‹åŒ–æ–°å»ºä¸€ä¸ª <code>index.js</code> æ–‡ä»¶ï¼Œå¹¶å¼•å…¥ <code>vue-template-compiler</code> ã€‚ä»£ç å¦‚ä¸‹ï¼š</p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;">//å¼•å…¥vue-template-compiler</span></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> compiler </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">require</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">vue-template-compiler</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// ç¼–è¯‘</span></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> res </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> compiler</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">compile</span><span style="color:#A6ACCD;">(template)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#A6ACCD;">(res</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">render)</span><span style="color:#89DDFF;">;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>æ¥ä¸‹æ¥æˆ‘ä»¬å°±æ¥çœ‹ä¸‹ï¼Œæ¨¡æ¿ä¸­çš„æ’å€¼ã€è¡¨è¾¾å¼ã€å±æ€§å’ŒåŠ¨æ€å±æ€§ç­‰ç­‰ç±»å‹çš„ç¼–è¯‘ï¼Œåˆ°åº•æ˜¯æ€ä¹ˆæ ·çš„ï¼Ÿ</p><h3 id="_4-äº†è§£ç¼©å†™å‡½æ•°" tabindex="-1">ï¼ˆ4ï¼‰äº†è§£ç¼©å†™å‡½æ•° <a class="header-anchor" href="#_4-äº†è§£ç¼©å†™å‡½æ•°" aria-label="Permalink to &quot;ï¼ˆ4ï¼‰äº†è§£ç¼©å†™å‡½æ•°&quot;">â€‹</a></h3><p>ä»¥ä¸‹ vue æºç ä¸­çš„ç¼©å†™å‡½æ•°å…ˆäº†è§£ï¼Œå°†åœ¨ä¸‹é¢çš„è®²è§£ä¸­ç”¨åˆ°ã€‚</p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;">// ä» vue æºç ä¸­æ‰¾åˆ°ç¼©å†™å‡½æ•°çš„å«ä¹‰</span></span>
<span class="line"><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">installRenderHelpers</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">target</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#A6ACCD;">target</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">_c</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">createElement</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#A6ACCD;">target</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">_o</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">markOnce</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#A6ACCD;">target</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">_n</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">toNumber</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#A6ACCD;">target</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">_s</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">toString</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#A6ACCD;">target</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">_l</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">renderList</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#A6ACCD;">target</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">_t</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">renderSlot</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#A6ACCD;">target</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">_q</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">looseEqual</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#A6ACCD;">target</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">_i</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">looseIndexOf</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#A6ACCD;">target</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">_m</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">renderStatic</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#A6ACCD;">target</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">_f</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">resolveFilter</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#A6ACCD;">target</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">_k</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">checkKeyCodes</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#A6ACCD;">target</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">_b</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">bindObjectProps</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#A6ACCD;">target</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">_v</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">createTextVNode</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#A6ACCD;">target</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">_e</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">createEmptyVNode</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#A6ACCD;">target</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">_u</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">resolveScopedSlots</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#A6ACCD;">target</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">_g</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">bindObjectListeners</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#A6ACCD;">target</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">_d</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">bindDynamicKeys</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#A6ACCD;">target</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">_p</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">prependModifier</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br></div></div><h3 id="_5-ç¼–è¯‘æ’å€¼" tabindex="-1">ï¼ˆ5ï¼‰ç¼–è¯‘æ’å€¼ <a class="header-anchor" href="#_5-ç¼–è¯‘æ’å€¼" aria-label="Permalink to &quot;ï¼ˆ5ï¼‰ç¼–è¯‘æ’å€¼&quot;">â€‹</a></h3><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;">//å¼•å…¥vue-template-compiler</span></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> compiler </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">require</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">vue-template-compiler</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// æ’å€¼</span></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> template </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">\`</span><span style="color:#C3E88D;">&lt;p&gt;{{message}}&lt;/p&gt;</span><span style="color:#89DDFF;">\`</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// with(this){return createElement(&#39;p&#39;,[createTextVNode(toString(message))])}</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// h -&gt; vnode</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// createElement -&gt; vnode</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// ç¼–è¯‘</span></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> res </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> compiler</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">compile</span><span style="color:#A6ACCD;">(template)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#A6ACCD;">(res</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">render)</span><span style="color:#89DDFF;">;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><p><strong>ç¼–è¯‘ä»¥ä¸Šå†…å®¹ï¼Œæ‰“å°ç»“æœå¦‚ä¸‹ï¼š</strong></p><p><img src="https://mondaylab-1309616765.cos.ap-shanghai.myqcloud.com/images/202305270738251.png" alt="ç¼–è¯‘æ’å€¼"></p><p>ä»ä¸Šå›¾ä¸­å¯ä»¥çœ‹åˆ°ï¼Œ<strong>æ’å€¼</strong>ç±»å‹çš„æ¨¡æ¿æœ€ç»ˆè¢«ç¼–è¯‘æˆä¸€ä¸ª <code>with</code> è¯­å¥ï¼Œå¹¶ä¸”è¿™ä¸ª <code>with</code> è¯­å¥çš„å‚æ•°éƒ½æŒ‡å‘äº† <code>this</code> ã€‚</p><p>åŒæ—¶ï¼Œå¤§å®¶å¯ä»¥çœ‹åˆ°ï¼Œé‡Œé¢æœ‰ä¸€ä¸ª <code>_c</code> ï¼Œ <code>_v</code> ï¼Œ <code>_s</code>ã€‚é‚£è¿™å‡ ä¸ªå…ƒç´ æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿ</p><p>è¿™ä¸ªå°±æ˜¯ä¸Šé¢ç¬¬å››ç‚¹ä¸­æåˆ°çš„ <code>vue</code> æºç ä¸­çš„ç¼©å†™å‡½æ•°ã€‚ <code>_c</code> å¯¹åº”çš„å°±æ˜¯æºç ä¸­çš„ <code>createElement</code>ï¼Œ <code>_v</code> å¯¹åº”çš„å°±æ˜¯æºç ä¸­çš„ <code>createTextVNode</code> ï¼Œ<code>_s</code> å¯¹åº”çš„å°±æ˜¯æºç ä¸­çš„ <code>toString</code> ã€‚</p><p>æ‰€ä»¥ï¼Œä»¥ä¸Šç¼–è¯‘åçš„ <code>with</code> è¯­å¥ <code>with(this){return _c(&#39;p&#39;,[_v(_s(message))])} </code> ï¼Œäº‹å®ä¸Šå°±æ˜¯ <code>with(this){return createElement(&#39;p&#39;,[createTextVNode(toString(message))])}</code> ã€‚</p><p>ä»¥ä¸Šè¿™ä¸ªè¯­å¥çš„æ„æ€ä¸ºï¼Œç¼–è¯‘åˆ›å»ºä¸€ä¸ª <code>p</code> å…ƒç´ ï¼Œä¹‹åå‘¢ï¼Œ <code>p</code> å…ƒç´ å°±æ²¡æœ‰å­å…ƒç´ äº†ï¼Œäºæ˜¯å°±åˆ›å»ºå®ƒçš„æ–‡æœ¬èŠ‚ç‚¹ <code>message</code> ï¼ŒåŒæ—¶ <code>message</code> æ˜¯å­—ç¬¦ä¸²çš„å½¢å¼å­˜åœ¨ï¼Œå› æ­¤è¦è¿›è¡Œ <code>toString</code> ã€‚</p><p>é¢å¤–å†è¡¥å……ä¸€ä¸ªçŸ¥è¯†ç‚¹ï¼Œ <code>createElement</code> å…¶å®å°±ç­‰äºæˆ‘ä»¬å¹³å¸¸æ‰€è¯´çš„ <code>h</code> å‡½æ•°ï¼Œè¿”å›çš„æ˜¯ä¸€ä¸ª <code>è™šæ‹ŸDOM</code> èŠ‚ç‚¹ã€‚</p><p>ä»¥ä¸Šå°±æ˜¯ä¸€ä¸ª<strong>æ’å€¼æ¨¡æ¿</strong>ç¼–è¯‘çš„è¿‡ç¨‹ï¼Œä¸‹é¢å†ç”¨å‡ ä¸ªä¾‹å­è®©å¤§å®¶ç†Ÿæ‚‰ã€‚</p><h3 id="_6-ç¼–è¯‘è¡¨è¾¾å¼" tabindex="-1">ï¼ˆ6ï¼‰ç¼–è¯‘è¡¨è¾¾å¼ <a class="header-anchor" href="#_6-ç¼–è¯‘è¡¨è¾¾å¼" aria-label="Permalink to &quot;ï¼ˆ6ï¼‰ç¼–è¯‘è¡¨è¾¾å¼&quot;">â€‹</a></h3><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;">//å¼•å…¥vue-template-compiler</span></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> compiler </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">require</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">vue-template-compiler</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// è¡¨è¾¾å¼</span></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> template </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">\`</span><span style="color:#C3E88D;">&lt;p&gt;{{flag ? message : &#39;no message found&#39;}}&lt;/p&gt;</span><span style="color:#89DDFF;">\`</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// with(this){return _c(&#39;p&#39;,[_v(_s(flag ? message : &#39;no message found&#39;))])}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// ç¼–è¯‘</span></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> res </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> compiler</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">compile</span><span style="color:#A6ACCD;">(template)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#A6ACCD;">(res</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">render)</span><span style="color:#89DDFF;">;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p><strong>ç¼–è¯‘ä»¥ä¸Šå†…å®¹ï¼Œæ‰“å°ç»“æœå¦‚ä¸‹ï¼š</strong></p><p><img src="https://mondaylab-1309616765.cos.ap-shanghai.myqcloud.com/images/202305270738272.png" alt="è¡¨è¾¾å¼"></p><p>ä¾æ®ä¸Šé¢æ’å€¼çš„åˆ†ææ–¹æ³•ï¼Œæˆ‘ä»¬æ¥åˆ†æ<strong>è¡¨è¾¾å¼</strong>çš„æ¨¡æ¿ç¼–è¯‘è¿‡ç¨‹ã€‚</p><p><strong>è¡¨è¾¾å¼</strong>ç¼–è¯‘åçš„ç»“æœè¿”å›äº†ä¸€ä¸ªè™šæ‹Ÿ <code>DOM</code> èŠ‚ç‚¹ï¼ŒåŒæ ·åœ°ï¼ŒæŸ¥è¯¢ <code>vue</code> æºç ä¸­çš„ç¼©å†™å‡½æ•°æˆ‘ä»¬å¯ä»¥å‘ç°ï¼Œ <code>with(this){return _c(&#39;p&#39;,[_v(_s(flag ? message : &#39;no message found&#39;))])}</code> æœ€ç»ˆçš„ç»“æœç­‰äº <code>with(this){return createElement(&#39;p&#39;,[createTextVnode(toString(flag ? message : &#39;no message found&#39;))])}</code> ã€‚</p><p>å…ˆåˆ›å»ºäº†ä¸€ä¸ª <code>p</code> å…ƒç´ ï¼Œä¹‹å <code>p</code> å…ƒç´ <strong>æ²¡æœ‰å­å…ƒç´ </strong>äº†ï¼Œäºæ˜¯<strong>åˆ›å»ºæ–‡æœ¬èŠ‚ç‚¹</strong>ï¼Œæœ€ç»ˆ <code>toString</code> ä¸‰ç›®è¡¨è¾¾å¼é‡Œé¢çš„å†…å®¹ã€‚</p><h3 id="_7-ç¼–è¯‘å±æ€§å’ŒåŠ¨æ€å±æ€§" tabindex="-1">ï¼ˆ7ï¼‰ç¼–è¯‘å±æ€§å’ŒåŠ¨æ€å±æ€§ <a class="header-anchor" href="#_7-ç¼–è¯‘å±æ€§å’ŒåŠ¨æ€å±æ€§" aria-label="Permalink to &quot;ï¼ˆ7ï¼‰ç¼–è¯‘å±æ€§å’ŒåŠ¨æ€å±æ€§&quot;">â€‹</a></h3><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;">//å¼•å…¥vue-template-compiler</span></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> compiler </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">require</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">vue-template-compiler</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// å±æ€§å’ŒåŠ¨æ€å±æ€§</span></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> template </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">\`</span></span>
<span class="line"><span style="color:#C3E88D;">    &lt;div id=&quot;div1&quot; class=&quot;container&quot;&gt;</span></span>
<span class="line"><span style="color:#C3E88D;">        &lt;img :src=&quot;imgUrl&quot;/&gt;</span></span>
<span class="line"><span style="color:#C3E88D;">    &lt;/div&gt;</span></span>
<span class="line"><span style="color:#89DDFF;">\`</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// with(this){return _c(&#39;div&#39;,</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">//      {staticClass:&quot;container&quot;,attrs:{&quot;id&quot;:&quot;div1&quot;}},</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">//      [</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">//          _c(&#39;img&#39;,{attrs:{&quot;src&quot;:imgUrl}})])}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// ç¼–è¯‘</span></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> res </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> compiler</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">compile</span><span style="color:#A6ACCD;">(template)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#A6ACCD;">(res</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">render)</span><span style="color:#89DDFF;">;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><p><strong>ç¼–è¯‘ä»¥ä¸Šå†…å®¹ï¼Œæ‰“å°ç»“æœå¦‚ä¸‹ï¼š</strong></p><p><img src="https://mondaylab-1309616765.cos.ap-shanghai.myqcloud.com/images/202305270738255.png" alt="å±æ€§å’ŒåŠ¨æ€å±æ€§"></p><p>ä¾æ®ä¸Šé¢çš„åˆ†ææ–¹æ³•ï¼Œæˆ‘ä»¬æ¥åˆ†æ<strong>å±æ€§å’ŒåŠ¨æ€å±æ€§</strong>çš„æ¨¡æ¿ç¼–è¯‘è¿‡ç¨‹ã€‚</p><p><strong>å±æ€§å’ŒåŠ¨æ€å±æ€§</strong>ç¼–è¯‘åçš„ç»“æœè¿”å›äº†ä¸€ä¸ªè™šæ‹Ÿ <code>DOM</code> èŠ‚ç‚¹ï¼ŒåŒæ ·åœ°ï¼ŒæŸ¥è¯¢ <code>vue</code> æºç ä¸­çš„<strong>ç¼©å†™å‡½æ•°</strong>æˆ‘ä»¬å¯ä»¥å‘ç°ï¼Œ <code>with(this){return _c(&#39;div&#39;,{staticClass:&quot;container&quot;,attrs:{&quot;id&quot;:&quot;div1&quot;}},[_c(&#39;img&#39;,{attrs:{&quot;src&quot;:imgUrl}})])}</code> æœ€ç»ˆçš„ç»“æœç­‰äº <code>with(this){return createElement(&#39;div&#39;,{staticClass:&quot;container&quot;,attrs:{&quot;id&quot;:&quot;div1&quot;}},[createElement(&#39;img&#39;,{attrs:{&quot;src&quot;:imgUrl}})])}</code> ã€‚</p><p>æ­¤æ—¶æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œè¿”å›çš„ <code>vnode</code> èŠ‚ç‚¹ä¸­ï¼ŒåŒ…å« <code>class</code> åå­—ï¼Œ <code>container</code> ã€‚æ­¤æ—¶ <code>div</code> æœ‰ä¸€ä¸ª <code>id</code> é€‰æ‹©å™¨ï¼Œè¿™ä¸ª <code>id</code> é€‰æ‹©å™¨æ˜¯è¯¥ <code>div</code> çš„ä¸€ä¸ªå±æ€§ï¼Œäºæ˜¯å°±é€šè¿‡ attrs æ¥è¡¨ç¤ºã€‚</p><p>æœ€å¤–å±‚ç»“æŸåï¼Œé‡Œé¢è¿˜æœ‰ä¸€å±‚ï¼Œ <code>img</code> ã€‚ <code>img</code> å¯ä»¥è§†å…¶ä¸ºè·Ÿ <code>div</code> ä¸€æ ·çš„æ ‡ç­¾ï¼Œäºæ˜¯å…ˆåˆ›å»º <code>img</code> å…ƒç´ ï¼Œåˆå› ä¸º <code>img</code> ç»‘å®šäº†ä¸€ä¸ªå…·ä½“çš„å€¼ï¼Œå°±åƒæ˜¯ <code> div</code> é‡Œé¢ç»‘å®šäº† <code>id</code> é€‰æ‹©å™¨ã€‚æ‰€ä»¥åœ¨åˆ›å»ºå®Œ <code>img</code> çš„å€¼ä¹‹åï¼Œç»§ç»­ç”¨ <code>attrs</code> æ¥ä¼ é€’ <code>img</code> æ‰€ç»‘å®šçš„å€¼ã€‚</p><h3 id="_8-ç¼–è¯‘æ¡ä»¶" tabindex="-1">ï¼ˆ8ï¼‰ç¼–è¯‘æ¡ä»¶ <a class="header-anchor" href="#_8-ç¼–è¯‘æ¡ä»¶" aria-label="Permalink to &quot;ï¼ˆ8ï¼‰ç¼–è¯‘æ¡ä»¶&quot;">â€‹</a></h3><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;">// æ¡ä»¶</span></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> template </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">\`</span></span>
<span class="line"><span style="color:#C3E88D;">    &lt;div&gt;</span></span>
<span class="line"><span style="color:#C3E88D;">        &lt;p v-if=&quot;flag === &#39;a&#39;&quot;&gt;A&lt;/p&gt;</span></span>
<span class="line"><span style="color:#C3E88D;">        &lt;p v-else&gt;B&lt;/p&gt;</span></span>
<span class="line"><span style="color:#C3E88D;">    &lt;/div&gt;</span></span>
<span class="line"><span style="color:#89DDFF;">\`</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// with(this){return _c(&#39;div&#39;,[(flag === &#39;a&#39;)?_c(&#39;p&#39;,[_v(&quot;A&quot;)]):_c(&#39;p&#39;,[_v(&quot;B&quot;)])])}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p><strong>ç¼–è¯‘ä»¥ä¸Šå†…å®¹ï¼Œæ‰“å°ç»“æœå¦‚ä¸‹ï¼š</strong></p><p><img src="https://mondaylab-1309616765.cos.ap-shanghai.myqcloud.com/images/202305270738996.png" alt="æ¡ä»¶"></p><p>ä¾æ®ä¸Šé¢çš„åˆ†ææ–¹æ³•ï¼Œæˆ‘ä»¬æ¥åˆ†æ<strong>æ¡ä»¶</strong>çš„æ¨¡æ¿ç¼–è¯‘è¿‡ç¨‹ã€‚</p><p>å¯¹äº<strong>æ¡ä»¶</strong>æ¥è¯´ï¼Œé¦–å…ˆæ˜¯å…ˆåˆ›å»ºä¸€ä¸ª <code>div</code> å…ƒç´ ï¼Œä¹‹åå‘¢ï¼Œæ¨¡æ¿ç¼–è¯‘æŠŠ <code>v-if</code> å’Œ <code>v-else</code> åˆ†å‰²æˆä¸€ä¸ªä¸‰ç›®è¡¨è¾¾å¼çš„æ–¹å¼æ¥è¿›è¡Œç¼–è¯‘ã€‚</p><h3 id="_9-ç¼–è¯‘å¾ªç¯" tabindex="-1">ï¼ˆ9ï¼‰ç¼–è¯‘å¾ªç¯ <a class="header-anchor" href="#_9-ç¼–è¯‘å¾ªç¯" aria-label="Permalink to &quot;ï¼ˆ9ï¼‰ç¼–è¯‘å¾ªç¯&quot;">â€‹</a></h3><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;">// å¾ªç¯</span></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> template </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">\`</span></span>
<span class="line"><span style="color:#C3E88D;">    &lt;ul&gt;</span></span>
<span class="line"><span style="color:#C3E88D;">        &lt;li v-for=&quot;item in list&quot; :key=&quot;item.id&quot;&gt;{{item.title}}&lt;/li&gt;</span></span>
<span class="line"><span style="color:#C3E88D;">    &lt;/ul&gt;</span></span>
<span class="line"><span style="color:#89DDFF;">\`</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// with(this){return _c(&#39;ul&#39;,_l((list),function(item){return _c(&#39;li&#39;,{key:item.id},[_v(_s(item.title))])}),0)}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p><strong>ç¼–è¯‘ä»¥ä¸Šå†…å®¹ï¼Œæ‰“å°ç»“æœå¦‚ä¸‹ï¼š</strong></p><p><img src="https://mondaylab-1309616765.cos.ap-shanghai.myqcloud.com/images/202305270738938.png" alt="å¾ªç¯"></p><p>ä¾æ®ä¸Šé¢çš„åˆ†ææ–¹æ³•ï¼Œæˆ‘ä»¬æ¥åˆ†æ<strong>å¾ªç¯</strong>çš„æ¨¡æ¿ç¼–è¯‘è¿‡ç¨‹ã€‚</p><p>å¯¹äºä»¥ä¸Š<strong>å¾ªç¯</strong>æ¥è¯´ï¼Œé¦–å…ˆä¼šåˆ›å»ºä¸€ä¸ª <code>ul</code> å…ƒç´ ï¼Œä¹‹åæŸ¥è¯¢ <code>_l</code> çš„ç¼©å†™å‡½æ•°æˆ‘ä»¬çŸ¥é“å®ƒæ˜¯ <code>renderlist</code> ï¼Œ æ‰€ä»¥ <code>list</code> åˆ—è¡¨ä¼šè¢« <code>renderList</code> å‡½æ•°è¿›è¡Œç¼–è¯‘ã€‚</p><p>æœ€åæ¸²æŸ“åçš„ <code>item</code> è¢«å½“ä½œ<strong>å‡½æ•°çš„å‚æ•°</strong>è¿›è¡Œä¼ é€’ï¼Œå¹¶åˆ—è¿”å›å¯¹åº” <code>item</code> çš„ <code>li</code> åˆ—è¡¨å…ƒç´ ã€‚</p><h3 id="_10-ç¼–è¯‘äº‹ä»¶" tabindex="-1">ï¼ˆ10ï¼‰ç¼–è¯‘äº‹ä»¶ <a class="header-anchor" href="#_10-ç¼–è¯‘äº‹ä»¶" aria-label="Permalink to &quot;ï¼ˆ10ï¼‰ç¼–è¯‘äº‹ä»¶&quot;">â€‹</a></h3><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;">// äº‹ä»¶</span></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> template </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">\`</span></span>
<span class="line"><span style="color:#C3E88D;">    &lt;button @click=&quot;clickHandler&quot;&gt;submit&lt;/button&gt;</span></span>
<span class="line"><span style="color:#89DDFF;">\`</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// with(this){return _c(&#39;button&#39;,{on:{&quot;click&quot;:clickHandler}},[_v(&quot;submit&quot;)])}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p><strong>ç¼–è¯‘ä»¥ä¸Šå†…å®¹ï¼Œæ‰“å°ç»“æœå¦‚ä¸‹ï¼š</strong></p><p><img src="https://mondaylab-1309616765.cos.ap-shanghai.myqcloud.com/images/202305270738715.png" alt="äº‹ä»¶"></p><p>ä¾æ®ä¸Šé¢çš„åˆ†ææ–¹æ³•ï¼Œæˆ‘ä»¬æ¥åˆ†æ<strong>äº‹ä»¶</strong>çš„æ¨¡æ¿ç¼–è¯‘è¿‡ç¨‹ã€‚</p><p>å¯¹äº<strong>äº‹ä»¶</strong>æ¥è¯´ï¼Œé¦–å…ˆä¼šåˆ›å»ºä¸€ä¸ª <code>button</code> å…ƒç´ ï¼Œä¹‹å <code>@click</code> å³ <code>v-on:click</code> ä¼šè¢«ç¼–è¯‘æˆ <code>on:{&quot;click&quot;:clickHandler}</code> ã€‚æœ€åæ˜¯ <code>_v</code> ï¼Œå³ <code>createTextVNode</code> ã€‚åˆ›å»ºä¸€ä¸ª <code>submit</code> çš„æ–‡æœ¬èŠ‚ç‚¹ï¼Œå°† <code>click</code> çš„å†…å®¹æäº¤ä¸Šå»ã€‚</p><h3 id="_11-ç¼–è¯‘-v-model" tabindex="-1">ï¼ˆ11ï¼‰ç¼–è¯‘ v-model <a class="header-anchor" href="#_11-ç¼–è¯‘-v-model" aria-label="Permalink to &quot;ï¼ˆ11ï¼‰ç¼–è¯‘ v-model&quot;">â€‹</a></h3><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;">// v-model</span></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> template </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">\`</span><span style="color:#C3E88D;">&lt;input type=&quot;text&quot; v-model=&quot;name&quot;&gt;</span><span style="color:#89DDFF;">\`</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// ä¸»è¦çœ‹ input äº‹ä»¶</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// with(this){return _c(&#39;input&#39;,{directives:[{name:&quot;model&quot;,rawName:&quot;v-model&quot;,value:(name),expression:&quot;name&quot;}],attrs:{&quot;type&quot;:&quot;text&quot;},domProps:{&quot;value&quot;:(name)},on:{&quot;input&quot;:function($event){if($event.target.composing)return;name=$event.target.value}}})}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p><strong>ç¼–è¯‘ä»¥ä¸Šå†…å®¹ï¼Œæ‰“å°ç»“æœå¦‚ä¸‹ï¼š</strong></p><p><img src="https://mondaylab-1309616765.cos.ap-shanghai.myqcloud.com/images/202305270739381.png" alt="v-model"></p><p>ä¾æ®ä¸Šé¢çš„åˆ†ææ–¹æ³•ï¼Œæˆ‘ä»¬æ¥åˆ†æ<strong>åŒå‘ç»‘å®š v-model</strong>çš„æ¨¡æ¿ç¼–è¯‘è¿‡ç¨‹ã€‚</p><p>å¯¹äº <code>v-model</code> æ¥è¯´ï¼Œä¸»è¦çœ‹çš„æ˜¯ <code>input</code> äº‹ä»¶ã€‚ <code>v-model</code> çš„èƒŒåï¼Œç»‘å®šçš„æ˜¯ <code>name</code> å’Œ <code>value</code> è¿™ä¸¤ä¸ªè¯­æ³•ç³–ã€‚ä¹‹åé€šè¿‡ <code>attrs</code> å»åˆ›å»º <code>ç±»å‹type</code> ä¸º <code>text</code> çš„å±æ€§ã€‚</p><p>æœ€ç»ˆæ˜¯ <code>input</code> äº‹ä»¶ï¼Œ <code>input</code> äº‹ä»¶ç»‘å®š <code>$event</code> ï¼Œæœ€åï¼Œ <code>name</code> çš„å€¼å°±ç­‰åŒäº <code>$event.target.value</code> ï¼Œè¿™æ ·ï¼Œ<strong>æ•°æ®å°±å®ç°äº†åŒå‘ç»‘å®š</strong>ã€‚</p><h2 id="_3ã€æ¨¡æ¿ç¼–è¯‘æ€»ç»“" tabindex="-1">3ã€æ¨¡æ¿ç¼–è¯‘æ€»ç»“ <a class="header-anchor" href="#_3ã€æ¨¡æ¿ç¼–è¯‘æ€»ç»“" aria-label="Permalink to &quot;3ã€æ¨¡æ¿ç¼–è¯‘æ€»ç»“&quot;">â€‹</a></h2><p>çœ‹å®Œä¸Šè¿°çš„å†…å®¹ï¼Œæˆ‘ä»¬æ¥å¯¹<strong>æ¨¡æ¿ç¼–è¯‘åšä¸ªå°ç»“ï¼š</strong></p><p><strong>ï¼ˆ1ï¼‰ä» render å‡½æ•°åˆ° vnode</strong></p><p>æ¨¡æ¿ç¼–è¯‘åæ˜¯ä¸€ä¸ª <code>render</code> å‡½æ•°ï¼Œæ‰§è¡Œ <code>render</code> å‡½æ•°åè¿”å›ä¸€ä¸ª <code>vnode</code> ï¼›</p><p><strong>ï¼ˆ2ï¼‰vnode åˆ° patch å’Œ diff</strong></p><p>åŸºäº <code>vnode</code> çš„åŸºç¡€ä¸Šï¼Œå†æ‰§è¡Œ <code>patch</code> å’Œ <code>diff</code> ï¼›</p><p><strong>ï¼ˆ3ï¼‰æ¨¡æ¿ç¼–è¯‘å·¥å…·</strong></p><p>åœ¨å¹³å¸¸çš„å¼€å‘ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ <code>webpack</code> ã€ <code>vue-loader</code> ç­‰æ„å»ºå·¥å…·ï¼Œåœ¨å¼€å‘ç¯å¢ƒä¸‹<strong>ç¼–è¯‘æ¨¡æ¿</strong>ã€‚</p><h1 id="å››ã€ğŸ”‘-ç»„ä»¶æ¸²æŸ“-æ›´æ–°è¿‡ç¨‹" tabindex="-1">å››ã€ğŸ”‘ ç»„ä»¶æ¸²æŸ“/æ›´æ–°è¿‡ç¨‹ <a class="header-anchor" href="#å››ã€ğŸ”‘-ç»„ä»¶æ¸²æŸ“-æ›´æ–°è¿‡ç¨‹" aria-label="Permalink to &quot;å››ã€ğŸ”‘ ç»„ä»¶æ¸²æŸ“/æ›´æ–°è¿‡ç¨‹&quot;">â€‹</a></h1><h2 id="_1ã€åˆè¯†ç»„ä»¶æ¸²æŸ“-æ›´æ–°" tabindex="-1">1ã€åˆè¯†ç»„ä»¶æ¸²æŸ“/æ›´æ–° <a class="header-anchor" href="#_1ã€åˆè¯†ç»„ä»¶æ¸²æŸ“-æ›´æ–°" aria-label="Permalink to &quot;1ã€åˆè¯†ç»„ä»¶æ¸²æŸ“/æ›´æ–°&quot;">â€‹</a></h2><p>è®²å®Œä¸Šå®Œçš„å†…å®¹ï¼Œæˆ‘ä»¬å†æ¥è®²ä¸€ä¸ªä¸ç¼–è¯‘æ¨¡æ¿å…³è”æ€§å¾ˆå¼ºçš„çŸ¥è¯†ç‚¹ï¼š<strong>ç»„ä»¶æ¸²æŸ“/æ›´æ–°è¿‡ç¨‹</strong>ã€‚</p><p>ä¸€ä¸ªç»„ä»¶ï¼Œä»<strong>æ¸²æŸ“åˆ°é¡µé¢ä¸Š</strong>å¼€å§‹ï¼Œå†åˆ°ä¿®æ”¹ <code>data</code> å»è§¦å‘æ›´æ–°ï¼ˆæ•°æ®é©±åŠ¨è§†å›¾ï¼‰ï¼Œå…¶èƒŒåçš„åŸç†æ˜¯ä»€ä¹ˆï¼Œåˆéœ€è¦æŒæ¡å“ªäº›è¦ç‚¹å‘¢ï¼Ÿ</p><p>äº‹å®ä¸Šï¼Œç»„ä»¶åœ¨æ¸²æŸ“ä¹‹å‰ï¼Œä¼šå…ˆè¿›è¡Œ<strong>æ¨¡æ¿ç¼–è¯‘</strong>ï¼Œæ¨¡æ¿ <code>template</code> ä¼šç¼–è¯‘æˆ <code>render</code> å‡½æ•°ã€‚</p><p>ä¹‹åå°±æ˜¯æ•°æ®çš„ç›‘å¬äº†ï¼Œè¿™å°±è¦è°ˆåˆ°<strong>å“åº”å¼æ•°æ®</strong>ã€‚vue çš„<strong>å“åº”å¼</strong>é€šè¿‡æ“ä½œ <code>Object.defineProperty()</code> ï¼Œå»ç›‘å¬ <code>getter</code> å’Œ <code>setter</code> æ–¹æ³•ï¼Œæ¥ä½¿å¾—æ•°æ®å®æ—¶æ›´æ–°ã€‚</p><p>ç›‘å¬å®Œæ•°æ®ä¹‹åï¼Œå°±æ˜¯æ‰§è¡Œ <code>render</code> å‡½æ•°ï¼Œç”Ÿæˆ <code>vnode</code> ã€‚</p><p>åˆ°äº† <code>vnode</code> ï¼ˆå³ <code>vdom</code> ï¼‰è¿™ä¸€æ­¥ä¹‹åï¼Œä¼šè¿›è¡Œ <code>patch(elem,vnode)</code> å’Œ <code>patch(vnode,newVnode)</code> çš„æ¯”è¾ƒã€‚</p><p>å…³äº<a href="https://blog.csdn.net/weixin_44803753/article/details/117535265" target="_blank" rel="noreferrer">å“åº”å¼åŸç†</a>å’Œ<a href="https://blog.csdn.net/weixin_44803753/article/details/117594534" target="_blank" rel="noreferrer">vdom çš„è§£è¯»</a>ï¼Œå¦‚æœ‰éœ€è¦å¯ä»¥æŸ¥çœ‹æˆ‘çš„å‰ä¸¤ç¯‡æ–‡ç« è¿›è¡Œå­¦ä¹ ï¼Œè¿™é‡Œä¸å†å±•å¼€ç»†è¿°~</p><h2 id="_2ã€ç»„ä»¶æ¸²æŸ“-æ›´æ–°è¿‡ç¨‹" tabindex="-1">2ã€ç»„ä»¶æ¸²æŸ“/æ›´æ–°è¿‡ç¨‹ <a class="header-anchor" href="#_2ã€ç»„ä»¶æ¸²æŸ“-æ›´æ–°è¿‡ç¨‹" aria-label="Permalink to &quot;2ã€ç»„ä»¶æ¸²æŸ“/æ›´æ–°è¿‡ç¨‹&quot;">â€‹</a></h2><p>ç»„ä»¶æ¸²æŸ“å’Œæ›´æ–°è¿‡ç¨‹ä¸»è¦ç»è¿‡ä»¥ä¸‹ä¸‰ä¸ªæ­¥éª¤ï¼š<strong>åˆæ¬¡æ¸²æŸ“è¿‡ç¨‹ â†’ æ›´æ–°è¿‡ç¨‹ â†’ å¼‚æ­¥æ¸²æŸ“</strong>ã€‚</p><p>æ¥ä¸‹æ¥å°±è¿™ä¸‰ä¸ªæ­¥éª¤è¿›è¡Œä¸€ä¸€è®²è§£ã€‚</p><h3 id="_1-åˆæ¬¡æ¸²æŸ“è¿‡ç¨‹" tabindex="-1">ï¼ˆ1ï¼‰åˆæ¬¡æ¸²æŸ“è¿‡ç¨‹ <a class="header-anchor" href="#_1-åˆæ¬¡æ¸²æŸ“è¿‡ç¨‹" aria-label="Permalink to &quot;ï¼ˆ1ï¼‰åˆæ¬¡æ¸²æŸ“è¿‡ç¨‹&quot;">â€‹</a></h3><p>åˆæ¬¡æ¸²æŸ“è¿‡ç¨‹ï¼Œå³ç»„ä»¶ç¬¬ä¸€æ¬¡æ¸²æŸ“æ˜¯æ€ä¹ˆæ ·çš„ï¼Œæ€ä¹ˆæŠŠæ¨¡æ¿æ¸²æŸ“åˆ°é¡µé¢ä¸Šã€‚<strong>å…·ä½“æœ‰ä»¥ä¸‹ä¸‰ä¸ªæ­¥éª¤ï¼š</strong></p><ul><li>è§£ææ¨¡æ¿ä¸º <code>render</code> å‡½æ•°ï¼›</li><li>è§¦å‘å“åº”å¼ï¼Œç›‘å¬ <code>data</code> å±æ€§ <code>getter</code> å’Œ <code>setter</code> ï¼›</li><li>æ‰§è¡Œ <code>render</code> å‡½æ•°ï¼Œç”Ÿæˆ <code>vnode</code> ï¼Œè¿›è¡Œ <code>patch(elem,vnode)</code> ã€‚</li></ul><p>ä¸‹é¢å°±è¿™ä¸‰ä¸ªæ­¥éª¤æ¥è¿›è¡Œä¸€ä¸€è®²è§£ã€‚</p><h4 id="_1-è§£ææ¨¡æ¿ä¸º-render-å‡½æ•°" tabindex="-1">1ï¼‰è§£ææ¨¡æ¿ä¸º render å‡½æ•° <a class="header-anchor" href="#_1-è§£ææ¨¡æ¿ä¸º-render-å‡½æ•°" aria-label="Permalink to &quot;1ï¼‰è§£ææ¨¡æ¿ä¸º render å‡½æ•°&quot;">â€‹</a></h4><p>åœ¨<strong>å¼€å‘ç¯å¢ƒ</strong>ä¸‹ï¼Œè§£ææ¨¡æ¿ä¸º <code>render</code> å‡½æ•°ä¸€èˆ¬æ˜¯ç”± <code>vue-loader</code> è¿™ä¸ªæ’ä»¶æ¥å¤„ç†çš„ã€‚è¿˜æœ‰ä¸€ç§æƒ…å†µå°±æ˜¯ï¼Œç”¨æˆ·ç›´æ¥ç”¨ <code>cdn</code> çš„æ–¹å¼å¼•å…¥ <code>vuejs</code> çš„æ–‡ä»¶è¿›è¡Œæœ¬åœ°ä»£ç ç»ƒä¹ ï¼Œè¿™ç§æƒ…å†µä¸‹ï¼Œè§£ææ¨¡æ¿ä¸º <code>render</code> å‡½æ•°å°±æ˜¯åœ¨<strong>æµè§ˆå™¨ç¯å¢ƒ</strong>è¿è¡Œçš„ã€‚</p><p>å°çŸ¥è¯†äº†è§£å®Œï¼Œæˆ‘ä»¬æ¥çœ‹ä¸‹è¿™ä¸ªæ­¥éª¤ã€‚</p><p>è§£ææ¨¡æ¿ä¸º <code>render</code> å‡½æ•°ï¼Œå³è§£æ <code>template</code> ä¸º <code>render</code> å‡½æ•°ï¼Œè¿™ä¸ªå°±æ˜¯ä¸Šè¿°æ–‡ç« ä¸­è¯´çš„<strong>ç¼–è¯‘æ¨¡æ¿</strong>ã€‚</p><h4 id="_2-è§¦å‘å“åº”å¼" tabindex="-1">2ï¼‰è§¦å‘å“åº”å¼ <a class="header-anchor" href="#_2-è§¦å‘å“åº”å¼" aria-label="Permalink to &quot;2ï¼‰è§¦å‘å“åº”å¼&quot;">â€‹</a></h4><p>åœ¨ç¼–è¯‘å®Œæ¨¡æ¿ä¹‹åï¼Œ <code>render</code> å‡½æ•°æœ‰äº†ï¼Œæˆ‘ä»¬æ¥å¼€å§‹ç›‘å¬ <code>data</code> å±æ€§ã€‚</p><p>ç›‘å¬ <code>data</code> å±æ€§ï¼Œè¿™ä¸ªæ—¶å€™æˆ‘ä»¬å°±éœ€è¦è§¦å‘å“åº”å¼ï¼Œä¹Ÿå°±æ˜¯æ¸²æŸ“æ•°æ®ã€‚</p><p>é‚£åœ¨è¿™ä¸ªé˜¶æ®µæ€ä¹ˆæ¸²æŸ“æ•°æ®å‘¢ï¼Ÿ</p><p>è¿™ä¸ªé˜¶æ®µæˆ‘ä»¬éœ€è¦æ‰§è¡Œ <code>render</code> å‡½æ•°ï¼Œ <code>render</code> å‡½æ•°ä¼šè§¦å‘ <code>getter</code> æ–¹æ³•ï¼Œå› ä¸ºæ•°æ®æ²¡æœ‰è¿›è¡Œæ›´æ–°ï¼Œåªæ˜¯è¿›è¡Œæ¸²æŸ“ã€‚åªæœ‰åœ¨è¿›è¡Œæ¸²æŸ“çš„æ—¶å€™æ‰ä¼šæ“ä½œ <code>setter</code> æ–¹æ³•ã€‚</p><h4 id="_3-æ‰§è¡Œ-render-å‡½æ•°-ç”Ÿæˆ-vnode" tabindex="-1">3ï¼‰æ‰§è¡Œ render å‡½æ•°ï¼Œç”Ÿæˆ vnode <a class="header-anchor" href="#_3-æ‰§è¡Œ-render-å‡½æ•°-ç”Ÿæˆ-vnode" aria-label="Permalink to &quot;3ï¼‰æ‰§è¡Œ render å‡½æ•°ï¼Œç”Ÿæˆ vnode&quot;">â€‹</a></h4><p>æœ€åï¼Œå½“æ•°æ®æ¸²æŸ“å®Œæ¯•åï¼Œå°±ä¼šæ‰§è¡Œç¬¬ä¸€æ­¥ç”Ÿæˆçš„ <code>render</code> å‡½æ•°ï¼Œç„¶åç”Ÿæˆè™šæ‹Ÿ <code>DOM</code> èŠ‚ç‚¹ <code>vnode</code> ï¼Œä¹‹åè¿›è¡Œ <code>patch(elem,vnode)</code> ã€‚</p><h3 id="_2-æ›´æ–°è¿‡ç¨‹" tabindex="-1">ï¼ˆ2ï¼‰æ›´æ–°è¿‡ç¨‹ <a class="header-anchor" href="#_2-æ›´æ–°è¿‡ç¨‹" aria-label="Permalink to &quot;ï¼ˆ2ï¼‰æ›´æ–°è¿‡ç¨‹&quot;">â€‹</a></h3><h4 id="_1-æ›´æ–°è¿‡ç¨‹ç»†è¿°" tabindex="-1">1ï¼‰æ›´æ–°è¿‡ç¨‹ç»†è¿° <a class="header-anchor" href="#_1-æ›´æ–°è¿‡ç¨‹ç»†è¿°" aria-label="Permalink to &quot;1ï¼‰æ›´æ–°è¿‡ç¨‹ç»†è¿°&quot;">â€‹</a></h4><p>æ›´æ–°è¿‡ç¨‹ï¼Œå³ <code>data</code> ä¿®æ”¹ä¹‹åï¼Œç»„ä»¶æ˜¯æ€ä¹ˆæ›´æ–°çš„ã€‚</p><p>åœ¨è¿™ä¸ªé˜¶æ®µå‘¢ï¼Œå°†ä¼šä¿®æ”¹ <code>data</code> ï¼Œå¹¶ä¸”è§¦å‘ <code>setter</code> ï¼ˆæ³¨æ„ï¼šåœ¨æ­¤ä¹‹å‰ <code>data</code> åœ¨ <code>getter</code> ä¸­å·²ç»è¢«ç›‘å¬ï¼‰ã€‚</p><p>è§¦å‘å®Œ <code>setter</code> ä¹‹åï¼Œé‡æ–°æ‰§è¡Œ <code>render</code> å‡½æ•°ï¼Œå¹¶ç”Ÿæˆ <code>newVnode</code> ï¼Œæœ€åè¿›è¡Œ <code>patch(vnode, newVnode)</code> çš„ diff æ¯”è¾ƒã€‚</p><h4 id="_2-å®Œæˆæµç¨‹å›¾" tabindex="-1">2ï¼‰å®Œæˆæµç¨‹å›¾ <a class="header-anchor" href="#_2-å®Œæˆæµç¨‹å›¾" aria-label="Permalink to &quot;2ï¼‰å®Œæˆæµç¨‹å›¾&quot;">â€‹</a></h4><p>æ¥ä¸‹æ¥æˆ‘ä»¬ç”¨ä¸€å¼ æµç¨‹å›¾æ¥å®Œæ•´çš„å›é¡¾æ¸²æŸ“å’Œæ›´æ–°çš„è¿‡ç¨‹ã€‚</p><p><img src="https://mondaylab-1309616765.cos.ap-shanghai.myqcloud.com/images/202305270739582.png" alt="æ¨¡æ¿ç¼–è¯‘æµç¨‹å›¾"></p><h3 id="_3-å¼‚æ­¥æ¸²æŸ“" tabindex="-1">ï¼ˆ3ï¼‰å¼‚æ­¥æ¸²æŸ“ <a class="header-anchor" href="#_3-å¼‚æ­¥æ¸²æŸ“" aria-label="Permalink to &quot;ï¼ˆ3ï¼‰å¼‚æ­¥æ¸²æŸ“&quot;">â€‹</a></h3><p>åœ¨æ¸²æŸ“å’Œæ›´æ–°ç»“æŸä¹‹åï¼Œæˆ‘ä»¬çš„ç¨‹åºå¯èƒ½è¿˜æœ‰å¯èƒ½ä¼šå‘ç”Ÿå¤šä¸ªç¨‹åºåŒæ—¶åŠ è½½ï¼Œè¿™å°±æ¶‰åŠåˆ°ä¸€ä¸ª<strong>å¼‚æ­¥æ¸²æŸ“</strong>é—®é¢˜ã€‚</p><p>å¼‚æ­¥æ¸²æŸ“é—®é¢˜ï¼Œæˆ‘ä»¬ç”¨ <code>$nextTick</code> æ¥ä½œä¸ºä¾‹å­è®²è§£ã€‚</p><p>å‡è®¾æˆ‘ä»¬ç°åœ¨è¦å®ç°ä¸€ä¸ªåŠŸèƒ½ï¼Œå½“æˆ‘ä»¬ç‚¹å‡»æŒ‰é’®æ—¶ï¼Œæ‰“å°å‡ºåˆ—è¡¨çš„é¡¹æ•°ã€‚è¿™ä¸ªæ—¶å€™æˆ‘ä»¬å¤§å¤šäººå¯èƒ½ä¼šè¿™ä¹ˆæ“ä½œã€‚</p><div class="language-html line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">html</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">template</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">div</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">id</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">app</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#676E95;font-style:italic;">&lt;!-- refçš„è®¾ç½®æ—¶ä¸ºäº†æ–¹ä¾¿åç»­å¯ä»¥ç”¨æ¥ï¼šå–èŠ‚ç‚¹çš„DOMå…ƒç´  --&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">ul</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">ref</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">ul1</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">li</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">v-for</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">(item, index) in list</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">:key</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">index</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;">{{item}}</span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">li</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">ul</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">button</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">@click</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">addItem</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;">æ·»åŠ ä¸€é¡¹</span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">button</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">div</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">template</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">script</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;font-style:italic;">export</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">default</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">name</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">app</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">data</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">        list</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> [</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">a</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">b</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">c</span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;">]</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#89DDFF;">};</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">methods</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#F07178;">addItem</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#89DDFF;">this.</span><span style="color:#A6ACCD;">list</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">push</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">\`\${</span><span style="color:#A6ACCD;">Date</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">now</span><span style="color:#A6ACCD;">()</span><span style="color:#89DDFF;">}\`</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#89DDFF;">this.</span><span style="color:#A6ACCD;">list</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">push</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">\`\${</span><span style="color:#A6ACCD;">Date</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">now</span><span style="color:#A6ACCD;">()</span><span style="color:#89DDFF;">}\`</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#89DDFF;">this.</span><span style="color:#A6ACCD;">list</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">push</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">\`\${</span><span style="color:#A6ACCD;">Date</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">now</span><span style="color:#A6ACCD;">()</span><span style="color:#89DDFF;">}\`</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">        </span><span style="color:#676E95;font-style:italic;">// è·å– DOM å…ƒç´ </span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">ulElem</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">this.</span><span style="color:#A6ACCD;">$refs</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">ul1</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">ulElem</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">childNodes</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">length</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">};</span></span>
<span class="line"><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">script</span><span style="color:#89DDFF;">&gt;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br></div></div><p><strong>æ­¤æ—¶æµè§ˆå™¨çš„æ˜¾ç¤ºæ•ˆæœå¦‚ä¸‹ï¼š</strong></p><p><img src="https://mondaylab-1309616765.cos.ap-shanghai.myqcloud.com/images/202305270739099.gif" alt="nextTick"></p><p>ç»†å¿ƒçš„å°ä¼™ä¼´å·²ç»å‘ç°ï¼Œæµè§ˆå™¨å¹¶æ²¡æœ‰æŒ‰ç…§æˆ‘ä»¬æ‰€æƒ³çš„æ‰“å°ã€‚å½“é¡µé¢ä¸Šçš„åˆ—è¡¨æ˜¾ç¤º <code>6é¡¹</code> å†…å®¹æ—¶ï¼Œæ­¤æ—¶æ§åˆ¶å°åªæ‰“å° <code>3é¡¹</code> ï¼›å½“æ˜¾ç¤º <code>9é¡¹</code> æ—¶ï¼Œæ­¤æ—¶æ§åˆ¶å°ç›´æ¥åªæ‰“å° <code>6é¡¹</code> ã€‚</p><p><strong>é‚£è¿™ç©¶ç«Ÿæ—¶ä¸ºä»€ä¹ˆå‘¢ï¼Ÿ</strong></p><p>å…¶å®ï¼Œå½“æˆ‘ä»¬ç‚¹å‡»çš„é‚£ä¸€åˆ»ï¼Œ <code>data</code> å‘ç”Ÿå˜åŒ–ï¼Œä½†æ˜¯ <code>DOM</code> å¹¶ä¸ä¼šç«‹åˆ»è¿›è¡Œæ¸²æŸ“ã€‚æ‰€ä»¥ç­‰åˆ°æˆ‘ä»¬ç‚¹å‡»å®Œæˆçš„æ—¶å€™ï¼Œè·å–çš„å…ƒç´ è¿˜æ˜¯åŸæ¥è§¦å‘çš„å†…å®¹ï¼Œè€Œä¸ä¼šå¢æ·»ä¸Šæ–°çš„å†…å®¹ã€‚</p><p>é‚£æˆ‘ä»¬æ‰€æœŸæœ›çš„æ˜¯ï¼Œå½“ç‚¹å‡»ä¹‹åç«‹åˆ»è§¦å‘ <code>DOM</code> æ¸²æŸ“å¹¶æ‹¿åˆ°æœ€æ–°çš„å€¼ã€‚è¿™ä¸ªæ—¶å€™å°±éœ€è¦ç”¨åˆ° <code>nextTick</code> ã€‚<strong>å…·ä½“ä»£ç å¦‚ä¸‹ï¼š</strong></p><div class="language-html line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">html</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">script</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;font-style:italic;">export</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">default</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">name</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">app</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">data</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">        list</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> [</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">a</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">b</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">c</span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;">]</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#89DDFF;">};</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">methods</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#F07178;">addItem</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#89DDFF;">this.</span><span style="color:#A6ACCD;">list</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">push</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">\`\${</span><span style="color:#A6ACCD;">Date</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">now</span><span style="color:#A6ACCD;">()</span><span style="color:#89DDFF;">}\`</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#89DDFF;">this.</span><span style="color:#A6ACCD;">list</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">push</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">\`\${</span><span style="color:#A6ACCD;">Date</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">now</span><span style="color:#A6ACCD;">()</span><span style="color:#89DDFF;">}\`</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#89DDFF;">this.</span><span style="color:#A6ACCD;">list</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">push</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">\`\${</span><span style="color:#A6ACCD;">Date</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">now</span><span style="color:#A6ACCD;">()</span><span style="color:#89DDFF;">}\`</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">        </span><span style="color:#676E95;font-style:italic;">// 1. å¼‚æ­¥æ¸²æŸ“ï¼Œ$nextTick å¾… DOM æ¸²æŸ“å®Œå†å›è°ƒï¼Œ</span></span>
<span class="line"><span style="color:#89DDFF;">        </span><span style="color:#676E95;font-style:italic;">//    å³NextTickå‡½æ•°ä¼šåœ¨å¤šæ¬¡dataä¿®æ”¹å®Œå¹¶ä¸”å…¨éƒ¨DOMæ¸²æŸ“å®Œå†è§¦å‘ï¼Œä»…åœ¨æœ€åè§¦å‘ä¸€æ¬¡</span></span>
<span class="line"><span style="color:#89DDFF;">        </span><span style="color:#676E95;font-style:italic;">// 2. é¡µé¢æ¸²æŸ“æ—¶ä¼šå°† data çš„ä¿®æ”¹åšæ•´åˆ</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#89DDFF;">this.</span><span style="color:#82AAFF;">$nextTick</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">()</span><span style="color:#F07178;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">          </span><span style="color:#676E95;font-style:italic;">// è·å– DOM å…ƒç´ </span></span>
<span class="line"><span style="color:#F07178;">          </span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">ulElem</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">this.</span><span style="color:#A6ACCD;">$refs</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">ul1</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">          </span><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">ulElem</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">childNodes</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">length</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#89DDFF;">}</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">};</span></span>
<span class="line"><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">script</span><span style="color:#89DDFF;">&gt;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br></div></div><p>æˆ‘ä»¬é€šè¿‡ç»™è·å– <code>DOM</code> å…ƒç´ çš„ä»£ç å¤–é¢å†åµŒå¥—ä¸€å±‚ <code>$nextTick</code> å‡½æ•°ï¼Œæ¥è¾¾åˆ°æˆ‘ä»¬æƒ³è¦çš„æ•ˆæœã€‚åœ¨æ­¤è¿‡ç¨‹ä¸­ï¼Œå½“æˆ‘ä»¬ç‚¹å‡»ç»“æŸåï¼Œ <code>data</code> çš„å€¼å‘ç”Ÿå˜åŒ–ï¼Œæ­¤æ—¶ <code>$nextTick</code> ä¼šç­‰å¾…<strong>DOM å…¨éƒ¨æ¸²æŸ“å®Œæˆä¹‹å</strong>å†è¿›è¡Œå›è°ƒã€‚</p><p><strong>æœ€ç»ˆæµè§ˆå™¨çš„æ‰“å°æ•ˆæœå¦‚ä¸‹ï¼š</strong></p><p><img src="https://mondaylab-1309616765.cos.ap-shanghai.myqcloud.com/images/202305270739815.gif" alt="nextTick2"></p><p>æ‰€ä»¥ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œ <code>$nextTick</code> é€šè¿‡æ±‡æ€» <code>data</code> çš„ä¿®æ”¹ï¼Œæœ€åå†<strong>ä¸€æ¬¡æ€§æ›´æ–°è§†å›¾</strong>ã€‚</p><p>è¿™æ ·å¯ä»¥å‡å°‘ <code>DOM</code> çš„æ“ä½œæ¬¡æ•°ï¼Œå¤§å¤§çš„æé«˜äº†æ€§èƒ½ã€‚</p><h2 id="_3ã€å°ç»“" tabindex="-1">3ã€å°ç»“ <a class="header-anchor" href="#_3ã€å°ç»“" aria-label="Permalink to &quot;3ã€å°ç»“&quot;">â€‹</a></h2><p>ç»è¿‡ä¸Šè¿°ä¸€ç³»åˆ—çš„è®²è§£ï¼Œæˆ‘ä»¬å¯ä»¥æŠŠå†…å®¹åˆ†å‰²æˆä»¥ä¸‹<strong>ä¸¤ä¸ªè¦ç‚¹ï¼š</strong></p><ul><li>è¦ç†è§£æ¸…æ¥š<strong>æ¸²æŸ“å’Œå“åº”å¼</strong>ã€<strong>æ¸²æŸ“å’Œæ¨¡æ¿ç¼–è¯‘</strong>ã€<strong>æ¸²æŸ“å’Œ vdom</strong>çš„å…³ç³»ã€‚</li><li>è¦ç†è§£ç»„ä»¶æ¸²æŸ“/æ›´æ–°çš„è¿‡ç¨‹ï¼š<strong>åˆæ¬¡æ¸²æŸ“è¿‡ç¨‹ â†’ æ›´æ–°è¿‡ç¨‹ â†’ å¼‚æ­¥æ¸²æŸ“</strong>ã€‚</li></ul><h1 id="äº”ã€âœ”ï¸-ç»“æŸè¯­" tabindex="-1">äº”ã€âœ”ï¸ ç»“æŸè¯­ <a class="header-anchor" href="#äº”ã€âœ”ï¸-ç»“æŸè¯­" aria-label="Permalink to &quot;äº”ã€âœ”ï¸ ç»“æŸè¯­&quot;">â€‹</a></h1><p>ä»æ¨¡æ¿ç¼–è¯‘ï¼Œåˆ°ç»„ä»¶æ¸²æŸ“æ›´æ–°è¿‡ç¨‹ï¼Œæˆ‘ä»¬äº†è§£äº†æ•´ä¸ª <code>template</code> èƒŒåçš„å…¨è¿‡ç¨‹ã€‚ç›¸ä¿¡é€šè¿‡æœ¬æ–‡çš„å­¦ä¹ ï¼Œå¤§å®¶å¯¹æ¨¡æ¿ç¼–è¯‘æœ‰äº†ä¸€ä¸ªæ›´æ·±çš„è®¤è¯†ã€‚</p><p>å…³äºæ¨¡æ¿ç¼–è¯‘çš„å†…å®¹å°±è®²åˆ°è¿™é‡Œå•¦ï¼å¦‚æœ‰ä¸ç†è§£æˆ–æ–‡ç« æœ‰è¯¯ï¼Œæ¬¢è¿æissueå‹˜è¯¯~</p>`,169),o=[p];function t(c,r,i,y,D,F){return a(),n("div",null,o)}const C=s(e,[["render",t]]);export{u as __pageData,C as default};
