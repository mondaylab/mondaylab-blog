import{_ as s,c as n,o as a,N as l}from"./chunks/framework.6510d215.js";const C=JSON.parse('{"title":"ä»£ç ç¼ºä¹è£…é¥°ï¼Ÿä½¿ç”¨tsè£…é¥°å™¨æ¥è£…é¥°ä½ çš„ä»£ç ","description":"","frontmatter":{"title":"ä»£ç ç¼ºä¹è£…é¥°ï¼Ÿä½¿ç”¨tsè£…é¥°å™¨æ¥è£…é¥°ä½ çš„ä»£ç ","author":"å‘¨ä¸€","date":"2022-01-17","categories":["å‰ç«¯å¼€å‘"],"tags":["TypeScript"],"sidebar":"auto"},"headers":[{"level":1,"title":"ğŸ‘ åºè¨€","slug":"ğŸ‘-åºè¨€","link":"#ğŸ‘-åºè¨€","children":[]},{"level":1,"title":"ğŸ˜‰ ä¸€ã€ç±»çš„è£…é¥°å™¨","slug":"ğŸ˜‰-ä¸€ã€ç±»çš„è£…é¥°å™¨","link":"#ğŸ˜‰-ä¸€ã€ç±»çš„è£…é¥°å™¨","children":[{"level":2,"title":"1ã€ä»€ä¹ˆæ˜¯è£…é¥°å™¨","slug":"_1ã€ä»€ä¹ˆæ˜¯è£…é¥°å™¨","link":"#_1ã€ä»€ä¹ˆæ˜¯è£…é¥°å™¨","children":[]},{"level":2,"title":"2ã€è£…é¥°å™¨çš„ç‰¹ç‚¹","slug":"_2ã€è£…é¥°å™¨çš„ç‰¹ç‚¹","link":"#_2ã€è£…é¥°å™¨çš„ç‰¹ç‚¹","children":[]},{"level":2,"title":"3ã€å‡ ç§ç±»çš„è£…é¥°å™¨","slug":"_3ã€å‡ ç§ç±»çš„è£…é¥°å™¨","link":"#_3ã€å‡ ç§ç±»çš„è£…é¥°å™¨","children":[{"level":3,"title":"ï¼ˆ1ï¼‰æ‰§è¡Œé¡ºåº","slug":"_1-æ‰§è¡Œé¡ºåº","link":"#_1-æ‰§è¡Œé¡ºåº","children":[]},{"level":3,"title":"ï¼ˆ2ï¼‰å‚æ•°åˆ¤æ–­","slug":"_2-å‚æ•°åˆ¤æ–­","link":"#_2-å‚æ•°åˆ¤æ–­","children":[]},{"level":3,"title":"ï¼ˆ3ï¼‰è£…é¥°å™¨æ ‡å‡†å†™æ³•","slug":"_3-è£…é¥°å™¨æ ‡å‡†å†™æ³•","link":"#_3-è£…é¥°å™¨æ ‡å‡†å†™æ³•","children":[]}]}]},{"level":1,"title":"ğŸ¤ äºŒã€ç±»çš„å…¶ä»–è£…é¥°å™¨","slug":"ğŸ¤-äºŒã€ç±»çš„å…¶ä»–è£…é¥°å™¨","link":"#ğŸ¤-äºŒã€ç±»çš„å…¶ä»–è£…é¥°å™¨","children":[{"level":2,"title":"1ã€æ–¹æ³•è£…é¥°å™¨","slug":"_1ã€æ–¹æ³•è£…é¥°å™¨","link":"#_1ã€æ–¹æ³•è£…é¥°å™¨","children":[]},{"level":2,"title":"2ã€è®¿é—®å™¨çš„è£…é¥°å™¨","slug":"_2ã€è®¿é—®å™¨çš„è£…é¥°å™¨","link":"#_2ã€è®¿é—®å™¨çš„è£…é¥°å™¨","children":[]},{"level":2,"title":"3ã€å±æ€§çš„è£…é¥°å™¨","slug":"_3ã€å±æ€§çš„è£…é¥°å™¨","link":"#_3ã€å±æ€§çš„è£…é¥°å™¨","children":[]},{"level":2,"title":"4ã€å‚æ•°è£…é¥°å™¨","slug":"_4ã€å‚æ•°è£…é¥°å™¨","link":"#_4ã€å‚æ•°è£…é¥°å™¨","children":[]}]},{"level":1,"title":"ğŸ˜ ä¸‰ã€è£…é¥°å™¨å®é™…ä½¿ç”¨çš„å°ä¾‹å­","slug":"ğŸ˜-ä¸‰ã€è£…é¥°å™¨å®é™…ä½¿ç”¨çš„å°ä¾‹å­","link":"#ğŸ˜-ä¸‰ã€è£…é¥°å™¨å®é™…ä½¿ç”¨çš„å°ä¾‹å­","children":[]},{"level":1,"title":"ğŸ˜ å››ã€ç»“æŸè¯­","slug":"ğŸ˜-å››ã€ç»“æŸè¯­","link":"#ğŸ˜-å››ã€ç»“æŸè¯­","children":[]},{"level":1,"title":"ğŸ¥³ å¾€æœŸæ¨è","slug":"ğŸ¥³-å¾€æœŸæ¨è","link":"#ğŸ¥³-å¾€æœŸæ¨è","children":[]}],"relativePath":"column/FrontEnd/TypeScript/002_tsDecorator.md","lastUpdated":1667641758000}'),p={name:"column/FrontEnd/TypeScript/002_tsDecorator.md"},o=l(`<h1 id="ğŸ‘-åºè¨€" tabindex="-1">ğŸ‘ åºè¨€ <a class="header-anchor" href="#ğŸ‘-åºè¨€" aria-label="Permalink to &quot;ğŸ‘ åºè¨€&quot;">â€‹</a></h1><p>åœ¨ <code>ts</code> ä¸­ï¼Œæœ‰ä¸€ä¸ªç»å¸¸è¢«æˆ‘ä»¬ç†Ÿç”¨ä½†æ˜¯åˆå¾ˆå°‘å»æ³¨æ„çš„ä¸€ä¸ªçŸ¥è¯†ç‚¹ï¼Œè£…é¥°å™¨ã€‚é‚£åœ¨ä¸‹æ–‡ä¸­ï¼Œå°†è®²è§£ç±»çš„è£…é¥°å™¨ï¼Œä¸€èµ·ç±»è£…é¥°å™¨ä¸­çš„å‡ ç§å…¶ä»–çš„è£…é¥°å™¨ã€‚</p><p>ä¸‹é¢å¼€å§‹æœ¬æ–‡çš„è®²è§£~ğŸ˜œ</p><h1 id="ğŸ˜‰-ä¸€ã€ç±»çš„è£…é¥°å™¨" tabindex="-1">ğŸ˜‰ ä¸€ã€ç±»çš„è£…é¥°å™¨ <a class="header-anchor" href="#ğŸ˜‰-ä¸€ã€ç±»çš„è£…é¥°å™¨" aria-label="Permalink to &quot;ğŸ˜‰ ä¸€ã€ç±»çš„è£…é¥°å™¨&quot;">â€‹</a></h1><h2 id="_1ã€ä»€ä¹ˆæ˜¯è£…é¥°å™¨" tabindex="-1">1ã€ä»€ä¹ˆæ˜¯è£…é¥°å™¨ <a class="header-anchor" href="#_1ã€ä»€ä¹ˆæ˜¯è£…é¥°å™¨" aria-label="Permalink to &quot;1ã€ä»€ä¹ˆæ˜¯è£…é¥°å™¨&quot;">â€‹</a></h2><p>é¦–å…ˆï¼Œæˆ‘ä»¬å…ˆæ¥è®²ï¼Œ <code>TypeScript</code> ä¸­ï¼Œç±»çš„è£…é¥°å™¨æ˜¯ä»€ä¹ˆã€‚</p><p>è£…é¥°å™¨å®é™…ä¸Šæ˜¯ä¸€ç§å¯¹ç±»çš„ä¿®é¥°å·¥å…·ã€‚<strong>æ¯”å¦‚è¯´ï¼š<strong>æŸä¸€å¤©å¯èƒ½æœ‰ä¸ªå¥³å­©å­æƒ³è¦å‡ºå»é€›è¡—ï¼Œé‚£ä¹ˆå¥¹å¯èƒ½ä¼šç”»ä¸ªç¾ç¾çš„å¦†å‡ºé—¨ã€‚å› æ­¤ï¼Œæˆ‘ä»¬å¯ä»¥æŠŠ</strong>è£…é¥°å™¨</strong>è§†ä¸ºæ˜¯<strong>åŒ–å¦†</strong>çš„è¿™ä¸ªè¿‡ç¨‹ï¼Œä¹Ÿå°±æ˜¯ä¸€ä¸ªç¾åŒ–çš„è¿‡ç¨‹ã€‚</p><p>ç°åœ¨å°±æ˜¯ï¼Œå‡è®¾æˆ‘ä»¬æœ‰ä¸€ä¸ªç±»ï¼Œç„¶åå‘¢ï¼Œ<strong>è¦å¯¹å®ƒé¢å¤–è¿›è¡Œä¸€äº›ä¿®é¥°</strong>ï¼Œè¿™ä¸ªå°±æ˜¯è£…é¥°å™¨è¦å¹²çš„äº‹æƒ…äº†ã€‚</p><h2 id="_2ã€è£…é¥°å™¨çš„ç‰¹ç‚¹" tabindex="-1">2ã€è£…é¥°å™¨çš„ç‰¹ç‚¹ <a class="header-anchor" href="#_2ã€è£…é¥°å™¨çš„ç‰¹ç‚¹" aria-label="Permalink to &quot;2ã€è£…é¥°å™¨çš„ç‰¹ç‚¹&quot;">â€‹</a></h2><p>é¦–å…ˆæˆ‘ä»¬éœ€è¦å…ˆæ¥äº†è§£è£…é¥°å™¨çš„å‡ ä¸ªç‰¹ç‚¹ã€‚<strong>å…·ä½“å¦‚ä¸‹ï¼š</strong></p><ul><li>è£…é¥°å™¨æœ¬èº«å°±æ˜¯ä¸€ä¸ª<strong>å‡½æ•°</strong>ï¼›</li><li>è£…é¥°å™¨æ¥æ”¶çš„å‚æ•°æ˜¯<strong>æ„é€ å‡½æ•°</strong>ï¼›</li><li>è£…é¥°å™¨é€šè¿‡ <code>@</code> ç¬¦å·æ¥è¿›è¡Œä½¿ç”¨ã€‚</li></ul><p>ä¾æ®ä»¥ä¸Šè¿™å‡ ä¸ªç‰¹ç‚¹ï¼Œä¸‹é¢æˆ‘ä»¬æ¥äº†è§£å‡ ç§ç±»çš„è£…é¥°å™¨ã€‚</p><h2 id="_3ã€å‡ ç§ç±»çš„è£…é¥°å™¨" tabindex="-1">3ã€å‡ ç§ç±»çš„è£…é¥°å™¨ <a class="header-anchor" href="#_3ã€å‡ ç§ç±»çš„è£…é¥°å™¨" aria-label="Permalink to &quot;3ã€å‡ ç§ç±»çš„è£…é¥°å™¨&quot;">â€‹</a></h2><h3 id="_1-æ‰§è¡Œé¡ºåº" tabindex="-1">ï¼ˆ1ï¼‰æ‰§è¡Œé¡ºåº <a class="header-anchor" href="#_1-æ‰§è¡Œé¡ºåº" aria-label="Permalink to &quot;ï¼ˆ1ï¼‰æ‰§è¡Œé¡ºåº&quot;">â€‹</a></h3><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;">// ç¬¬ä¸€ä¸ªè£…é¥°å™¨</span></span>
<span class="line"><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">testDecorator</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">constructor</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">any</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">decorator</span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// ç¬¬äºŒä¸ªè£…é¥°å™¨</span></span>
<span class="line"><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">testDecorator1</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">constructor</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">any</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">decorator1</span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// è£…é¥°å™¨æ‰§è¡Œçš„æ—¶å€™ï¼Œæ˜¯ä»ä¸‹åˆ°ä¸Šï¼Œä»å³åˆ°å·¦çš„é¡ºåº</span></span>
<span class="line"><span style="color:#89DDFF;">@</span><span style="color:#A6ACCD;">testDecorator</span></span>
<span class="line"><span style="color:#89DDFF;">@</span><span style="color:#A6ACCD;">testDecorator1</span></span>
<span class="line"><span style="color:#C792EA;">class</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">Test</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> test </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">new</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">Test</span><span style="color:#A6ACCD;">()</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;">// decorator1 decorator</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><p>è£…é¥°å™¨æ‰§è¡Œçš„æ—¶å€™ï¼Œæ˜¯<strong>ä»ä¸‹åˆ°ä¸Š</strong>ï¼Œä»<strong>å³åˆ°å·¦</strong>çš„é¡ºåºã€‚</p><h3 id="_2-å‚æ•°åˆ¤æ–­" tabindex="-1">ï¼ˆ2ï¼‰å‚æ•°åˆ¤æ–­ <a class="header-anchor" href="#_2-å‚æ•°åˆ¤æ–­" aria-label="Permalink to &quot;ï¼ˆ2ï¼‰å‚æ•°åˆ¤æ–­&quot;">â€‹</a></h3><p>æˆ‘ä»¬å¦‚ä½•è®©<strong>ç±»è£…é¥°å™¨</strong>æ¥æ”¶ä¸€ä¸ªå‚æ•°å‘¢ï¼Ÿ<strong>æ¥çœ‹ä¸€æ®µä»£ç ï¼š</strong></p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;">// å¤–é¢å†åŒ…ä¸€å±‚å‡½æ•°</span></span>
<span class="line"><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">testDecorator</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">flag</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">boolean</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#676E95;font-style:italic;">// å·¥å‚æ¨¡å¼</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;font-style:italic;">if</span><span style="color:#F07178;"> (</span><span style="color:#A6ACCD;">flag</span><span style="color:#F07178;">) </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#C792EA;">function</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">constructor</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#FFCB6B;">any</span><span style="color:#89DDFF;">)</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#FFCB6B;">constructor</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">prototype</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">getName</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">()</span><span style="color:#F07178;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">Monday</span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#89DDFF;">};</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">};</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;font-style:italic;">else</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#C792EA;">function</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">constructor</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#FFCB6B;">any</span><span style="color:#89DDFF;">)</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{};</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">@</span><span style="color:#82AAFF;">testDecorator</span><span style="color:#A6ACCD;">(</span><span style="color:#FF9CAC;">true</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"><span style="color:#C792EA;">class</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">Test</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> test </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">new</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">Test</span><span style="color:#A6ACCD;">()</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">(test </span><span style="color:#89DDFF;font-style:italic;">as</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">any</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">getName</span><span style="color:#A6ACCD;">()</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;">// Monday</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><p>é€šè¿‡ä¸Šé¢è¿™æ®µä»£ç æˆ‘ä»¬å¯ä»¥äº†è§£åˆ°ï¼Œæˆ‘ä»¬é€šè¿‡å¯¹ç±»è£…é¥°å™¨çš„å¤–éƒ¨å†åŒ…ä¸Šä¸€å±‚å‡½æ•°ï¼Œè¿™å…¶å®æœ‰ç‚¹åƒæŸ¯é‡ŒåŒ–çš„å½¢å¼ï¼Œä¹‹å<strong>é€šè¿‡å¤–éƒ¨çš„è¿™ä¸ªå‡½æ•°è¿›è¡Œä¼ å‚</strong>ï¼Œä¹Ÿå°±æ˜¯ä¸Šé¢ä»£ç ä¸­çš„ <code>flag</code> ã€‚æœ€ç»ˆç±»è£…é¥°å™¨<strong>è¿”å›ä¸€ä¸ªå‡½æ•°ä½œä¸ºç»“æœ</strong>ï¼Œé¡ºåˆ©åœ°è¿›è¡Œä¼ å‚ã€‚</p><h3 id="_3-è£…é¥°å™¨æ ‡å‡†å†™æ³•" tabindex="-1">ï¼ˆ3ï¼‰è£…é¥°å™¨æ ‡å‡†å†™æ³• <a class="header-anchor" href="#_3-è£…é¥°å™¨æ ‡å‡†å†™æ³•" aria-label="Permalink to &quot;ï¼ˆ3ï¼‰è£…é¥°å™¨æ ‡å‡†å†™æ³•&quot;">â€‹</a></h3><p>ä¸Šé¢çš„ä¸¤ä¸ªè£…é¥°å™¨å±äºä¸¤ä¸ªæ¯”è¾ƒç®€å•å’Œä¸å¤ªè§„èŒƒçš„è£…é¥°å™¨ã€‚ä¸‹é¢æˆ‘ä»¬æ¥å±•ç°ä¸€ç§æ¯”è¾ƒæ ‡å‡†çš„å†™æ³•ï¼š</p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">testDecorator</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#C792EA;">function</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&lt;</span><span style="color:#FFCB6B;">T</span><span style="color:#F07178;"> </span><span style="color:#C792EA;">extends</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;font-style:italic;">new</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">(...</span><span style="color:#A6ACCD;font-style:italic;">args</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#FFCB6B;">any</span><span style="color:#F07178;">[]</span><span style="color:#89DDFF;">)</span><span style="color:#F07178;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#F07178;"> </span><span style="color:#FFCB6B;">any</span><span style="color:#89DDFF;">&gt;(</span><span style="color:#A6ACCD;font-style:italic;">constructor</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#FFCB6B;">T</span><span style="color:#89DDFF;">)</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#C792EA;">class</span><span style="color:#F07178;"> </span><span style="color:#C792EA;">extends</span><span style="color:#F07178;"> </span><span style="color:#FFCB6B;">constructor</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">      name </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">Tuesday</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">      getName</span><span style="color:#89DDFF;">()</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">this.</span><span style="color:#A6ACCD;">name</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">};</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">};</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> Test </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">testDecorator</span><span style="color:#A6ACCD;">()(</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#C792EA;">class</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">name</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">string</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C792EA;">constructor</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">name</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">string</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#89DDFF;">this.</span><span style="color:#A6ACCD;">name</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">name</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> test </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">new</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">Test</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">Monday</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#A6ACCD;">(test</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">getName</span><span style="color:#A6ACCD;">())</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;">// Tuesday</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br></div></div><p>åœ¨ä¸Šé¢çš„ä»£ç ä¸­ï¼Œ <code>(...args: any[]) =&gt; any</code> æ˜¯ä¸€ä¸ª<strong>å‡½æ•°</strong>ï¼Œè¿”å›å€¼æ˜¯ä¸€ä¸ª<strong>å¯¹è±¡</strong>çš„ç±»å‹ã€‚è¿™ä¸ªå‡½æ•°ä¼šæ¥æ”¶å¾ˆå¤šå‚æ•°ï¼Œå‡½æ•°æŠŠè¿™äº›å‚æ•°åˆå¹¶åˆ°ä¸€èµ·ï¼Œå˜æˆä¸€ä¸ªæ•°ç»„ï¼Œä¹Ÿå°±æ˜¯ <code>...args</code> ã€‚é‚£ <code>&lt;T extends new (...args: any[]) =&gt; any&gt;</code> æ˜¯ä»€ä¹ˆæ„æ€å‘¢ï¼Ÿæ„æ€æ˜¯ï¼Œ <code>T</code> å¯ä»¥é€šè¿‡ <code>new (...args: any[]) =&gt; any</code> è¿™ç§ç±»å‹çš„æ„é€ å‡½æ•°ï¼Œç»™<strong>å®ä¾‹åŒ–</strong>å‡ºæ¥ã€‚æ‰€ä»¥ <code>T</code> ç°åœ¨å¯ä»¥ç†è§£ä¸ºæ˜¯ä¸€ä¸ªç±»æˆ–è€…æ˜¯ <code>constructor</code> è¿™æ ·çš„ä¸€ä¸ªæ„é€ å‡½æ•°ã€‚</p><p>æœ€ç»ˆï¼Œæˆ‘ä»¬é€šè¿‡ <code>testDecorator()()</code> è¿™æ ·çš„æ–¹å¼ï¼Œè®© <code>test</code> å®ä¾‹å¯ä»¥è®¿é—®åˆ° <code>getName()</code> æ–¹æ³•ï¼Œå¹¶æ‰“å°å‡º <code>Tuesday</code> ã€‚</p><h1 id="ğŸ¤-äºŒã€ç±»çš„å…¶ä»–è£…é¥°å™¨" tabindex="-1">ğŸ¤ äºŒã€ç±»çš„å…¶ä»–è£…é¥°å™¨ <a class="header-anchor" href="#ğŸ¤-äºŒã€ç±»çš„å…¶ä»–è£…é¥°å™¨" aria-label="Permalink to &quot;ğŸ¤ äºŒã€ç±»çš„å…¶ä»–è£…é¥°å™¨&quot;">â€‹</a></h1><h2 id="_1ã€æ–¹æ³•è£…é¥°å™¨" tabindex="-1">1ã€æ–¹æ³•è£…é¥°å™¨ <a class="header-anchor" href="#_1ã€æ–¹æ³•è£…é¥°å™¨" aria-label="Permalink to &quot;1ã€æ–¹æ³•è£…é¥°å™¨&quot;">â€‹</a></h2><p>è¿™é‡Œæˆ‘æƒ³è¦å¼ºè°ƒçš„ä¸€ä¸ªé—®é¢˜æ˜¯ï¼Œå¤§å®¶è§‰å¾—ï¼Œç±»è£…é¥°å™¨çš„<strong>æ‰§è¡Œæ—¶åˆ»</strong>æ˜¯ä»€ä¹ˆæ ·çš„ï¼Ÿç±»è£…é¥°å™¨åœ¨<strong>ç±»å®šä¹‰å®Œæˆä¹‹å</strong>å°±å¯ä»¥ç«‹å³å¯¹<strong>ç±»</strong>è¿›è¡Œä¸€ä¸ªè£…é¥°ã€‚</p><p>é‚£æ–¹æ³•è£…é¥°å™¨ï¼Œæ˜¯ä»€ä¹ˆæ ·çš„å‘¢ï¼Ÿ</p><p><strong>æ–¹æ³•è£…é¥°å™¨</strong>ï¼Œè·Ÿ<strong>ç±»è£…é¥°å™¨</strong>ä¹Ÿæ˜¯ä¸€æ ·çš„ã€‚å®ƒä¼šç­‰ç±»åˆ›å»ºå¥½äº†ä¹‹åï¼Œ<strong>ç«‹å³åœ°</strong>æŠŠæ–¹æ³•å»åšä¸€ä¸ªä¿®æ”¹ã€‚</p><p>å¾ˆå¤šå°ä¼™ä¼´å¯èƒ½ä¼šè¯¯è®¤ä¸ºï¼Œæˆ‘æ˜¯ä¸æ˜¯å¾—<strong>å®ä¾‹åŒ–</strong>çš„æ—¶å€™ï¼Œæ‰ä¼šå¯¹<strong>æ–¹æ³•</strong>å»åšä¸€ä¸ªè£…é¥°å‘¢ï¼Ÿå…¶å®ä¸æ˜¯è¿™æ ·çš„ï¼Œåªè¦åœ¨å®šä¹‰å®Œ<strong>ç±»</strong>ä»¥åï¼Œ<strong>ç±»</strong>å°±ä¼šå¸®åŠ©æˆ‘ä»¬å¯¹<strong>ç±»çš„æ–¹æ³•</strong>å»åšä¸€ä¸ªè£…é¥°ã€‚<strong>å…ˆæ¥çœ‹ä¸€æ®µä»£ç ï¼š</strong></p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;">// æ™®é€šæ–¹æ³•ï¼Œ target å¯¹åº”çš„æ˜¯ç±»çš„ prototype</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// é™æ€æ–¹æ³•ï¼Œ target å¯¹åº”çš„æ˜¯ç±»çš„ æ„é€ å‡½æ•°</span></span>
<span class="line"><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">getNameDecorator</span><span style="color:#89DDFF;">(</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#A6ACCD;font-style:italic;">target</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">any</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#A6ACCD;font-style:italic;">key</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">string</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#A6ACCD;font-style:italic;">descriptor</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">PropertyDescriptor</span></span>
<span class="line"><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#676E95;font-style:italic;">// console.log(target);</span></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#676E95;font-style:italic;">// descriptorçš„ä½œç”¨ï¼šå¯¹æ–¹æ³•ä¸­çš„å±æ€§åšä¸€äº›ç¼–è¾‘</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#A6ACCD;">descriptor</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">writable</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#FF9CAC;">true</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#676E95;font-style:italic;">// é€šè¿‡è°ƒç”¨ .value çš„æ–¹å¼ï¼Œå¯ä»¥å¯¹åŸæ¥çš„æ–¹æ³•åšä¸€äº›å˜æ›´</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#A6ACCD;">descriptor</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">value</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#C792EA;">function</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">()</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">decorator</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">};</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">class</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">Test</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">name</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">string</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#C792EA;">constructor</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">name</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">string</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">this.</span><span style="color:#A6ACCD;">name</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">name</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">@</span><span style="color:#A6ACCD;">getNameDecorator</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">getName</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">this.</span><span style="color:#A6ACCD;">name</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> test </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">new</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">Test</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">Monday</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">test</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">getName</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">123</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">};</span></span>
<span class="line"><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#A6ACCD;">(test</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">getName</span><span style="color:#A6ACCD;">())</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;">// decorator</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br></div></div><p>å¤§å®¶å…ˆçœ‹ä¸Šé¢è¿™æ®µä»£ç ï¼Œå¯èƒ½æœ‰çš„å°ä¼™ä¼´ä¼šè§‰å¾—ï¼Œæœ€ç»ˆæ‰“å°çš„æ˜¯ <code>123</code> ã€‚ä½†å…¶å®ï¼Œå› ä¸ºæˆ‘ä»¬å¯¹æ–¹æ³•è¿›è¡Œäº†è£…é¥°ï¼Œæ‰€ä»¥æœ€ç»ˆæ‰“å°çš„ç»“æœæ˜¯ <code>decorator</code> ã€‚</p><p>å› æ­¤ï¼Œä¸€ä¸ªè£…é¥°å™¨å¯¹<strong>ä¸€ä¸ªæ–¹æ³•</strong>åšå®Œè£…é¥°ä¹‹åï¼Œå°±å¯ä»¥å¤šåšå¾ˆå¤šäº‹æƒ…äº†ã€‚åŒ…æ‹¬<strong>åŸå‹ targetï¼Œkey å€¼ å’Œ descriptor</strong> ï¼Œéƒ½å¯ä»¥å¯¹æ–¹æ³•åšå¾ˆå¤šä¿®æ”¹ã€‚</p><h2 id="_2ã€è®¿é—®å™¨çš„è£…é¥°å™¨" tabindex="-1">2ã€è®¿é—®å™¨çš„è£…é¥°å™¨ <a class="header-anchor" href="#_2ã€è®¿é—®å™¨çš„è£…é¥°å™¨" aria-label="Permalink to &quot;2ã€è®¿é—®å™¨çš„è£…é¥°å™¨&quot;">â€‹</a></h2><p>ç°åœ¨ï¼Œæˆ‘ä»¬æ¥å­¦ä¹ ç±»é‡Œé¢ä¸­ï¼Œè®¿é—®å™¨çš„è£…é¥°å™¨ã€‚æˆ‘ä»¬å…ˆæ¥çœ‹ä¸€æ®µä»£ç ï¼š</p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">visitDecorator</span><span style="color:#89DDFF;">(</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#A6ACCD;font-style:italic;">target</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">any</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#A6ACCD;font-style:italic;">key</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">string</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#A6ACCD;font-style:italic;">descriptor</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">PropertyDescriptor</span></span>
<span class="line"><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#676E95;font-style:italic;">// console.log(123);</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">class</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">Test</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#C792EA;">private</span><span style="color:#A6ACCD;"> </span><span style="color:#F07178;">_name</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">string</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#C792EA;">constructor</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">name</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">string</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">this.</span><span style="color:#A6ACCD;">_name</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">name</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#676E95;font-style:italic;">// è¿™é‡Œä¸èƒ½å†™@visitDecoratorï¼ŒåŒæ—¶å†™ä¸¤ä¸ªä¼šå¼•å‘æŠ¥é”™</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#C792EA;">get</span><span style="color:#A6ACCD;"> </span><span style="color:#F07178;">name</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">this.</span><span style="color:#A6ACCD;">_name</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">@</span><span style="color:#A6ACCD;">visitDecorator</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#C792EA;">set</span><span style="color:#A6ACCD;"> </span><span style="color:#F07178;">name</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">name</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">string</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">this.</span><span style="color:#A6ACCD;">_name</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">name</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> test </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">new</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">Test</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">Monday</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">test</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">name </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">Tuesday</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#A6ACCD;">(test</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">name)</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;">// Tuesday</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br></div></div><p>å…¶ä¸­ï¼Œ <code>@visitDecorator</code> æ˜¯ä¸€ä¸ª<strong>è®¿é—®å™¨è£…é¥°å™¨</strong>ã€‚æˆ‘ä»¬ç°åœ¨æ¥è§£é‡Šä¸‹ä¸Šé¢ä»£ç ä¸­çš„è¿è¡Œè·¯å¾„ã€‚</p><p>ç¬¬ä¸€éƒ¨åˆ†ï¼Œ <code>test.name = &#39;Tuesday&#39;</code> èµ°çš„æ˜¯ <code>set</code> æ–¹æ³•ï¼ŒæŠŠ <code>Tuesday</code> è¿™ä¸ªå€¼èµ‹å€¼ç»™ <code>name</code> ã€‚ä¹‹åï¼Œç­‰åˆ°æˆ‘ä»¬è¿è¡Œ <code>console.log</code> çš„æ—¶å€™ï¼Œå°±æ˜¯å»è°ƒç”¨ <code>get</code> æ–¹æ³•ï¼Œæ‰€ä»¥æœ€ç»ˆæ‰“å°å‡ºæ¥çš„ä¹Ÿå°±æ˜¯ <code>Tuesday</code> è€Œä¸æ˜¯ <code>Monday</code> ã€‚</p><h2 id="_3ã€å±æ€§çš„è£…é¥°å™¨" tabindex="-1">3ã€å±æ€§çš„è£…é¥°å™¨ <a class="header-anchor" href="#_3ã€å±æ€§çš„è£…é¥°å™¨" aria-label="Permalink to &quot;3ã€å±æ€§çš„è£…é¥°å™¨&quot;">â€‹</a></h2><p>æˆ‘ä»¬å…ˆæ¥çœ‹ç¬¬ä¸€ç§å±æ€§çš„è£…é¥°å™¨ã€‚<strong>å…·ä½“ä»£ç å¦‚ä¸‹ï¼š</strong></p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">nameDecorator</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">target</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">any</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">key</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">string</span><span style="color:#89DDFF;">):</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">any</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">descriptor</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#FFCB6B;">PropertyDescriptor</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    writable</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#FF9CAC;">true</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">};</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">descriptor</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">class</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">Test</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">@</span><span style="color:#A6ACCD;">nameDecorator</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">name</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">Monday</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> test </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">new</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">Test</span><span style="color:#A6ACCD;">()</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">test</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">name </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">Tuesday</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#A6ACCD;">(test</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">name)</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;">// Tuesday</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><p>å±æ€§è£…é¥°å™¨çš„å†™æ³•ï¼Œä¹Ÿæ˜¯ä¸€ä¸ª <code>decorator</code> çš„å½¢å¼ï¼Œå³ä¸Šè¿°ä»£ç ä¸­çš„ <code>@nameDecorator</code> ã€‚è¿™ä¸ªè£…é¥°å™¨æ¥æ”¶ä¸¤ä¸ªå‚æ•°ï¼Œåˆ†åˆ«æ˜¯ <strong>åŸå‹ target</strong> å’Œ <strong>å±æ€§çš„åå­— key</strong> ã€‚åœ¨è¿™é‡Œæˆ‘ä»¬å¯ä»¥è¿”å›ä¸€ä¸ª <code>descriptor</code> æ¥æ›¿æ¢æ‰å±æ€§åŸå§‹çš„ <code>descriptor</code> ã€‚æ›¿æ¢å®Œæˆä¹‹åï¼Œæœ€ç»ˆæ‰“å° <code>Tuesday</code> ã€‚</p><hr><p>ç»§ç»­ï¼Œæˆ‘ä»¬æ¥çœ‹ç¬¬äºŒç§è£…é¥°å™¨ã€‚<strong>å…·ä½“ä»£ç å¦‚ä¸‹ï¼š</strong></p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;">// è¯¥è£…é¥°å™¨æ— æ³•ç›´æ¥ä¿®æ”¹å®ä¾‹ä¸Šçš„å±æ€§å€¼(name)ï¼Œè€Œåªèƒ½ä¿®æ”¹åŸå‹ä¸Šçš„å±æ€§å€¼(name)</span></span>
<span class="line"><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">nameDecorator</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">target</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">any</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">key</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">string</span><span style="color:#89DDFF;">):</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">any</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#A6ACCD;">target</span><span style="color:#F07178;">[</span><span style="color:#A6ACCD;">key</span><span style="color:#F07178;">] </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">Tuesday</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// nameå­˜å‚¨åœ¨ç±»çš„å®ä¾‹ä¸Š</span></span>
<span class="line"><span style="color:#C792EA;">class</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">Test</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">@</span><span style="color:#A6ACCD;">nameDecorator</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">name</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">Monday</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> test </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">new</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">Test</span><span style="color:#A6ACCD;">()</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">test</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">name </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">Hello~</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#A6ACCD;">((test </span><span style="color:#89DDFF;font-style:italic;">as</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">any</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">name)</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;">// Hello~</span></span>
<span class="line"><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#A6ACCD;">((test </span><span style="color:#89DDFF;font-style:italic;">as</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">any</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">__proto__</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">name)</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;">// Tuesday</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><p>è¿™ç§ç±»å‹çš„è£…é¥°å™¨ä¸­ï¼Œå€¼å¾—æ³¨æ„çš„ç‚¹æ˜¯ï¼Œ <code>nameDecorator</code> åªèƒ½ç”¨æ¥ä¿®æ”¹<strong>åŸå‹ä¸Š</strong>çš„å±æ€§å€¼ï¼Œè€Œ<strong>æ— æ³•</strong>ç›´æ¥ä¿®æ”¹<strong>å®ä¾‹ä¸Š</strong>çš„å±æ€§å€¼ã€‚</p><h2 id="_4ã€å‚æ•°è£…é¥°å™¨" tabindex="-1">4ã€å‚æ•°è£…é¥°å™¨ <a class="header-anchor" href="#_4ã€å‚æ•°è£…é¥°å™¨" aria-label="Permalink to &quot;4ã€å‚æ•°è£…é¥°å™¨&quot;">â€‹</a></h2><p>ä¸Šé¢æˆ‘ä»¬è®²åˆ°äº†å¯¹ç±»é‡Œé¢çš„æ–¹æ³•ã€è®¿é—®å™¨å’Œå±æ€§åšä¿®é¥°ï¼Œç°åœ¨ï¼Œæˆ‘ä»¬å†æ¥äº†è§£ä¸€ç§æ–°çš„è£…é¥°å™¨ï¼šå¯¹ç±»é‡Œé¢çš„æ–¹æ³•ä¸­çš„<strong>å‚æ•°</strong>åšä¿®é¥°ã€‚<strong>å…ˆæ¥çœ‹ä¸€æ®µä»£ç ï¼š</strong></p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;">// åŸå‹ï¼Œæ–¹æ³•åï¼Œå‚æ•°æ‰€åœ¨çš„ä½ç½®</span></span>
<span class="line"><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">paramDecorator</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">target</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">any</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">key</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">string</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">paramIndex</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">number</span><span style="color:#89DDFF;">):</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">any</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">target</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">key</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">paramIndex</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span><span style="color:#F07178;"> </span><span style="color:#676E95;font-style:italic;">// Test { getInfo: [Function] } , &#39;getInfo&#39; , 1(å‚æ•°æ‰€åœ¨ä½ç½®æ˜¯ç¬¬2ä¸ªä½ç½®)</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">class</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">Test</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">getInfo</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">name</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">string</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">@</span><span style="color:#A6ACCD;">paramDecorator </span><span style="color:#A6ACCD;font-style:italic;">age</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">number</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">name</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">age</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> test </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">new</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">Test</span><span style="color:#A6ACCD;">()</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">test</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">getInfo</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">Monday</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">18</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;">// Monday 18</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><p>å¤§å®¶å¯ä»¥çœ‹åˆ°ï¼Œé€šè¿‡å¯¹æ–¹æ³•ä¸­çš„å‚æ•°è¿›è¡Œè£…é¥°ï¼Œæˆ‘ä»¬å¯ä»¥è·å–åˆ°è£…é¥°å™¨çš„<strong>åŸå‹</strong>ï¼Œ<strong>æ–¹æ³•å</strong>å’Œ<strong>å‚æ•°æ‰€åœ¨çš„ä½ç½®</strong>ï¼Œè¿™ä¸ªå°±æ˜¯å‚æ•°è£…é¥°å™¨ã€‚</p><h1 id="ğŸ˜-ä¸‰ã€è£…é¥°å™¨å®é™…ä½¿ç”¨çš„å°ä¾‹å­" tabindex="-1">ğŸ˜ ä¸‰ã€è£…é¥°å™¨å®é™…ä½¿ç”¨çš„å°ä¾‹å­ <a class="header-anchor" href="#ğŸ˜-ä¸‰ã€è£…é¥°å™¨å®é™…ä½¿ç”¨çš„å°ä¾‹å­" aria-label="Permalink to &quot;ğŸ˜ ä¸‰ã€è£…é¥°å™¨å®é™…ä½¿ç”¨çš„å°ä¾‹å­&quot;">â€‹</a></h1><p>ä¸Šé¢æˆ‘ä»¬è®²åˆ°äº†å¾ˆå¤šç§è£…é¥°å™¨ç›¸å…³çš„åŸç†çŸ¥è¯†ï¼Œç°åœ¨æˆ‘ä»¬ç”¨ä¸€ä¸ªå®é™…ä½¿ç”¨çš„ä¾‹å­æ¥å¸¦å¤§å®¶æ›´å¥½çš„ä½¿ç”¨è£…é¥°å™¨ã€‚<strong>å…ˆçœ‹ä¸€æ®µä»£ç ï¼š</strong></p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> userInfo</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">any</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">undefined;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">catchError</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">msg</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">string</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#C792EA;">function</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">target</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#FFCB6B;">any</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;font-style:italic;">key</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#FFCB6B;">string</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;font-style:italic;">descriptor</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#FFCB6B;">PropertyDescriptor</span><span style="color:#89DDFF;">)</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">fn</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">descriptor</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">value</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#A6ACCD;">descriptor</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">value</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#C792EA;">function</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">()</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#89DDFF;font-style:italic;">try</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#82AAFF;">fn</span><span style="color:#F07178;">()</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#89DDFF;">}</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;font-style:italic;">catch</span><span style="color:#F07178;"> (</span><span style="color:#A6ACCD;">e</span><span style="color:#F07178;">) </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">msg</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">};</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">};</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">class</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">Test</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">@</span><span style="color:#82AAFF;">catchError</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">userInfo.name ä¸å­˜åœ¨</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">getName</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">userInfo</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">name</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">@</span><span style="color:#82AAFF;">catchError</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">userInfo.age ä¸å­˜åœ¨</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">getAge</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">userInfo</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">age</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">@</span><span style="color:#82AAFF;">catchError</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">userInfo.gender ä¸å­˜åœ¨</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">getGender</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">userInfo</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">gender</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> test </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">new</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">Test</span><span style="color:#A6ACCD;">()</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">test</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">getName</span><span style="color:#A6ACCD;">()</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;">// userInfo.name ä¸å­˜åœ¨</span></span>
<span class="line"><span style="color:#A6ACCD;">test</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">getAge</span><span style="color:#A6ACCD;">()</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;">// userInfo.age ä¸å­˜åœ¨</span></span>
<span class="line"><span style="color:#A6ACCD;">test</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">getGender</span><span style="color:#A6ACCD;">()</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;">// userInfo.gender ä¸å­˜åœ¨</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br></div></div><p>åœ¨ä¸Šé¢çš„ä»£ç ä¸­ï¼Œæˆ‘ä»¬åšçš„æ˜¯æ•è·å¼‚å¸¸çš„ä¸€ä¸ªåŠŸèƒ½ã€‚é€šè¿‡å°è£… <code>@catchError</code> è£…é¥°å™¨ï¼Œæ¥å¯¹æˆ‘ä»¬æœ€ç»ˆä½¿ç”¨çš„ä¸‰ä¸ªæ–¹æ³•ï¼Œ<code>getName</code> ã€ <code>getAge</code> å’Œ <code>getGender</code> ï¼Œå¯¹è¿™ä¸‰ä¸ªæ–¹æ³•è¿›è¡Œ<strong>å¼‚å¸¸æ•è·</strong>ã€‚</p><p>ä»¥ä¸Šç®—æ˜¯å¯¹è£…é¥°å™¨çš„ä¸€æ¬¡å°å°çš„å®è·µï¼Œåç»­æ·±å…¥å­¦ä¹ å¯ä»¥å†å‚è€ƒä¸€äº›ä¹¦ç±å»å¤šç»ƒä¹ ã€‚</p><h1 id="ğŸ˜-å››ã€ç»“æŸè¯­" tabindex="-1">ğŸ˜ å››ã€ç»“æŸè¯­ <a class="header-anchor" href="#ğŸ˜-å››ã€ç»“æŸè¯­" aria-label="Permalink to &quot;ğŸ˜ å››ã€ç»“æŸè¯­&quot;">â€‹</a></h1><p>åœ¨ä¸Šé¢çš„æ–‡ç« ä¸­ï¼Œæˆ‘ä»¬è®²è§£äº†è£…é¥°å™¨ä¸­æœ€åŸºç¡€çš„<strong>ç±»è£…é¥°å™¨</strong>ï¼Œä»¥åŠç±»è£…é¥°å™¨ä¸­çš„ 4 ä¸­å…¶ä»–ç±»å‹çš„è£…é¥°å™¨ã€‚æœ€åï¼Œæˆ‘ä»¬è¿˜ç”¨äº†ä¸€ä¸ªå°ä¾‹å­å»ç®€å•åœ°äº†è§£äº†ï¼Œè£…é¥°å™¨åœ¨å®é™…åº”ç”¨ä¸­çš„ä¸€äº›æ“ä½œã€‚</p><p>åˆ°è¿™é‡Œï¼Œå…³äºè£…é¥°å™¨çš„å­¦ä¹ å°±æ¥è¿‘å°¾å£°å•¦ï¼ä¸çŸ¥é“å°ä¼™ä¼´ä»¬å¯¹è£…é¥°å™¨åˆæœ‰äº†ä¸€äº›æ–°çš„äº†è§£å‘¢ï¼Ÿ</p><p>å¦‚æœæ‚¨è§‰å¾—è¿™ç¯‡æ–‡ç« æœ‰å¸®åŠ©åˆ°æ‚¨çš„çš„è¯ä¸å¦¨ç‚¹èµæ”¯æŒä¸€ä¸‹å“Ÿ~~ğŸ˜‰</p><p>æˆ‘ä»¬ä¸‹æœŸå†è§ï¼ğŸ‘‹ğŸ‘‹ğŸ‘‹</p><h1 id="ğŸ¥³-å¾€æœŸæ¨è" tabindex="-1">ğŸ¥³ å¾€æœŸæ¨è <a class="header-anchor" href="#ğŸ¥³-å¾€æœŸæ¨è" aria-label="Permalink to &quot;ğŸ¥³ å¾€æœŸæ¨è&quot;">â€‹</a></h1><p>ğŸ›µ<a href="https://juejin.cn/post/6980248901966102564" target="_blank" rel="noreferrer">TypeScriptï¼Œä» 0 åˆ°å…¥é—¨å¸¦ä½ è¿›å…¥ç±»å‹çš„ä¸–ç•Œ</a></p>`,63),e=[o];function r(t,c,y,F,D,i){return a(),n("div",null,e)}const b=s(p,[["render",r]]);export{C as __pageData,b as default};
