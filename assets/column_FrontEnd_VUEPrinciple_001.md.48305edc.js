import{_ as s,o as n,c as a,Q as l}from"./chunks/framework.98c15f2e.js";const b=JSON.parse('{"title":"æ‰‹æŠŠæ‰‹æ•™ä½ å‰–ævueå“åº”å¼åŸç†ï¼Œç›‘å¬æ•°æ®ä¸å†è¿·èŒ«","description":"","frontmatter":{"title":"æ‰‹æŠŠæ‰‹æ•™ä½ å‰–ævueå“åº”å¼åŸç†ï¼Œç›‘å¬æ•°æ®ä¸å†è¿·èŒ«","author":"å‘¨ä¸€","date":"2021-06-27","categories":["å‰ç«¯å¼€å‘"],"tags":["vue.jsåŸç†è§£æ"],"sidebar":"auto"},"headers":[{"level":1,"title":"å‰è¨€","slug":"å‰è¨€","link":"#å‰è¨€","children":[]},{"level":1,"title":"ä¸€ã€ç»„ä»¶åŒ–åŸºç¡€","slug":"ä¸€ã€ç»„ä»¶åŒ–åŸºç¡€","link":"#ä¸€ã€ç»„ä»¶åŒ–åŸºç¡€","children":[{"level":2,"title":"1ã€â€œå¾ˆä¹…ä»¥å‰â€çš„ç»„ä»¶åŒ–","slug":"_1ã€-å¾ˆä¹…ä»¥å‰-çš„ç»„ä»¶åŒ–","link":"#_1ã€-å¾ˆä¹…ä»¥å‰-çš„ç»„ä»¶åŒ–","children":[{"level":3,"title":"ï¼ˆ1ï¼‰asp jsp php æ—¶ä»£","slug":"_1-asp-jsp-php-æ—¶ä»£","link":"#_1-asp-jsp-php-æ—¶ä»£","children":[]},{"level":3,"title":"ï¼ˆ2ï¼‰nodejs","slug":"_2-nodejs","link":"#_2-nodejs","children":[]}]},{"level":2,"title":"2ã€æ•°æ®é©±åŠ¨è§†å›¾ï¼ˆMVVMï¼ŒsetStateï¼‰","slug":"_2ã€æ•°æ®é©±åŠ¨è§†å›¾-mvvm-setstate","link":"#_2ã€æ•°æ®é©±åŠ¨è§†å›¾-mvvm-setstate","children":[{"level":3,"title":"ï¼ˆ1ï¼‰æ•°æ®é©±åŠ¨è§†å›¾ - Vue MVVM","slug":"_1-æ•°æ®é©±åŠ¨è§†å›¾-vue-mvvm","link":"#_1-æ•°æ®é©±åŠ¨è§†å›¾-vue-mvvm","children":[]},{"level":3,"title":"ï¼ˆ2ï¼‰æ•°æ®é©±åŠ¨è§†å›¾ - React setState","slug":"_2-æ•°æ®é©±åŠ¨è§†å›¾-react-setstate","link":"#_2-æ•°æ®é©±åŠ¨è§†å›¾-react-setstate","children":[]},{"level":3,"title":"ï¼ˆ3ï¼‰æ€»ç»“","slug":"_3-æ€»ç»“","link":"#_3-æ€»ç»“","children":[]}]}]},{"level":1,"title":"äºŒã€Vue å“åº”å¼","slug":"äºŒã€vue-å“åº”å¼","link":"#äºŒã€vue-å“åº”å¼","children":[{"level":2,"title":"1ã€vue çš„å“åº”å¼æ˜¯ä»€ä¹ˆ","slug":"_1ã€vue-çš„å“åº”å¼æ˜¯ä»€ä¹ˆ","link":"#_1ã€vue-çš„å“åº”å¼æ˜¯ä»€ä¹ˆ","children":[]},{"level":2,"title":"2ã€Object.defineProperty åŸºæœ¬ç”¨æ³•","slug":"_2ã€object-defineproperty-åŸºæœ¬ç”¨æ³•","link":"#_2ã€object-defineproperty-åŸºæœ¬ç”¨æ³•","children":[]},{"level":2,"title":"3ã€Oject.defineProperty å®ç°å“åº”å¼","slug":"_3ã€oject-defineproperty-å®ç°å“åº”å¼","link":"#_3ã€oject-defineproperty-å®ç°å“åº”å¼","children":[{"level":3,"title":"ï¼ˆ1ï¼‰ç›‘å¬å¯¹è±¡","slug":"_1-ç›‘å¬å¯¹è±¡","link":"#_1-ç›‘å¬å¯¹è±¡","children":[]},{"level":3,"title":"ï¼ˆ2ï¼‰ç›‘å¬æ•°ç»„","slug":"_2-ç›‘å¬æ•°ç»„","link":"#_2-ç›‘å¬æ•°ç»„","children":[]},{"level":3,"title":"ï¼ˆ3ï¼‰å‡ ä¸ªç¼ºç‚¹","slug":"_3-å‡ ä¸ªç¼ºç‚¹","link":"#_3-å‡ ä¸ªç¼ºç‚¹","children":[]}]}]},{"level":1,"title":"å››ã€ç»“æŸè¯­","slug":"å››ã€ç»“æŸè¯­","link":"#å››ã€ç»“æŸè¯­","children":[]}],"relativePath":"column/FrontEnd/VUEPrinciple/001.md","filePath":"column/FrontEnd/VUEPrinciple/001.md","lastUpdated":1685151998000}'),p={name:"column/FrontEnd/VUEPrinciple/001.md"},e=l(`<h1 id="å‰è¨€" tabindex="-1">å‰è¨€ <a class="header-anchor" href="#å‰è¨€" aria-label="Permalink to &quot;å‰è¨€&quot;">â€‹</a></h1><p>è¿‘æœŸåœ¨å¯¹ <code>vue</code> çš„å­¦ä¹ åˆ°ä¸€å®šé˜¶æ®µä¹‹åï¼Œåœ¨æƒ³ç€è‡ªå·±èƒ½ä¸èƒ½é€ äº›ä¸œè¥¿ã€‚äºæ˜¯èº«è¾¹çš„å°ä¼™ä¼´å»ºè®®è¯´å¯ä»¥ä»çœ‹ <code>vue</code> çš„æºç å¼€å§‹ï¼Œæ¯«æ— å¤´ç»ªçš„æˆ‘åŸæœ¬è¿Ÿè¿Ÿä¸æ•¢è¿ˆå‡ºè¿™ä¸€æ­¥â€¦â€¦ï¼ˆå†…å¿ƒç»å†äº†å„ç§è‡ªæˆ‘åŠè¯´åï¼‰æœ€ç»ˆï¼Œæˆ‘å¼€å¯äº†æˆ‘çš„æºç å­¦ä¹ ä¹‹è·¯ã€‚</p><p>äºæ˜¯æˆ‘æœåˆ®äº†ä¸€äº›å¸¸è§çš„åŸç†æ¥è¿›è¡Œå­¦ä¹ ï¼Œæˆ‘å¯¹ <code>vue</code> æºç çš„ç¬¬ä¸€æ­¥ä» <code>vue</code> çš„å“åº”å¼åŸç†å¼€å§‹ã€‚</p><p>ä¸‹é¢çš„è¿™ç¯‡æ–‡ç« ä¸­ï¼Œå°†è®°å½•æˆ‘å­¦ä¹  <code>vue</code> å“åº”å¼åŸç†çš„æ€»ç»“ã€‚ä¸€èµ·æ¥äº†è§£ä¸€ä¸‹å§~ğŸ™‹â€</p><h1 id="ä¸€ã€ç»„ä»¶åŒ–åŸºç¡€" tabindex="-1">ä¸€ã€ç»„ä»¶åŒ–åŸºç¡€ <a class="header-anchor" href="#ä¸€ã€ç»„ä»¶åŒ–åŸºç¡€" aria-label="Permalink to &quot;ä¸€ã€ç»„ä»¶åŒ–åŸºç¡€&quot;">â€‹</a></h1><h2 id="_1ã€-å¾ˆä¹…ä»¥å‰-çš„ç»„ä»¶åŒ–" tabindex="-1">1ã€â€œå¾ˆä¹…ä»¥å‰â€çš„ç»„ä»¶åŒ– <a class="header-anchor" href="#_1ã€-å¾ˆä¹…ä»¥å‰-çš„ç»„ä»¶åŒ–" aria-label="Permalink to &quot;1ã€â€œå¾ˆä¹…ä»¥å‰â€çš„ç»„ä»¶åŒ–&quot;">â€‹</a></h2><h3 id="_1-asp-jsp-php-æ—¶ä»£" tabindex="-1">ï¼ˆ1ï¼‰asp jsp php æ—¶ä»£ <a class="header-anchor" href="#_1-asp-jsp-php-æ—¶ä»£" aria-label="Permalink to &quot;ï¼ˆ1ï¼‰asp jsp php æ—¶ä»£&quot;">â€‹</a></h3><p>åœ¨å¾ˆä¹…ä»¥å‰ï¼Œä¹Ÿå°±æ˜¯å¤§æ¦‚ç¬¬ä¸€æ‰¹æ¥è§¦ç½‘é¡µå¼€å‘çš„ç¨‹åºå‘˜ï¼Œåœ¨ä»–ä»¬çš„é‚£ä¸ªå¹´ä»£å…¶å®å°±å·²ç»æœ‰ç»„ä»¶åŒ–äº†ã€‚</p><h3 id="_2-nodejs" tabindex="-1">ï¼ˆ2ï¼‰nodejs <a class="header-anchor" href="#_2-nodejs" aria-label="Permalink to &quot;ï¼ˆ2ï¼‰nodejs&quot;">â€‹</a></h3><p><code>nodejs</code> æ¯”èµ· <code>asp</code> ã€ <code>jsp</code> å’Œ <code>php</code> æ¥è¯´ï¼Œèµ·æ­¥è¾ƒæ™šï¼Œä½†æ˜¯å‘¢ï¼Œ <code>nodejs</code> ä¸­ä¹Ÿæœ‰ç±»ä¼¼çš„ç»„ä»¶åŒ–ï¼Œæ¯”å¦‚åƒ <code> js</code> çš„æ¨¡æ¿å¼•æ“ <code>ejs</code> ï¼Œå°±å¯ä»¥å®ç°<strong>ç»„ä»¶åŒ–</strong>ã€‚</p><p>æˆ‘ä»¬æ¥çœ‹ä¸‹ <code>ejs</code> æ˜¯æ€ä¹ˆå®ç°ç»„ä»¶åŒ–çš„ âœï¼š</p><div class="language-ejs vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">ejs</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#e1e4e8;">&lt;!-- ä¸ªäººä¿¡æ¯ --&gt;</span></span>
<span class="line"><span style="color:#e1e4e8;">&lt;div class = &quot;right-item&quot;&gt;</span></span>
<span class="line"><span style="color:#e1e4e8;">    &lt;%- include(&#39;widgets/user-info&#39;, {</span></span>
<span class="line"><span style="color:#e1e4e8;">        userInfo:userData.userInfo,</span></span>
<span class="line"><span style="color:#e1e4e8;">        isMe:userData.isMe,</span></span>
<span class="line"><span style="color:#e1e4e8;">        amIFollowed:userData.amIFollowed,</span></span>
<span class="line"><span style="color:#e1e4e8;">        atCount:userData.atCount</span></span>
<span class="line"><span style="color:#e1e4e8;">    });%&gt;</span></span>
<span class="line"><span style="color:#e1e4e8;">&lt;/div&gt;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292e;">&lt;!-- ä¸ªäººä¿¡æ¯ --&gt;</span></span>
<span class="line"><span style="color:#24292e;">&lt;div class = &quot;right-item&quot;&gt;</span></span>
<span class="line"><span style="color:#24292e;">    &lt;%- include(&#39;widgets/user-info&#39;, {</span></span>
<span class="line"><span style="color:#24292e;">        userInfo:userData.userInfo,</span></span>
<span class="line"><span style="color:#24292e;">        isMe:userData.isMe,</span></span>
<span class="line"><span style="color:#24292e;">        amIFollowed:userData.amIFollowed,</span></span>
<span class="line"><span style="color:#24292e;">        atCount:userData.atCount</span></span>
<span class="line"><span style="color:#24292e;">    });%&gt;</span></span>
<span class="line"><span style="color:#24292e;">&lt;/div&gt;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><div class="language-ejs vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">ejs</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#e1e4e8;">&lt;!-- ç”¨æˆ·åˆ—è¡¨ --&gt;</span></span>
<span class="line"><span style="color:#e1e4e8;">&lt;%- include(&#39;widgets/user-list&#39;, {</span></span>
<span class="line"><span style="color:#e1e4e8;">    count:userData.count,</span></span>
<span class="line"><span style="color:#e1e4e8;">    userList:userData.list</span></span>
<span class="line"><span style="color:#e1e4e8;">});%&gt;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292e;">&lt;!-- ç”¨æˆ·åˆ—è¡¨ --&gt;</span></span>
<span class="line"><span style="color:#24292e;">&lt;%- include(&#39;widgets/user-list&#39;, {</span></span>
<span class="line"><span style="color:#24292e;">    count:userData.count,</span></span>
<span class="line"><span style="color:#24292e;">    userList:userData.list</span></span>
<span class="line"><span style="color:#24292e;">});%&gt;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>é€šè¿‡ä»¥ä¸Šä»£ç å¯ä»¥äº†è§£åˆ°ï¼Œ <code>ejs</code> é€šè¿‡ <code>&lt;%- %&gt; </code> çš„å½¢å¼æ¥å®šä¹‰ä¸€ä¸ªç»„ä»¶ï¼Œä»è€Œå®ç°æ•°æ®æ¸²æŸ“ã€‚</p><p>è™½è¯´æ—©æœŸä¹Ÿæœ‰<strong>ç»„ä»¶</strong>ï¼Œä½†æ˜¯å¯¹äº<strong>ä¼ ç»Ÿç»„ä»¶</strong>æ¥è¯´ï¼Œä¹Ÿåªæ˜¯é™æ€æ¸²æŸ“ï¼Œå¹¶ä¸”å®ƒçš„æ›´æ–°è¿˜æ˜¯è¦ä¾èµ–äºæ“ä½œ <code>DOM</code> ã€‚è¿™æ ·å­çš„è¯ï¼Œç”¨ä¸ç”¨ç»„ä»¶å¼€å‘å…¶å®åŒºåˆ«ä¹Ÿä¸ä¼šå·®ç‰¹åˆ«å¤šã€‚</p><p>å› æ­¤ï¼Œä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œå°±æœ‰äº†ç°åœ¨æµè¡Œçš„ <code>vue</code> å’Œ <code>react</code> ï¼ŒåŸºäºæ•°æ®é©±åŠ¨è§†å›¾çš„å¼€å‘ã€‚</p><h2 id="_2ã€æ•°æ®é©±åŠ¨è§†å›¾-mvvm-setstate" tabindex="-1">2ã€æ•°æ®é©±åŠ¨è§†å›¾ï¼ˆMVVMï¼ŒsetStateï¼‰ <a class="header-anchor" href="#_2ã€æ•°æ®é©±åŠ¨è§†å›¾-mvvm-setstate" aria-label="Permalink to &quot;2ã€æ•°æ®é©±åŠ¨è§†å›¾ï¼ˆMVVMï¼ŒsetStateï¼‰&quot;">â€‹</a></h2><h3 id="_1-æ•°æ®é©±åŠ¨è§†å›¾-vue-mvvm" tabindex="-1">ï¼ˆ1ï¼‰æ•°æ®é©±åŠ¨è§†å›¾ - Vue MVVM <a class="header-anchor" href="#_1-æ•°æ®é©±åŠ¨è§†å›¾-vue-mvvm" aria-label="Permalink to &quot;ï¼ˆ1ï¼‰æ•°æ®é©±åŠ¨è§†å›¾ - Vue MVVM&quot;">â€‹</a></h3><p><strong>vue çš„ç»„ä»¶åŒ–å®šä¹‰å¦‚ä¸‹æ‰€ç¤ºï¼š</strong></p><div class="language-html vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">html</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#E1E4E8;">&lt;</span><span style="color:#85E89D;">template</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">  &lt;</span><span style="color:#85E89D;">div</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">id</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;app&quot;</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">    &lt;</span><span style="color:#85E89D;">img</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">alt</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;Vue logo&quot;</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">src</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;./assets/logo.png&quot;</span><span style="color:#E1E4E8;"> /&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">    &lt;</span><span style="color:#FDAEB7;font-style:italic;">HelloWorld</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">msg</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;Welcome to your Vue.js App&quot;</span><span style="color:#E1E4E8;"> /&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">  &lt;/</span><span style="color:#85E89D;">div</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">&lt;/</span><span style="color:#85E89D;">template</span><span style="color:#E1E4E8;">&gt;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">&lt;</span><span style="color:#22863A;">template</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">  &lt;</span><span style="color:#22863A;">div</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">id</span><span style="color:#24292E;">=</span><span style="color:#032F62;">&quot;app&quot;</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">    &lt;</span><span style="color:#22863A;">img</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">alt</span><span style="color:#24292E;">=</span><span style="color:#032F62;">&quot;Vue logo&quot;</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">src</span><span style="color:#24292E;">=</span><span style="color:#032F62;">&quot;./assets/logo.png&quot;</span><span style="color:#24292E;"> /&gt;</span></span>
<span class="line"><span style="color:#24292E;">    &lt;</span><span style="color:#B31D28;font-style:italic;">HelloWorld</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">msg</span><span style="color:#24292E;">=</span><span style="color:#032F62;">&quot;Welcome to your Vue.js App&quot;</span><span style="color:#24292E;"> /&gt;</span></span>
<span class="line"><span style="color:#24292E;">  &lt;/</span><span style="color:#22863A;">div</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">&lt;/</span><span style="color:#22863A;">template</span><span style="color:#24292E;">&gt;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>å¼•ç”¨å®˜æ–¹çš„å›¾ç‰‡ï¼Œæˆ‘ä»¬æ¥è®²ä¸‹ <code>Vue</code> çš„ <code>MVVM</code> ã€‚</p><p><img src="https://mondaylab-1309616765.cos.ap-shanghai.myqcloud.com/images/202305270741445.png" alt="mvvm"></p><p>æ‰€è°“ <code>MVVM</code> ï¼Œå³ <strong>Model-View-ViewModel</strong> ã€‚</p><p><strong>View</strong> å³ <strong>è§†å›¾</strong> ï¼Œä¹Ÿå°±æ˜¯ <code>DOM </code> ã€‚</p><p><strong>Model</strong> å³ <strong>æ¨¡å‹</strong> ï¼Œå¯ä»¥ç†è§£ä¸º <code>Vue</code> ä¸­ç»„ä»¶é‡Œé¢çš„ <code>data</code> ã€‚</p><p>é‚£ä¹ˆè¿™ä¸¤è€…ä¹‹é—´ï¼Œå°±é€šè¿‡ <strong>ViewModel</strong> æ¥åšå…³è”ã€‚è€Œ <code>ViewModel</code> å¯ä»¥åšçš„äº‹æƒ…æœ‰å¾ˆå¤šï¼Œæ¯”å¦‚è¯´åƒç›‘å¬äº‹ä»¶ï¼Œç›‘å¬æŒ‡ä»¤ç­‰ã€‚å½“ <code>Model</code> å±‚çš„æ•°æ®å‘ç”Ÿä¿®æ”¹æ—¶ï¼Œå°±å¯ä»¥é€šè¿‡ <code>ViewModel</code> ï¼Œæ¥æŠŠæ•°æ®æ¸²æŸ“åˆ° <code>View</code> è§†å›¾å±‚ä¸Šã€‚åä¹‹ï¼Œå½“ <code>View</code> å±‚è§¦å‘ <code>DOM</code> äº‹ä»¶æ—¶ï¼Œå°±å¯ä»¥é€šè¿‡ <code>ViewModel</code> ï¼Œä»è€Œä½¿å¾— <code>Model</code> å±‚å®ç°æ•°æ®çš„ä¿®æ”¹ã€‚</p><p>è¿™å°±æ˜¯ <code>Vue</code> ä¸­çš„æ•°æ®é©±åŠ¨è§†å›¾ï¼Œé€šè¿‡ä¿®æ”¹ <code>Model</code> å±‚çš„æ•°æ®ï¼Œæ¥é©±åŠ¨åˆ° <code>View</code> çš„è§†å›¾ä¸­æ¥ã€‚</p><hr><p>äº†è§£å®ŒåŸºæœ¬æ¦‚å¿µï¼Œæˆ‘ä»¬ç”¨ä¸€æ®µä»£ç æ¥å‰–æ <code>Vue</code> ä¸­çš„ <code>MVVM</code> æ˜¯æ€ä¹ˆæ ·çš„ã€‚</p><div class="language-html vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">html</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#E1E4E8;">&lt;</span><span style="color:#85E89D;">template</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">  &lt;</span><span style="color:#85E89D;">div</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">id</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;app&quot;</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">    &lt;</span><span style="color:#85E89D;">p</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">@click</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;changeName&quot;</span><span style="color:#E1E4E8;">&gt;{{name}}&lt;/</span><span style="color:#85E89D;">p</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">    &lt;</span><span style="color:#85E89D;">ul</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">      &lt;</span><span style="color:#85E89D;">li</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">v-for</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;(item, index) in list&quot;</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">:key</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;index&quot;</span><span style="color:#E1E4E8;">&gt;{{item}}&lt;/</span><span style="color:#85E89D;">li</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">    &lt;/</span><span style="color:#85E89D;">ul</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">    &lt;</span><span style="color:#85E89D;">button</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">@click</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;addItem&quot;</span><span style="color:#E1E4E8;">&gt;æ·»åŠ ä¸€é¡¹&lt;/</span><span style="color:#85E89D;">button</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">  &lt;/</span><span style="color:#85E89D;">div</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">&lt;/</span><span style="color:#85E89D;">template</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">&lt;</span><span style="color:#85E89D;">script</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#F97583;">export</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">default</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">    name: </span><span style="color:#9ECBFF;">&#39;app&#39;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#B392F0;">data</span><span style="color:#E1E4E8;">() {</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#F97583;">return</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">        name: </span><span style="color:#9ECBFF;">&#39;vue&#39;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">        list: [</span><span style="color:#9ECBFF;">&#39;a&#39;</span><span style="color:#E1E4E8;">, </span><span style="color:#9ECBFF;">&#39;b&#39;</span><span style="color:#E1E4E8;">, </span><span style="color:#9ECBFF;">&#39;c&#39;</span><span style="color:#E1E4E8;">],</span></span>
<span class="line"><span style="color:#E1E4E8;">      };</span></span>
<span class="line"><span style="color:#E1E4E8;">    },</span></span>
<span class="line"><span style="color:#E1E4E8;">    methods: {</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#B392F0;">changeName</span><span style="color:#E1E4E8;">() {</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#79B8FF;">this</span><span style="color:#E1E4E8;">.name </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;monday&#39;</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#E1E4E8;">      },</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#B392F0;">addItem</span><span style="color:#E1E4E8;">() {</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#79B8FF;">this</span><span style="color:#E1E4E8;">.list.</span><span style="color:#B392F0;">push</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">\`\${</span><span style="color:#E1E4E8;">Date</span><span style="color:#9ECBFF;">.</span><span style="color:#B392F0;">now</span><span style="color:#9ECBFF;">()</span><span style="color:#9ECBFF;">}\`</span><span style="color:#E1E4E8;">);</span></span>
<span class="line"><span style="color:#E1E4E8;">      },</span></span>
<span class="line"><span style="color:#E1E4E8;">    },</span></span>
<span class="line"><span style="color:#E1E4E8;">  };</span></span>
<span class="line"><span style="color:#E1E4E8;">&lt;/</span><span style="color:#85E89D;">script</span><span style="color:#E1E4E8;">&gt;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">&lt;</span><span style="color:#22863A;">template</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">  &lt;</span><span style="color:#22863A;">div</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">id</span><span style="color:#24292E;">=</span><span style="color:#032F62;">&quot;app&quot;</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">    &lt;</span><span style="color:#22863A;">p</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">@click</span><span style="color:#24292E;">=</span><span style="color:#032F62;">&quot;changeName&quot;</span><span style="color:#24292E;">&gt;{{name}}&lt;/</span><span style="color:#22863A;">p</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">    &lt;</span><span style="color:#22863A;">ul</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">      &lt;</span><span style="color:#22863A;">li</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">v-for</span><span style="color:#24292E;">=</span><span style="color:#032F62;">&quot;(item, index) in list&quot;</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">:key</span><span style="color:#24292E;">=</span><span style="color:#032F62;">&quot;index&quot;</span><span style="color:#24292E;">&gt;{{item}}&lt;/</span><span style="color:#22863A;">li</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">    &lt;/</span><span style="color:#22863A;">ul</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">    &lt;</span><span style="color:#22863A;">button</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">@click</span><span style="color:#24292E;">=</span><span style="color:#032F62;">&quot;addItem&quot;</span><span style="color:#24292E;">&gt;æ·»åŠ ä¸€é¡¹&lt;/</span><span style="color:#22863A;">button</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">  &lt;/</span><span style="color:#22863A;">div</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">&lt;/</span><span style="color:#22863A;">template</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">&lt;</span><span style="color:#22863A;">script</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">export</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">default</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">    name: </span><span style="color:#032F62;">&#39;app&#39;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6F42C1;">data</span><span style="color:#24292E;">() {</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">        name: </span><span style="color:#032F62;">&#39;vue&#39;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">        list: [</span><span style="color:#032F62;">&#39;a&#39;</span><span style="color:#24292E;">, </span><span style="color:#032F62;">&#39;b&#39;</span><span style="color:#24292E;">, </span><span style="color:#032F62;">&#39;c&#39;</span><span style="color:#24292E;">],</span></span>
<span class="line"><span style="color:#24292E;">      };</span></span>
<span class="line"><span style="color:#24292E;">    },</span></span>
<span class="line"><span style="color:#24292E;">    methods: {</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#6F42C1;">changeName</span><span style="color:#24292E;">() {</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#005CC5;">this</span><span style="color:#24292E;">.name </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;monday&#39;</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">      },</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#6F42C1;">addItem</span><span style="color:#24292E;">() {</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#005CC5;">this</span><span style="color:#24292E;">.list.</span><span style="color:#6F42C1;">push</span><span style="color:#24292E;">(</span><span style="color:#032F62;">\`\${</span><span style="color:#24292E;">Date</span><span style="color:#032F62;">.</span><span style="color:#6F42C1;">now</span><span style="color:#032F62;">()</span><span style="color:#032F62;">}\`</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">      },</span></span>
<span class="line"><span style="color:#24292E;">    },</span></span>
<span class="line"><span style="color:#24292E;">  };</span></span>
<span class="line"><span style="color:#24292E;">&lt;/</span><span style="color:#22863A;">script</span><span style="color:#24292E;">&gt;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br></div></div><p>åœ¨ä¸Šé¢çš„ä»£ç ä¸­ï¼Œ <code>template</code> éƒ¨åˆ†å°±è¡¨ç¤º <code>view</code> å±‚ï¼Œè€Œä¸‹é¢çš„ <code>data</code> å°±è¡¨ç¤º <code>Model</code> å±‚ã€‚ä¹‹åå‘¢ï¼Œåƒ <code>@click</code> è¿™ç§ç‚¹å‡»äº‹ä»¶ï¼Œç‚¹å‡»å®Œä¹‹åè§¦å‘åˆ°å…·ä½“çš„ <code>methods</code> ï¼Œè¿™ä¸€éƒ¨åˆ†å°±å¯ä»¥è§†ä¸ºæ˜¯ <code>ViewModel</code> å±‚ï¼Œè¿™æ ·çš„è¯ï¼Œå°±å¯ä»¥ç†è§£ä¸º <code>ViewModel</code> å±‚æ˜¯è¿æ¥ <code>View</code> å±‚å’Œ <code>Model</code> å±‚çš„ä¸€ä¸ªæ¡¥æ¢ã€‚</p><h3 id="_2-æ•°æ®é©±åŠ¨è§†å›¾-react-setstate" tabindex="-1">ï¼ˆ2ï¼‰æ•°æ®é©±åŠ¨è§†å›¾ - React setState <a class="header-anchor" href="#_2-æ•°æ®é©±åŠ¨è§†å›¾-react-setstate" aria-label="Permalink to &quot;ï¼ˆ2ï¼‰æ•°æ®é©±åŠ¨è§†å›¾ - React setState&quot;">â€‹</a></h3><p><strong>React çš„ç»„ä»¶åŒ–çš„å®šä¹‰å¦‚ä¸‹æ‰€ç¤ºï¼š</strong></p><div class="language-js vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">function</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">App</span><span style="color:#E1E4E8;">() {</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#F97583;">return</span><span style="color:#E1E4E8;"> (</span></span>
<span class="line"><span style="color:#E1E4E8;">    &lt;</span><span style="color:#85E89D;">div</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">className</span><span style="color:#F97583;">=</span><span style="color:#9ECBFF;">&#39;App&#39;</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">      &lt;</span><span style="color:#85E89D;">header</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">className</span><span style="color:#F97583;">=</span><span style="color:#9ECBFF;">&#39;AppHeader&#39;</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">        &lt;</span><span style="color:#85E89D;">img</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">src</span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;">{logo} </span><span style="color:#B392F0;">className</span><span style="color:#F97583;">=</span><span style="color:#9ECBFF;">&#39;App-logo&#39;</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">alt</span><span style="color:#F97583;">=</span><span style="color:#9ECBFF;">&#39;logo&#39;</span><span style="color:#E1E4E8;"> /&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">        &lt;</span><span style="color:#79B8FF;">HelloWorld</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">msg</span><span style="color:#F97583;">=</span><span style="color:#9ECBFF;">&#39;Welcome to Your React App&#39;</span><span style="color:#E1E4E8;"> /&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">      &lt;/</span><span style="color:#85E89D;">header</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">    &lt;/</span><span style="color:#85E89D;">div</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">  );</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">function</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">App</span><span style="color:#24292E;">() {</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> (</span></span>
<span class="line"><span style="color:#24292E;">    &lt;</span><span style="color:#22863A;">div</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">className</span><span style="color:#D73A49;">=</span><span style="color:#032F62;">&#39;App&#39;</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">      &lt;</span><span style="color:#22863A;">header</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">className</span><span style="color:#D73A49;">=</span><span style="color:#032F62;">&#39;AppHeader&#39;</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">        &lt;</span><span style="color:#22863A;">img</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">src</span><span style="color:#D73A49;">=</span><span style="color:#24292E;">{logo} </span><span style="color:#6F42C1;">className</span><span style="color:#D73A49;">=</span><span style="color:#032F62;">&#39;App-logo&#39;</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">alt</span><span style="color:#D73A49;">=</span><span style="color:#032F62;">&#39;logo&#39;</span><span style="color:#24292E;"> /&gt;</span></span>
<span class="line"><span style="color:#24292E;">        &lt;</span><span style="color:#005CC5;">HelloWorld</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">msg</span><span style="color:#D73A49;">=</span><span style="color:#032F62;">&#39;Welcome to Your React App&#39;</span><span style="color:#24292E;"> /&gt;</span></span>
<span class="line"><span style="color:#24292E;">      &lt;/</span><span style="color:#22863A;">header</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">    &lt;/</span><span style="color:#22863A;">div</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">  );</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p><code>React</code> é€šè¿‡ <code>setState</code> å»æ“ä½œæ•°æ®é©±åŠ¨è§†å›¾ã€‚è¿™é‡Œä¸å¯¹ <code>react</code> çš„æ•°æ®é©±åŠ¨è§†å›¾è¿›è¡Œç»†è®²ï¼Œå¤§å®¶å¯ä»¥æ ¹æ®è‡ªèº«éœ€æ±‚è¿›è¡Œèµ„æ–™æŸ¥è¯¢~</p><h3 id="_3-æ€»ç»“" tabindex="-1">ï¼ˆ3ï¼‰æ€»ç»“ <a class="header-anchor" href="#_3-æ€»ç»“" aria-label="Permalink to &quot;ï¼ˆ3ï¼‰æ€»ç»“&quot;">â€‹</a></h3><p><code>vue</code> å’Œ <code>react</code> å¸®åŠ©æˆ‘ä»¬é€šè¿‡<strong>æ•°æ®</strong>å»æ¸²æŸ“è§†å›¾ï¼Œè¿™ä¹Ÿå°±è®©æˆ‘ä»¬åœ¨åš <code>vue</code> å’Œ <code>react</code> å¼€å‘æ—¶ï¼Œæ›´å¤šçš„æ˜¯<strong>å…³æ³¨ä¸šåŠ¡é€»è¾‘</strong>ï¼Œè€Œä¸åƒä¼ ç»Ÿç»„ä»¶ä¸€æ ·è¦ä¸€ç›´å»è€ƒè™‘ <code>DOM</code> æ›´æ–°çš„é—®é¢˜ã€‚</p><h1 id="äºŒã€vue-å“åº”å¼" tabindex="-1">äºŒã€Vue å“åº”å¼ <a class="header-anchor" href="#äºŒã€vue-å“åº”å¼" aria-label="Permalink to &quot;äºŒã€Vue å“åº”å¼&quot;">â€‹</a></h1><h2 id="_1ã€vue-çš„å“åº”å¼æ˜¯ä»€ä¹ˆ" tabindex="-1">1ã€vue çš„å“åº”å¼æ˜¯ä»€ä¹ˆ <a class="header-anchor" href="#_1ã€vue-çš„å“åº”å¼æ˜¯ä»€ä¹ˆ" aria-label="Permalink to &quot;1ã€vue çš„å“åº”å¼æ˜¯ä»€ä¹ˆ&quot;">â€‹</a></h2><p>æ‰€è°“ <code>vue</code> çš„å“åº”å¼ï¼Œå³ç»„ä»¶ <code>data</code> çš„æ•°æ®ä¸€æ—¦å˜åŒ–ï¼Œå°±ä¼šç«‹åˆ»è§¦å‘è§†å›¾çš„æ›´æ–°ã€‚å®ç°æ•°æ®é©±åŠ¨è§†å›¾çš„ç¬¬ä¸€æ­¥ï¼Œéœ€è¦äº†è§£å®ç°å“åº”å¼çš„ä¸€ä¸ªæ ¸å¿ƒ <code>API</code> ï¼Œå³ <code>Object.defineProperty</code> ã€‚</p><h2 id="_2ã€object-defineproperty-åŸºæœ¬ç”¨æ³•" tabindex="-1">2ã€Object.defineProperty åŸºæœ¬ç”¨æ³• <a class="header-anchor" href="#_2ã€object-defineproperty-åŸºæœ¬ç”¨æ³•" aria-label="Permalink to &quot;2ã€Object.defineProperty åŸºæœ¬ç”¨æ³•&quot;">â€‹</a></h2><p>æˆ‘ä»¬ç”¨ä¸€æ®µä»£ç æ¥æ¼”ç¤º <code>Object.defineProperty</code> çš„ç”¨æ³•ï¼Œ<strong>å¦‚ä¸‹æ‰€ç¤ºï¼š</strong></p><div class="language-js vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">data</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> {};</span></span>
<span class="line"><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">name</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;friday&#39;</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#E1E4E8;">Object.</span><span style="color:#B392F0;">defineProperty</span><span style="color:#E1E4E8;">(data, </span><span style="color:#9ECBFF;">&#39;name&#39;</span><span style="color:#E1E4E8;">, {</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#B392F0;">get</span><span style="color:#E1E4E8;">: </span><span style="color:#F97583;">function</span><span style="color:#E1E4E8;"> () {</span></span>
<span class="line"><span style="color:#E1E4E8;">    console.</span><span style="color:#B392F0;">log</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;get&#39;</span><span style="color:#E1E4E8;">);</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">return</span><span style="color:#E1E4E8;"> name;</span></span>
<span class="line"><span style="color:#E1E4E8;">  },</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#B392F0;">set</span><span style="color:#E1E4E8;">: </span><span style="color:#F97583;">function</span><span style="color:#E1E4E8;"> (</span><span style="color:#FFAB70;">newVal</span><span style="color:#E1E4E8;">) {</span></span>
<span class="line"><span style="color:#E1E4E8;">    console.</span><span style="color:#B392F0;">log</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;set&#39;</span><span style="color:#E1E4E8;">);</span></span>
<span class="line"><span style="color:#E1E4E8;">    name </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> newVal;</span></span>
<span class="line"><span style="color:#E1E4E8;">  },</span></span>
<span class="line"><span style="color:#E1E4E8;">});</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">// æµ‹è¯•</span></span>
<span class="line"><span style="color:#E1E4E8;">console.</span><span style="color:#B392F0;">log</span><span style="color:#E1E4E8;">(data.name); </span><span style="color:#6A737D;">//get friday</span></span>
<span class="line"><span style="color:#E1E4E8;">data.name </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;monday&#39;</span><span style="color:#E1E4E8;">; </span><span style="color:#6A737D;">//set</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">data</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> {};</span></span>
<span class="line"><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">name</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;friday&#39;</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">Object.</span><span style="color:#6F42C1;">defineProperty</span><span style="color:#24292E;">(data, </span><span style="color:#032F62;">&#39;name&#39;</span><span style="color:#24292E;">, {</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6F42C1;">get</span><span style="color:#24292E;">: </span><span style="color:#D73A49;">function</span><span style="color:#24292E;"> () {</span></span>
<span class="line"><span style="color:#24292E;">    console.</span><span style="color:#6F42C1;">log</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&#39;get&#39;</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> name;</span></span>
<span class="line"><span style="color:#24292E;">  },</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6F42C1;">set</span><span style="color:#24292E;">: </span><span style="color:#D73A49;">function</span><span style="color:#24292E;"> (</span><span style="color:#E36209;">newVal</span><span style="color:#24292E;">) {</span></span>
<span class="line"><span style="color:#24292E;">    console.</span><span style="color:#6F42C1;">log</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&#39;set&#39;</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">    name </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> newVal;</span></span>
<span class="line"><span style="color:#24292E;">  },</span></span>
<span class="line"><span style="color:#24292E;">});</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">// æµ‹è¯•</span></span>
<span class="line"><span style="color:#24292E;">console.</span><span style="color:#6F42C1;">log</span><span style="color:#24292E;">(data.name); </span><span style="color:#6A737D;">//get friday</span></span>
<span class="line"><span style="color:#24292E;">data.name </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;monday&#39;</span><span style="color:#24292E;">; </span><span style="color:#6A737D;">//set</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><p>é€šè¿‡ä¸Šé¢çš„ä»£ç å¯ä»¥çœ‹åˆ°ï¼Œé€šè¿‡ <code>Object.defineProperty</code> ï¼Œæˆ‘ä»¬å¯ä»¥å®ç°å¯¹æ•°æ®è¿›è¡Œ <code>get</code> å’Œ <code>set</code> æ“ä½œï¼Œå³<strong>è·å–æ•°æ®</strong>å’Œ<strong>ä¿®æ”¹æ•°æ®</strong>çš„æ“ä½œï¼Œä»è€Œè¾¾åˆ°å¯¹æ•°æ®è¿›è¡Œå“åº”å¼çš„ç›‘å¬ã€‚</p><p>é‚£ <code>Object.defineProperty</code> åˆæ˜¯å¦‚ä½•å®ç°å“åº”å¼çš„å‘¢ï¼Ÿæ¥ä¸‹æ¥ä¸€èµ·æ¥ä¸€æ¢ç©¶ç«Ÿå§ï¼</p><h2 id="_3ã€oject-defineproperty-å®ç°å“åº”å¼" tabindex="-1">3ã€Oject.defineProperty å®ç°å“åº”å¼ <a class="header-anchor" href="#_3ã€oject-defineproperty-å®ç°å“åº”å¼" aria-label="Permalink to &quot;3ã€Oject.defineProperty å®ç°å“åº”å¼&quot;">â€‹</a></h2><h3 id="_1-ç›‘å¬å¯¹è±¡" tabindex="-1">ï¼ˆ1ï¼‰ç›‘å¬å¯¹è±¡ <a class="header-anchor" href="#_1-ç›‘å¬å¯¹è±¡" aria-label="Permalink to &quot;ï¼ˆ1ï¼‰ç›‘å¬å¯¹è±¡&quot;">â€‹</a></h3><p>åœ¨äº†è§£å“åº”å¼ä¹‹å‰ï¼Œéœ€è¦å¤§å®¶å¯¹ <code>js</code> çš„æ•°æ®ç±»å‹å’Œæ·±æ‹·è´æœ‰ä¸€ä¸ªäº†è§£ã€‚è¿™é‡Œæˆ‘ä¹‹å‰å†™è¿‡ä¸€ç¯‡æ–‡ç« ï¼Œ<a href="https://blog.csdn.net/weixin_44803753/article/details/116375461" target="_blank" rel="noreferrer">å¦‚æœ‰éœ€è¦å¯å‰å¾€æŸ¥çœ‹~</a></p><p>æˆ‘ä»¬éƒ½çŸ¥é“ <code>js</code> çš„æ•°æ®ç±»å‹æœ‰<strong>åŸºæœ¬æ•°æ®ç±»å‹</strong>å’Œ<strong>å¼•ç”¨æ•°æ®ç±»å‹</strong>ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬å°†æ¥å®ç°è¿™ä¸¤ç§æ•°æ®ç±»å‹çš„å“åº”å¼ç›‘å¬ã€‚</p><p><strong>åŸºæœ¬æ•°æ®ç±»å‹ï¼š</strong></p><div class="language-js vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#6A737D;">// è§¦å‘æ›´æ–°è§†å›¾</span></span>
<span class="line"><span style="color:#F97583;">function</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">updateView</span><span style="color:#E1E4E8;">() {</span></span>
<span class="line"><span style="color:#E1E4E8;">  console.</span><span style="color:#B392F0;">log</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;è§†å›¾æ›´æ–°&#39;</span><span style="color:#E1E4E8;">);</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">// é‡æ–°å®šä¹‰å±æ€§ï¼Œç›‘å¬èµ·æ¥</span></span>
<span class="line"><span style="color:#F97583;">function</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">defineReactive</span><span style="color:#E1E4E8;">(</span><span style="color:#FFAB70;">target</span><span style="color:#E1E4E8;">, </span><span style="color:#FFAB70;">key</span><span style="color:#E1E4E8;">, </span><span style="color:#FFAB70;">value</span><span style="color:#E1E4E8;">) {</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#6A737D;">// æ·±åº¦ç›‘å¬</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#B392F0;">observer</span><span style="color:#E1E4E8;">(value);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#6A737D;">// æ ¸å¿ƒ API</span></span>
<span class="line"><span style="color:#E1E4E8;">  Object.</span><span style="color:#B392F0;">defineProperty</span><span style="color:#E1E4E8;">(target, key, {</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#B392F0;">get</span><span style="color:#E1E4E8;">() {</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#F97583;">return</span><span style="color:#E1E4E8;"> value;</span></span>
<span class="line"><span style="color:#E1E4E8;">    },</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#B392F0;">set</span><span style="color:#E1E4E8;">(</span><span style="color:#FFAB70;">newValue</span><span style="color:#E1E4E8;">) {</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#F97583;">if</span><span style="color:#E1E4E8;"> (newValue </span><span style="color:#F97583;">!==</span><span style="color:#E1E4E8;"> value) {</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#6A737D;">// æ·±åº¦ç›‘å¬</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#B392F0;">observer</span><span style="color:#E1E4E8;">(newValue);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#6A737D;">// è®¾ç½®æ–°å€¼</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#6A737D;">// æ³¨æ„ï¼Œvalue ä¸€ç›´åœ¨é—­åŒ…ä¸­ï¼Œæ­¤å¤„è®¾ç½®å®Œä¹‹åï¼Œå†æ¬¡ get æ—¶ä¹Ÿæ˜¯ä¼šè·å–æœ€æ–°çš„å€¼</span></span>
<span class="line"><span style="color:#E1E4E8;">        value </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> newValue;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#6A737D;">// è§¦å‘æ›´æ–°è§†å›¾</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#B392F0;">updateView</span><span style="color:#E1E4E8;">();</span></span>
<span class="line"><span style="color:#E1E4E8;">      }</span></span>
<span class="line"><span style="color:#E1E4E8;">    },</span></span>
<span class="line"><span style="color:#E1E4E8;">  });</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">// ç›‘å¬å¯¹è±¡å±æ€§</span></span>
<span class="line"><span style="color:#F97583;">function</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">observer</span><span style="color:#E1E4E8;">(</span><span style="color:#FFAB70;">target</span><span style="color:#E1E4E8;">) {</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#6A737D;">//åˆ¤æ–­æ˜¯åŸºæœ¬æ•°æ®ç±»å‹ or å¼•ç”¨æ•°æ®ç±»å‹</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#F97583;">if</span><span style="color:#E1E4E8;"> (</span><span style="color:#F97583;">typeof</span><span style="color:#E1E4E8;"> target </span><span style="color:#F97583;">!==</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;object&#39;</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">||</span><span style="color:#E1E4E8;"> target </span><span style="color:#F97583;">===</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">null</span><span style="color:#E1E4E8;">) {</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#6A737D;">// ä¸æ˜¯å¯¹è±¡æˆ–æ•°ç»„</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">return</span><span style="color:#E1E4E8;"> target;</span></span>
<span class="line"><span style="color:#E1E4E8;">  }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#6A737D;">// é‡æ–°å®šä¹‰å„ä¸ªå±æ€§ï¼ˆfor in ä¹Ÿå¯ä»¥éå†æ•°ç»„ï¼‰</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#F97583;">for</span><span style="color:#E1E4E8;"> (</span><span style="color:#F97583;">let</span><span style="color:#E1E4E8;"> key </span><span style="color:#F97583;">in</span><span style="color:#E1E4E8;"> target) {</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#B392F0;">defineReactive</span><span style="color:#E1E4E8;">(target, key, target[key]);</span></span>
<span class="line"><span style="color:#E1E4E8;">  }</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6A737D;">// è§¦å‘æ›´æ–°è§†å›¾</span></span>
<span class="line"><span style="color:#D73A49;">function</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">updateView</span><span style="color:#24292E;">() {</span></span>
<span class="line"><span style="color:#24292E;">  console.</span><span style="color:#6F42C1;">log</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&#39;è§†å›¾æ›´æ–°&#39;</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">// é‡æ–°å®šä¹‰å±æ€§ï¼Œç›‘å¬èµ·æ¥</span></span>
<span class="line"><span style="color:#D73A49;">function</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">defineReactive</span><span style="color:#24292E;">(</span><span style="color:#E36209;">target</span><span style="color:#24292E;">, </span><span style="color:#E36209;">key</span><span style="color:#24292E;">, </span><span style="color:#E36209;">value</span><span style="color:#24292E;">) {</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6A737D;">// æ·±åº¦ç›‘å¬</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6F42C1;">observer</span><span style="color:#24292E;">(value);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6A737D;">// æ ¸å¿ƒ API</span></span>
<span class="line"><span style="color:#24292E;">  Object.</span><span style="color:#6F42C1;">defineProperty</span><span style="color:#24292E;">(target, key, {</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6F42C1;">get</span><span style="color:#24292E;">() {</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> value;</span></span>
<span class="line"><span style="color:#24292E;">    },</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6F42C1;">set</span><span style="color:#24292E;">(</span><span style="color:#E36209;">newValue</span><span style="color:#24292E;">) {</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#D73A49;">if</span><span style="color:#24292E;"> (newValue </span><span style="color:#D73A49;">!==</span><span style="color:#24292E;"> value) {</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#6A737D;">// æ·±åº¦ç›‘å¬</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#6F42C1;">observer</span><span style="color:#24292E;">(newValue);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#6A737D;">// è®¾ç½®æ–°å€¼</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#6A737D;">// æ³¨æ„ï¼Œvalue ä¸€ç›´åœ¨é—­åŒ…ä¸­ï¼Œæ­¤å¤„è®¾ç½®å®Œä¹‹åï¼Œå†æ¬¡ get æ—¶ä¹Ÿæ˜¯ä¼šè·å–æœ€æ–°çš„å€¼</span></span>
<span class="line"><span style="color:#24292E;">        value </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> newValue;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#6A737D;">// è§¦å‘æ›´æ–°è§†å›¾</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#6F42C1;">updateView</span><span style="color:#24292E;">();</span></span>
<span class="line"><span style="color:#24292E;">      }</span></span>
<span class="line"><span style="color:#24292E;">    },</span></span>
<span class="line"><span style="color:#24292E;">  });</span></span>
<span class="line"><span style="color:#24292E;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">// ç›‘å¬å¯¹è±¡å±æ€§</span></span>
<span class="line"><span style="color:#D73A49;">function</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">observer</span><span style="color:#24292E;">(</span><span style="color:#E36209;">target</span><span style="color:#24292E;">) {</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6A737D;">//åˆ¤æ–­æ˜¯åŸºæœ¬æ•°æ®ç±»å‹ or å¼•ç”¨æ•°æ®ç±»å‹</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">if</span><span style="color:#24292E;"> (</span><span style="color:#D73A49;">typeof</span><span style="color:#24292E;"> target </span><span style="color:#D73A49;">!==</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;object&#39;</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">||</span><span style="color:#24292E;"> target </span><span style="color:#D73A49;">===</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">null</span><span style="color:#24292E;">) {</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6A737D;">// ä¸æ˜¯å¯¹è±¡æˆ–æ•°ç»„</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> target;</span></span>
<span class="line"><span style="color:#24292E;">  }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6A737D;">// é‡æ–°å®šä¹‰å„ä¸ªå±æ€§ï¼ˆfor in ä¹Ÿå¯ä»¥éå†æ•°ç»„ï¼‰</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">for</span><span style="color:#24292E;"> (</span><span style="color:#D73A49;">let</span><span style="color:#24292E;"> key </span><span style="color:#D73A49;">in</span><span style="color:#24292E;"> target) {</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6F42C1;">defineReactive</span><span style="color:#24292E;">(target, key, target[key]);</span></span>
<span class="line"><span style="color:#24292E;">  }</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br></div></div><div class="language-js vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#6A737D;">// å‡†å¤‡æ•°æ®</span></span>
<span class="line"><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">data</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">  name: </span><span style="color:#9ECBFF;">&#39;monday&#39;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">  age: </span><span style="color:#79B8FF;">20</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">// ç›‘å¬æ•°æ®</span></span>
<span class="line"><span style="color:#B392F0;">observer</span><span style="color:#E1E4E8;">(data);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">// æµ‹è¯•</span></span>
<span class="line"><span style="color:#E1E4E8;">data.name </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;lisi&#39;</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#E1E4E8;">data.age </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">18</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#E1E4E8;">console.</span><span style="color:#B392F0;">log</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;name&#39;</span><span style="color:#E1E4E8;">, data.name);</span></span>
<span class="line"><span style="color:#E1E4E8;">console.</span><span style="color:#B392F0;">log</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;age&#39;</span><span style="color:#E1E4E8;">, data.age);</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6A737D;">// å‡†å¤‡æ•°æ®</span></span>
<span class="line"><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">data</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">  name: </span><span style="color:#032F62;">&#39;monday&#39;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">  age: </span><span style="color:#005CC5;">20</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">// ç›‘å¬æ•°æ®</span></span>
<span class="line"><span style="color:#6F42C1;">observer</span><span style="color:#24292E;">(data);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">// æµ‹è¯•</span></span>
<span class="line"><span style="color:#24292E;">data.name </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;lisi&#39;</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">data.age </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">18</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">console.</span><span style="color:#6F42C1;">log</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&#39;name&#39;</span><span style="color:#24292E;">, data.name);</span></span>
<span class="line"><span style="color:#24292E;">console.</span><span style="color:#6F42C1;">log</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&#39;age&#39;</span><span style="color:#24292E;">, data.age);</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><p><strong>æ­¤æ—¶æ§åˆ¶å°çš„æ‰“å°æ•ˆæœå¦‚ä¸‹ï¼š</strong></p><p><img src="https://mondaylab-1309616765.cos.ap-shanghai.myqcloud.com/images/202305270742761.png" alt="åŸºæœ¬æ•°æ®ç±»å‹"></p><p>ä»ä¸Šå›¾å¯ä»¥çœ‹åˆ°ï¼Œæˆ‘ä»¬æ”¹å˜äº†ä¸¤ä¸ªæ•°æ®çš„å€¼ï¼Œæ•°æ®ä¹Ÿä¼šå®æ—¶æ›´æ–°ã€‚åœ¨æ§åˆ¶å°ä¸­æˆ‘ä»¬å¯ä»¥å‘ç°ï¼Œæ”¹å˜äº†ä¸¤ä¸ªæ•°æ®çš„å€¼ï¼ŒåŒæ—¶ä¹Ÿæ˜¾ç¤ºå‡ºä¸¤ä¸ªâ€œ<strong>è§†å›¾æ›´æ–°</strong>â€ï¼Œè‡³æ­¤ï¼Œåˆ™è¯´æ˜<strong>è¿™ä¸¤ä¸ªæ•°æ®ç›‘å¬æˆåŠŸ</strong>ã€‚</p><p>é˜…è¯»ä»£ç æˆ‘ä»¬å¯ä»¥å‘ç°ï¼Œå½“æˆ‘ä»¬ç›‘å¬çš„æ•°æ®æ˜¯<strong>åŸºæœ¬æ•°æ®ç±»å‹</strong>æ—¶ï¼Œä¼šç›´æ¥è¿”å› <code>target</code> çš„å€¼ï¼Œå¹¶ä¸”è§†å›¾è¿›è¡Œå®æ—¶æ›´æ–°ã€‚</p><p>åŒæ—¶ï¼Œéœ€è¦æ³¨æ„çš„æ˜¯ï¼Œ <code>Object.defineProperty()</code> åœ¨<strong>æ–°å¢å±æ€§å’Œåˆ é™¤å±æ€§</strong>æ—¶ï¼Œ<strong>æ•°æ®æ˜¯ç›‘å¬ä¸åˆ°çš„</strong>ã€‚</p><p>ä»€ä¹ˆæ„æ€å‘¢ï¼Ÿæˆ‘ä»¬æ¥æ¼”ç¤ºä¸€ä¸‹ã€‚</p><p>ä¾æ®ä¸Šé¢çš„ä»£ç ï¼Œæˆ‘ä»¬å†å¢åŠ ä»¥ä¸‹ä¸¤è¡Œå†…å®¹ã€‚</p><div class="language-js vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#E1E4E8;">data.x </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;100&#39;</span><span style="color:#E1E4E8;">; </span><span style="color:#6A737D;">// æ–°å¢å±æ€§ï¼Œç›‘å¬ä¸åˆ° â€”â€” ç”¨ Vue.set è§£å†³</span></span>
<span class="line"><span style="color:#F97583;">delete</span><span style="color:#E1E4E8;"> data.name; </span><span style="color:#6A737D;">// åˆ é™¤å±æ€§ï¼Œç›‘å¬ä¸åˆ° â€”â€” ç”¨ Vue.delete è§£å†³</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">data.x </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;100&#39;</span><span style="color:#24292E;">; </span><span style="color:#6A737D;">// æ–°å¢å±æ€§ï¼Œç›‘å¬ä¸åˆ° â€”â€” ç”¨ Vue.set è§£å†³</span></span>
<span class="line"><span style="color:#D73A49;">delete</span><span style="color:#24292E;"> data.name; </span><span style="color:#6A737D;">// åˆ é™¤å±æ€§ï¼Œç›‘å¬ä¸åˆ° â€”â€” ç”¨ Vue.delete è§£å†³</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p><strong>æ­¤æ—¶æ§åˆ¶å°çš„æ‰“å°ç»“æœå¦‚ä¸‹ï¼š</strong></p><p><img src="https://mondaylab-1309616765.cos.ap-shanghai.myqcloud.com/images/202305270741258.png" alt="æ–°å¢å±æ€§å’Œåˆ é™¤å±æ€§"></p><p>ç»†å¿ƒçš„å°ä¼™ä¼´å·²ç»å‘ç°ï¼ŒåŠ ä¸Šè¿™ä¸¤è¡Œä»£ç åè¿è¡Œæ•ˆæœè·ŸåŸæ¥æ˜¯ä¸€æ ·çš„ã€‚æ‰€ä»¥ï¼Œæˆ‘ä»¬å¯ä»¥å¾—å‡ºç»“è®ºï¼Œåœ¨ç”¨ <code>Object.defineProperty()</code> <strong>æ–°å¢å’Œåˆ é™¤å±æ€§</strong>æ—¶ï¼Œ<strong>æ•°æ®æ˜¯ç›‘å¬ä¸åˆ°çš„</strong>ï¼Œè¿™ä¸ªæ—¶å€™å³ä½¿æ•°æ®ä¿®æ”¹äº†ï¼Œè§†å›¾ä¹Ÿç›‘å¬ä¸åˆ°å¯¹åº”çš„æ•°æ®ï¼Œä¹Ÿå°±æ²¡æœ‰åŠæ³•è¿›è¡Œè§†å›¾æ›´æ–°ã€‚</p><hr><p><strong>å¼•ç”¨æ•°æ®ç±»å‹ï¼š</strong></p><p>åŒæ ·ï¼Œä¾æ®åŸºæœ¬æ•°æ®ç±»å‹ç¬¬ä¸€æ®µçš„ä»£ç ï¼Œæˆ‘ä»¬æ¥ç›‘å¬<strong>å¼•ç”¨æ•°æ®ç±»å‹</strong>çš„æ•°æ®ã€‚<strong>æµ‹è¯•ä»£ç å¦‚ä¸‹ï¼š</strong></p><div class="language-js vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#6A737D;">// å‡†å¤‡æ•°æ®</span></span>
<span class="line"><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">data</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">  name: </span><span style="color:#9ECBFF;">&#39;monday&#39;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">  age: </span><span style="color:#79B8FF;">20</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">  info: {</span></span>
<span class="line"><span style="color:#E1E4E8;">    address: </span><span style="color:#9ECBFF;">&#39;ç¦å·&#39;</span><span style="color:#E1E4E8;">, </span><span style="color:#6A737D;">// éœ€è¦æ·±åº¦ç›‘å¬</span></span>
<span class="line"><span style="color:#E1E4E8;">  },</span></span>
<span class="line"><span style="color:#E1E4E8;">  nums: [</span><span style="color:#9ECBFF;">&#39;æ‰“ç¯®çƒ&#39;</span><span style="color:#E1E4E8;">, </span><span style="color:#9ECBFF;">&#39;å‡ºæ¥ç©&#39;</span><span style="color:#E1E4E8;">, </span><span style="color:#9ECBFF;">&#39;æ‰“ä¹’ä¹“çƒ&#39;</span><span style="color:#E1E4E8;">],</span></span>
<span class="line"><span style="color:#E1E4E8;">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">// ç›‘å¬æ•°æ®</span></span>
<span class="line"><span style="color:#B392F0;">observer</span><span style="color:#E1E4E8;">(data);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">// æµ‹è¯•</span></span>
<span class="line"><span style="color:#E1E4E8;">data.info.address </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;ä¸Šæµ·&#39;</span><span style="color:#E1E4E8;">; </span><span style="color:#6A737D;">// æ·±åº¦ç›‘å¬</span></span>
<span class="line"><span style="color:#E1E4E8;">data.nums.</span><span style="color:#B392F0;">push</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;ç¥æ¸¸&#39;</span><span style="color:#E1E4E8;">); </span><span style="color:#6A737D;">// ç›‘å¬æ•°ç»„</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6A737D;">// å‡†å¤‡æ•°æ®</span></span>
<span class="line"><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">data</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">  name: </span><span style="color:#032F62;">&#39;monday&#39;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">  age: </span><span style="color:#005CC5;">20</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">  info: {</span></span>
<span class="line"><span style="color:#24292E;">    address: </span><span style="color:#032F62;">&#39;ç¦å·&#39;</span><span style="color:#24292E;">, </span><span style="color:#6A737D;">// éœ€è¦æ·±åº¦ç›‘å¬</span></span>
<span class="line"><span style="color:#24292E;">  },</span></span>
<span class="line"><span style="color:#24292E;">  nums: [</span><span style="color:#032F62;">&#39;æ‰“ç¯®çƒ&#39;</span><span style="color:#24292E;">, </span><span style="color:#032F62;">&#39;å‡ºæ¥ç©&#39;</span><span style="color:#24292E;">, </span><span style="color:#032F62;">&#39;æ‰“ä¹’ä¹“çƒ&#39;</span><span style="color:#24292E;">],</span></span>
<span class="line"><span style="color:#24292E;">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">// ç›‘å¬æ•°æ®</span></span>
<span class="line"><span style="color:#6F42C1;">observer</span><span style="color:#24292E;">(data);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">// æµ‹è¯•</span></span>
<span class="line"><span style="color:#24292E;">data.info.address </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;ä¸Šæµ·&#39;</span><span style="color:#24292E;">; </span><span style="color:#6A737D;">// æ·±åº¦ç›‘å¬</span></span>
<span class="line"><span style="color:#24292E;">data.nums.</span><span style="color:#6F42C1;">push</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&#39;ç¥æ¸¸&#39;</span><span style="color:#24292E;">); </span><span style="color:#6A737D;">// ç›‘å¬æ•°ç»„</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><p><strong>æ­¤æ—¶æµè§ˆå™¨çš„æ‰“å°ç»“æœå¦‚ä¸‹ï¼š</strong></p><p><img src="https://mondaylab-1309616765.cos.ap-shanghai.myqcloud.com/images/202305270742282.png" alt="å¼•ç”¨æ•°æ®ç±»å‹"></p><p>æˆ‘ä»¬å¯ä»¥å‘ç°ï¼Œåªå‡ºç°äº†ä¸€ä¸ªè§†å›¾æ›´æ–°ï¼Œæ²¡æœ‰å‡ºç°ä¸¤ä¸ªã€‚åŸå› åœ¨äºï¼Œå¯¹è±¡ <code>info</code> ç›‘å¬åˆ°äº†ï¼Œä½†æ˜¯æ•°ç»„ <code>nums</code> å¹¶æ²¡æœ‰ç›‘å¬åˆ°ã€‚è¿™æ˜¯ä¸ºä»€ä¹ˆå‘¢ï¼Ÿ</p><p>å…¶å®ï¼Œä»æŸç§æ„ä¹‰ä¸Šæ¥è®²ï¼Œ <code>nums</code> è™½ç„¶å¯ä»¥èµ°åˆ°<strong>æ·±åº¦éå†</strong>é‡Œé¢ï¼Œä½†æ˜¯å‘¢ï¼Œ <code>Object.defineProperty()</code> è¿™ä¸ª <code>API</code> æœ¬èº«æ˜¯<strong>ä¸å…·å¤‡ç›‘å¬æ•°ç»„èƒ½åŠ›</strong>çš„ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦åŠ å·¥ä¸€å±‚ï¼Œè®©å…¶å¯ä»¥æ‹¥æœ‰<strong>ç›‘å¬æ•°ç»„</strong>çš„èƒ½åŠ›ã€‚</p><h3 id="_2-ç›‘å¬æ•°ç»„" tabindex="-1">ï¼ˆ2ï¼‰ç›‘å¬æ•°ç»„ <a class="header-anchor" href="#_2-ç›‘å¬æ•°ç»„" aria-label="Permalink to &quot;ï¼ˆ2ï¼‰ç›‘å¬æ•°ç»„&quot;">â€‹</a></h3><p>è¦æƒ³è®© <code>Object.defineProperty()</code> è¿™ä¸ª <code>API</code> æ‹¥æœ‰ç›‘å¬æ•°ç»„çš„èƒ½åŠ›ï¼Œæˆ‘ä»¬å¯ä»¥è¿™ä¹ˆåšã€‚<strong>å…·ä½“ä»£ç å¦‚ä¸‹ï¼š</strong></p><div class="language-js vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#6A737D;">// è§¦å‘æ›´æ–°è§†å›¾</span></span>
<span class="line"><span style="color:#F97583;">function</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">updateView</span><span style="color:#E1E4E8;">() {</span></span>
<span class="line"><span style="color:#E1E4E8;">  console.</span><span style="color:#B392F0;">log</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;è§†å›¾æ›´æ–°&#39;</span><span style="color:#E1E4E8;">);</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">// é‡æ–°å®šä¹‰æ•°ç»„åŸå‹</span></span>
<span class="line"><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">oldArrayProperty</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">Array</span><span style="color:#E1E4E8;">.</span><span style="color:#79B8FF;">prototype</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#6A737D;">// åˆ›å»ºæ–°å¯¹è±¡ï¼ŒåŸå‹æŒ‡å‘ oldArrayProperty ï¼Œå†æ‰©å±•æ–°çš„æ–¹æ³•ä¸ä¼šå½±å“åŸå‹</span></span>
<span class="line"><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">arrProto</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> Object.</span><span style="color:#B392F0;">create</span><span style="color:#E1E4E8;">(oldArrayProperty);</span></span>
<span class="line"><span style="color:#E1E4E8;">[</span><span style="color:#9ECBFF;">&#39;push&#39;</span><span style="color:#E1E4E8;">, </span><span style="color:#9ECBFF;">&#39;pop&#39;</span><span style="color:#E1E4E8;">, </span><span style="color:#9ECBFF;">&#39;shift&#39;</span><span style="color:#E1E4E8;">, </span><span style="color:#9ECBFF;">&#39;unshift&#39;</span><span style="color:#E1E4E8;">, </span><span style="color:#9ECBFF;">&#39;splice&#39;</span><span style="color:#E1E4E8;">].</span><span style="color:#B392F0;">forEach</span><span style="color:#E1E4E8;">((</span><span style="color:#FFAB70;">methodName</span><span style="color:#E1E4E8;">) </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">  arrProto[methodName] </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">function</span><span style="color:#E1E4E8;"> () {</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#B392F0;">updateView</span><span style="color:#E1E4E8;">(); </span><span style="color:#6A737D;">// è§¦å‘è§†å›¾æ›´æ–°</span></span>
<span class="line"><span style="color:#E1E4E8;">    oldArrayProperty[methodName].</span><span style="color:#B392F0;">call</span><span style="color:#E1E4E8;">(</span><span style="color:#79B8FF;">this</span><span style="color:#E1E4E8;">, </span><span style="color:#F97583;">...</span><span style="color:#79B8FF;">arguments</span><span style="color:#E1E4E8;">);</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#6A737D;">// Array.prototype.push.call(this, ...arguments)</span></span>
<span class="line"><span style="color:#E1E4E8;">  };</span></span>
<span class="line"><span style="color:#E1E4E8;">});</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">// é‡æ–°å®šä¹‰å±æ€§ï¼Œç›‘å¬èµ·æ¥</span></span>
<span class="line"><span style="color:#F97583;">function</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">defineReactive</span><span style="color:#E1E4E8;">(</span><span style="color:#FFAB70;">target</span><span style="color:#E1E4E8;">, </span><span style="color:#FFAB70;">key</span><span style="color:#E1E4E8;">, </span><span style="color:#FFAB70;">value</span><span style="color:#E1E4E8;">) {</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#6A737D;">// æ·±åº¦ç›‘å¬</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#B392F0;">observer</span><span style="color:#E1E4E8;">(value);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#6A737D;">// æ ¸å¿ƒ API</span></span>
<span class="line"><span style="color:#E1E4E8;">  Object.</span><span style="color:#B392F0;">defineProperty</span><span style="color:#E1E4E8;">(target, key, {</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#B392F0;">get</span><span style="color:#E1E4E8;">() {</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#F97583;">return</span><span style="color:#E1E4E8;"> value;</span></span>
<span class="line"><span style="color:#E1E4E8;">    },</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#B392F0;">set</span><span style="color:#E1E4E8;">(</span><span style="color:#FFAB70;">newValue</span><span style="color:#E1E4E8;">) {</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#F97583;">if</span><span style="color:#E1E4E8;"> (newValue </span><span style="color:#F97583;">!==</span><span style="color:#E1E4E8;"> value) {</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#6A737D;">// æ·±åº¦ç›‘å¬</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#B392F0;">observer</span><span style="color:#E1E4E8;">(newValue);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#6A737D;">// è®¾ç½®æ–°å€¼</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#6A737D;">// æ³¨æ„ï¼Œvalue ä¸€ç›´åœ¨é—­åŒ…ä¸­ï¼Œæ­¤å¤„è®¾ç½®å®Œä¹‹åï¼Œå† get æ—¶ä¹Ÿæ˜¯ä¼šè·å–æœ€æ–°çš„å€¼</span></span>
<span class="line"><span style="color:#E1E4E8;">        value </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> newValue;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#6A737D;">// è§¦å‘æ›´æ–°è§†å›¾</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#B392F0;">updateView</span><span style="color:#E1E4E8;">();</span></span>
<span class="line"><span style="color:#E1E4E8;">      }</span></span>
<span class="line"><span style="color:#E1E4E8;">    },</span></span>
<span class="line"><span style="color:#E1E4E8;">  });</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">// ç›‘å¬å¯¹è±¡å±æ€§</span></span>
<span class="line"><span style="color:#F97583;">function</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">observer</span><span style="color:#E1E4E8;">(</span><span style="color:#FFAB70;">target</span><span style="color:#E1E4E8;">) {</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#F97583;">if</span><span style="color:#E1E4E8;"> (</span><span style="color:#F97583;">typeof</span><span style="color:#E1E4E8;"> target </span><span style="color:#F97583;">!==</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;object&#39;</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">||</span><span style="color:#E1E4E8;"> target </span><span style="color:#F97583;">===</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">null</span><span style="color:#E1E4E8;">) {</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#6A737D;">// ä¸æ˜¯å¯¹è±¡æˆ–æ•°ç»„</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">return</span><span style="color:#E1E4E8;"> target;</span></span>
<span class="line"><span style="color:#E1E4E8;">  }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#6A737D;">// æ±¡æŸ“å…¨å±€çš„ Array åŸå‹(å¦‚æœç›´æ¥å®šä¹‰åœ¨è¿™é‡Œé¢ï¼Œä¼šç›´æ¥æ±¡æŸ“å…¨å±€)</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#6A737D;">// Array.prototype.push = function () {</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#6A737D;">//     updateView()</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#6A737D;">//     ...</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#6A737D;">// }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#F97583;">if</span><span style="color:#E1E4E8;"> (Array.</span><span style="color:#B392F0;">isArray</span><span style="color:#E1E4E8;">(target)) {</span></span>
<span class="line"><span style="color:#E1E4E8;">    target.</span><span style="color:#79B8FF;">__proto__</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> arrProto;</span></span>
<span class="line"><span style="color:#E1E4E8;">  }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#6A737D;">// é‡æ–°å®šä¹‰å„ä¸ªå±æ€§ï¼ˆfor in ä¹Ÿå¯ä»¥éå†æ•°ç»„ï¼‰</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#F97583;">for</span><span style="color:#E1E4E8;"> (</span><span style="color:#F97583;">let</span><span style="color:#E1E4E8;"> key </span><span style="color:#F97583;">in</span><span style="color:#E1E4E8;"> target) {</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#B392F0;">defineReactive</span><span style="color:#E1E4E8;">(target, key, target[key]);</span></span>
<span class="line"><span style="color:#E1E4E8;">  }</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">// å‡†å¤‡æ•°æ®</span></span>
<span class="line"><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">data</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">  name: </span><span style="color:#9ECBFF;">&#39;monday&#39;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">  age: </span><span style="color:#79B8FF;">20</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">  info: {</span></span>
<span class="line"><span style="color:#E1E4E8;">    address: </span><span style="color:#9ECBFF;">&#39;ç¦å·&#39;</span><span style="color:#E1E4E8;">, </span><span style="color:#6A737D;">// éœ€è¦æ·±åº¦ç›‘å¬</span></span>
<span class="line"><span style="color:#E1E4E8;">  },</span></span>
<span class="line"><span style="color:#E1E4E8;">  nums: [</span><span style="color:#9ECBFF;">&#39;æ‰“ç¯®çƒ&#39;</span><span style="color:#E1E4E8;">, </span><span style="color:#9ECBFF;">&#39;å‡ºæ¥ç©&#39;</span><span style="color:#E1E4E8;">, </span><span style="color:#9ECBFF;">&#39;æ‰“ä¹’ä¹“çƒ&#39;</span><span style="color:#E1E4E8;">],</span></span>
<span class="line"><span style="color:#E1E4E8;">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">// ç›‘å¬æ•°æ®</span></span>
<span class="line"><span style="color:#B392F0;">observer</span><span style="color:#E1E4E8;">(data);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">// æµ‹è¯•</span></span>
<span class="line"><span style="color:#E1E4E8;">data.info.address </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;ä¸Šæµ·&#39;</span><span style="color:#E1E4E8;">; </span><span style="color:#6A737D;">// æ·±åº¦ç›‘å¬</span></span>
<span class="line"><span style="color:#E1E4E8;">data.nums.</span><span style="color:#B392F0;">push</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;ç¥æ¸¸&#39;</span><span style="color:#E1E4E8;">); </span><span style="color:#6A737D;">// ç›‘å¬æ•°ç»„</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6A737D;">// è§¦å‘æ›´æ–°è§†å›¾</span></span>
<span class="line"><span style="color:#D73A49;">function</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">updateView</span><span style="color:#24292E;">() {</span></span>
<span class="line"><span style="color:#24292E;">  console.</span><span style="color:#6F42C1;">log</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&#39;è§†å›¾æ›´æ–°&#39;</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">// é‡æ–°å®šä¹‰æ•°ç»„åŸå‹</span></span>
<span class="line"><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">oldArrayProperty</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">Array</span><span style="color:#24292E;">.</span><span style="color:#005CC5;">prototype</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#6A737D;">// åˆ›å»ºæ–°å¯¹è±¡ï¼ŒåŸå‹æŒ‡å‘ oldArrayProperty ï¼Œå†æ‰©å±•æ–°çš„æ–¹æ³•ä¸ä¼šå½±å“åŸå‹</span></span>
<span class="line"><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">arrProto</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> Object.</span><span style="color:#6F42C1;">create</span><span style="color:#24292E;">(oldArrayProperty);</span></span>
<span class="line"><span style="color:#24292E;">[</span><span style="color:#032F62;">&#39;push&#39;</span><span style="color:#24292E;">, </span><span style="color:#032F62;">&#39;pop&#39;</span><span style="color:#24292E;">, </span><span style="color:#032F62;">&#39;shift&#39;</span><span style="color:#24292E;">, </span><span style="color:#032F62;">&#39;unshift&#39;</span><span style="color:#24292E;">, </span><span style="color:#032F62;">&#39;splice&#39;</span><span style="color:#24292E;">].</span><span style="color:#6F42C1;">forEach</span><span style="color:#24292E;">((</span><span style="color:#E36209;">methodName</span><span style="color:#24292E;">) </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">  arrProto[methodName] </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">function</span><span style="color:#24292E;"> () {</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6F42C1;">updateView</span><span style="color:#24292E;">(); </span><span style="color:#6A737D;">// è§¦å‘è§†å›¾æ›´æ–°</span></span>
<span class="line"><span style="color:#24292E;">    oldArrayProperty[methodName].</span><span style="color:#6F42C1;">call</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">this</span><span style="color:#24292E;">, </span><span style="color:#D73A49;">...</span><span style="color:#005CC5;">arguments</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6A737D;">// Array.prototype.push.call(this, ...arguments)</span></span>
<span class="line"><span style="color:#24292E;">  };</span></span>
<span class="line"><span style="color:#24292E;">});</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">// é‡æ–°å®šä¹‰å±æ€§ï¼Œç›‘å¬èµ·æ¥</span></span>
<span class="line"><span style="color:#D73A49;">function</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">defineReactive</span><span style="color:#24292E;">(</span><span style="color:#E36209;">target</span><span style="color:#24292E;">, </span><span style="color:#E36209;">key</span><span style="color:#24292E;">, </span><span style="color:#E36209;">value</span><span style="color:#24292E;">) {</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6A737D;">// æ·±åº¦ç›‘å¬</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6F42C1;">observer</span><span style="color:#24292E;">(value);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6A737D;">// æ ¸å¿ƒ API</span></span>
<span class="line"><span style="color:#24292E;">  Object.</span><span style="color:#6F42C1;">defineProperty</span><span style="color:#24292E;">(target, key, {</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6F42C1;">get</span><span style="color:#24292E;">() {</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> value;</span></span>
<span class="line"><span style="color:#24292E;">    },</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6F42C1;">set</span><span style="color:#24292E;">(</span><span style="color:#E36209;">newValue</span><span style="color:#24292E;">) {</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#D73A49;">if</span><span style="color:#24292E;"> (newValue </span><span style="color:#D73A49;">!==</span><span style="color:#24292E;"> value) {</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#6A737D;">// æ·±åº¦ç›‘å¬</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#6F42C1;">observer</span><span style="color:#24292E;">(newValue);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#6A737D;">// è®¾ç½®æ–°å€¼</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#6A737D;">// æ³¨æ„ï¼Œvalue ä¸€ç›´åœ¨é—­åŒ…ä¸­ï¼Œæ­¤å¤„è®¾ç½®å®Œä¹‹åï¼Œå† get æ—¶ä¹Ÿæ˜¯ä¼šè·å–æœ€æ–°çš„å€¼</span></span>
<span class="line"><span style="color:#24292E;">        value </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> newValue;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#6A737D;">// è§¦å‘æ›´æ–°è§†å›¾</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#6F42C1;">updateView</span><span style="color:#24292E;">();</span></span>
<span class="line"><span style="color:#24292E;">      }</span></span>
<span class="line"><span style="color:#24292E;">    },</span></span>
<span class="line"><span style="color:#24292E;">  });</span></span>
<span class="line"><span style="color:#24292E;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">// ç›‘å¬å¯¹è±¡å±æ€§</span></span>
<span class="line"><span style="color:#D73A49;">function</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">observer</span><span style="color:#24292E;">(</span><span style="color:#E36209;">target</span><span style="color:#24292E;">) {</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">if</span><span style="color:#24292E;"> (</span><span style="color:#D73A49;">typeof</span><span style="color:#24292E;"> target </span><span style="color:#D73A49;">!==</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;object&#39;</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">||</span><span style="color:#24292E;"> target </span><span style="color:#D73A49;">===</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">null</span><span style="color:#24292E;">) {</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6A737D;">// ä¸æ˜¯å¯¹è±¡æˆ–æ•°ç»„</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> target;</span></span>
<span class="line"><span style="color:#24292E;">  }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6A737D;">// æ±¡æŸ“å…¨å±€çš„ Array åŸå‹(å¦‚æœç›´æ¥å®šä¹‰åœ¨è¿™é‡Œé¢ï¼Œä¼šç›´æ¥æ±¡æŸ“å…¨å±€)</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6A737D;">// Array.prototype.push = function () {</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6A737D;">//     updateView()</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6A737D;">//     ...</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6A737D;">// }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">if</span><span style="color:#24292E;"> (Array.</span><span style="color:#6F42C1;">isArray</span><span style="color:#24292E;">(target)) {</span></span>
<span class="line"><span style="color:#24292E;">    target.</span><span style="color:#005CC5;">__proto__</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> arrProto;</span></span>
<span class="line"><span style="color:#24292E;">  }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6A737D;">// é‡æ–°å®šä¹‰å„ä¸ªå±æ€§ï¼ˆfor in ä¹Ÿå¯ä»¥éå†æ•°ç»„ï¼‰</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">for</span><span style="color:#24292E;"> (</span><span style="color:#D73A49;">let</span><span style="color:#24292E;"> key </span><span style="color:#D73A49;">in</span><span style="color:#24292E;"> target) {</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6F42C1;">defineReactive</span><span style="color:#24292E;">(target, key, target[key]);</span></span>
<span class="line"><span style="color:#24292E;">  }</span></span>
<span class="line"><span style="color:#24292E;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">// å‡†å¤‡æ•°æ®</span></span>
<span class="line"><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">data</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">  name: </span><span style="color:#032F62;">&#39;monday&#39;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">  age: </span><span style="color:#005CC5;">20</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">  info: {</span></span>
<span class="line"><span style="color:#24292E;">    address: </span><span style="color:#032F62;">&#39;ç¦å·&#39;</span><span style="color:#24292E;">, </span><span style="color:#6A737D;">// éœ€è¦æ·±åº¦ç›‘å¬</span></span>
<span class="line"><span style="color:#24292E;">  },</span></span>
<span class="line"><span style="color:#24292E;">  nums: [</span><span style="color:#032F62;">&#39;æ‰“ç¯®çƒ&#39;</span><span style="color:#24292E;">, </span><span style="color:#032F62;">&#39;å‡ºæ¥ç©&#39;</span><span style="color:#24292E;">, </span><span style="color:#032F62;">&#39;æ‰“ä¹’ä¹“çƒ&#39;</span><span style="color:#24292E;">],</span></span>
<span class="line"><span style="color:#24292E;">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">// ç›‘å¬æ•°æ®</span></span>
<span class="line"><span style="color:#6F42C1;">observer</span><span style="color:#24292E;">(data);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">// æµ‹è¯•</span></span>
<span class="line"><span style="color:#24292E;">data.info.address </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;ä¸Šæµ·&#39;</span><span style="color:#24292E;">; </span><span style="color:#6A737D;">// æ·±åº¦ç›‘å¬</span></span>
<span class="line"><span style="color:#24292E;">data.nums.</span><span style="color:#6F42C1;">push</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&#39;ç¥æ¸¸&#39;</span><span style="color:#24292E;">); </span><span style="color:#6A737D;">// ç›‘å¬æ•°ç»„</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br><span class="line-number">80</span><br><span class="line-number">81</span><br><span class="line-number">82</span><br></div></div><p><strong>æ­¤æ—¶æµè§ˆå™¨çš„æ‰“å°æ•ˆæœå¦‚ä¸‹ï¼š</strong></p><p><img src="https://mondaylab-1309616765.cos.ap-shanghai.myqcloud.com/images/202305270742350.png" alt="ç›‘å¬æ•°ç»„"></p><p>æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œä¸¤ä¸ªæ•°æ®å¯¹åº”çš„è§†å›¾éƒ½æ›´æ–°äº†ã€‚é€šè¿‡å¯¹æ•°ç»„åŸå‹çš„é‡æ–°å®šä¹‰ï¼Œæˆ‘ä»¬å°±è®© <code>Object.defineProperty()</code> å®ç°äº†<strong>ç›‘å¬æ•°ç»„</strong>çš„èƒ½åŠ›ã€‚</p><h3 id="_3-å‡ ä¸ªç¼ºç‚¹" tabindex="-1">ï¼ˆ3ï¼‰å‡ ä¸ªç¼ºç‚¹ <a class="header-anchor" href="#_3-å‡ ä¸ªç¼ºç‚¹" aria-label="Permalink to &quot;ï¼ˆ3ï¼‰å‡ ä¸ªç¼ºç‚¹&quot;">â€‹</a></h3><p>åœ¨è®© <code>Object.defineProperty()</code> å®ç°å“åº”å¼åŠŸèƒ½ä»¥åï¼Œæˆ‘ä»¬æ¥æ€»ç»“ä¸‹<strong>å…¶å­˜åœ¨çš„å‡ ä¸ªç¼ºç‚¹ï¼š</strong></p><p><strong>1ï¼‰æ·±åº¦ç›‘å¬ï¼Œéœ€è¦é€’å½’åˆ°åº•ï¼Œä¸€æ¬¡æ€§è®¡ç®—é‡å¤§</strong></p><p>åœ¨éå†å¯¹è±¡æˆ–æ•°ç»„æ—¶ï¼Œéœ€è¦è¿›è¡Œæ·±åº¦ç›‘å¬ï¼Œå³éœ€è¦é€’å½’åˆ°åº•ï¼Œè¿™ä¼šä½¿å¾—ä¸€æ¬¡æ€§è®¡ç®—é‡éå¸¸å¤§ã€‚ï¼ˆè¿™ä¸ªé—®é¢˜åœ¨ <code>vue3.0</code> ä¸­å·²ç»è§£å†³ï¼Œå…¶è§£å†³åŸç†æ˜¯ä¸ä¸€å®šè¦ä¸€æ¬¡æ€§é€’å½’ï¼Œè€Œæ˜¯å¯ä»¥æˆ‘ä»¬ä»€ä¹ˆæ—¶å€™ç”¨ï¼Œä»€ä¹ˆæ—¶å€™å†é€’å½’ã€‚è¿™ä¸ªå°†æ”¾åœ¨åé¢çš„æ–‡ç« ä¸­è®²è§£ï¼‰</p><p><strong>2ï¼‰æ— æ³•ç›‘å¬æ–°å¢å±æ€§/åˆ é™¤å±æ€§</strong></p><p><code>Object.defineProperty()</code> åœ¨è¿›è¡Œæ–°å¢å±æ€§å’Œåˆ é™¤å±æ€§æ—¶ï¼Œè§†å›¾æ˜¯æ— æ³•è¿›è¡Œæ›´æ–°çš„ï¼Œä¹Ÿå°±æ˜¯æ•°æ®ç›‘å¬ä¸åˆ°ï¼Œè¿™ä¸€ç‚¹åœ¨å¹³å¸¸çš„å¼€å‘ä¸­éœ€è¦ç‰¹åˆ«æ³¨æ„ï¼å¦åˆ™æœ‰æ—¶å€™æˆ‘ä»¬åœ¨å–æ•°æ®æ—¶æ€»ä¼šè«åå…¶å¦™åœ°éƒ½ä¸çŸ¥é“è‡ªå·±é”™åœ¨å“ªé‡Œã€‚é€šå¸¸è§£å†³è¿™ä¸ªé—®é¢˜çš„æ–¹æ³•æ˜¯ï¼Œä½¿ç”¨ <code>Vue.set</code> å’Œ <code>Vue.delete</code> æ¥è¿›è¡Œ<strong>æ–°å¢å±æ€§</strong>å’Œ<strong>åˆ é™¤å±æ€§</strong>ï¼Œè¿™æ ·å°±å¯ä»¥è§£å†³æ•°æ®æ— æ³•ç›‘å¬çš„é—®é¢˜ã€‚</p><p><strong>3ï¼‰æ— æ³•åŸç”Ÿç›‘å¬æ•°ç»„ï¼Œéœ€è¦ç‰¹æ®Šå¤„ç†</strong></p><p><code>Object.defineProperty()</code> è¿™ä¸ª <code>API</code> æœ¬èº«<strong>æ— æ³•ç›‘å¬åŸç”Ÿæ•°ç»„</strong>ï¼Œéœ€è¦é€šè¿‡<strong>é‡æ–°å®šä¹‰æ•°ç»„åŸå‹</strong>çš„æ–¹å¼ï¼Œæ¥å¯¹æ•°ç»„è¿›è¡Œæ•°æ®ç›‘å¬ã€‚</p><h1 id="å››ã€ç»“æŸè¯­" tabindex="-1">å››ã€ç»“æŸè¯­ <a class="header-anchor" href="#å››ã€ç»“æŸè¯­" aria-label="Permalink to &quot;å››ã€ç»“æŸè¯­&quot;">â€‹</a></h1><p>å¯¹äº <code>vue2.x</code> çš„å“åº”å¼åŸç†è®²åˆ°è¿™é‡Œå°±ç»“æŸå•¦ï¼ä»ä¸Šé¢çš„åˆ†æä¸­æˆ‘ä»¬å¯ä»¥å‘ç°ï¼Œ <code>Object.defineProperty()</code> æœ‰å®ƒä¸€å®šçš„å¥½ç”¨ä¹‹å¤„ï¼Œä½†åŒæ—¶ä¹Ÿæœ‰ä¸€äº›ç¼ºç‚¹å­˜åœ¨ã€‚å› æ­¤ <code>Vue3.0</code> ç”¨äº† <code>Proxy</code> æ¥è§£å†³ä¸Šè¿°ç¼ºç‚¹ä¸­å­˜åœ¨çš„é—®é¢˜ï¼Œä½†æ˜¯å‘¢ï¼Œ <code>proxy</code> åˆ°ç°åœ¨å…¶å®ä¹Ÿè¿˜æ²¡æœ‰æ¨å¹¿å¼€æ¥ï¼Œå› ä¸º <code>proxy</code> æœ‰å…¼å®¹æ€§çš„é—®é¢˜å­˜åœ¨ï¼Œå¦‚æ— æ³•å…¼å®¹ <code>IE11</code> ç­‰é—®é¢˜ï¼Œä¸” <code>proxy</code> æ— æ³• <code>polyfill</code> ï¼Œæ‰€ä»¥ <code>vue2.x</code> å¾ˆé•¿ä¸€æ®µæ—¶é—´å†…åº”è¯¥è¿˜ä¼šå­˜åœ¨ã€‚å› æ­¤ï¼Œå¯¹äº <code>vue2.x</code> å’Œ <code>vue3.0</code> æ¥è¯´ï¼Œè¿™ä¸¤è€…éƒ½æ˜¯å¾—å­¦çš„ï¼Œè€Œä¸æ˜¯è¯´å‡ºäº† <code>vue3.0</code> å°±ä¸å­¦ <code>vue2.x</code> äº†ï¼Œå¯¹äºè¿™ä¸¤è€…æ¥è¯´ï¼Œæ›´å¤šçš„æ˜¯ç›¸è¾…ç›¸æˆçš„ä¸€ä¸ªç»“æœã€‚</p><p>é—²è°ˆåˆ°æ­¤ç»“æŸï¼Œå¯¹äº <code>vue</code> åŸç†çš„å­¦ä¹ æœ‰æ·±æ·±æ„Ÿå—åˆ°é€ è½®å­çš„å¿«ä¹ï¼Œä½†æ˜¯å•ƒæºç åœ¨å¼€å§‹å­¦ä¹ æ—¶ç¡®å®ä¼šæ¯”è¾ƒæ¯ç‡¥ã€‚å¸Œæœ›å†æ¥å†å‰ï¼Œäº‰å–å•ƒä¸‹æ›´å¤š <code>vue</code> çš„æºç ï¼Œè¯»æ‡‚æ›´å¤šåŸç†ï¼</p>`,88),o=[e];function c(r,t,E,y,i,d){return n(),a("div",null,o)}const m=s(p,[["render",c]]);export{b as __pageData,m as default};
