import{_ as s,c as n,o as a,N as l}from"./chunks/framework.6510d215.js";const A=JSON.parse('{"title":"ä¸‡å­—æ€»ç»“webpackå®æˆ˜æ¡ˆä¾‹é…ç½®","description":"","frontmatter":{"title":"ä¸‡å­—æ€»ç»“webpackå®æˆ˜æ¡ˆä¾‹é…ç½®","author":"å‘¨ä¸€","date":"2021-08-04","categories":["å‰ç«¯å¼€å‘"],"tags":["Webpack"],"sidebar":"auto"},"headers":[{"level":1,"title":"ğŸ›´ åºè¨€","slug":"ğŸ›´-åºè¨€","link":"#ğŸ›´-åºè¨€","children":[]},{"level":1,"title":"ğŸšŒ ä¸€ã€Library çš„æ‰“åŒ…","slug":"ğŸšŒ-ä¸€ã€library-çš„æ‰“åŒ…","link":"#ğŸšŒ-ä¸€ã€library-çš„æ‰“åŒ…","children":[{"level":2,"title":"1. webpack æ‰“åŒ…åº“","slug":"_1-webpack-æ‰“åŒ…åº“","link":"#_1-webpack-æ‰“åŒ…åº“","children":[]},{"level":2,"title":"2. åº“å¼•ç”¨å†²çª","slug":"_2-åº“å¼•ç”¨å†²çª","link":"#_2-åº“å¼•ç”¨å†²çª","children":[]}]},{"level":1,"title":"ğŸš äºŒã€PWA çš„æ‰“åŒ…é…ç½®","slug":"ğŸš-äºŒã€pwa-çš„æ‰“åŒ…é…ç½®","link":"#ğŸš-äºŒã€pwa-çš„æ‰“åŒ…é…ç½®","children":[{"level":2,"title":"1. PWA æ˜¯ä»€ä¹ˆ","slug":"_1-pwa-æ˜¯ä»€ä¹ˆ","link":"#_1-pwa-æ˜¯ä»€ä¹ˆ","children":[]},{"level":2,"title":"2. webpack ä¸­çš„ PWA","slug":"_2-webpack-ä¸­çš„-pwa","link":"#_2-webpack-ä¸­çš„-pwa","children":[]}]},{"level":1,"title":"ğŸš ä¸‰ã€TypeScript çš„æ‰“åŒ…é…ç½®","slug":"ğŸš-ä¸‰ã€typescript-çš„æ‰“åŒ…é…ç½®","link":"#ğŸš-ä¸‰ã€typescript-çš„æ‰“åŒ…é…ç½®","children":[{"level":2,"title":"1. å¼•ä¾‹é˜è¿°","slug":"_1-å¼•ä¾‹é˜è¿°","link":"#_1-å¼•ä¾‹é˜è¿°","children":[]},{"level":2,"title":"2. webpack å¯¹ ts çš„é…ç½®","slug":"_2-webpack-å¯¹-ts-çš„é…ç½®","link":"#_2-webpack-å¯¹-ts-çš„é…ç½®","children":[{"level":3,"title":"ï¼ˆ1ï¼‰èƒŒæ™¯","slug":"_1-èƒŒæ™¯","link":"#_1-èƒŒæ™¯","children":[]},{"level":3,"title":"ï¼ˆ2ï¼‰é…ç½®æ­¥éª¤","slug":"_2-é…ç½®æ­¥éª¤","link":"#_2-é…ç½®æ­¥éª¤","children":[]}]},{"level":2,"title":"3. ts è¯†åˆ«ç¬¬ä¸‰æ–¹åº“","slug":"_3-ts-è¯†åˆ«ç¬¬ä¸‰æ–¹åº“","link":"#_3-ts-è¯†åˆ«ç¬¬ä¸‰æ–¹åº“","children":[]}]},{"level":1,"title":"ğŸš• å››ã€WebpackDevServer è¿›é˜¶æ“ä½œ","slug":"ğŸš•-å››ã€webpackdevserver-è¿›é˜¶æ“ä½œ","link":"#ğŸš•-å››ã€webpackdevserver-è¿›é˜¶æ“ä½œ","children":[{"level":2,"title":"1. WebpackDevServer å®ç°è¯·æ±‚è½¬å‘","slug":"_1-webpackdevserver-å®ç°è¯·æ±‚è½¬å‘","link":"#_1-webpackdevserver-å®ç°è¯·æ±‚è½¬å‘","children":[]},{"level":2,"title":"2. WebpackDevServer è§£å†³å•é¡µé¢åº”ç”¨è·¯ç”±é—®é¢˜","slug":"_2-webpackdevserver-è§£å†³å•é¡µé¢åº”ç”¨è·¯ç”±é—®é¢˜","link":"#_2-webpackdevserver-è§£å†³å•é¡µé¢åº”ç”¨è·¯ç”±é—®é¢˜","children":[]}]},{"level":1,"title":"ğŸš– äº”ã€ESLint åœ¨ Webpack ä¸­çš„é…ç½®","slug":"ğŸš–-äº”ã€eslint-åœ¨-webpack-ä¸­çš„é…ç½®","link":"#ğŸš–-äº”ã€eslint-åœ¨-webpack-ä¸­çš„é…ç½®","children":[{"level":2,"title":"1. ESLint æ˜¯ä»€ä¹ˆ","slug":"_1-eslint-æ˜¯ä»€ä¹ˆ","link":"#_1-eslint-æ˜¯ä»€ä¹ˆ","children":[]},{"level":2,"title":"2. å¦‚ä½•å®‰è£… ESLint","slug":"_2-å¦‚ä½•å®‰è£…-eslint","link":"#_2-å¦‚ä½•å®‰è£…-eslint","children":[]},{"level":2,"title":"3. ä¸ºä»€ä¹ˆè¦åœ¨ webpack ä¸­é…ç½® ESLint","slug":"_3-ä¸ºä»€ä¹ˆè¦åœ¨-webpack-ä¸­é…ç½®-eslint","link":"#_3-ä¸ºä»€ä¹ˆè¦åœ¨-webpack-ä¸­é…ç½®-eslint","children":[]}]},{"level":1,"title":"ğŸï¸ å…­ã€Webpack æ€§èƒ½ä¼˜åŒ–","slug":"ğŸï¸-å…­ã€webpack-æ€§èƒ½ä¼˜åŒ–","link":"#ğŸï¸-å…­ã€webpack-æ€§èƒ½ä¼˜åŒ–","children":[{"level":2,"title":"1. è·Ÿä¸ŠæŠ€æœ¯çš„è¿­ä»£(Node,Npm,Yarn)","slug":"_1-è·Ÿä¸ŠæŠ€æœ¯çš„è¿­ä»£-node-npm-yarn","link":"#_1-è·Ÿä¸ŠæŠ€æœ¯çš„è¿­ä»£-node-npm-yarn","children":[]},{"level":2,"title":"2. åœ¨å°½å¯èƒ½å°‘çš„æ¨¡å—ä¸Šåº”ç”¨ Loader","slug":"_2-åœ¨å°½å¯èƒ½å°‘çš„æ¨¡å—ä¸Šåº”ç”¨-loader","link":"#_2-åœ¨å°½å¯èƒ½å°‘çš„æ¨¡å—ä¸Šåº”ç”¨-loader","children":[]},{"level":2,"title":"3. åˆç†ä½¿ç”¨æ’ä»¶","slug":"_3-åˆç†ä½¿ç”¨æ’ä»¶","link":"#_3-åˆç†ä½¿ç”¨æ’ä»¶","children":[]},{"level":2,"title":"4. resolve å‚æ•°åˆç†é…ç½®","slug":"_4-resolve-å‚æ•°åˆç†é…ç½®","link":"#_4-resolve-å‚æ•°åˆç†é…ç½®","children":[{"level":3,"title":"ï¼ˆ1ï¼‰å¸¸è§é…ç½®","slug":"_1-å¸¸è§é…ç½®","link":"#_1-å¸¸è§é…ç½®","children":[]},{"level":3,"title":"ï¼ˆ2ï¼‰å‚æ•°è®²è§£","slug":"_2-å‚æ•°è®²è§£","link":"#_2-å‚æ•°è®²è§£","children":[]}]},{"level":2,"title":"5. ä½¿ç”¨ DllPlugin æé«˜æ‰“åŒ…é€Ÿåº¦","slug":"_5-ä½¿ç”¨-dllplugin-æé«˜æ‰“åŒ…é€Ÿåº¦","link":"#_5-ä½¿ç”¨-dllplugin-æé«˜æ‰“åŒ…é€Ÿåº¦","children":[]},{"level":2,"title":"6. æ§åˆ¶åŒ…æ–‡ä»¶å¤§å°","slug":"_6-æ§åˆ¶åŒ…æ–‡ä»¶å¤§å°","link":"#_6-æ§åˆ¶åŒ…æ–‡ä»¶å¤§å°","children":[]},{"level":2,"title":"7. å¤šè¿›ç¨‹æ‰“åŒ…","slug":"_7-å¤šè¿›ç¨‹æ‰“åŒ…","link":"#_7-å¤šè¿›ç¨‹æ‰“åŒ…","children":[]},{"level":2,"title":"8. åˆç†ä½¿ç”¨ sourceMap","slug":"_8-åˆç†ä½¿ç”¨-sourcemap","link":"#_8-åˆç†ä½¿ç”¨-sourcemap","children":[]},{"level":2,"title":"9. ç»“åˆ stats åˆ†ææ‰“åŒ…ç»“æœ","slug":"_9-ç»“åˆ-stats-åˆ†ææ‰“åŒ…ç»“æœ","link":"#_9-ç»“åˆ-stats-åˆ†ææ‰“åŒ…ç»“æœ","children":[]},{"level":2,"title":"10. å¼€å‘ç¯å¢ƒå†…å­˜ç¼–è¯‘","slug":"_10-å¼€å‘ç¯å¢ƒå†…å­˜ç¼–è¯‘","link":"#_10-å¼€å‘ç¯å¢ƒå†…å­˜ç¼–è¯‘","children":[]},{"level":2,"title":"11. å¼€å‘ç¯å¢ƒæ— ç”¨æ’ä»¶å‰”é™¤","slug":"_11-å¼€å‘ç¯å¢ƒæ— ç”¨æ’ä»¶å‰”é™¤","link":"#_11-å¼€å‘ç¯å¢ƒæ— ç”¨æ’ä»¶å‰”é™¤","children":[]}]},{"level":1,"title":"ğŸï¸ ä¸ƒã€å¤šé¡µé¢æ‰“åŒ…é…ç½®","slug":"ğŸï¸-ä¸ƒã€å¤šé¡µé¢æ‰“åŒ…é…ç½®","link":"#ğŸï¸-ä¸ƒã€å¤šé¡µé¢æ‰“åŒ…é…ç½®","children":[]},{"level":1,"title":"ğŸ›µ å…«ã€ç»“æŸè¯­","slug":"ğŸ›µ-å…«ã€ç»“æŸè¯­","link":"#ğŸ›µ-å…«ã€ç»“æŸè¯­","children":[]},{"level":1,"title":"ğŸ£ å½©è›‹ One More Thing","slug":"ğŸ£-å½©è›‹-one-more-thing","link":"#ğŸ£-å½©è›‹-one-more-thing","children":[{"level":2,"title":"ï¼ˆï¼šå¾€æœŸæ¨è","slug":"å¾€æœŸæ¨è","link":"#å¾€æœŸæ¨è","children":[]}]}],"relativePath":"column/FrontEnd/Webpack/003.md","lastUpdated":1685151998000}'),p={name:"column/FrontEnd/Webpack/003.md"},e=l(`<h1 id="ğŸ›´-åºè¨€" tabindex="-1">ğŸ›´ åºè¨€ <a class="header-anchor" href="#ğŸ›´-åºè¨€" aria-label="Permalink to &quot;ğŸ›´ åºè¨€&quot;">â€‹</a></h1><p>åœ¨<a href="https://blog.csdn.net/weixin_44803753/category_11123550.html?spm=1001.2014.3001.5482" target="_blank" rel="noreferrer">å‰é¢çš„ä¸¤ç¯‡æ–‡ç« </a>ä¸­ï¼Œæˆ‘ä»¬è®²è§£äº† <code>webpack</code> çš„å…¥é—¨çŸ¥è¯†ã€‚ä½†æ˜¯å‘¢ï¼Œå…¥é—¨çŸ¥è¯†äº†è§£äº†ä¹‹åï¼Œæ€»å¾—åº”ç”¨åˆ°å…·ä½“çš„æ¡ˆä¾‹å½“ä¸­æ¥ã€‚</p><p>å› æ­¤ï¼Œåœ¨ä¸‹é¢çš„è¿™ç¯‡æ–‡ç« ä¸­ï¼Œå°†å¸¦é¢†å¤§å®¶æ¥äº†è§£å…³äº <code>webpack</code> çš„ä¸€äº›å®æˆ˜æ¡ˆä¾‹é…ç½®ï¼ŒåŒ…æ‹¬ç¬¬ä¸‰æ–¹åº“ã€ <code>PWA</code> ã€ <code>ts</code> çš„æ‰“åŒ…é…ç½®ï¼Œä»¥åŠ <code>WebpackDevServer</code> çš„è¿›é˜¶æ“ä½œï¼Œè¿˜æœ‰éœ€é‡ç‚¹æŒæ¡çš„ï¼Œå…³äº <code>webpack</code> å¦‚ä½•åšæ€§èƒ½ä¼˜åŒ–å¤„ç†è¿™ä¸ªé—®é¢˜ã€‚</p><p>ä¸‹é¢å¼€å§‹æœ¬æ–‡çš„ä»‹ç»~ğŸš¦</p><h1 id="ğŸšŒ-ä¸€ã€library-çš„æ‰“åŒ…" tabindex="-1">ğŸšŒ ä¸€ã€Library çš„æ‰“åŒ… <a class="header-anchor" href="#ğŸšŒ-ä¸€ã€library-çš„æ‰“åŒ…" aria-label="Permalink to &quot;ğŸšŒ ä¸€ã€Library çš„æ‰“åŒ…&quot;">â€‹</a></h1><p>å‡è®¾æˆ‘ä»¬ç°åœ¨è¦å¼€å‘ä¸€ä¸ªç»„ä»¶åº“æˆ–è€…ä¸€ä¸ªå‡½æ•°åº“æ—¶ï¼Œå¯¹äºè¿™æ ·çš„åº“ä»£ç ï¼Œæˆ‘ä»¬åº”è¯¥å¦‚ä½•è®© <code>webpack</code> æ¥è¿›è¡Œæ‰“åŒ…å‘¢ï¼Ÿ</p><h2 id="_1-webpack-æ‰“åŒ…åº“" tabindex="-1">1. webpack æ‰“åŒ…åº“ <a class="header-anchor" href="#_1-webpack-æ‰“åŒ…åº“" aria-label="Permalink to &quot;1. webpack æ‰“åŒ…åº“&quot;">â€‹</a></h2><p>å‡å¦‚æˆ‘ä»¬ç°åœ¨å†™äº†å¾ˆå¤šé€»è¾‘ä»£ç ï¼ŒåŒæ—¶å‘¢ï¼Œæˆ‘ä»¬å°†è¿™äº›é€»è¾‘ä»£ç è¿›è¡Œæ‰“åŒ…ï¼Œæ‰“åŒ…ä¹‹åå®ƒå…¨éƒ¨ç”Ÿæˆåœ¨ <code>dist</code> æ–‡ä»¶å¤¹ä¸‹çš„ <code>mondaylib.js</code> æ–‡ä»¶ä¸­ã€‚</p><p>å¥½äº†ï¼Œç°åœ¨è¿™ä¸ªåº“ç”Ÿæˆäº†ã€‚é‚£å¦‚ä½•è®©æˆ‘ä»¬çš„ç”¨æˆ·ï¼Œæ¥å¼•å…¥ <code>mondaylib</code> è¿™ä¸ªåº“å‘¢ï¼Ÿ</p><p>ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œåˆ«äººå¼•å…¥æˆ‘ä»¬çš„åº“çš„æ–¹æ³•ï¼Œ<strong>å…·ä½“æœ‰ä»¥ä¸‹å‡ ç§æ–¹å¼ï¼š</strong></p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;">//æ–¹å¼ä¸€</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#A6ACCD;"> mondaylib </span><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">mondaylib</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">//æ–¹å¼äºŒ</span></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> mondaylib </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">require</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">mondaylib</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">//æ–¹å¼ä¸‰</span></span>
<span class="line"><span style="color:#82AAFF;">require</span><span style="color:#A6ACCD;">([</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">mondaylib</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">]</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{}</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>æ‰€ä»¥ï¼Œå¦‚æœæƒ³è®©æˆ‘ä»¬çš„ç”¨æˆ·æ¥å¼•å…¥è¿™ä¸ªåº“ï¼Œæˆ‘ä»¬éœ€è¦åœ¨ <code>webpack.config.js</code> ä¸‹è¿›è¡Œé…ç½®ã€‚<strong>å…·ä½“é…ç½®å¦‚ä¸‹ï¼š</strong></p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> path </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">require</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">path</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">module.exports</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">mode</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">production</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">entry</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">./src/index.js</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">output</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">path</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> path</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">resolve</span><span style="color:#A6ACCD;">(__dirname</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">dist</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">filename</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">mondaylib.js</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">//æ­¤å¤„é…ç½®libraryTargetï¼Œumdè¡¨ç¤ºæ”¯æŒcommonJSè¿™ç§è¯­æ³•</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">libraryTarget</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">umd</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#89DDFF;">};</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><p><code>libraryTarget: &#39;umd&#39;</code> è¡¨ç¤ºæ”¯æŒ <code>commonJS</code> è¿™ç§è¯­æ³•ï¼Œå› æ­¤å¯ä»¥å¼•å…¥ä¸Šé¢ä¸‰ç§æ–¹å¼ã€‚åŒæ—¶ï¼Œ <code>libraryTarget</code> ä¹Ÿå¯ä»¥è®¾ç½®ä¸ºå…¶ä»–å€¼ï¼Œæ¯”å¦‚ <code>this</code> å’Œ <code>window</code> ã€‚</p><p><code>libraryTarget: &#39;this&#39;</code> çš„æ„æ€ä¸ºï¼Œæˆ‘è¦è®© <code>mondaylib</code> è¿™ä¸ªå˜é‡ï¼ŒæŒ‚è½½åˆ°é¡µé¢ä¸Šã€‚ <code>libraryTarget: &#39;window&#39;</code> åˆ™è¡¨ç¤ºä¸ºï¼Œ <code>mondaylib</code> è¿™ä¸ªå˜é‡ï¼Œå°†æŒ‚è½½åˆ° <code>window</code> ä¸Šã€‚</p><hr><p>é™¤äº†ä»¥ä¸Šä¸‰ç§æƒ…å†µï¼Œè¿˜æœ‰å¦å¤–ç‰¹æ®Šæƒ…å†µï¼Œ<strong>å…·ä½“å¦‚ä¸‹ï¼š</strong></p><div class="language-html line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">html</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">script</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">src</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">mondaylib.js</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">&gt;&lt;/</span><span style="color:#F07178;">script</span><span style="color:#89DDFF;">&gt;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>æ­¤æ—¶æˆ‘ä»¬éœ€è¦åœ¨ <code>webpack.config.js</code> ä¸­è¿›è¡Œ<strong>ä»¥ä¸‹é…ç½®ï¼š</strong></p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> path </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">require</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">path</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">module.exports</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">mode</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">production</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">entry</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">./src/index.js</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">output</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">path</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> path</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">resolve</span><span style="color:#A6ACCD;">(__dirname</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">dist</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">filename</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">mondaylib.js</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">//å°†æ‰“åŒ…ç”Ÿæˆçš„ä»£ç æŒ‚è½½åˆ°é¡µé¢çš„å…¨å±€å˜é‡ä¸Š</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">library</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">mondaylib</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">//æ­¤å¤„é…ç½®libraryTargetï¼Œumdè¡¨ç¤ºæ”¯æŒcommonJSè¿™ç§è¯­æ³•</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">libraryTarget</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">umd</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#89DDFF;">};</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><p>å…¶ä¸­ï¼Œç¬¬ä¸€ä¸ª <code>library</code> æ˜¯å±æ€§å€¼ï¼Œç¬¬äºŒä¸ª <code>mondaylib</code> æ˜¯æˆ‘ä»¬çš„åº“åï¼Œè¿™ä¸ªé…ç½®çš„æ„æ€ä¸ºï¼Œå°†æ‰“åŒ…ç”Ÿæˆçš„ä»£ç ï¼Œå³ <code>mondaylib.js</code> è¿™ä¸ªåº“ï¼Œç»™æŒ‚è½½åˆ°å…¨å±€çš„å˜é‡ä¸Šã€‚</p><h2 id="_2-åº“å¼•ç”¨å†²çª" tabindex="-1">2. åº“å¼•ç”¨å†²çª <a class="header-anchor" href="#_2-åº“å¼•ç”¨å†²çª" aria-label="Permalink to &quot;2. åº“å¼•ç”¨å†²çª&quot;">â€‹</a></h2><p>å‡è®¾ç°åœ¨ï¼Œæˆ‘ä»¬åœ¨ä¸Šé¢ <code>mondaylib</code> è¿™ä¸ªåº“ä¸­ï¼Œå¼•å…¥äº† <code>lodash</code> è¿™ä¸ªåº“ã€‚ç„¶åå‘¢ï¼Œå½“ç”¨æˆ·ä½¿ç”¨çš„æ—¶å€™ï¼Œç”¨æˆ·åˆå†å¼•å…¥äº†ä¸€æ¬¡ lodash è¿™ä¸ªåº“ã€‚åƒä¸‹é¢ä»£ç è¿™æ ·ï¼š</p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#A6ACCD;"> _ </span><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">lodash</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">//mondaylibè¿™ä¸ªåº“åŸå…ˆå·²ç»å¼•å…¥è¿‡lodashè¿™ä¸ªåº“</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#A6ACCD;"> mondaylib </span><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">mondaylib</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>æ‰€ä»¥ç°åœ¨ï¼Œæˆ‘ä»¬è¯¥å¦‚ä½•æ¥é¿å…è¿™ç§é—®é¢˜å‘ç”Ÿå‘¢ï¼Ÿæˆ‘ä»¬å† <code>webpack.config.js</code> ä¸­è¿›è¡Œé…ç½®ï¼Œ<strong>å…·ä½“ä»£ç å¦‚ä¸‹ï¼š</strong></p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> path </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">require</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">path</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">module.exports</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">externals</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> [</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">lodash</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">]</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#89DDFF;">};</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>ä»ä»¥ä¸Šä»£ç ä¸­æˆ‘ä»¬å¯ä»¥çŸ¥é“ï¼Œé€šè¿‡ <code>externals: [&quot;lodash&quot;]</code> è¿™ä¸ªé…ç½®ï¼Œæ¥å‘Šè¯‰ <code>webpack</code> ï¼Œå‘Šè¯‰å®ƒè¯´ï¼Œå¦‚æœåœ¨æ‰“åŒ…è¿‡ç¨‹ä¸­ï¼Œ <code>mondaylib</code> è¿™ä¸ªåº“ä¸­å¦‚æœæœ‰é‡åˆ° <code>lodash</code> è¿™ä¸ªåº“ï¼Œé‚£ä¹ˆå°±é¿å¼€å®ƒï¼Œä¸è¦è¿›è¡Œæ‰“åŒ…ã€‚é€šè¿‡è¿™ç§æ–¹å¼ï¼Œå¯ä»¥æœ‰æ•ˆåœ°é¿å…åº“å¤šæ¬¡å¼•ç”¨çš„é—®é¢˜ï¼Œå‡å°‘ä»£ç çš„æ‰“åŒ…å¤§å°ã€‚</p><hr><p><code>externals</code> è¿˜æœ‰å¦å¤–ä¸€ç§ç‰¹æ®Šé…ç½®ï¼Œ<strong>å¦‚ä¸‹ä»£ç æ‰€ç¤ºï¼š</strong></p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;">module.exports</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">externals</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">// è¡¨æ˜lodashè¿™ä¸ªåº“å¦‚æœåœ¨commonjsè¿™ç§ç¯å¢ƒä¸‹è¢«ä½¿ç”¨ï¼Œé‚£ä¹ˆè¦æ±‚lodashåŠ è½½çš„æ—¶å€™å¿…é¡»å«åšlodash</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">lodash</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#F07178;">commonjs</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">lodash</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#89DDFF;">};</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p>å¦‚æœè¿™æ ·é…ç½®ï¼Œæ„åœ¨è¡¨æ˜ <code>lodash</code> è¿™ä¸ªåº“å¦‚æœåœ¨ <code>commonjs</code> è¿™ç§ç¯å¢ƒä¸‹è¢«ä½¿ç”¨ï¼Œé‚£ä¹ˆè¦æ±‚ <code>lodash</code> åŠ è½½çš„æ—¶å€™ï¼Œå¿…é¡»å‘½åä¸º <code>lodash</code> ï¼Œè€Œä¸èƒ½éšæ„å‘½åã€‚<strong>åƒä¸‹é¢è¿™æ ·ï¼š</strong></p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;">//âœ”å¯ä½¿ç”¨æ–¹å¼ï¼šå‘½åä¸ºlodash</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#A6ACCD;"> lodash </span><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">lodash</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">//âœ˜ä¸å¯ä½¿ç”¨æ–¹å¼ï¼šæœªå‘½åä¸ºlodash</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#A6ACCD;"> _ </span><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">lodash</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h1 id="ğŸš-äºŒã€pwa-çš„æ‰“åŒ…é…ç½®" tabindex="-1">ğŸš äºŒã€PWA çš„æ‰“åŒ…é…ç½® <a class="header-anchor" href="#ğŸš-äºŒã€pwa-çš„æ‰“åŒ…é…ç½®" aria-label="Permalink to &quot;ğŸš äºŒã€PWA çš„æ‰“åŒ…é…ç½®&quot;">â€‹</a></h1><h2 id="_1-pwa-æ˜¯ä»€ä¹ˆ" tabindex="-1">1. PWA æ˜¯ä»€ä¹ˆ <a class="header-anchor" href="#_1-pwa-æ˜¯ä»€ä¹ˆ" aria-label="Permalink to &quot;1. PWA æ˜¯ä»€ä¹ˆ&quot;">â€‹</a></h2><p><strong>PWA</strong>ï¼Œå…¨ç§°ä¸º <code>Progressive Web Application</code> ï¼Œå³æ¸è¿›å¼ Web åº”ç”¨ç¨‹åºã€‚</p><p><code>PWA</code> æ˜¯ä¸€é—¨æ¯”è¾ƒæ–°çš„å‰ç«¯æŠ€æœ¯ï¼Œé‚£å®ƒæ˜¯ä¸€ç§ä»€ä¹ˆæ ·çš„æŠ€æœ¯å‘¢ï¼Ÿ</p><p><code>PWA</code> å¯ä»¥å®ç°çš„æ•ˆæœæ˜¯ï¼Œå¦‚æœä½ è®¿é—®ä¸€ä¸ªç½‘ç«™ï¼Œæœ‰å¯èƒ½ç¬¬ä¸€æ¬¡ä½ è®¿é—®æˆåŠŸäº†ï¼Œä½†æ˜¯å‘¢ï¼Œçªç„¶é—´è¿™ä¸ªç½‘ç«™çš„æœåŠ¡å™¨æŒ‚æ‰äº†ã€‚é‚£ä¹ˆè¿™ä¸ªæ—¶å€™ä½ è®¿é—®ç½‘ç«™åº”è¯¥å°±æ˜¯æ²¡åŠæ³•è®¿é—®äº†ã€‚ä½†æ˜¯å‘¢ï¼Œ <code>PWA</code> ä¼šå°†ä½ ç¬¬ä¸€æ¬¡è®¿é—®çš„é¡µé¢ç»™ç¼“å­˜èµ·æ¥ã€‚ä¹‹åå³ä½¿æœåŠ¡å™¨æŒ‚æ‰äº†ï¼Œä½ ä¾ç„¶å¯ä»¥æŠŠä¹‹å‰çœ‹åˆ°çš„é¡µé¢å†å±•ç¤ºå‡ºæ¥ã€‚</p><p>å› æ­¤ï¼Œ <code>webpack</code> ä¸­æœ‰ä¸€ä¸ªæ’ä»¶ï¼Œå¯ä»¥æ¥å®ç°è¿™æ ·çš„æ•ˆæœã€‚æˆ‘ä»¬æ¥äº†è§£ä¸€ä¸‹~</p><h2 id="_2-webpack-ä¸­çš„-pwa" tabindex="-1">2. webpack ä¸­çš„ PWA <a class="header-anchor" href="#_2-webpack-ä¸­çš„-pwa" aria-label="Permalink to &quot;2. webpack ä¸­çš„ PWA&quot;">â€‹</a></h2><p><strong>ç¬¬ä¸€æ­¥ï¼š</strong> å®‰è£…æ’ä»¶ã€‚<strong>å…·ä½“ä»£ç å¦‚ä¸‹ï¼š</strong></p><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">npm</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">install</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">workbox-webpack-plugin</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">--save-dev</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><hr><p><strong>ç¬¬äºŒæ­¥ï¼š</strong> åœ¨ <code>webpack.prod.js</code> ä¸­å¼•å…¥è¯¥æ’ä»¶å¹¶ä½¿ç”¨ã€‚<strong>å…·ä½“ä»£ç å¦‚ä¸‹ï¼š</strong></p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> WorkboxPlugin </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">require</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">workbox-webpack-plugin</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">module.exports</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">plugins</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> [</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">new</span><span style="color:#A6ACCD;"> WorkboxPlugin</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">GenerateSW</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#F07178;">clientsClaim</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FF9CAC;">true</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#F07178;">skipWaiting</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FF9CAC;">true</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  ]</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#89DDFF;">};</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p>é€šå¸¸æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬åªéœ€è¦åœ¨çº¿ä¸Šç¯å¢ƒ <code>prod</code> å¼•å…¥ <code>PWA</code> ï¼Œè€Œåœ¨å¼€å‘ç¯å¢ƒä¸­ä¸éœ€è¦è€ƒè™‘è¿™ä¸ªé—®é¢˜ã€‚é€šè¿‡ä»¥ä¸Šçš„é…ç½®ï¼Œæˆ‘ä»¬åœ¨é¡¹ç›®æ‰“åŒ…å®Œæˆä¹‹åï¼Œ <code>dist</code> ç›®å½•ä¸‹å°†ç”Ÿæˆä¸¤ä¸ªæ–°çš„æ–‡ä»¶ï¼Œä¸€ä¸ªæ˜¯ <code>service-worker.js</code> ï¼Œå¦å¤–ä¸€ä¸ªæ˜¯ <code>precache.js</code> æ–‡ä»¶ï¼Œè¿™ä¸¤ä¸ªæ–‡ä»¶å°±æ˜¯ä¾›æˆ‘ä»¬æ¥ä½¿ç”¨ PWA çš„ã€‚</p><hr><p><strong>ç¬¬ä¸‰æ­¥ï¼š</strong> å¼•å…¥ä»¥ä¸Šæ–‡ä»¶ã€‚<strong>å…·ä½“ä»£ç å¦‚ä¸‹ï¼š</strong></p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;font-style:italic;">if</span><span style="color:#A6ACCD;"> (</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">serviceWorker</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">in</span><span style="color:#A6ACCD;"> navigator) </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#A6ACCD;">window</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">addEventListener</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">load</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">()</span><span style="color:#F07178;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#A6ACCD;">navigator</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">serviceWorker</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">register</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">/service-worker.js</span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">then</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">registration</span><span style="color:#89DDFF;">)</span><span style="color:#F07178;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">service-worker registed</span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#89DDFF;">}</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">catch</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">error</span><span style="color:#89DDFF;">)</span><span style="color:#F07178;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">service-worker regist error</span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#89DDFF;">}</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><p>æˆ‘ä»¬éœ€è¦åœ¨<strong>å…¥å£æ–‡ä»¶</strong>ä¸­ï¼Œå†™ä¸€æ®µä¸šåŠ¡ä»£ç ï¼Œå¼•å…¥ <code>service-worker.js</code> æ–‡ä»¶ï¼Œæ¥å¸®æˆ‘ä»¬åš <code>PWA</code> ã€‚è¿™ä¸ªæ—¶å€™æˆ‘ä»¬å¯¹é¡¹ç›®è¿›è¡Œæ‰“åŒ…ï¼Œä¹‹åå‘¢ï¼Œå¦‚æœå‡ºç°æœåŠ¡å™¨çªç„¶æŒ‚äº†çš„æƒ…å†µï¼Œé‚£ä¹Ÿä¸ç”¨æ‹…å¿ƒï¼Œ <code>PWA</code> ä¼šå¸®æˆ‘ä»¬åŠ è½½åŸå…ˆçš„é¡µé¢æ¥æä¾›ç»™æˆ‘ä»¬æµè§ˆã€‚</p><h1 id="ğŸš-ä¸‰ã€typescript-çš„æ‰“åŒ…é…ç½®" tabindex="-1">ğŸš ä¸‰ã€TypeScript çš„æ‰“åŒ…é…ç½® <a class="header-anchor" href="#ğŸš-ä¸‰ã€typescript-çš„æ‰“åŒ…é…ç½®" aria-label="Permalink to &quot;ğŸš ä¸‰ã€TypeScript çš„æ‰“åŒ…é…ç½®&quot;">â€‹</a></h1><h2 id="_1-å¼•ä¾‹é˜è¿°" tabindex="-1">1. å¼•ä¾‹é˜è¿° <a class="header-anchor" href="#_1-å¼•ä¾‹é˜è¿°" aria-label="Permalink to &quot;1. å¼•ä¾‹é˜è¿°&quot;">â€‹</a></h2><p>æˆ‘ä»¬éƒ½çŸ¥é“ï¼Œå¯¹äºä¸åŒçš„å¼€å‘è€…æ¥è¯´ï¼Œä¸åŒçš„äººå†™å‡ºçš„ä»£ç é£æ ¼å½¢å¼å„å¼‚ï¼Œè¿™æ ·åœ¨åæœŸï¼Œé¡¹ç›®çš„ç»´æŠ¤æ€§å°±å¾ˆéš¾å¾—åˆ°ä¿è¯ã€‚é‚£ä¹ˆï¼Œè¿™ä¸ªæ—¶å€™ï¼Œé£é¡äº 2018 å¹´çš„ <code>Typescript</code> å‡ºç°äº†ã€‚ <code>ts</code> è§„èŒƒäº†ä¸€å¥— <code>js</code> çš„æ ‡å‡†ï¼Œå› æ­¤ï¼Œæˆ‘ä»¬åœ¨é¡¹ç›®ä»£ç çš„ç¼–å†™ä¸­ï¼Œé€šè¿‡ <code>ts</code> ï¼Œå°±å¯ä»¥è§„èŒƒæˆ‘ä»¬çš„ä»£ç ï¼Œå¹¶ä¸”ä½¿å¾—æˆ‘ä»¬é¡¹ç›®çš„ç»´å¯ç»´æŠ¤æ€§å’Œå¯æ‰©å±•æ€§å˜å¾—æ›´å¥½äº†ã€‚</p><p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å°±æ¥äº†è§£ä¸€ä¸‹ï¼Œå¦‚ä½•é€šè¿‡ <code>webpack</code> çš„é…ç½®å˜æ›´ï¼Œæ¥å®ç°å¯¹ <code>ts</code> è¯­æ³•çš„æ”¯æŒã€‚</p><h2 id="_2-webpack-å¯¹-ts-çš„é…ç½®" tabindex="-1">2. webpack å¯¹ ts çš„é…ç½® <a class="header-anchor" href="#_2-webpack-å¯¹-ts-çš„é…ç½®" aria-label="Permalink to &quot;2. webpack å¯¹ ts çš„é…ç½®&quot;">â€‹</a></h2><h3 id="_1-èƒŒæ™¯" tabindex="-1">ï¼ˆ1ï¼‰èƒŒæ™¯ <a class="header-anchor" href="#_1-èƒŒæ™¯" aria-label="Permalink to &quot;ï¼ˆ1ï¼‰èƒŒæ™¯&quot;">â€‹</a></h3><p>å‡è®¾æˆ‘ä»¬ç°åœ¨æœ‰è¿™ä¹ˆä¸€æ®µ <code>ts</code> çš„ä»£ç éœ€è¦è¿›è¡Œç¼–è¯‘ï¼Œ<strong>å…·ä½“ä»£ç å¦‚ä¸‹ï¼š</strong></p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">class</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">Greeter</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">greeting</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">string</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#C792EA;">constructor</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">message</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">string</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">this.</span><span style="color:#A6ACCD;">greeting</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">message</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">greet</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">Hello, </span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">+</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">this.</span><span style="color:#A6ACCD;">greeting</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">let</span><span style="color:#A6ACCD;"> greeter </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">new</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">Greeter</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">world</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">let</span><span style="color:#A6ACCD;"> button </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> document</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">createElement</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">button</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">button</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">textContent </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">Say Hello</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">button</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">click</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#82AAFF;">alert</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">greeter</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">greet</span><span style="color:#F07178;">())</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">document</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">body</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">appendChild</span><span style="color:#A6ACCD;">(button)</span><span style="color:#89DDFF;">;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><p>ç°åœ¨ï¼Œæˆ‘ä»¬æƒ³è¦è®© <code>webpack</code> æ¥å¯¹è¿™æ®µ <code>ts</code> ä»£ç è¿›è¡Œç¼–è¯‘ï¼Œè¯¥æ€ä¹ˆå¤„ç†å‘¢ï¼Ÿ</p><h3 id="_2-é…ç½®æ­¥éª¤" tabindex="-1">ï¼ˆ2ï¼‰é…ç½®æ­¥éª¤ <a class="header-anchor" href="#_2-é…ç½®æ­¥éª¤" aria-label="Permalink to &quot;ï¼ˆ2ï¼‰é…ç½®æ­¥éª¤&quot;">â€‹</a></h3><p><strong>ç¬¬ä¸€æ­¥ï¼š</strong> å®‰è£… <code>ts-loader</code> ã€‚<strong>å…·ä½“å‘½ä»¤å¦‚ä¸‹ï¼š</strong></p><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">npm</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">install</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">ts-loader</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">typescript</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-D</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p><strong>ç¬¬äºŒæ­¥ï¼š</strong> æˆ‘ä»¬åœ¨ <code>webpack.config.js</code> æ–‡ä»¶ä¸‹è¿›è¡Œé…ç½®ã€‚<strong>å…·ä½“ä»£ç å¦‚ä¸‹ï¼š</strong></p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> path </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">require</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">path</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">module.exports</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">mode</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">production</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">entry</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">./src/index.tsx</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">module</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">rules</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> [</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#F07178;">test</span><span style="color:#89DDFF;">:</span><span style="color:#C3E88D;"> </span><span style="color:#89DDFF;">/</span><span style="color:#A6ACCD;">\\.</span><span style="color:#C3E88D;">tsx</span><span style="color:#89DDFF;">?</span><span style="color:#89DDFF;font-style:italic;">$</span><span style="color:#89DDFF;">/</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#F07178;">use</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">ts-loader</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#F07178;">exclude</span><span style="color:#89DDFF;">:</span><span style="color:#C3E88D;"> </span><span style="color:#89DDFF;">/</span><span style="color:#C3E88D;">node_modules</span><span style="color:#89DDFF;">/</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#A6ACCD;">    ]</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">output</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">filename</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">bundle.js</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">path</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> path</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">resolve</span><span style="color:#A6ACCD;">(__dirname</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">dist</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#89DDFF;">};</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><p><strong>ç¬¬ä¸‰æ­¥ï¼š</strong> é…ç½® <code>tsconfig.json</code> æ–‡ä»¶ã€‚<strong>å…·ä½“ä»£ç å¦‚ä¸‹ï¼š</strong></p><div class="language-json line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C792EA;">compilerOptions</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&quot;</span><span style="color:#FFCB6B;">outDir</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">./dist</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&quot;</span><span style="color:#FFCB6B;">module</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">es6</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&quot;</span><span style="color:#FFCB6B;">target</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">es5</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&quot;</span><span style="color:#FFCB6B;">allowJs</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">true</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h2 id="_3-ts-è¯†åˆ«ç¬¬ä¸‰æ–¹åº“" tabindex="-1">3. ts è¯†åˆ«ç¬¬ä¸‰æ–¹åº“ <a class="header-anchor" href="#_3-ts-è¯†åˆ«ç¬¬ä¸‰æ–¹åº“" aria-label="Permalink to &quot;3. ts è¯†åˆ«ç¬¬ä¸‰æ–¹åº“&quot;">â€‹</a></h2><p>æœ‰æ—¶å€™ï¼Œæˆ‘ä»¬ä¼šè°ƒç”¨ <code>lodash</code> ä¸­çš„ <code>join</code> æ–¹æ³•ï¼Œä½†æ˜¯å‘¢ï¼Œå¦‚æœæˆ‘ä»¬ä¸è¿›è¡Œç‰¹æ®Šå¤„ç†çš„è¯ï¼Œåœ¨ <code>tsx</code> æ–‡ä»¶ä¸­æ­£å¸¸å¼•å…¥ <code>lodash</code> è¿™ä¸ªåº“å¹¶ä½¿ç”¨ï¼Œæ˜¯ä¸ä¼šæŠ¥é”™çš„ã€‚å› æ­¤ï¼Œæˆ‘ä»¬éœ€è¦æ¥å®‰è£…å¦å¤–ä¸€ä¸ª <code>ts</code> çš„åº“ï¼Œæ¥å¯¹å®ƒè¿›è¡Œå¤„ç†ä¸€ä¸‹ã€‚<strong>å…·ä½“æ­¥éª¤å¦‚ä¸‹ï¼š</strong></p><p><strong>ç¬¬ä¸€æ­¥ï¼š</strong> å®‰è£… <code>@types/lodash</code> åº“ã€‚<strong>å…·ä½“å‘½ä»¤å¦‚ä¸‹ï¼š</strong></p><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">npm</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">install</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">@types/lodash</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">--save-dev</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>å®‰è£…å®Œè¿™ä¸ªåº“ä¹‹åï¼Œ <code>ts</code> å°±å¯ä»¥å»è¯†åˆ« <code>lodash</code> çš„ä¸€äº›å‡½æ•°å’Œæ–¹æ³•ï¼Œä¸€æ—¦å‡ºç°å¼•ç”¨ä¸å¯¹ï¼Œå°±ä¼šè¿›è¡ŒæŠ¥é”™æç¤ºã€‚</p><p>é‚£æœ‰å°ä¼™ä¼´å°±ä¼šæœ‰ç–‘é—®è¯´ï¼Œæ˜¯ä¸æ˜¯ <code>ts</code> æ‹¥æœ‰æ‰€æœ‰è¿™æ ·çš„åº“ï¼ˆåƒ <code>jQuery</code> ç­‰å„ç§åº“ï¼‰çš„ç±»å‹æ–‡ä»¶å‘¢ï¼Ÿ</p><p>ç­”æ¡ˆå½“ç„¶æ˜¯å¦å®šçš„ã€‚æˆ‘ä»¬å¯ä»¥åˆ° <code>github</code> ä¸Šçš„ä¸€ä¸ªç½‘å€<a href="https://emojipedia.org/backhand-index-pointing-right/" target="_blank" rel="noreferrer">ğŸ‘‰</a><a href="https://microsoft.github.io/TypeSearch/" target="_blank" rel="noreferrer">https://microsoft.github.io/TypeSearch/</a>æ¥è¿›è¡Œæœç´¢ï¼Œå¦‚æœæœç´¢å¾—åˆ°ï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±å¯ä»¥ç”¨ <code>@type/åº“å</code> æ¥è¿›è¡Œå®‰è£…ï¼Œä¹‹å <code>tsx</code> æ–‡ä»¶å°±ä¼šæ”¯æŒå¯¹è¯¥åº“çš„ç±»å‹æ£€æŸ¥ã€‚</p><h1 id="ğŸš•-å››ã€webpackdevserver-è¿›é˜¶æ“ä½œ" tabindex="-1">ğŸš• å››ã€WebpackDevServer è¿›é˜¶æ“ä½œ <a class="header-anchor" href="#ğŸš•-å››ã€webpackdevserver-è¿›é˜¶æ“ä½œ" aria-label="Permalink to &quot;ğŸš• å››ã€WebpackDevServer è¿›é˜¶æ“ä½œ&quot;">â€‹</a></h1><h2 id="_1-webpackdevserver-å®ç°è¯·æ±‚è½¬å‘" tabindex="-1">1. WebpackDevServer å®ç°è¯·æ±‚è½¬å‘ <a class="header-anchor" href="#_1-webpackdevserver-å®ç°è¯·æ±‚è½¬å‘" aria-label="Permalink to &quot;1. WebpackDevServer å®ç°è¯·æ±‚è½¬å‘&quot;">â€‹</a></h2><p>ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ <code>charles fiddler</code> å·¥å…·ï¼Œåœ¨æœ¬åœ°æ­å»ºä¸€ä¸ªä»£ç†æœåŠ¡å™¨ã€‚é€šè¿‡è¿™å°ä»£ç†æœåŠ¡å™¨ï¼Œå°†æˆ‘ä»¬æƒ³è¦è¯·æ±‚çš„æ¥å£åœ°å€è¿›è¡Œè½¬å‘ã€‚</p><p>é‚£åœ¨ <code>webpack</code> ä¸­ï¼Œç»™æˆ‘ä»¬æä¾›äº†ä¸€ä¸ªå·¥å…·ï¼Œ <code>devServer.Proxy</code> ã€‚æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬åœ¨ <code>webpack.config.js</code> ä¸­è¿›è¡Œé…ç½®ï¼Œ<strong>å…·ä½“ä»£ç å¦‚ä¸‹ï¼š</strong></p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;">module.exports</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">devServer</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">proxy</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;">/react/api</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#F07178;">target</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">http://www.mondaylab.com</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#89DDFF;">        </span><span style="color:#676E95;font-style:italic;">//å®ç°å¯¹httpsç½‘å€çš„è¯·æ±‚è½¬å‘</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#F07178;">secure</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FF9CAC;">false</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#82AAFF;">bypass</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">req</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">res</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">proxyOptions</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">          </span><span style="color:#676E95;font-style:italic;">//å¦‚æœè¯·æ±‚çš„å†…å®¹æ˜¯ä¸€ä¸ªhtmlåœ°å€ï¼Œé‚£ä¹ˆå°±ç›´æ¥è¿”å›æ ¹è·¯å¾„ä¸‹index.htmlçš„å†…å®¹</span></span>
<span class="line"><span style="color:#F07178;">          </span><span style="color:#89DDFF;font-style:italic;">if</span><span style="color:#F07178;"> (</span><span style="color:#A6ACCD;">req</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">headers</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">accept</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">indexOf</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">html</span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;">) </span><span style="color:#89DDFF;">!==</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">-</span><span style="color:#F78C6C;">1</span><span style="color:#F07178;">) </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">            </span><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">Skipping proxy for browser request</span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">            </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">./index.html</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">            </span><span style="color:#676E95;font-style:italic;">// return false; //è¡¨ç¤ºå¦‚æœé‡åˆ°htmlè¯·æ±‚ï¼Œé‚£ä¹ˆè¯¥ç»™ä½ è¿”å›ä»€ä¹ˆå°±è¿”å›ä»€ä¹ˆ</span></span>
<span class="line"><span style="color:#F07178;">          </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#89DDFF;">        </span><span style="color:#676E95;font-style:italic;">//åœ¨å‰ç«¯è¯·æ±‚æ—¶å†™header.jsonï¼Œwebpackä¼šé—´æ¥çš„å¸®æˆ‘ä»¬æ‹¿åˆ°demo.jsonçš„æ•°æ®ï¼ˆè¯·æ±‚è½¬å‘ã€‘ï¼‰</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#F07178;">pathRewrite</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">          </span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;">header.json</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">demo.json</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#89DDFF;">        </span><span style="color:#676E95;font-style:italic;">//å¦‚æœæœ‰ä¸€äº›ç½‘ç«™åšäº†é˜²çˆ¬è™«ï¼Œé‚£ä¹ˆæˆ‘ä»¬å¯èƒ½æ²¡åŠæ³•è¿›è¡Œè·¨åŸŸã€‚éœ€è¦è¿›è¡Œå¦‚ä¸‹é…ç½®ï¼Œå°±å¯ä»¥çªç ´å¯¹originçš„é™åˆ¶</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#F07178;">changeOrigin</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FF9CAC;">true</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#89DDFF;">        </span><span style="color:#676E95;font-style:italic;">// åœ¨è¯·æ±‚å¤´ä¸­è‡ªå®šä¹‰ä¸€äº›å†…å®¹</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#F07178;">headers</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">          </span><span style="color:#F07178;">host</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">www.mondaylab.com</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#89DDFF;">          </span><span style="color:#676E95;font-style:italic;">//åœ¨åšè¯·æ±‚è½¬å‘æ—¶æ¨¡æ‹Ÿä¸€äº›ç™»å½•ç­‰æ“ä½œ</span></span>
<span class="line"><span style="color:#A6ACCD;">          </span><span style="color:#F07178;">cookie</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">gfhgfh</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#89DDFF;">};</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br></div></div><h2 id="_2-webpackdevserver-è§£å†³å•é¡µé¢åº”ç”¨è·¯ç”±é—®é¢˜" tabindex="-1">2. WebpackDevServer è§£å†³å•é¡µé¢åº”ç”¨è·¯ç”±é—®é¢˜ <a class="header-anchor" href="#_2-webpackdevserver-è§£å†³å•é¡µé¢åº”ç”¨è·¯ç”±é—®é¢˜" aria-label="Permalink to &quot;2. WebpackDevServer è§£å†³å•é¡µé¢åº”ç”¨è·¯ç”±é—®é¢˜&quot;">â€‹</a></h2><p>å¯¹äºç°ä»£çš„çš„ä¸»æµæ¡†æ¶æ¥è¯´ï¼Œåƒ <code>vue.js</code> ã€<code>React.js</code> ç­‰ç­‰æ¡†æ¶ï¼ŒåŸºæœ¬éƒ½æ˜¯å•é¡µé¢åº”ç”¨ã€‚é‚£ä¹ˆï¼Œåœ¨å•é¡µé¢åº”ç”¨é‡Œï¼Œæ¯”å¦‚æˆ‘ä»¬æƒ³è¦ä» <code>http://mondaylab.com</code> è·³è½¬åˆ° <code>http://mondaylab.com/list</code> ï¼Œè¯¥æ€ä¹ˆæ ·è¿›è¡Œè·³è½¬å‘¢ï¼Ÿ</p><p>è¿™å°±è¦è°ˆåˆ°ä¸€ä¸ªå•é¡µé¢åº”ç”¨çš„è·¯ç”±é—®é¢˜ã€‚æˆ‘ä»¬éœ€è¦åœ¨ <code>webpack.config.js</code> ä¸­è¿›è¡Œ<strong>å¦‚ä¸‹é…ç½®ï¼š</strong></p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;">module.exports</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">devServer</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">//ç¬¬ä¸€ç§æ–¹å¼</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">historyApiFallback</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FF9CAC;">true</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#676E95;font-style:italic;">/*ç­‰åŒäº</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">        historyApiFallback: {</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">            rewrites: [{</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">                from: /\\.*\\/,</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">                to: &#39;/list.html/&#39;</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">            }]</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">        }</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">        */</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#676E95;font-style:italic;">/*ç¬¬äºŒç§æ–¹å¼</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">        historyApiFallback: {</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">            rewrites: [{</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">                from: /abc.html/,</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">                //è¿›è¡Œè½¬æ¢ï¼Œå½“è®¿é—®abc.htmlæ—¶ï¼Œä¼šæŠŠlist.htmlçš„å†…å®¹å±•ç¤ºå‡ºæ¥</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">                to: &#39;/list.html/&#39;</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">            }]</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">        }</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">        */</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#676E95;font-style:italic;">/*ç¬¬ä¸‰ç§æ–¹å¼ï¼šæ›´ä¸ºçµæ´»</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">        historyApiFallback: {</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">            rewrites: [{</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">            	//è¡¨æ˜åœ¨åšé¡µé¢çš„æ›¿æ¢æ—¶ï¼Œé€šè¿‡ä¸€ä¸ªå‡½æ•°functionçš„å½¢å¼ï¼Œç»“åˆcontextçš„ä¸€äº›å‚æ•°</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">            	//åšä¸€äº›jsçš„é€»è¾‘æ”¾åœ¨é‡Œé¢ï¼Œæ¥å†³å®šæœ€ç»ˆå®ƒè·³è½¬åˆ°å“ª</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">                from: /^\\/(libs)\\/.*$/,</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">                to: function(context){</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">                	return &#39;/bower_components&#39; + context.match[0];</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">                }</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">            }]</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">        }</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">        */</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#89DDFF;">};</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br></div></div><p>å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œ <code>historyApiFallback</code> åªèƒ½ç”¨äºå¼€å‘ç¯å¢ƒä¸‹ã€‚å¦‚æœåˆ°äº†çº¿ä¸Šç¯å¢ƒçš„è¯ï¼Œéœ€è¦è®©åç«¯çš„å°ä¼™ä¼´å» <code>nginx</code> æˆ–è€… <code>apache</code> ä¸Šï¼Œä»¿ç…§ <code>webpackDevServer</code> çš„ä¸€äº›é…ç½®ï¼Œåœ¨åç«¯çš„æœåŠ¡å™¨ä¸ŠåšåŒæ ·çš„é…ç½®ï¼Œé…ç½®ä¹‹åå‰ç«¯æ‰å¯ä»¥ä½¿ç”¨å¯¹åº”çš„è·¯ç”±ã€‚</p><h1 id="ğŸš–-äº”ã€eslint-åœ¨-webpack-ä¸­çš„é…ç½®" tabindex="-1">ğŸš– äº”ã€ESLint åœ¨ Webpack ä¸­çš„é…ç½® <a class="header-anchor" href="#ğŸš–-äº”ã€eslint-åœ¨-webpack-ä¸­çš„é…ç½®" aria-label="Permalink to &quot;ğŸš– äº”ã€ESLint åœ¨ Webpack ä¸­çš„é…ç½®&quot;">â€‹</a></h1><h2 id="_1-eslint-æ˜¯ä»€ä¹ˆ" tabindex="-1">1. ESLint æ˜¯ä»€ä¹ˆ <a class="header-anchor" href="#_1-eslint-æ˜¯ä»€ä¹ˆ" aria-label="Permalink to &quot;1. ESLint æ˜¯ä»€ä¹ˆ&quot;">â€‹</a></h2><p>åœ¨æˆ‘ä»¬æ—¥å¸¸çš„å›¢é˜Ÿå¼€å‘ä¸­ï¼Œæ¯ä¸ªäººå†™çš„ä»£ç éƒ½å„å¼å„æ ·ï¼Œæ¯”å¦‚æœ‰çš„äººå–œæ¬¢åœ¨ä»£ç åè¾¹åŠ ä¸ªåˆ†å·ï¼Œæœ‰çš„äººåˆä¸å–œæ¬¢åŠ ã€‚è¿™é—´æ¥åœ°ï¼Œå°±å¾ˆå®¹æ˜“å¯¼è‡´æˆ‘ä»¬é¡¹ç›®çš„å¯ç»´æŠ¤æ€§å˜å·®äº†ã€‚å› æ­¤å‘¢ï¼Œæˆ‘ä»¬å°±å¼•å…¥äº† <code>ESLint</code> è¿™ä¸ªå†…å®¹ï¼Œæ¥çº¦æŸçš„ä»£ç è§„èŒƒï¼Œè®©é¡¹ç›®çš„å¯ç»´æŠ¤æ€§å’Œå¯æ‰©å±•æ€§å˜é«˜ã€‚</p><p>é‚£ <code>ESLint</code> åœ¨ <code>Webpack</code> ä¸­æ˜¯æ€ä¹ˆæ ·é…ç½®çš„å‘¢ï¼Ÿ</p><h2 id="_2-å¦‚ä½•å®‰è£…-eslint" tabindex="-1">2. å¦‚ä½•å®‰è£… ESLint <a class="header-anchor" href="#_2-å¦‚ä½•å®‰è£…-eslint" aria-label="Permalink to &quot;2. å¦‚ä½•å®‰è£… ESLint&quot;">â€‹</a></h2><p><strong>ç¬¬ä¸€æ­¥ï¼š</strong> å®‰è£… <code>ESLint</code> å·¥å…·ã€‚<strong>å…·ä½“å‘½ä»¤å¦‚ä¸‹ï¼š</strong></p><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">npm</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">install</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">eslint</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">--save-dev</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p><strong>ç¬¬äºŒæ­¥ï¼š</strong> çº¦æŸæˆ‘ä»¬çš„ä»£ç ã€‚æˆ‘ä»¬éœ€è¦æ–°å»ºä¸€ä¸ªé…ç½®æ–‡ä»¶ï¼Œæ¥å¯¹æˆ‘ä»¬çš„ ESLint è§„èŒƒè¿›è¡Œé…ç½®ã€‚<strong>å…·ä½“å‘½ä»¤å¦‚ä¸‹ï¼š</strong></p><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">npx</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">eslint</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">--init</span></span>
<span class="line"><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;"> Use a popular style guide ä½¿ç”¨é€šç”¨çš„ä»£ç æ£€æµ‹æ¨¡æ¿</span></span>
<span class="line"><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;"> Airbnb</span></span>
<span class="line"><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;"> Do you use React æ ¹æ®è‡ªèº«éœ€æ±‚å¡«yæˆ–è€…n</span></span>
<span class="line"><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;"> Javascript</span></span>
<span class="line"><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;"> Would you like to install them now with npm</span><span style="color:#89DDFF;">?</span><span style="color:#A6ACCD;"> Y</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p><strong>ç¬¬ä¸‰æ­¥ï¼š</strong> ä½¿ç”¨ <code>eslint</code> æ£€æµ‹ä»£ç è§„èŒƒã€‚<strong>å…·ä½“ä»£ç å¦‚ä¸‹ï¼š</strong></p><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">npx</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">eslint</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">src</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>ä»¥ä¸Šä»£ç è¡¨ç¤ºçš„æ˜¯ï¼Œä½¿ç”¨ eslint æ¥æ£€æµ‹ src ç›®å½•ä¸‹çš„ä»£ç è§„èŒƒã€‚</p><h2 id="_3-ä¸ºä»€ä¹ˆè¦åœ¨-webpack-ä¸­é…ç½®-eslint" tabindex="-1">3. ä¸ºä»€ä¹ˆè¦åœ¨ webpack ä¸­é…ç½® ESLint <a class="header-anchor" href="#_3-ä¸ºä»€ä¹ˆè¦åœ¨-webpack-ä¸­é…ç½®-eslint" aria-label="Permalink to &quot;3. ä¸ºä»€ä¹ˆè¦åœ¨ webpack ä¸­é…ç½® ESLint&quot;">â€‹</a></h2><p>åœ¨ä¸Šé¢ä¸­æˆ‘ä»¬äº†è§£åˆ°ï¼Œæ¯ä¸ªå¼€å‘çš„å°ä¼™ä¼´éƒ½å¯ä»¥ç”¨å‘½ä»¤è¡Œæ¥æ£€æµ‹è‡ªå·±çš„ä»£ç è§„èŒƒï¼Œä½†æ˜¯å¦‚æœæ¯å›å†™å®Œä¸€æ¬¡ä»£ç ï¼Œæˆ‘ä»¬éƒ½è¦å»è¿è¡Œè¿™æ ·çš„å‘½ä»¤ï¼Œæ‰èƒ½çœ‹æˆ‘ä»¬çš„ä»£ç å†™çš„åˆä¸åˆç†ï¼Œè¿™æ ·ä¼šä¸ä¼šå°±æœ‰ç‚¹éº»çƒ¦äº†ã€‚åŒæ—¶ï¼Œæˆ‘ä»¬åˆä¹Ÿä¸èƒ½ä¿è¯æ¯ä¸ªäººçš„ <code>eslint</code> çš„ä»£ç è§„èŒƒè®¾ç½®æ˜¯ä¸æ˜¯ä¸€æ ·çš„ã€‚</p><p>å› æ­¤ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨ <code>webpack</code> ä¸­æ¥è¿›è¡Œé…ç½®ï¼Œè§£å†³ä¸Šè¿°æ‰€è¯´çš„é—®é¢˜ã€‚<strong>å…·ä½“æ­¥éª¤å¦‚ä¸‹ï¼š</strong></p><p><strong>ç¬¬ä¸€æ­¥ï¼š</strong> å®‰è£… <code>eslint-loader</code> ã€‚<strong>å…·ä½“å‘½ä»¤è¡Œå¦‚ä¸‹ï¼š</strong></p><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">npm</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">install</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">eslint-loader</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">--save-dev</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p><strong>ç¬¬äºŒæ­¥ï¼š</strong> é…ç½® <code>webpack.config.js</code> ã€‚<strong>å…·ä½“ä»£ç å¦‚ä¸‹ï¼š</strong></p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;">module.exports</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">devServer</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#676E95;font-style:italic;">/*å½“æˆ‘ä»¬è¿è¡Œwebpackåšæ‰“åŒ…æ—¶ï¼Œ</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">      ä¸€æ—¦ä»£ç å‡ºç°è§„èŒƒé—®é¢˜ï¼Œ</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">      webpackå°†ä¼šåœ¨æµè§ˆå™¨ä¸Šå¼¹å‡ºä¸€ä¸ªæŠ¥é”™å±‚æ¥æç¤ºæˆ‘ä»¬*/</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">overlay</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FF9CAC;">true</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">module</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">rules</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> [</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#F07178;">test</span><span style="color:#89DDFF;">:</span><span style="color:#C3E88D;"> </span><span style="color:#89DDFF;">/</span><span style="color:#A6ACCD;">\\.</span><span style="color:#C3E88D;">js</span><span style="color:#89DDFF;font-style:italic;">$</span><span style="color:#89DDFF;">/</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#F07178;">exclude</span><span style="color:#89DDFF;">:</span><span style="color:#C3E88D;"> </span><span style="color:#89DDFF;">/</span><span style="color:#C3E88D;">node_modules</span><span style="color:#89DDFF;">/</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#F07178;">use</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> [</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">babel-loader</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">eslint-loader</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">]</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#A6ACCD;">    ]</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#89DDFF;">};</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><hr><p>äº†è§£å®ŒåŸºç¡€é…ç½®ä¹‹åï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬æ¥äº†è§£ä¸€äº› <code>eslint-loader</code> çš„ä¸€äº›å…¶ä»–é…ç½®ã€‚<strong>å…·ä½“ä»£ç å¦‚ä¸‹ï¼š</strong></p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;">module.exports</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">module</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">rules</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> [</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#F07178;">test</span><span style="color:#89DDFF;">:</span><span style="color:#C3E88D;"> </span><span style="color:#89DDFF;">/</span><span style="color:#A6ACCD;">\\.</span><span style="color:#C3E88D;">js</span><span style="color:#89DDFF;font-style:italic;">$</span><span style="color:#89DDFF;">/</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#F07178;">exclude</span><span style="color:#89DDFF;">:</span><span style="color:#C3E88D;"> </span><span style="color:#89DDFF;">/</span><span style="color:#C3E88D;">node_modules</span><span style="color:#89DDFF;">/</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#F07178;">use</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> [</span></span>
<span class="line"><span style="color:#A6ACCD;">          </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">babel-loader</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">          </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">            </span><span style="color:#F07178;">loader</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">eslint-loader</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">            </span><span style="color:#F07178;">options</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">              </span><span style="color:#676E95;font-style:italic;">//å¦‚æœä»£ç æœ‰ä¸€äº›æ¯”è¾ƒæµ…æ˜¾çš„é—®é¢˜ï¼Œeslint-loaderå°†ä¼šå¸®åŠ©æˆ‘ä»¬è‡ªåŠ¨ä¿®å¤</span></span>
<span class="line"><span style="color:#A6ACCD;">              </span><span style="color:#F07178;">fix</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FF9CAC;">true</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#89DDFF;">              </span><span style="color:#676E95;font-style:italic;">//é™ä½eslintåœ¨æ‰“åŒ…è¿‡ç¨‹ä¸­å¯¹é¡¹ç›®æ€§èƒ½çš„æŸè€—</span></span>
<span class="line"><span style="color:#A6ACCD;">              </span><span style="color:#F07178;">cache</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FF9CAC;">true</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">            </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#89DDFF;">            </span><span style="color:#676E95;font-style:italic;">//å¼ºåˆ¶eslint-loaderå…ˆæ‰§è¡Œ</span></span>
<span class="line"><span style="color:#A6ACCD;">            </span><span style="color:#F07178;">fore</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">pre</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">          </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#A6ACCD;">        ]</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#A6ACCD;">    ]</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#89DDFF;">};</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br></div></div><h1 id="ğŸï¸-å…­ã€webpack-æ€§èƒ½ä¼˜åŒ–" tabindex="-1">ğŸï¸ å…­ã€Webpack æ€§èƒ½ä¼˜åŒ– <a class="header-anchor" href="#ğŸï¸-å…­ã€webpack-æ€§èƒ½ä¼˜åŒ–" aria-label="Permalink to &quot;ğŸï¸ å…­ã€Webpack æ€§èƒ½ä¼˜åŒ–&quot;">â€‹</a></h1><p>ç»†å¿ƒçš„å°ä¼™ä¼´å¯èƒ½å·²ç»å‘ç°ï¼Œwebpack çš„æ‰“åŒ…é€Ÿåº¦æœ‰æ—¶å€™å¯èƒ½ä¼šæœ‰ä¸€ç‚¹ç‚¹æ…¢ã€‚è¿™é—´æ¥åœ°ï¼Œä¼šæµªè´¹æˆ‘ä»¬å¾ˆå¤šä¸è¯¥æµªè´¹çš„æ—¶é—´ã€‚æ‰€ä»¥ï¼Œæ¥ä¸‹æ¥å°±æ¥è°ˆè°ˆï¼Œæå‡ <code>Webpack</code> æ‰“åŒ…é€Ÿåº¦çš„å‡ ç§æ–¹æ³•ã€‚</p><h2 id="_1-è·Ÿä¸ŠæŠ€æœ¯çš„è¿­ä»£-node-npm-yarn" tabindex="-1">1. è·Ÿä¸ŠæŠ€æœ¯çš„è¿­ä»£(Node,Npm,Yarn) <a class="header-anchor" href="#_1-è·Ÿä¸ŠæŠ€æœ¯çš„è¿­ä»£-node-npm-yarn" aria-label="Permalink to &quot;1. è·Ÿä¸ŠæŠ€æœ¯çš„è¿­ä»£(Node,Npm,Yarn)&quot;">â€‹</a></h2><p>å¦‚æœæˆ‘ä»¬æƒ³æå‡ <code>webpack</code> çš„æ‰“åŒ…é€Ÿåº¦ï¼Œæˆ‘ä»¬å¯ä»¥å‡çº§ <code>webpack</code> çš„ç‰ˆæœ¬ï¼Œæˆ–è€…å‡çº§æˆ‘ä»¬çš„ nodeã€npm ç®¡ç†å™¨æˆ–è€… yarn çš„ç‰ˆæœ¬ã€‚</p><p>é‚£ä¸ºä»€ä¹ˆå‡çº§è¿™äº›å·¥å…·å¯ä»¥æå‡ <code>webpack</code> çš„æ‰“åŒ…é€Ÿåº¦å‘¢ã€‚</p><p>å¤§å®¶æƒ³ä¸€ä¸‹ï¼Œ <code>webpack</code> åœ¨åšæ¯ä¸€ä¸ªç‰ˆæœ¬çš„æ›´æ–°æ—¶ï¼Œå†…éƒ¨è‚¯å®šä¼šåšå¾ˆå¤šç‰ˆæœ¬çš„ä¼˜åŒ–ï¼Œå› æ­¤ï¼Œå½“æˆ‘ä»¬åš <code>webpack</code> çš„ç‰ˆæœ¬æ›´æ–°æ—¶ï¼Œåœ¨é€Ÿåº¦ä¸Šè‚¯å®šä¼šæœ‰æ‰€æå‡ã€‚ <code>node</code> ã€ <code>npm</code> ã€ <code>yarn</code> çš„æ›´æ–°ä¹Ÿæ˜¯åŒæ ·çš„é“ç†ã€‚</p><p>è¯•æƒ³ä¸€ä¸‹ï¼Œå¦‚æœä¸æå‡ï¼Œé‚£å®ƒå‡çº§çš„æ„ä¹‰åˆåœ¨å“ªå‘¢ï¼Ÿå¯¹å§ã€‚</p><h2 id="_2-åœ¨å°½å¯èƒ½å°‘çš„æ¨¡å—ä¸Šåº”ç”¨-loader" tabindex="-1">2. åœ¨å°½å¯èƒ½å°‘çš„æ¨¡å—ä¸Šåº”ç”¨ Loader <a class="header-anchor" href="#_2-åœ¨å°½å¯èƒ½å°‘çš„æ¨¡å—ä¸Šåº”ç”¨-loader" aria-label="Permalink to &quot;2. åœ¨å°½å¯èƒ½å°‘çš„æ¨¡å—ä¸Šåº”ç”¨ Loader&quot;">â€‹</a></h2><p>ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œç¬¬ä¸‰æ–¹æ¨¡å—çš„åº“éƒ½æ˜¯å·²ç»è¿›è¡Œæ‰“åŒ…ç¼–è¯‘è¿‡çš„ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦åœ¨å¼•å…¥ <code>loader</code> æ¥è¿›è¡Œç¼–è¯‘æ—¶ï¼Œå¯¹ <code>node_module</code> çš„æ–‡ä»¶ç»™å¿½ç•¥æ‰ï¼Œæˆ–è€…åªåœ¨æŸä¸ªæ–‡ä»¶å¤¹ä¸‹ä½¿ç”¨æŸä¸ª <code>loader</code> ï¼Œä»¥æ­¤æ¥å¢åŠ æˆ‘ä»¬çš„æ‰“åŒ…é€Ÿåº¦ã€‚æˆ‘ä»¬å¯ä»¥åœ¨ <code>webpack.config.js</code> ä¸­è¿›è¡Œé…ç½®ï¼Œ<strong>å…·ä½“ä»£ç å¦‚ä¸‹ï¼š</strong></p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;">module.exports</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">module</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">rules</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> [</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#F07178;">test</span><span style="color:#89DDFF;">:</span><span style="color:#C3E88D;"> </span><span style="color:#89DDFF;">/</span><span style="color:#A6ACCD;">\\.</span><span style="color:#C3E88D;">js</span><span style="color:#89DDFF;font-style:italic;">$</span><span style="color:#89DDFF;">/</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#F07178;">exclude</span><span style="color:#89DDFF;">:</span><span style="color:#C3E88D;"> </span><span style="color:#89DDFF;">/</span><span style="color:#C3E88D;">node_modules</span><span style="color:#89DDFF;">/</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#89DDFF;">        </span><span style="color:#676E95;font-style:italic;">//æˆ–è€…ä»¥ä¸‹è¿™ç§æ–¹å¼-&gt;include</span></span>
<span class="line"><span style="color:#89DDFF;">        </span><span style="color:#676E95;font-style:italic;">//include: path.resolve(__dirname, &#39;../src&#39;),</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#F07178;">use</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> [</span></span>
<span class="line"><span style="color:#A6ACCD;">          </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">            </span><span style="color:#F07178;">loader</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">babel-loader</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">          </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#A6ACCD;">        ]</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#A6ACCD;">    ]</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#89DDFF;">};</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><p>å½“ç„¶ï¼Œä¾æ®ä¸Šé¢è¿™ä¸ªæ€è·¯ï¼Œè¿˜æœ‰å…¶ä»–çš„ <code>loader</code> ä¹Ÿéƒ½æœ‰å…¶ç›¸å¯¹åº”çš„æ³¨æ„äº‹é¡¹ï¼Œè¿™é‡Œä¸å†å±•å¼€ç»†è¿°ã€‚</p><h2 id="_3-åˆç†ä½¿ç”¨æ’ä»¶" tabindex="-1">3. åˆç†ä½¿ç”¨æ’ä»¶ <a class="header-anchor" href="#_3-åˆç†ä½¿ç”¨æ’ä»¶" aria-label="Permalink to &quot;3. åˆç†ä½¿ç”¨æ’ä»¶&quot;">â€‹</a></h2><p>æ’ä»¶è¦åˆç†çš„ä½¿ç”¨ï¼Œä¸è¦ä½¿ç”¨é‚£äº›å†—ä½™çš„ï¼Œæ²¡æœ‰æ„ä¹‰çš„æ’ä»¶ã€‚åŒæ—¶å‘¢ï¼Œä¹Ÿè¦é€‰æ‹©é‚£äº›ï¼Œæ€§èƒ½æ¯”è¾ƒå¥½çš„ï¼Œå®˜æ–¹è®¤å¯çš„æ’ä»¶æ¥ä½¿ç”¨ï¼Œè¿™æ ·ï¼Œå¯ä»¥æœ‰æ•ˆçš„æ¥æå‡ <code>webpack</code> çš„æ‰“åŒ…é€Ÿåº¦ã€‚</p><h2 id="_4-resolve-å‚æ•°åˆç†é…ç½®" tabindex="-1">4. resolve å‚æ•°åˆç†é…ç½® <a class="header-anchor" href="#_4-resolve-å‚æ•°åˆç†é…ç½®" aria-label="Permalink to &quot;4. resolve å‚æ•°åˆç†é…ç½®&quot;">â€‹</a></h2><h3 id="_1-å¸¸è§é…ç½®" tabindex="-1">ï¼ˆ1ï¼‰å¸¸è§é…ç½® <a class="header-anchor" href="#_1-å¸¸è§é…ç½®" aria-label="Permalink to &quot;ï¼ˆ1ï¼‰å¸¸è§é…ç½®&quot;">â€‹</a></h3><p>æœ‰æ—¶å€™ï¼Œæˆ‘ä»¬æƒ³è¦å¯¹æˆ‘ä»¬å¼•å…¥çš„æ–‡ä»¶è¿›è¡Œä¸€äº›<strong>è‡ªå®šä¹‰çš„é…ç½®</strong>ï¼Œè¯¥æ€ä¹ˆå¤„ç†å‘¢ï¼Ÿ<strong>å…·ä½“é…ç½®å¦‚ä¸‹ï¼š</strong></p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;">module.exports</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">resolve</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">extensions</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> [</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">js</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">jsx</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">]</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#676E95;font-style:italic;">/**</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">     * 1.å½“ä½ åªå¼•å…¥ä¸€ä¸ªç›®å½•æ—¶ï¼Œæ¯”å¦‚ import Child from &#39;./child/child&#39; ï¼Œ</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">     * è¿™ä¸ªæ—¶å€™webpackä¸çŸ¥é“æˆ‘ä»¬å…·ä½“æ˜¯è¦å¼•å…¥å“ªä¸ªæ–‡ä»¶ï¼Œ</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">     * é‚£ä¹ˆä¼šå…ˆå»æ‰¾indexæ–‡ä»¶ï¼Œå¦‚æœæ‰¾ä¸åˆ°ï¼Œé‚£å®ƒä¼šç»§ç»­å»æ‰¾childæ–‡ä»¶</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">     */</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">mainFiles</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> [</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">index</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">child</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">]</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#676E95;font-style:italic;">/**</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">     * alias, é¡¾åæ€ä¹‰æ˜¯åˆ«åã€‚</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">     * æ¯”å¦‚ï¼Œæƒ³è¦å°†æŸä¸ªæ–‡ä»¶çš„å¼•å…¥æ–¹å¼æ”¹ä¸ºè‡ªå·±çš„åå­—</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">     * import Child from &#39;./Child&#39; -&gt; import Child from &#39;monday&#39;</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">     */</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">alias</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#F07178;">monday</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> path</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">resolve</span><span style="color:#A6ACCD;">(__dirname</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">../src/Child</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#89DDFF;">};</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><p>æ¥ä¸‹æ¥å¯¹ä»¥ä¸Šçš„å‡ ä¸ªå‚æ•°è¿›è¡Œè¯¦ç»†è®²è§£ã€‚</p><h3 id="_2-å‚æ•°è®²è§£" tabindex="-1">ï¼ˆ2ï¼‰å‚æ•°è®²è§£ <a class="header-anchor" href="#_2-å‚æ•°è®²è§£" aria-label="Permalink to &quot;ï¼ˆ2ï¼‰å‚æ•°è®²è§£&quot;">â€‹</a></h3><p><strong>1ï¼‰extensions</strong></p><ul><li>æ¯”å¦‚å½“å¼•å…¥ <code>import Child from &#39;./child/child&#39;</code> æ—¶ï¼Œä¼šå…ˆå»æ‰¾ <code>&#39;./child/child.js&#39;</code> æ–‡ä»¶ï¼Œæ‰¾ä¸åˆ°å†å»æ‰¾ <code>&#39;./child/child.jsx&#39;</code> æ–‡ä»¶ã€‚</li><li>ä¸€èˆ¬ä¸é…ç½® css å’Œå›¾ç‰‡æ–‡ä»¶ï¼Œå› ä¸º css å’Œå›¾ç‰‡å¯èƒ½æ•°é‡ä¼šæ¯”è¾ƒå¤šï¼Œç›¸åº”çš„ä¼šå»æ‰§è¡Œå¾ˆå¤šæ¬¡æŸ¥æ‰¾ã€‚é—´æ¥åœ°ï¼Œæœ¬æ¥æƒ³æå‡æ€§èƒ½ï¼Œç»“æœåˆå˜æˆäº†æµªè´¹æ€§èƒ½äº†ã€‚</li><li>æ‰€ä»¥ï¼Œå¦‚æœæ˜¯åƒ <code>css</code> å’Œ <code>jpg</code> ç­‰ä¹‹ç±»çš„èµ„æºæ–‡ä»¶ï¼Œåº”è¯¥è¿›è¡Œæ˜¾å¼çš„å¼•å…¥ï¼›å¦‚æœæ˜¯åƒ <code>js</code> å’Œ <code>jsx</code> ä¹‹ç±»çš„é€»è¾‘æ–‡ä»¶ï¼Œå¯ä»¥åœ¨ <code>extesions</code> ä¸­é…ç½®ï¼Œè¿›è¡Œæ˜¾å¼çš„å¼•å…¥ã€‚</li></ul><p><strong>2ï¼‰mainFiles</strong></p><p>å½“ä½ åªå¼•å…¥ä¸€ä¸ªç›®å½•æ—¶ï¼Œæ¯”å¦‚ <code>import Child from &#39;./child/child&#39;</code> ï¼Œè¿™ä¸ªæ—¶å€™ <code>webpack</code> ä¸çŸ¥é“æˆ‘ä»¬å…·ä½“æ˜¯è¦å¼•å…¥å“ªä¸ªæ–‡ä»¶ï¼Œé‚£ä¹ˆä¼šå…ˆå»æ‰¾ <code>index</code> æ–‡ä»¶ï¼Œå¦‚æœæ‰¾ä¸åˆ°ï¼Œé‚£å®ƒä¼šç»§ç»­å»æ‰¾ <code>child</code> æ–‡ä»¶ã€‚</p><p><strong>3ï¼‰alias</strong></p><ul><li><code>alias</code> , é¡¾åæ€ä¹‰æ˜¯<strong>åˆ«å</strong>ã€‚æ¯”å¦‚ï¼Œæƒ³è¦å°†æŸä¸ªæ–‡ä»¶çš„å¼•å…¥æ–¹å¼æ”¹ä¸ºè‡ªå·±çš„åå­— <strong>â†’</strong> <code>import Child from &#39;./Child&#39; -&gt; import Child from &#39;monday&#39;</code> ã€‚</li><li>å¸¸ç”¨äºå¤šå±‚çº§ç›®å½•çš„æƒ…å†µä¸‹ã€‚</li></ul><h2 id="_5-ä½¿ç”¨-dllplugin-æé«˜æ‰“åŒ…é€Ÿåº¦" tabindex="-1">5. ä½¿ç”¨ DllPlugin æé«˜æ‰“åŒ…é€Ÿåº¦ <a class="header-anchor" href="#_5-ä½¿ç”¨-dllplugin-æé«˜æ‰“åŒ…é€Ÿåº¦" aria-label="Permalink to &quot;5. ä½¿ç”¨ DllPlugin æé«˜æ‰“åŒ…é€Ÿåº¦&quot;">â€‹</a></h2><p>æœ‰æ—¶å€™ï¼Œæˆ‘ä»¬å¸Œæœ›å¼•å…¥çš„ç¬¬ä¸‰æ–¹æ¨¡å—ï¼Œåªåœ¨ç¬¬ä¸€æ¬¡åšæ‰“åŒ…çš„æ—¶å€™è¿›è¡Œåˆ†æï¼Œè€Œåç»­å†åšæ‰“åŒ…æ—¶å°±ä¸è¦å†è¿›è¡Œåˆ†æäº†ã€‚é‚£è¯¥æ€ä¹ˆå¤„ç†å‘¢ï¼Ÿ</p><p><strong>ç¬¬ä¸€æ­¥ï¼š</strong> æ–°å»º <code>webpack.dll.js</code> æ–‡ä»¶ï¼Œå¹¶è¿›è¡Œé…ç½®ã€‚<strong>å…·ä½“ä»£ç å¦‚ä¸‹ï¼š</strong></p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> path </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">require</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">path</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> webpack </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">require</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">webpack</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">module.exports</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">mode</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">production</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">entry</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">//æ­¤å¤„å¡«å†™æˆ‘ä»¬æƒ³è¦å•ç‹¬è¿›è¡Œæ‰“åŒ…çš„ç¬¬ä¸‰æ–¹åº“å</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">vendors</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> [</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">react</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">react-dom</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">lodash</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">]</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">output</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">filename</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">[name].dll.js</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">path</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> path</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">resolve</span><span style="color:#A6ACCD;">(__dirname</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">../dll</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#676E95;font-style:italic;">/*ç”¨libraryæŠŠç¬¬ä¸‰æ–¹æ¨¡å—é‡Œé¢çš„æ‰€æœ‰ä»£ç ï¼Œ</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">        é€šè¿‡å…¨å±€å˜é‡çš„æ–¹å¼æš´éœ²å‡ºå»*/</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">library</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">[name]</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">plugins</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> [</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#676E95;font-style:italic;">/*æš´éœ²å®Œæˆä¹‹åï¼Œå€ŸåŠ©DllPluginæ’ä»¶å¯¹æš´éœ²å‡ºæ¥çš„æ¨¡å—ä»£ç è¿›è¡Œåˆ†æï¼Œæœ€ç»ˆç”Ÿæˆmanifest.jsonçš„æ–‡ä»¶ */</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">new</span><span style="color:#A6ACCD;"> webpack</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">DllPlugin</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">      </span><span style="color:#676E95;font-style:italic;">//å¯¹ç”Ÿæˆçš„vendorsçš„åº“è¿›è¡ŒDllPluginçš„åˆ†æ(æ–‡ä»¶æ˜ å°„)</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#F07178;">name</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">[name]</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#89DDFF;">      </span><span style="color:#676E95;font-style:italic;">// åˆ†æç»“æœæ‰€æ”¾çš„è·¯å¾„ï¼Œåˆ†æä¹‹åç»“åˆå…¨å±€å˜é‡ï¼Œåœ¨common.jsä¸­è¿›è¡Œé…ç½®</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#F07178;">path</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> path</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">resolve</span><span style="color:#A6ACCD;">(__dirname</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">../dll/[name].manifest.json</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  ]</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#89DDFF;">};</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br></div></div><p><strong>ç¬¬äºŒæ­¥ï¼š</strong> å®‰è£… <code>add-asset-html-webpack-plugin</code> æ’ä»¶ã€‚<strong>å…·ä½“å‘½ä»¤å¦‚ä¸‹ï¼š</strong></p><div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">npm</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">install</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">add-asset-html-webpack-plugin</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">--save</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p><strong>ç¬¬ä¸‰æ­¥ï¼š</strong> é…ç½® <code>webpack.common.js</code> æ–‡ä»¶ã€‚<strong>å…·ä½“é…ç½®å¦‚ä¸‹ï¼š</strong></p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> AddAssetHtmlWebpackPlugin </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">require</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">add-asset-html-webpack-plugin</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> webpack </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">require</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">webpack</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">module.exports</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">entry</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">main</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">./src/index.js</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">plugins</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> [</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#89DDFF;">new</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">HtmlWebpackPlugin</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#F07178;">template</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">src/index.html</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#676E95;font-style:italic;">/**</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">       * æŒ‡çš„æ˜¯è¦å¾€HtmlWebpackPluginæ’ä»¶ç”Ÿæˆçš„index.htmlä¸­æ·»åŠ ä¸€äº›å†…å®¹</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">       */</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#89DDFF;">new</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">AddAssetHtmlWebpackPlugin</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#F07178;">filepath</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> path</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">resolve</span><span style="color:#A6ACCD;">(__dirname</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">../dll/vendors.dll.js</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#676E95;font-style:italic;">/**</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">       * 1.ä½¿ç”¨DllReferencePluginæ’ä»¶ï¼Œ</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">       * è¿™ä¸ªæ’ä»¶ä¼šåˆ°&#39;../dll/vendors.manifest.json&#39;ä¸­æ‰¾ç¬¬ä¸‰æ–¹æ¨¡å—çš„æ˜ å°„å…³ç³»ï¼Œ</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">       * å¦‚æœèƒ½æ‰¾åˆ°æ˜ å°„å…³ç³»ï¼Œé‚£ä¹ˆwebpackå°±ä¼šçŸ¥é“ï¼Œè¿™ä¸ªç¬¬ä¸‰æ–¹æ¨¡å—æ²¡æœ‰å¿…è¦å†æ‰“åŒ…è¿›æ¥äº†ï¼Œ</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">       * ç›´æ¥ä»vendors.dll.jsä¸­æ‹¿è¿‡æ¥ç”¨å°±å¯ä»¥äº†</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">       * 2.å¦‚æœå‘ç°å¹¶ä¸å†æ˜ å°„å…³ç³»é‡Œé¢ï¼Œé‚£ä¹ˆæ‰ä¼šå†åˆ°node_modulesä¸­å»æ‰¾</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">       *</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">       */</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#89DDFF;">new</span><span style="color:#A6ACCD;"> webpack</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">DllReferencePlugin</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#F07178;">manifest</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> path</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">resolve</span><span style="color:#A6ACCD;">(__dirname</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">../dll/vendors.manifest.json</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    ]</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#89DDFF;">};</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br></div></div><p><strong>ç¬¬å››æ­¥ï¼š</strong> é…ç½® <code>package.json</code> æ–‡ä»¶ã€‚<strong>å…·ä½“ä»£ç å¦‚ä¸‹ï¼š</strong></p><div class="language-json line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C792EA;">scripts</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&quot;</span><span style="color:#FFCB6B;">build:dll</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">webpack --config ./build/webpack.dll.js</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>é€šè¿‡è¿è¡Œ <code>npm run build:dll</code> å‘½ä»¤ï¼Œæ¥å®ç°å¯¹ç¬¬ä¸‰æ–¹åº“çš„æ‰“åŒ…ã€‚</p><h2 id="_6-æ§åˆ¶åŒ…æ–‡ä»¶å¤§å°" tabindex="-1">6. æ§åˆ¶åŒ…æ–‡ä»¶å¤§å° <a class="header-anchor" href="#_6-æ§åˆ¶åŒ…æ–‡ä»¶å¤§å°" aria-label="Permalink to &quot;6. æ§åˆ¶åŒ…æ–‡ä»¶å¤§å°&quot;">â€‹</a></h2><p>åœ¨æˆ‘ä»¬åšé¡¹ç›®æ‰“åŒ…æ—¶ï¼Œæˆ‘ä»¬åº”è¯¥è®©æˆ‘ä»¬æ‰“åŒ…ç”Ÿæˆçš„æ–‡ä»¶å°½å¯èƒ½çš„å°ã€‚æœ‰æ—¶æˆ‘ä»¬åœ¨å†™ä»£ç çš„æ—¶å€™ï¼Œç»å¸¸ä¼šåœ¨é¡µé¢é‡Œé¢å¼•å…¥ä¸€äº›æ²¡æœ‰ç”¨çš„æ¨¡å—ï¼Œä¹Ÿå°±æ˜¯å¼•å…¥ä¸€äº›æˆ‘ä»¬ä½¿ç”¨çš„æ¨¡å—ã€‚</p><p>è¿™ä¸ªæ—¶å€™å¦‚æœä½ æ²¡æœ‰é…ç½® <code>Tree-Shaking</code> ï¼Œå°±ä¼šå¾ˆå®¹æ˜“é€ æˆæ‰“åŒ…çš„æ—¶å€™ï¼Œå‡ºç°å¤§é‡å†—ä½™çš„ä»£ç ã€‚è¿™äº›å†—ä½™ä»£ç å‘¢ï¼Œé—´æ¥åœ°ï¼Œå°±ä¼šæ‹–ç´¯æˆ‘ä»¬ <code>webpack</code> çš„æ‰“åŒ…é€Ÿåº¦ã€‚</p><p>æ‰€ä»¥å‘¢ï¼Œæˆ‘ä»¬åœ¨åšæ‰“åŒ…æ—¶ï¼Œè¦æ§åˆ¶å¥½æ–‡ä»¶çš„å¤§å°ã€‚<strong>å…·ä½“æ­¥éª¤å‚è€ƒå¦‚ä¸‹ï¼š</strong></p><ul><li>é…ç½® <code>Tree-shaking</code> ï¼›</li><li>é€šè¿‡ <code>SplittingChunk</code> æ¥å°†ä¸€ä¸ªå¤§çš„æ–‡ä»¶åˆ†å‰²æˆå¤šä¸ªå°çš„æ–‡ä»¶ã€‚</li></ul><h2 id="_7-å¤šè¿›ç¨‹æ‰“åŒ…" tabindex="-1">7. å¤šè¿›ç¨‹æ‰“åŒ… <a class="header-anchor" href="#_7-å¤šè¿›ç¨‹æ‰“åŒ…" aria-label="Permalink to &quot;7. å¤šè¿›ç¨‹æ‰“åŒ…&quot;">â€‹</a></h2><p><code>webpack</code> æ˜¯é€šè¿‡ node æ¥è¿è¡Œçš„ï¼Œæ‰€ä»¥å®ƒçš„æ‰“åŒ…è¿‡ç¨‹æ˜¯å•çº¿ç¨‹çš„ã€‚é‚£æœ‰æ—¶å€™å‘¢ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥å€ŸåŠ© <code>node</code> é‡Œé¢çš„å¤šè¿›ç¨‹ï¼Œæ¥å¸®åŠ©æˆ‘ä»¬æå‡ <code>webpack</code> çš„æ‰“åŒ…é€Ÿåº¦ã€‚</p><p>å¸¸è§å·¥å…·æœ‰ <code>thread-loader</code> ï¼Œ <code>parallel-webpack</code> ï¼Œ <code>happypack</code> ç­‰å·¥å…·ï¼Œå¤§å®¶å¯ä»¥ä¾æ®è‡ªèº«éœ€æ±‚æŸ¥æ‰¾ç›¸å…³èµ„æ–™ï¼Œé€‰å‡ºæœ€é€‚åˆè‡ªå·±é¡¹ç›®çš„å·¥å…·ï¼Œè¿›è¡Œæ‰“åŒ…ã€‚è¿™ä¸€å—ä¸å†è¿›è¡Œè¯¦ç»†è®²è§£~</p><h2 id="_8-åˆç†ä½¿ç”¨-sourcemap" tabindex="-1">8. åˆç†ä½¿ç”¨ sourceMap <a class="header-anchor" href="#_8-åˆç†ä½¿ç”¨-sourcemap" aria-label="Permalink to &quot;8. åˆç†ä½¿ç”¨ sourceMap&quot;">â€‹</a></h2><p>é€šå¸¸æƒ…å†µä¸‹ï¼Œ <code>sourceMap</code> è¶Šè¯¦ç»†ï¼Œé‚£ä¹ˆæ‰“åŒ…çš„é€Ÿåº¦å°±ä¼šè¶Šæ…¢ã€‚æ‰€ä»¥åœ¨åšæ‰“åŒ…çš„æ—¶å€™ï¼Œè¦æ ¹æ®å½“å‰æ˜¯å¼€å‘ç¯å¢ƒè¿˜æ˜¯ç”Ÿäº§ç¯å¢ƒï¼Œé€‰å‡ºæœ€åˆé€‚çš„ <code>sourceMap</code> é…ç½®ï¼Œæ¥ç”Ÿæˆæˆ‘ä»¬å¯¹åº”çš„ä»£ç è°ƒé”™æ–‡ä»¶ã€‚</p><p>è¿™æ ·ï¼Œä¸€æ–¹é¢èƒ½ä¿è¯æˆ‘ä»¬å³ä½¿å‘ç°ä»£ç é‡Œçš„é”™è¯¯é—®é¢˜ã€‚å¦ä¸€æ–¹é¢å‘¢ï¼Œä¹Ÿå¯ä»¥å°½å¯èƒ½åœ°æå‡æ‰“åŒ…é€Ÿåº¦ã€‚</p><h2 id="_9-ç»“åˆ-stats-åˆ†ææ‰“åŒ…ç»“æœ" tabindex="-1">9. ç»“åˆ stats åˆ†ææ‰“åŒ…ç»“æœ <a class="header-anchor" href="#_9-ç»“åˆ-stats-åˆ†ææ‰“åŒ…ç»“æœ" aria-label="Permalink to &quot;9. ç»“åˆ stats åˆ†ææ‰“åŒ…ç»“æœ&quot;">â€‹</a></h2><p>åœ¨æ‰“åŒ…é¡¹ç›®æ—¶ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡å‘½ä»¤ï¼Œæ¥ç”Ÿæˆè¿™æ¬¡æ‰“åŒ…æƒ…å†µçš„ <code>stats</code> æ–‡ä»¶ï¼Œä¹‹åå‘¢ï¼Œé€šè¿‡å€ŸåŠ©ä¸€äº›çº¿ä¸Šæˆ–è€…æœ¬åœ°çš„æ‰“åŒ…åˆ†æå·¥å…·ï¼Œæ¥è¾¾åˆ°åˆ†ææˆ‘ä»¬æœ¬æ¬¡æ‰“åŒ…è¿‡ç¨‹ä¸­çš„æ‰“åŒ…æƒ…å†µã€‚</p><p>æ¯”å¦‚è¯´ï¼Œåˆ†æå“ªä¸ªæ¨¡å—æ‰“åŒ…çš„æ—¶é—´æ¯”è¾ƒé•¿ï¼Œå“ªä¸ªæ¨¡å—æ‰“åŒ…åˆ†æçš„æ—¶é—´æ¯”è¾ƒçŸ­ç­‰ç­‰å†…å®¹ï¼Œä¾æ®å…·ä½“çš„æƒ…å†µè¿›è¡Œä¼˜åŒ–ã€‚</p><h2 id="_10-å¼€å‘ç¯å¢ƒå†…å­˜ç¼–è¯‘" tabindex="-1">10. å¼€å‘ç¯å¢ƒå†…å­˜ç¼–è¯‘ <a class="header-anchor" href="#_10-å¼€å‘ç¯å¢ƒå†…å­˜ç¼–è¯‘" aria-label="Permalink to &quot;10. å¼€å‘ç¯å¢ƒå†…å­˜ç¼–è¯‘&quot;">â€‹</a></h2><p>ä½¿ç”¨ <code>webpackDevServer</code> æ¥è¿›è¡Œç¼–è¯‘ï¼Œå®ƒä¸ä¼šæŠŠæ‰“åŒ…ç”Ÿæˆçš„æ–‡ä»¶æ”¾åœ¨ <code>dist</code> ç›®å½•ä¸­å»ï¼Œè€Œæ˜¯æŠŠå…¶æ”¾åˆ°äº†æˆ‘ä»¬ç”µè„‘çš„å†…å­˜ä¸­ã€‚</p><h2 id="_11-å¼€å‘ç¯å¢ƒæ— ç”¨æ’ä»¶å‰”é™¤" tabindex="-1">11. å¼€å‘ç¯å¢ƒæ— ç”¨æ’ä»¶å‰”é™¤ <a class="header-anchor" href="#_11-å¼€å‘ç¯å¢ƒæ— ç”¨æ’ä»¶å‰”é™¤" aria-label="Permalink to &quot;11. å¼€å‘ç¯å¢ƒæ— ç”¨æ’ä»¶å‰”é™¤&quot;">â€‹</a></h2><p>æ¯”å¦‚è¯´ï¼Œæˆ‘ä»¬åœ¨å¼€å‘ç¯å¢ƒçš„æƒ…å†µä¸‹ï¼Œå¹¶ä¸éœ€è¦å¯¹ä»£ç è¿›è¡Œå‹ç¼©ã€‚å› æ­¤ï¼Œå¯¹åº”çš„å‹ç¼©æ’ä»¶æˆ‘ä»¬å°±ä¸è¦åœ¨å¼€å‘ç¯å¢ƒä¸­é…ç½®ï¼Œåªåœ¨ç”Ÿäº§ç¯å¢ƒä¸­é…ç½®å°±å¥½äº†ã€‚è¿™æ ·ï¼Œå¯ä»¥å‡å°‘ä¸€äº›ä¸å¿…è¦çš„æ‰“åŒ…æ—¶é—´ã€‚</p><h1 id="ğŸï¸-ä¸ƒã€å¤šé¡µé¢æ‰“åŒ…é…ç½®" tabindex="-1">ğŸï¸ ä¸ƒã€å¤šé¡µé¢æ‰“åŒ…é…ç½® <a class="header-anchor" href="#ğŸï¸-ä¸ƒã€å¤šé¡µé¢æ‰“åŒ…é…ç½®" aria-label="Permalink to &quot;ğŸï¸ ä¸ƒã€å¤šé¡µé¢æ‰“åŒ…é…ç½®&quot;">â€‹</a></h1><p>é€šå¸¸æƒ…å†µæ¥è¯´ï¼Œä½†å‡¡æˆ‘ä»¬åœ¨åšæ‰“åŒ…çš„æ—¶å€™ï¼ŒåŸºæœ¬ä¸Šéƒ½æ˜¯å¯¹å•é¡µé¢åº”ç”¨åšæ‰“åŒ…ã€‚ä»€ä¹ˆæ˜¯å•é¡µé¢å‘¢ï¼Œä¹Ÿå°±æ˜¯åªæœ‰ä¸€ä¸ª <code>index.html</code> æ–‡ä»¶ã€‚åƒç›®å‰æ¯”è¾ƒä¸»æµçš„æ¡†æ¶ï¼Œ <code>vue</code> å’Œ <code>react</code> ç­‰æ¡†æ¶ï¼Œéƒ½æ˜¯å•é¡µé¢åº”ç”¨ã€‚ä½†æ˜¯å¦‚æœåƒä¸€äº›æ¯”è¾ƒè€çš„æ¡†æ¶ï¼Œæ¯”å¦‚ <code>jquery</code> å’Œ <code>zepto</code> ï¼Œå¯èƒ½å°±éœ€è¦è¿›è¡Œå¤šé¡µé¢åº”ç”¨æ‰“åŒ…ã€‚</p><p>å› æ­¤ï¼Œé¡ºç€è¿™ä¸ªè¯é¢˜ï¼Œæˆ‘ä»¬æ¥è°ˆè°ˆï¼Œåœ¨ <code>webpack</code> ä¸­ï¼Œå¦‚ä½•å¯¹å¤šé¡µé¢åº”ç”¨ï¼Œè¿›è¡Œæ‰“åŒ…é…ç½®ã€‚</p><p>æˆ‘ä»¬åœ¨ <code>webpack.common.js</code> ä¸­è¿›è¡Œé…ç½®ï¼Œ<strong>å…·ä½“ä»£ç å¦‚ä¸‹ï¼š</strong></p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> HtmlWebpackPlugin </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">require</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">html-webpack-plugin</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">module.exports</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">entry</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">//å¼•å…¥å¤šä¸ªå…¥å£æ–‡ä»¶</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">main</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">./src/index.js</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">list</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">./src/list.js</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">plugins</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> [</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">new</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">HtmlWebpackPlugin</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#F07178;">template</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">src/index.html</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#F07178;">filename</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">index.html</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#89DDFF;">      </span><span style="color:#676E95;font-style:italic;">//chunkè¡¨æ˜è¿™äº›htmlæ–‡ä»¶è¦å¼•å…¥çš„æ–‡ä»¶æœ‰å“ªäº›</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#F07178;">chunks</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> [</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">runtime</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">vendors</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">main</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">]</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">new</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">HtmlWebpackPlugin</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#F07178;">template</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">src/index.html</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#F07178;">filename</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">list.html</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#F07178;">chunks</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> [</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">runtime</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">vendors</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">list</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">]</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  ]</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#89DDFF;">};</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br></div></div><p>é€šè¿‡ä»¥ä¸Šä»£ç æˆ‘ä»¬å¯ä»¥çŸ¥é“ï¼Œå¢åŠ  <code>entry</code> å’Œ <code>plugins</code> çš„é…ç½®ï¼Œæ¥å¢åŠ å¤šä¸ªå…¥å£é¡µé¢ï¼Œä»è€Œè¾¾åˆ°äº†<strong>å¤šé¡µé¢åº”ç”¨</strong>é…ç½®çš„æ•ˆæœã€‚</p><h1 id="ğŸ›µ-å…«ã€ç»“æŸè¯­" tabindex="-1">ğŸ›µ å…«ã€ç»“æŸè¯­ <a class="header-anchor" href="#ğŸ›µ-å…«ã€ç»“æŸè¯­" aria-label="Permalink to &quot;ğŸ›µ å…«ã€ç»“æŸè¯­&quot;">â€‹</a></h1><p>é€šè¿‡ä¸Šæ–‡çš„è®²è§£ï¼Œç›¸ä¿¡å¤§å®¶å¯¹ <code>webpack</code> åœ¨ä¸€äº›åœºæ™¯ä¸­çš„å®æˆ˜é…ç½®æœ‰äº†ä¸€å®šçš„äº†è§£ã€‚ä¸Šé¢è®²è¿°çš„ä¹Ÿæ˜¯æ¯”è¾ƒæµ…æ˜¾çš„å†…å®¹ï¼Œå¤§å®¶å¯ä»¥æ ¹æ®ç›¸å¯¹åº”çš„çŸ¥è¯†ç‚¹ï¼Œè¿›è¡ŒçŸ¥è¯†é¢çš„æ‹“å®½ï¼Œä»¥ä¾¿æ›´å¥½çš„åº”ç”¨åˆ°å®é™…çš„é¡¹ç›®å½“ä¸­ã€‚</p><p>åˆ°è¿™é‡Œï¼Œå…³äº <code>webpack</code> çš„å®æˆ˜æ¡ˆä¾‹é…ç½®å°±è®²è§£ç»“æŸå•¦ï¼å¸Œæœ›å¯¹å¤§å®¶æœ‰å¸®åŠ©~</p><p>å¦‚æ–‡ç« æœ‰è¯¯æˆ–æœ‰ä¸ç†è§£çš„åœ°æ–¹ï¼Œæ¬¢è¿å°ä¼™ä¼´ä»¬è¯„è®ºåŒºç•™è¨€å“¦ ğŸ’¬</p><p>æœ¬æ–‡ä»£ç å·²ä¸Šä¼ è‡³å…¬ä¼—å·ï¼Œåå°å›å¤å…³é”®è¯ <code>webpack</code> å³å¯è·å–~</p><h1 id="ğŸ£-å½©è›‹-one-more-thing" tabindex="-1">ğŸ£ å½©è›‹ One More Thing <a class="header-anchor" href="#ğŸ£-å½©è›‹-one-more-thing" aria-label="Permalink to &quot;ğŸ£ å½©è›‹ One More Thing&quot;">â€‹</a></h1><h2 id="å¾€æœŸæ¨è" tabindex="-1">ï¼ˆï¼šå¾€æœŸæ¨è <a class="header-anchor" href="#å¾€æœŸæ¨è" aria-label="Permalink to &quot;ï¼ˆï¼šå¾€æœŸæ¨è&quot;">â€‹</a></h2><ul><li>webpack å…¥é—¨åŸºç¡€çŸ¥è¯† ğŸ‘‰<a href="https://blog.csdn.net/weixin_44803753/article/details/118728201" target="_blank" rel="noreferrer">ä¸ä¼š webpack çš„å‰ç«¯å¯èƒ½æ˜¯æ¡æ¥çš„ï¼Œä¸‡å­—æ€»ç»“ webpack çš„è¶…å…¥é—¨æ ¸å¿ƒçŸ¥è¯†</a></li><li>webpack å…¥é—¨è¿›é˜¶çŸ¥è¯† ğŸ‘‰<a href="https://blog.csdn.net/weixin_44803753/article/details/118885391" target="_blank" rel="noreferrer">webpack å…¥é—¨æ ¸å¿ƒçŸ¥è¯†è¿˜çœ‹ä¸è¿‡ç˜¾ï¼Ÿé€Ÿæ¥å›´è§‚è¿›é˜¶çŸ¥è¯†</a></li></ul>`,172),o=[e];function r(c,t,D,i,y,F){return a(),n("div",null,o)}const b=s(p,[["render",r]]);export{A as __pageData,b as default};
